var iy=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var cE=iy((BE,Go)=>{function oy(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ep(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bp={exports:{}},vl={},Np={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oo=Symbol.for("react.element"),ly=Symbol.for("react.portal"),uy=Symbol.for("react.fragment"),cy=Symbol.for("react.strict_mode"),hy=Symbol.for("react.profiler"),dy=Symbol.for("react.provider"),fy=Symbol.for("react.context"),py=Symbol.for("react.forward_ref"),my=Symbol.for("react.suspense"),gy=Symbol.for("react.memo"),vy=Symbol.for("react.lazy"),bd=Symbol.iterator;function yy(t){return t===null||typeof t!="object"?null:(t=bd&&t[bd]||t["@@iterator"],typeof t=="function"?t:null)}var Op={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ap=Object.assign,Ip={};function Si(t,e,n){this.props=t,this.context=e,this.refs=Ip,this.updater=n||Op}Si.prototype.isReactComponent={};Si.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Si.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Pp(){}Pp.prototype=Si.prototype;function Bc(t,e,n){this.props=t,this.context=e,this.refs=Ip,this.updater=n||Op}var Kc=Bc.prototype=new Pp;Kc.constructor=Bc;Ap(Kc,Si.prototype);Kc.isPureReactComponent=!0;var Nd=Array.isArray,Mp=Object.prototype.hasOwnProperty,zc={current:null},Dp={key:!0,ref:!0,__self:!0,__source:!0};function Rp(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Mp.call(e,r)&&!Dp.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Oo,type:t,key:i,ref:a,props:s,_owner:zc.current}}function _y(t,e){return{$$typeof:Oo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Oo}function wy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Od=/\/+/g;function Zl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wy(""+t.key):e.toString(36)}function va(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Oo:case ly:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Zl(a,0):r,Nd(s)?(n="",t!=null&&(n=t.replace(Od,"$&/")+"/"),va(s,e,n,"",function(h){return h})):s!=null&&(Wc(s)&&(s=_y(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Od,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",Nd(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Zl(i,l);a+=va(i,e,n,c,s)}else if(c=yy(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Zl(i,l++),a+=va(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Yo(t,e,n){if(t==null)return t;var r=[],s=0;return va(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Sy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},ya={transition:null},ky={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:ya,ReactCurrentOwner:zc};function Lp(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:Yo,forEach:function(t,e,n){Yo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yo(t,function(){e++}),e},toArray:function(t){return Yo(t,function(e){return e})||[]},only:function(t){if(!Wc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Si;je.Fragment=uy;je.Profiler=hy;je.PureComponent=Bc;je.StrictMode=cy;je.Suspense=my;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ky;je.act=Lp;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ap({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=zc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Mp.call(e,c)&&!Dp.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Oo,type:t.type,key:s,ref:i,props:r,_owner:a}};je.createContext=function(t){return t={$$typeof:fy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dy,_context:t},t.Consumer=t};je.createElement=Rp;je.createFactory=function(t){var e=Rp.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:py,render:t}};je.isValidElement=Wc;je.lazy=function(t){return{$$typeof:vy,_payload:{_status:-1,_result:t},_init:Sy}};je.memo=function(t,e){return{$$typeof:gy,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=ya.transition;ya.transition={};try{t()}finally{ya.transition=e}};je.unstable_act=Lp;je.useCallback=function(t,e){return Qt.current.useCallback(t,e)};je.useContext=function(t){return Qt.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};je.useEffect=function(t,e){return Qt.current.useEffect(t,e)};je.useId=function(){return Qt.current.useId()};je.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return Qt.current.useMemo(t,e)};je.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};je.useRef=function(t){return Qt.current.useRef(t)};je.useState=function(t){return Qt.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return Qt.current.useTransition()};je.version="18.3.1";Np.exports=je;var ee=Np.exports;const ls=Ep(ee),xy=oy({__proto__:null,default:ls},[ee]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy=ee,Ty=Symbol.for("react.element"),Ey=Symbol.for("react.fragment"),by=Object.prototype.hasOwnProperty,Ny=Cy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Oy={key:!0,ref:!0,__self:!0,__source:!0};function Fp(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)by.call(e,r)&&!Oy.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Ty,type:t,key:i,ref:a,props:s,_owner:Ny.current}}vl.Fragment=Ey;vl.jsx=Fp;vl.jsxs=Fp;bp.exports=vl;var ne=bp.exports,jp={exports:{}},vn={},Vp={exports:{}},Bp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,U){var M=Y.length;Y.push(U);e:for(;0<M;){var I=M-1>>>1,H=Y[I];if(0<s(H,U))Y[I]=U,Y[M]=H,M=I;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var U=Y[0],M=Y.pop();if(M!==U){Y[0]=M;e:for(var I=0,H=Y.length,le=H>>>1;I<le;){var ge=2*(I+1)-1,ie=Y[ge],g=ge+1,_=Y[g];if(0>s(ie,M))g<H&&0>s(_,ie)?(Y[I]=_,Y[g]=M,I=g):(Y[I]=ie,Y[ge]=M,I=ge);else if(g<H&&0>s(_,M))Y[I]=_,Y[g]=M,I=g;else break e}}return U}function s(Y,U){var M=Y.sortIndex-U.sortIndex;return M!==0?M:Y.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],h=[],f=1,v=null,w=3,N=!1,E=!1,A=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(Y){for(var U=n(h);U!==null;){if(U.callback===null)r(h);else if(U.startTime<=Y)r(h),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(h)}}function D(Y){if(A=!1,O(Y),!E)if(n(c)!==null)E=!0,me(P);else{var U=n(h);U!==null&&ue(D,U.startTime-Y)}}function P(Y,U){E=!1,A&&(A=!1,y(V),V=-1),N=!0;var M=w;try{for(O(U),v=n(c);v!==null&&(!(v.expirationTime>U)||Y&&!J());){var I=v.callback;if(typeof I=="function"){v.callback=null,w=v.priorityLevel;var H=I(v.expirationTime<=U);U=t.unstable_now(),typeof H=="function"?v.callback=H:v===n(c)&&r(c),O(U)}else r(c);v=n(c)}if(v!==null)var le=!0;else{var ge=n(h);ge!==null&&ue(D,ge.startTime-U),le=!1}return le}finally{v=null,w=M,N=!1}}var j=!1,z=null,V=-1,Q=5,G=-1;function J(){return!(t.unstable_now()-G<Q)}function X(){if(z!==null){var Y=t.unstable_now();G=Y;var U=!0;try{U=z(!0,Y)}finally{U?fe():(j=!1,z=null)}}else j=!1}var fe;if(typeof T=="function")fe=function(){T(X)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,_e=de.port2;de.port1.onmessage=X,fe=function(){_e.postMessage(null)}}else fe=function(){b(X,0)};function me(Y){z=Y,j||(j=!0,fe())}function ue(Y,U){V=b(function(){Y(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){E||N||(E=!0,me(P))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var U=3;break;default:U=w}var M=w;w=U;try{return Y()}finally{w=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,U){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var M=w;w=Y;try{return U()}finally{w=M}},t.unstable_scheduleCallback=function(Y,U,M){var I=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?I+M:I):M=I,Y){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=M+H,Y={id:f++,callback:U,priorityLevel:Y,startTime:M,expirationTime:H,sortIndex:-1},M>I?(Y.sortIndex=M,e(h,Y),n(c)===null&&Y===n(h)&&(A?(y(V),V=-1):A=!0,ue(D,M-I))):(Y.sortIndex=H,e(c,Y),E||N||(E=!0,me(P))),Y},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(Y){var U=w;return function(){var M=w;w=U;try{return Y.apply(this,arguments)}finally{w=M}}}})(Bp);Vp.exports=Bp;var Ay=Vp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy=ee,mn=Ay;function he(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kp=new Set,oo={};function Ts(t,e){oi(t,e),oi(t+"Capture",e)}function oi(t,e){for(oo[t]=e,t=0;t<e.length;t++)Kp.add(e[t])}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Iu=Object.prototype.hasOwnProperty,Py=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ad={},Id={};function My(t){return Iu.call(Id,t)?!0:Iu.call(Ad,t)?!1:Py.test(t)?Id[t]=!0:(Ad[t]=!0,!1)}function Dy(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ry(t,e,n,r){if(e===null||typeof e>"u"||Dy(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Uc=/[\-:]([a-z])/g;function $c(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Uc,$c);Rt[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Uc,$c);Rt[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Uc,$c);Rt[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function qc(t,e,n,r){var s=Rt.hasOwnProperty(e)?Rt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ry(e,n,s,r)&&(n=null),r||s===null?My(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _r=Iy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qo=Symbol.for("react.element"),Fs=Symbol.for("react.portal"),js=Symbol.for("react.fragment"),Hc=Symbol.for("react.strict_mode"),Pu=Symbol.for("react.profiler"),zp=Symbol.for("react.provider"),Wp=Symbol.for("react.context"),Gc=Symbol.for("react.forward_ref"),Mu=Symbol.for("react.suspense"),Du=Symbol.for("react.suspense_list"),Yc=Symbol.for("react.memo"),Or=Symbol.for("react.lazy"),Up=Symbol.for("react.offscreen"),Pd=Symbol.iterator;function Ri(t){return t===null||typeof t!="object"?null:(t=Pd&&t[Pd]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Object.assign,Jl;function $i(t){if(Jl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jl=e&&e[1]||""}return`
`+Jl+t}var eu=!1;function tu(t,e){if(!t||eu)return"";eu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{eu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$i(t):""}function Ly(t){switch(t.tag){case 5:return $i(t.type);case 16:return $i("Lazy");case 13:return $i("Suspense");case 19:return $i("SuspenseList");case 0:case 2:case 15:return t=tu(t.type,!1),t;case 11:return t=tu(t.type.render,!1),t;case 1:return t=tu(t.type,!0),t;default:return""}}function Ru(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case js:return"Fragment";case Fs:return"Portal";case Pu:return"Profiler";case Hc:return"StrictMode";case Mu:return"Suspense";case Du:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Wp:return(t.displayName||"Context")+".Consumer";case zp:return(t._context.displayName||"Context")+".Provider";case Gc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yc:return e=t.displayName||null,e!==null?e:Ru(t.type)||"Memo";case Or:e=t._payload,t=t._init;try{return Ru(t(e))}catch{}}return null}function Fy(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ru(e);case 8:return e===Hc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $p(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jy(t){var e=$p(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xo(t){t._valueTracker||(t._valueTracker=jy(t))}function qp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$p(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ma(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lu(t,e){var n=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Md(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hp(t,e){e=e.checked,e!=null&&qc(t,"checked",e,!1)}function Fu(t,e){Hp(t,e);var n=Hr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ju(t,e.type,n):e.hasOwnProperty("defaultValue")&&ju(t,e.type,Hr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ju(t,e,n){(e!=="number"||Ma(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qi=Array.isArray;function Zs(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Vu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(he(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(he(92));if(qi(n)){if(1<n.length)throw Error(he(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hr(n)}}function Gp(t,e){var n=Hr(e.value),r=Hr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ld(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Yp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Yp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zo,Qp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zo=Zo||document.createElement("div"),Zo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ao(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Qi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vy=["Webkit","ms","Moz","O"];Object.keys(Qi).forEach(function(t){Vy.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qi[e]=Qi[t]})});function Xp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Qi.hasOwnProperty(t)&&Qi[t]?(""+e).trim():e+"px"}function Zp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Xp(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var By=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ku(t,e){if(e){if(By[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(he(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(he(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(he(61))}if(e.style!=null&&typeof e.style!="object")throw Error(he(62))}}function zu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wu=null;function Qc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Uu=null,Js=null,ei=null;function Fd(t){if(t=Po(t)){if(typeof Uu!="function")throw Error(he(280));var e=t.stateNode;e&&(e=kl(e),Uu(t.stateNode,t.type,e))}}function Jp(t){Js?ei?ei.push(t):ei=[t]:Js=t}function em(){if(Js){var t=Js,e=ei;if(ei=Js=null,Fd(t),e)for(t=0;t<e.length;t++)Fd(e[t])}}function tm(t,e){return t(e)}function nm(){}var nu=!1;function rm(t,e,n){if(nu)return t(e,n);nu=!0;try{return tm(t,e,n)}finally{nu=!1,(Js!==null||ei!==null)&&(nm(),em())}}function lo(t,e){var n=t.stateNode;if(n===null)return null;var r=kl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(he(231,e,typeof n));return n}var $u=!1;if(pr)try{var Li={};Object.defineProperty(Li,"passive",{get:function(){$u=!0}}),window.addEventListener("test",Li,Li),window.removeEventListener("test",Li,Li)}catch{$u=!1}function Ky(t,e,n,r,s,i,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var Xi=!1,Da=null,Ra=!1,qu=null,zy={onError:function(t){Xi=!0,Da=t}};function Wy(t,e,n,r,s,i,a,l,c){Xi=!1,Da=null,Ky.apply(zy,arguments)}function Uy(t,e,n,r,s,i,a,l,c){if(Wy.apply(this,arguments),Xi){if(Xi){var h=Da;Xi=!1,Da=null}else throw Error(he(198));Ra||(Ra=!0,qu=h)}}function Es(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jd(t){if(Es(t)!==t)throw Error(he(188))}function $y(t){var e=t.alternate;if(!e){if(e=Es(t),e===null)throw Error(he(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return jd(s),t;if(i===r)return jd(s),e;i=i.sibling}throw Error(he(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?t:e}function im(t){return t=$y(t),t!==null?om(t):null}function om(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=om(t);if(e!==null)return e;t=t.sibling}return null}var am=mn.unstable_scheduleCallback,Vd=mn.unstable_cancelCallback,qy=mn.unstable_shouldYield,Hy=mn.unstable_requestPaint,ft=mn.unstable_now,Gy=mn.unstable_getCurrentPriorityLevel,Xc=mn.unstable_ImmediatePriority,lm=mn.unstable_UserBlockingPriority,La=mn.unstable_NormalPriority,Yy=mn.unstable_LowPriority,um=mn.unstable_IdlePriority,yl=null,Qn=null;function Qy(t){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(yl,t,void 0,(t.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:Jy,Xy=Math.log,Zy=Math.LN2;function Jy(t){return t>>>=0,t===0?32:31-(Xy(t)/Zy|0)|0}var Jo=64,ea=4194304;function Hi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fa(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Hi(l):(i&=a,i!==0&&(r=Hi(i)))}else a=n&~s,a!==0?r=Hi(a):i!==0&&(r=Hi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-jn(e),s=1<<n,r|=t[n],e&=~s;return r}function e0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-jn(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=e0(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Hu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cm(){var t=Jo;return Jo<<=1,!(Jo&4194240)&&(Jo=64),t}function ru(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ao(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jn(e),t[e]=n}function n0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-jn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Zc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-jn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var qe=0;function hm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dm,Jc,fm,pm,mm,Gu=!1,ta=[],Fr=null,jr=null,Vr=null,uo=new Map,co=new Map,Pr=[],r0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bd(t,e){switch(t){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":uo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(e.pointerId)}}function Fi(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Po(e),e!==null&&Jc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function s0(t,e,n,r,s){switch(e){case"focusin":return Fr=Fi(Fr,t,e,n,r,s),!0;case"dragenter":return jr=Fi(jr,t,e,n,r,s),!0;case"mouseover":return Vr=Fi(Vr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return uo.set(i,Fi(uo.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,co.set(i,Fi(co.get(i)||null,t,e,n,r,s)),!0}return!1}function gm(t){var e=us(t.target);if(e!==null){var n=Es(e);if(n!==null){if(e=n.tag,e===13){if(e=sm(n),e!==null){t.blockedOn=e,mm(t.priority,function(){fm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _a(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Wu=r,n.target.dispatchEvent(r),Wu=null}else return e=Po(n),e!==null&&Jc(e),t.blockedOn=n,!1;e.shift()}return!0}function Kd(t,e,n){_a(t)&&n.delete(e)}function i0(){Gu=!1,Fr!==null&&_a(Fr)&&(Fr=null),jr!==null&&_a(jr)&&(jr=null),Vr!==null&&_a(Vr)&&(Vr=null),uo.forEach(Kd),co.forEach(Kd)}function ji(t,e){t.blockedOn===e&&(t.blockedOn=null,Gu||(Gu=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,i0)))}function ho(t){function e(s){return ji(s,t)}if(0<ta.length){ji(ta[0],t);for(var n=1;n<ta.length;n++){var r=ta[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fr!==null&&ji(Fr,t),jr!==null&&ji(jr,t),Vr!==null&&ji(Vr,t),uo.forEach(e),co.forEach(e),n=0;n<Pr.length;n++)r=Pr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Pr.length&&(n=Pr[0],n.blockedOn===null);)gm(n),n.blockedOn===null&&Pr.shift()}var ti=_r.ReactCurrentBatchConfig,ja=!0;function o0(t,e,n,r){var s=qe,i=ti.transition;ti.transition=null;try{qe=1,eh(t,e,n,r)}finally{qe=s,ti.transition=i}}function a0(t,e,n,r){var s=qe,i=ti.transition;ti.transition=null;try{qe=4,eh(t,e,n,r)}finally{qe=s,ti.transition=i}}function eh(t,e,n,r){if(ja){var s=Yu(t,e,n,r);if(s===null)fu(t,e,r,Va,n),Bd(t,r);else if(s0(s,t,e,n,r))r.stopPropagation();else if(Bd(t,r),e&4&&-1<r0.indexOf(t)){for(;s!==null;){var i=Po(s);if(i!==null&&dm(i),i=Yu(t,e,n,r),i===null&&fu(t,e,r,Va,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else fu(t,e,r,null,n)}}var Va=null;function Yu(t,e,n,r){if(Va=null,t=Qc(r),t=us(t),t!==null)if(e=Es(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Va=t,null}function vm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gy()){case Xc:return 1;case lm:return 4;case La:case Yy:return 16;case um:return 536870912;default:return 16}default:return 16}}var Dr=null,th=null,wa=null;function ym(){if(wa)return wa;var t,e=th,n=e.length,r,s="value"in Dr?Dr.value:Dr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return wa=s.slice(t,1<r?1-r:void 0)}function Sa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function na(){return!0}function zd(){return!1}function yn(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?na:zd,this.isPropagationStopped=zd,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=na)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=na)},persist:function(){},isPersistent:na}),e}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nh=yn(ki),Io=lt({},ki,{view:0,detail:0}),l0=yn(Io),su,iu,Vi,_l=lt({},Io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vi&&(Vi&&t.type==="mousemove"?(su=t.screenX-Vi.screenX,iu=t.screenY-Vi.screenY):iu=su=0,Vi=t),su)},movementY:function(t){return"movementY"in t?t.movementY:iu}}),Wd=yn(_l),u0=lt({},_l,{dataTransfer:0}),c0=yn(u0),h0=lt({},Io,{relatedTarget:0}),ou=yn(h0),d0=lt({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),f0=yn(d0),p0=lt({},ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),m0=yn(p0),g0=lt({},ki,{data:0}),Ud=yn(g0),v0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_0[t])?!!e[t]:!1}function rh(){return w0}var S0=lt({},Io,{key:function(t){if(t.key){var e=v0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?y0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rh,charCode:function(t){return t.type==="keypress"?Sa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),k0=yn(S0),x0=lt({},_l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$d=yn(x0),C0=lt({},Io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rh}),T0=yn(C0),E0=lt({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),b0=yn(E0),N0=lt({},_l,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),O0=yn(N0),A0=[9,13,27,32],sh=pr&&"CompositionEvent"in window,Zi=null;pr&&"documentMode"in document&&(Zi=document.documentMode);var I0=pr&&"TextEvent"in window&&!Zi,_m=pr&&(!sh||Zi&&8<Zi&&11>=Zi),qd=" ",Hd=!1;function wm(t,e){switch(t){case"keyup":return A0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vs=!1;function P0(t,e){switch(t){case"compositionend":return Sm(e);case"keypress":return e.which!==32?null:(Hd=!0,qd);case"textInput":return t=e.data,t===qd&&Hd?null:t;default:return null}}function M0(t,e){if(Vs)return t==="compositionend"||!sh&&wm(t,e)?(t=ym(),wa=th=Dr=null,Vs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _m&&e.locale!=="ko"?null:e.data;default:return null}}var D0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!D0[t.type]:e==="textarea"}function km(t,e,n,r){Jp(r),e=Ba(e,"onChange"),0<e.length&&(n=new nh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ji=null,fo=null;function R0(t){Mm(t,0)}function wl(t){var e=zs(t);if(qp(e))return t}function L0(t,e){if(t==="change")return e}var xm=!1;if(pr){var au;if(pr){var lu="oninput"in document;if(!lu){var Yd=document.createElement("div");Yd.setAttribute("oninput","return;"),lu=typeof Yd.oninput=="function"}au=lu}else au=!1;xm=au&&(!document.documentMode||9<document.documentMode)}function Qd(){Ji&&(Ji.detachEvent("onpropertychange",Cm),fo=Ji=null)}function Cm(t){if(t.propertyName==="value"&&wl(fo)){var e=[];km(e,fo,t,Qc(t)),rm(R0,e)}}function F0(t,e,n){t==="focusin"?(Qd(),Ji=e,fo=n,Ji.attachEvent("onpropertychange",Cm)):t==="focusout"&&Qd()}function j0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wl(fo)}function V0(t,e){if(t==="click")return wl(e)}function B0(t,e){if(t==="input"||t==="change")return wl(e)}function K0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kn=typeof Object.is=="function"?Object.is:K0;function po(t,e){if(Kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Iu.call(e,s)||!Kn(t[s],e[s]))return!1}return!0}function Xd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zd(t,e){var n=Xd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xd(n)}}function Tm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Tm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Em(){for(var t=window,e=Ma();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ma(t.document)}return e}function ih(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function z0(t){var e=Em(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Tm(n.ownerDocument.documentElement,n)){if(r!==null&&ih(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Zd(n,i);var a=Zd(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var W0=pr&&"documentMode"in document&&11>=document.documentMode,Bs=null,Qu=null,eo=null,Xu=!1;function Jd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xu||Bs==null||Bs!==Ma(r)||(r=Bs,"selectionStart"in r&&ih(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),eo&&po(eo,r)||(eo=r,r=Ba(Qu,"onSelect"),0<r.length&&(e=new nh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bs)))}function ra(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ks={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionend:ra("Transition","TransitionEnd")},uu={},bm={};pr&&(bm=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function Sl(t){if(uu[t])return uu[t];if(!Ks[t])return t;var e=Ks[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bm)return uu[t]=e[n];return t}var Nm=Sl("animationend"),Om=Sl("animationiteration"),Am=Sl("animationstart"),Im=Sl("transitionend"),Pm=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(t,e){Pm.set(t,e),Ts(e,[t])}for(var cu=0;cu<ef.length;cu++){var hu=ef[cu],U0=hu.toLowerCase(),$0=hu[0].toUpperCase()+hu.slice(1);Zr(U0,"on"+$0)}Zr(Nm,"onAnimationEnd");Zr(Om,"onAnimationIteration");Zr(Am,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(Im,"onTransitionEnd");oi("onMouseEnter",["mouseout","mouseover"]);oi("onMouseLeave",["mouseout","mouseover"]);oi("onPointerEnter",["pointerout","pointerover"]);oi("onPointerLeave",["pointerout","pointerover"]);Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gi));function tf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Uy(r,e,void 0,t),t.currentTarget=null}function Mm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;tf(s,l,h),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;tf(s,l,h),i=c}}}if(Ra)throw t=qu,Ra=!1,qu=null,t}function Je(t,e){var n=e[nc];n===void 0&&(n=e[nc]=new Set);var r=t+"__bubble";n.has(r)||(Dm(e,t,2,!1),n.add(r))}function du(t,e,n){var r=0;e&&(r|=4),Dm(n,t,r,e)}var sa="_reactListening"+Math.random().toString(36).slice(2);function mo(t){if(!t[sa]){t[sa]=!0,Kp.forEach(function(n){n!=="selectionchange"&&(q0.has(n)||du(n,!1,t),du(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sa]||(e[sa]=!0,du("selectionchange",!1,e))}}function Dm(t,e,n,r){switch(vm(e)){case 1:var s=o0;break;case 4:s=a0;break;default:s=eh}n=s.bind(null,e,n,t),s=void 0,!$u||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function fu(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=us(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}rm(function(){var h=i,f=Qc(n),v=[];e:{var w=Pm.get(t);if(w!==void 0){var N=nh,E=t;switch(t){case"keypress":if(Sa(n)===0)break e;case"keydown":case"keyup":N=k0;break;case"focusin":E="focus",N=ou;break;case"focusout":E="blur",N=ou;break;case"beforeblur":case"afterblur":N=ou;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=c0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=T0;break;case Nm:case Om:case Am:N=f0;break;case Im:N=b0;break;case"scroll":N=l0;break;case"wheel":N=O0;break;case"copy":case"cut":case"paste":N=m0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=$d}var A=(e&4)!==0,b=!A&&t==="scroll",y=A?w!==null?w+"Capture":null:w;A=[];for(var T=h,O;T!==null;){O=T;var D=O.stateNode;if(O.tag===5&&D!==null&&(O=D,y!==null&&(D=lo(T,y),D!=null&&A.push(go(T,D,O)))),b)break;T=T.return}0<A.length&&(w=new N(w,E,null,n,f),v.push({event:w,listeners:A}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",N=t==="mouseout"||t==="pointerout",w&&n!==Wu&&(E=n.relatedTarget||n.fromElement)&&(us(E)||E[mr]))break e;if((N||w)&&(w=f.window===f?f:(w=f.ownerDocument)?w.defaultView||w.parentWindow:window,N?(E=n.relatedTarget||n.toElement,N=h,E=E?us(E):null,E!==null&&(b=Es(E),E!==b||E.tag!==5&&E.tag!==6)&&(E=null)):(N=null,E=h),N!==E)){if(A=Wd,D="onMouseLeave",y="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(A=$d,D="onPointerLeave",y="onPointerEnter",T="pointer"),b=N==null?w:zs(N),O=E==null?w:zs(E),w=new A(D,T+"leave",N,n,f),w.target=b,w.relatedTarget=O,D=null,us(f)===h&&(A=new A(y,T+"enter",E,n,f),A.target=O,A.relatedTarget=b,D=A),b=D,N&&E)t:{for(A=N,y=E,T=0,O=A;O;O=Ms(O))T++;for(O=0,D=y;D;D=Ms(D))O++;for(;0<T-O;)A=Ms(A),T--;for(;0<O-T;)y=Ms(y),O--;for(;T--;){if(A===y||y!==null&&A===y.alternate)break t;A=Ms(A),y=Ms(y)}A=null}else A=null;N!==null&&nf(v,w,N,A,!1),E!==null&&b!==null&&nf(v,b,E,A,!0)}}e:{if(w=h?zs(h):window,N=w.nodeName&&w.nodeName.toLowerCase(),N==="select"||N==="input"&&w.type==="file")var P=L0;else if(Gd(w))if(xm)P=B0;else{P=j0;var j=F0}else(N=w.nodeName)&&N.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(P=V0);if(P&&(P=P(t,h))){km(v,P,n,f);break e}j&&j(t,w,h),t==="focusout"&&(j=w._wrapperState)&&j.controlled&&w.type==="number"&&ju(w,"number",w.value)}switch(j=h?zs(h):window,t){case"focusin":(Gd(j)||j.contentEditable==="true")&&(Bs=j,Qu=h,eo=null);break;case"focusout":eo=Qu=Bs=null;break;case"mousedown":Xu=!0;break;case"contextmenu":case"mouseup":case"dragend":Xu=!1,Jd(v,n,f);break;case"selectionchange":if(W0)break;case"keydown":case"keyup":Jd(v,n,f)}var z;if(sh)e:{switch(t){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else Vs?wm(t,n)&&(V="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(_m&&n.locale!=="ko"&&(Vs||V!=="onCompositionStart"?V==="onCompositionEnd"&&Vs&&(z=ym()):(Dr=f,th="value"in Dr?Dr.value:Dr.textContent,Vs=!0)),j=Ba(h,V),0<j.length&&(V=new Ud(V,t,null,n,f),v.push({event:V,listeners:j}),z?V.data=z:(z=Sm(n),z!==null&&(V.data=z)))),(z=I0?P0(t,n):M0(t,n))&&(h=Ba(h,"onBeforeInput"),0<h.length&&(f=new Ud("onBeforeInput","beforeinput",null,n,f),v.push({event:f,listeners:h}),f.data=z))}Mm(v,e)})}function go(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ba(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=lo(t,n),i!=null&&r.unshift(go(t,i,s)),i=lo(t,e),i!=null&&r.push(go(t,i,s))),t=t.return}return r}function Ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nf(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,s?(c=lo(n,i),c!=null&&a.unshift(go(n,c,l))):s||(c=lo(n,i),c!=null&&a.push(go(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var H0=/\r\n?/g,G0=/\u0000|\uFFFD/g;function rf(t){return(typeof t=="string"?t:""+t).replace(H0,`
`).replace(G0,"")}function ia(t,e,n){if(e=rf(e),rf(t)!==e&&n)throw Error(he(425))}function Ka(){}var Zu=null,Ju=null;function ec(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tc=typeof setTimeout=="function"?setTimeout:void 0,Y0=typeof clearTimeout=="function"?clearTimeout:void 0,sf=typeof Promise=="function"?Promise:void 0,Q0=typeof queueMicrotask=="function"?queueMicrotask:typeof sf<"u"?function(t){return sf.resolve(null).then(t).catch(X0)}:tc;function X0(t){setTimeout(function(){throw t})}function pu(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ho(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ho(e)}function Br(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function of(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xi=Math.random().toString(36).slice(2),Yn="__reactFiber$"+xi,vo="__reactProps$"+xi,mr="__reactContainer$"+xi,nc="__reactEvents$"+xi,Z0="__reactListeners$"+xi,J0="__reactHandles$"+xi;function us(t){var e=t[Yn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mr]||n[Yn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=of(t);t!==null;){if(n=t[Yn])return n;t=of(t)}return e}t=n,n=t.parentNode}return null}function Po(t){return t=t[Yn]||t[mr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(he(33))}function kl(t){return t[vo]||null}var rc=[],Ws=-1;function Jr(t){return{current:t}}function tt(t){0>Ws||(t.current=rc[Ws],rc[Ws]=null,Ws--)}function Xe(t,e){Ws++,rc[Ws]=t.current,t.current=e}var Gr={},zt=Jr(Gr),rn=Jr(!1),vs=Gr;function ai(t,e){var n=t.type.contextTypes;if(!n)return Gr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function sn(t){return t=t.childContextTypes,t!=null}function za(){tt(rn),tt(zt)}function af(t,e,n){if(zt.current!==Gr)throw Error(he(168));Xe(zt,e),Xe(rn,n)}function Rm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(he(108,Fy(t)||"Unknown",s));return lt({},n,r)}function Wa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gr,vs=zt.current,Xe(zt,t),Xe(rn,rn.current),!0}function lf(t,e,n){var r=t.stateNode;if(!r)throw Error(he(169));n?(t=Rm(t,e,vs),r.__reactInternalMemoizedMergedChildContext=t,tt(rn),tt(zt),Xe(zt,t)):tt(rn),Xe(rn,n)}var lr=null,xl=!1,mu=!1;function Lm(t){lr===null?lr=[t]:lr.push(t)}function e1(t){xl=!0,Lm(t)}function es(){if(!mu&&lr!==null){mu=!0;var t=0,e=qe;try{var n=lr;for(qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}lr=null,xl=!1}catch(s){throw lr!==null&&(lr=lr.slice(t+1)),am(Xc,es),s}finally{qe=e,mu=!1}}return null}var Us=[],$s=0,Ua=null,$a=0,wn=[],Sn=0,ys=null,ur=1,cr="";function is(t,e){Us[$s++]=$a,Us[$s++]=Ua,Ua=t,$a=e}function Fm(t,e,n){wn[Sn++]=ur,wn[Sn++]=cr,wn[Sn++]=ys,ys=t;var r=ur;t=cr;var s=32-jn(r)-1;r&=~(1<<s),n+=1;var i=32-jn(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,ur=1<<32-jn(e)+s|n<<s|r,cr=i+t}else ur=1<<i|n<<s|r,cr=t}function oh(t){t.return!==null&&(is(t,1),Fm(t,1,0))}function ah(t){for(;t===Ua;)Ua=Us[--$s],Us[$s]=null,$a=Us[--$s],Us[$s]=null;for(;t===ys;)ys=wn[--Sn],wn[Sn]=null,cr=wn[--Sn],wn[Sn]=null,ur=wn[--Sn],wn[Sn]=null}var pn=null,fn=null,st=!1,Rn=null;function jm(t,e){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function uf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,fn=Br(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ys!==null?{id:ur,overflow:cr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pn=t,fn=null,!0):!1;default:return!1}}function sc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ic(t){if(st){var e=fn;if(e){var n=e;if(!uf(t,e)){if(sc(t))throw Error(he(418));e=Br(n.nextSibling);var r=pn;e&&uf(t,e)?jm(r,n):(t.flags=t.flags&-4097|2,st=!1,pn=t)}}else{if(sc(t))throw Error(he(418));t.flags=t.flags&-4097|2,st=!1,pn=t}}}function cf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function oa(t){if(t!==pn)return!1;if(!st)return cf(t),st=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ec(t.type,t.memoizedProps)),e&&(e=fn)){if(sc(t))throw Vm(),Error(he(418));for(;e;)jm(t,e),e=Br(e.nextSibling)}if(cf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fn=Br(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fn=null}}else fn=pn?Br(t.stateNode.nextSibling):null;return!0}function Vm(){for(var t=fn;t;)t=Br(t.nextSibling)}function li(){fn=pn=null,st=!1}function lh(t){Rn===null?Rn=[t]:Rn.push(t)}var t1=_r.ReactCurrentBatchConfig;function Bi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,t))}return t}function aa(t,e){throw t=Object.prototype.toString.call(e),Error(he(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hf(t){var e=t._init;return e(t._payload)}function Bm(t){function e(y,T){if(t){var O=y.deletions;O===null?(y.deletions=[T],y.flags|=16):O.push(T)}}function n(y,T){if(!t)return null;for(;T!==null;)e(y,T),T=T.sibling;return null}function r(y,T){for(y=new Map;T!==null;)T.key!==null?y.set(T.key,T):y.set(T.index,T),T=T.sibling;return y}function s(y,T){return y=Ur(y,T),y.index=0,y.sibling=null,y}function i(y,T,O){return y.index=O,t?(O=y.alternate,O!==null?(O=O.index,O<T?(y.flags|=2,T):O):(y.flags|=2,T)):(y.flags|=1048576,T)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,T,O,D){return T===null||T.tag!==6?(T=ku(O,y.mode,D),T.return=y,T):(T=s(T,O),T.return=y,T)}function c(y,T,O,D){var P=O.type;return P===js?f(y,T,O.props.children,D,O.key):T!==null&&(T.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Or&&hf(P)===T.type)?(D=s(T,O.props),D.ref=Bi(y,T,O),D.return=y,D):(D=Na(O.type,O.key,O.props,null,y.mode,D),D.ref=Bi(y,T,O),D.return=y,D)}function h(y,T,O,D){return T===null||T.tag!==4||T.stateNode.containerInfo!==O.containerInfo||T.stateNode.implementation!==O.implementation?(T=xu(O,y.mode,D),T.return=y,T):(T=s(T,O.children||[]),T.return=y,T)}function f(y,T,O,D,P){return T===null||T.tag!==7?(T=ms(O,y.mode,D,P),T.return=y,T):(T=s(T,O),T.return=y,T)}function v(y,T,O){if(typeof T=="string"&&T!==""||typeof T=="number")return T=ku(""+T,y.mode,O),T.return=y,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Qo:return O=Na(T.type,T.key,T.props,null,y.mode,O),O.ref=Bi(y,null,T),O.return=y,O;case Fs:return T=xu(T,y.mode,O),T.return=y,T;case Or:var D=T._init;return v(y,D(T._payload),O)}if(qi(T)||Ri(T))return T=ms(T,y.mode,O,null),T.return=y,T;aa(y,T)}return null}function w(y,T,O,D){var P=T!==null?T.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return P!==null?null:l(y,T,""+O,D);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Qo:return O.key===P?c(y,T,O,D):null;case Fs:return O.key===P?h(y,T,O,D):null;case Or:return P=O._init,w(y,T,P(O._payload),D)}if(qi(O)||Ri(O))return P!==null?null:f(y,T,O,D,null);aa(y,O)}return null}function N(y,T,O,D,P){if(typeof D=="string"&&D!==""||typeof D=="number")return y=y.get(O)||null,l(T,y,""+D,P);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Qo:return y=y.get(D.key===null?O:D.key)||null,c(T,y,D,P);case Fs:return y=y.get(D.key===null?O:D.key)||null,h(T,y,D,P);case Or:var j=D._init;return N(y,T,O,j(D._payload),P)}if(qi(D)||Ri(D))return y=y.get(O)||null,f(T,y,D,P,null);aa(T,D)}return null}function E(y,T,O,D){for(var P=null,j=null,z=T,V=T=0,Q=null;z!==null&&V<O.length;V++){z.index>V?(Q=z,z=null):Q=z.sibling;var G=w(y,z,O[V],D);if(G===null){z===null&&(z=Q);break}t&&z&&G.alternate===null&&e(y,z),T=i(G,T,V),j===null?P=G:j.sibling=G,j=G,z=Q}if(V===O.length)return n(y,z),st&&is(y,V),P;if(z===null){for(;V<O.length;V++)z=v(y,O[V],D),z!==null&&(T=i(z,T,V),j===null?P=z:j.sibling=z,j=z);return st&&is(y,V),P}for(z=r(y,z);V<O.length;V++)Q=N(z,y,V,O[V],D),Q!==null&&(t&&Q.alternate!==null&&z.delete(Q.key===null?V:Q.key),T=i(Q,T,V),j===null?P=Q:j.sibling=Q,j=Q);return t&&z.forEach(function(J){return e(y,J)}),st&&is(y,V),P}function A(y,T,O,D){var P=Ri(O);if(typeof P!="function")throw Error(he(150));if(O=P.call(O),O==null)throw Error(he(151));for(var j=P=null,z=T,V=T=0,Q=null,G=O.next();z!==null&&!G.done;V++,G=O.next()){z.index>V?(Q=z,z=null):Q=z.sibling;var J=w(y,z,G.value,D);if(J===null){z===null&&(z=Q);break}t&&z&&J.alternate===null&&e(y,z),T=i(J,T,V),j===null?P=J:j.sibling=J,j=J,z=Q}if(G.done)return n(y,z),st&&is(y,V),P;if(z===null){for(;!G.done;V++,G=O.next())G=v(y,G.value,D),G!==null&&(T=i(G,T,V),j===null?P=G:j.sibling=G,j=G);return st&&is(y,V),P}for(z=r(y,z);!G.done;V++,G=O.next())G=N(z,y,V,G.value,D),G!==null&&(t&&G.alternate!==null&&z.delete(G.key===null?V:G.key),T=i(G,T,V),j===null?P=G:j.sibling=G,j=G);return t&&z.forEach(function(X){return e(y,X)}),st&&is(y,V),P}function b(y,T,O,D){if(typeof O=="object"&&O!==null&&O.type===js&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Qo:e:{for(var P=O.key,j=T;j!==null;){if(j.key===P){if(P=O.type,P===js){if(j.tag===7){n(y,j.sibling),T=s(j,O.props.children),T.return=y,y=T;break e}}else if(j.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Or&&hf(P)===j.type){n(y,j.sibling),T=s(j,O.props),T.ref=Bi(y,j,O),T.return=y,y=T;break e}n(y,j);break}else e(y,j);j=j.sibling}O.type===js?(T=ms(O.props.children,y.mode,D,O.key),T.return=y,y=T):(D=Na(O.type,O.key,O.props,null,y.mode,D),D.ref=Bi(y,T,O),D.return=y,y=D)}return a(y);case Fs:e:{for(j=O.key;T!==null;){if(T.key===j)if(T.tag===4&&T.stateNode.containerInfo===O.containerInfo&&T.stateNode.implementation===O.implementation){n(y,T.sibling),T=s(T,O.children||[]),T.return=y,y=T;break e}else{n(y,T);break}else e(y,T);T=T.sibling}T=xu(O,y.mode,D),T.return=y,y=T}return a(y);case Or:return j=O._init,b(y,T,j(O._payload),D)}if(qi(O))return E(y,T,O,D);if(Ri(O))return A(y,T,O,D);aa(y,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,T!==null&&T.tag===6?(n(y,T.sibling),T=s(T,O),T.return=y,y=T):(n(y,T),T=ku(O,y.mode,D),T.return=y,y=T),a(y)):n(y,T)}return b}var ui=Bm(!0),Km=Bm(!1),qa=Jr(null),Ha=null,qs=null,uh=null;function ch(){uh=qs=Ha=null}function hh(t){var e=qa.current;tt(qa),t._currentValue=e}function oc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ni(t,e){Ha=t,uh=qs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nn=!0),t.firstContext=null)}function bn(t){var e=t._currentValue;if(uh!==t)if(t={context:t,memoizedValue:e,next:null},qs===null){if(Ha===null)throw Error(he(308));qs=t,Ha.dependencies={lanes:0,firstContext:t}}else qs=qs.next=t;return e}var cs=null;function dh(t){cs===null?cs=[t]:cs.push(t)}function zm(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,dh(e)):(n.next=s.next,s.next=n),e.interleaved=n,gr(t,r)}function gr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ar=!1;function fh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Kr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,We&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,gr(t,n)}return s=r.interleaved,s===null?(e.next=e,dh(r)):(e.next=s.next,s.next=e),r.interleaved=e,gr(t,n)}function ka(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zc(t,n)}}function df(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ga(t,e,n,r){var s=t.updateQueue;Ar=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?i=h:a.next=h,a=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=c))}if(i!==null){var v=s.baseState;a=0,f=h=c=null,l=i;do{var w=l.lane,N=l.eventTime;if((r&w)===w){f!==null&&(f=f.next={eventTime:N,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var E=t,A=l;switch(w=e,N=n,A.tag){case 1:if(E=A.payload,typeof E=="function"){v=E.call(N,v,w);break e}v=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=A.payload,w=typeof E=="function"?E.call(N,v,w):E,w==null)break e;v=lt({},v,w);break e;case 2:Ar=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,w=s.effects,w===null?s.effects=[l]:w.push(l))}else N={eventTime:N,lane:w,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=N,c=v):f=f.next=N,a|=w;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;w=l,l=w.next,w.next=null,s.lastBaseUpdate=w,s.shared.pending=null}}while(!0);if(f===null&&(c=v),s.baseState=c,s.firstBaseUpdate=h,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ws|=a,t.lanes=a,t.memoizedState=v}}function ff(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(he(191,s));s.call(r)}}}var Mo={},Xn=Jr(Mo),yo=Jr(Mo),_o=Jr(Mo);function hs(t){if(t===Mo)throw Error(he(174));return t}function ph(t,e){switch(Xe(_o,e),Xe(yo,t),Xe(Xn,Mo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bu(e,t)}tt(Xn),Xe(Xn,e)}function ci(){tt(Xn),tt(yo),tt(_o)}function Um(t){hs(_o.current);var e=hs(Xn.current),n=Bu(e,t.type);e!==n&&(Xe(yo,t),Xe(Xn,n))}function mh(t){yo.current===t&&(tt(Xn),tt(yo))}var ot=Jr(0);function Ya(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gu=[];function gh(){for(var t=0;t<gu.length;t++)gu[t]._workInProgressVersionPrimary=null;gu.length=0}var xa=_r.ReactCurrentDispatcher,vu=_r.ReactCurrentBatchConfig,_s=0,at=null,xt=null,bt=null,Qa=!1,to=!1,wo=0,n1=0;function Ft(){throw Error(he(321))}function vh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kn(t[n],e[n]))return!1;return!0}function yh(t,e,n,r,s,i){if(_s=i,at=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xa.current=t===null||t.memoizedState===null?o1:a1,t=n(r,s),to){i=0;do{if(to=!1,wo=0,25<=i)throw Error(he(301));i+=1,bt=xt=null,e.updateQueue=null,xa.current=l1,t=n(r,s)}while(to)}if(xa.current=Xa,e=xt!==null&&xt.next!==null,_s=0,bt=xt=at=null,Qa=!1,e)throw Error(he(300));return t}function _h(){var t=wo!==0;return wo=0,t}function Gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?at.memoizedState=bt=t:bt=bt.next=t,bt}function Nn(){if(xt===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=bt===null?at.memoizedState:bt.next;if(e!==null)bt=e,xt=t;else{if(t===null)throw Error(he(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},bt===null?at.memoizedState=bt=t:bt=bt.next=t}return bt}function So(t,e){return typeof e=="function"?e(t):e}function yu(t){var e=Nn(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=xt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,h=i;do{var f=h.lane;if((_s&f)===f)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var v={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=v,a=r):c=c.next=v,at.lanes|=f,ws|=f}h=h.next}while(h!==null&&h!==i);c===null?a=r:c.next=l,Kn(r,e.memoizedState)||(nn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,at.lanes|=i,ws|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _u(t){var e=Nn(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Kn(i,e.memoizedState)||(nn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function $m(){}function qm(t,e){var n=at,r=Nn(),s=e(),i=!Kn(r.memoizedState,s);if(i&&(r.memoizedState=s,nn=!0),r=r.queue,wh(Ym.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,ko(9,Gm.bind(null,n,r,s,e),void 0,null),Nt===null)throw Error(he(349));_s&30||Hm(n,e,s)}return s}function Hm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Gm(t,e,n,r){e.value=n,e.getSnapshot=r,Qm(e)&&Xm(t)}function Ym(t,e,n){return n(function(){Qm(e)&&Xm(t)})}function Qm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kn(t,n)}catch{return!0}}function Xm(t){var e=gr(t,1);e!==null&&Vn(e,t,1,-1)}function pf(t){var e=Gn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:t},e.queue=t,t=t.dispatch=i1.bind(null,at,t),[e.memoizedState,t]}function ko(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Zm(){return Nn().memoizedState}function Ca(t,e,n,r){var s=Gn();at.flags|=t,s.memoizedState=ko(1|e,n,void 0,r===void 0?null:r)}function Cl(t,e,n,r){var s=Nn();r=r===void 0?null:r;var i=void 0;if(xt!==null){var a=xt.memoizedState;if(i=a.destroy,r!==null&&vh(r,a.deps)){s.memoizedState=ko(e,n,i,r);return}}at.flags|=t,s.memoizedState=ko(1|e,n,i,r)}function mf(t,e){return Ca(8390656,8,t,e)}function wh(t,e){return Cl(2048,8,t,e)}function Jm(t,e){return Cl(4,2,t,e)}function eg(t,e){return Cl(4,4,t,e)}function tg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ng(t,e,n){return n=n!=null?n.concat([t]):null,Cl(4,4,tg.bind(null,e,t),n)}function Sh(){}function rg(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sg(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ig(t,e,n){return _s&21?(Kn(n,e)||(n=cm(),at.lanes|=n,ws|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nn=!0),t.memoizedState=n)}function r1(t,e){var n=qe;qe=n!==0&&4>n?n:4,t(!0);var r=vu.transition;vu.transition={};try{t(!1),e()}finally{qe=n,vu.transition=r}}function og(){return Nn().memoizedState}function s1(t,e,n){var r=Wr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ag(t))lg(e,n);else if(n=zm(t,e,n,r),n!==null){var s=Yt();Vn(n,t,r,s),ug(n,e,r)}}function i1(t,e,n){var r=Wr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ag(t))lg(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,Kn(l,a)){var c=e.interleaved;c===null?(s.next=s,dh(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=zm(t,e,s,r),n!==null&&(s=Yt(),Vn(n,t,r,s),ug(n,e,r))}}function ag(t){var e=t.alternate;return t===at||e!==null&&e===at}function lg(t,e){to=Qa=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ug(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zc(t,n)}}var Xa={readContext:bn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},o1={readContext:bn,useCallback:function(t,e){return Gn().memoizedState=[t,e===void 0?null:e],t},useContext:bn,useEffect:mf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ca(4194308,4,tg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ca(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ca(4,2,t,e)},useMemo:function(t,e){var n=Gn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=s1.bind(null,at,t),[r.memoizedState,t]},useRef:function(t){var e=Gn();return t={current:t},e.memoizedState=t},useState:pf,useDebugValue:Sh,useDeferredValue:function(t){return Gn().memoizedState=t},useTransition:function(){var t=pf(!1),e=t[0];return t=r1.bind(null,t[1]),Gn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=at,s=Gn();if(st){if(n===void 0)throw Error(he(407));n=n()}else{if(n=e(),Nt===null)throw Error(he(349));_s&30||Hm(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,mf(Ym.bind(null,r,i,t),[t]),r.flags|=2048,ko(9,Gm.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Gn(),e=Nt.identifierPrefix;if(st){var n=cr,r=ur;n=(r&~(1<<32-jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=n1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},a1={readContext:bn,useCallback:rg,useContext:bn,useEffect:wh,useImperativeHandle:ng,useInsertionEffect:Jm,useLayoutEffect:eg,useMemo:sg,useReducer:yu,useRef:Zm,useState:function(){return yu(So)},useDebugValue:Sh,useDeferredValue:function(t){var e=Nn();return ig(e,xt.memoizedState,t)},useTransition:function(){var t=yu(So)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:$m,useSyncExternalStore:qm,useId:og,unstable_isNewReconciler:!1},l1={readContext:bn,useCallback:rg,useContext:bn,useEffect:wh,useImperativeHandle:ng,useInsertionEffect:Jm,useLayoutEffect:eg,useMemo:sg,useReducer:_u,useRef:Zm,useState:function(){return _u(So)},useDebugValue:Sh,useDeferredValue:function(t){var e=Nn();return xt===null?e.memoizedState=t:ig(e,xt.memoizedState,t)},useTransition:function(){var t=_u(So)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:$m,useSyncExternalStore:qm,useId:og,unstable_isNewReconciler:!1};function Mn(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ac(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:lt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Tl={isMounted:function(t){return(t=t._reactInternals)?Es(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yt(),s=Wr(t),i=dr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Kr(t,i,s),e!==null&&(Vn(e,t,s,r),ka(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yt(),s=Wr(t),i=dr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Kr(t,i,s),e!==null&&(Vn(e,t,s,r),ka(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yt(),r=Wr(t),s=dr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Kr(t,s,r),e!==null&&(Vn(e,t,r,n),ka(e,t,r))}};function gf(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!po(n,r)||!po(s,i):!0}function cg(t,e,n){var r=!1,s=Gr,i=e.contextType;return typeof i=="object"&&i!==null?i=bn(i):(s=sn(e)?vs:zt.current,r=e.contextTypes,i=(r=r!=null)?ai(t,s):Gr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Tl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function vf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Tl.enqueueReplaceState(e,e.state,null)}function lc(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},fh(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=bn(i):(i=sn(e)?vs:zt.current,s.context=ai(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ac(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Tl.enqueueReplaceState(s,s.state,null),Ga(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function hi(t,e){try{var n="",r=e;do n+=Ly(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function wu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function uc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var u1=typeof WeakMap=="function"?WeakMap:Map;function hg(t,e,n){n=dr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ja||(Ja=!0,_c=r),uc(t,e)},n}function dg(t,e,n){n=dr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){uc(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){uc(t,e),typeof r!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function yf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new u1;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=x1.bind(null,t,e,n),e.then(t,t))}function _f(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wf(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dr(-1,1),e.tag=2,Kr(n,e,1))),n.lanes|=1),t)}var c1=_r.ReactCurrentOwner,nn=!1;function $t(t,e,n,r){e.child=t===null?Km(e,null,n,r):ui(e,t.child,n,r)}function Sf(t,e,n,r,s){n=n.render;var i=e.ref;return ni(e,s),r=yh(t,e,n,r,i,s),n=_h(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vr(t,e,s)):(st&&n&&oh(e),e.flags|=1,$t(t,e,r,s),e.child)}function kf(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Oh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,fg(t,e,i,r,s)):(t=Na(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:po,n(a,r)&&t.ref===e.ref)return vr(t,e,s)}return e.flags|=1,t=Ur(i,r),t.ref=e.ref,t.return=e,e.child=t}function fg(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(po(i,r)&&t.ref===e.ref)if(nn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(nn=!0);else return e.lanes=t.lanes,vr(t,e,s)}return cc(t,e,n,r,s)}function pg(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Gs,hn),hn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Xe(Gs,hn),hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Xe(Gs,hn),hn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Xe(Gs,hn),hn|=r;return $t(t,e,s,n),e.child}function mg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cc(t,e,n,r,s){var i=sn(n)?vs:zt.current;return i=ai(e,i),ni(e,s),n=yh(t,e,n,r,i,s),r=_h(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vr(t,e,s)):(st&&r&&oh(e),e.flags|=1,$t(t,e,n,s),e.child)}function xf(t,e,n,r,s){if(sn(n)){var i=!0;Wa(e)}else i=!1;if(ni(e,s),e.stateNode===null)Ta(t,e),cg(e,n,r),lc(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=bn(h):(h=sn(n)?vs:zt.current,h=ai(e,h));var f=n.getDerivedStateFromProps,v=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==h)&&vf(e,a,r,h),Ar=!1;var w=e.memoizedState;a.state=w,Ga(e,r,a,s),c=e.memoizedState,l!==r||w!==c||rn.current||Ar?(typeof f=="function"&&(ac(e,n,f,r),c=e.memoizedState),(l=Ar||gf(e,n,l,r,w,c,h))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Wm(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Mn(e.type,l),a.props=h,v=e.pendingProps,w=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=bn(c):(c=sn(n)?vs:zt.current,c=ai(e,c));var N=n.getDerivedStateFromProps;(f=typeof N=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==v||w!==c)&&vf(e,a,r,c),Ar=!1,w=e.memoizedState,a.state=w,Ga(e,r,a,s);var E=e.memoizedState;l!==v||w!==E||rn.current||Ar?(typeof N=="function"&&(ac(e,n,N,r),E=e.memoizedState),(h=Ar||gf(e,n,h,r,w,E,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,E,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,E,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),a.props=r,a.state=E,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),r=!1)}return hc(t,e,n,r,i,s)}function hc(t,e,n,r,s,i){mg(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&lf(e,n,!1),vr(t,e,i);r=e.stateNode,c1.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ui(e,t.child,null,i),e.child=ui(e,null,l,i)):$t(t,e,l,i),e.memoizedState=r.state,s&&lf(e,n,!0),e.child}function gg(t){var e=t.stateNode;e.pendingContext?af(t,e.pendingContext,e.pendingContext!==e.context):e.context&&af(t,e.context,!1),ph(t,e.containerInfo)}function Cf(t,e,n,r,s){return li(),lh(s),e.flags|=256,$t(t,e,n,r),e.child}var dc={dehydrated:null,treeContext:null,retryLane:0};function fc(t){return{baseLanes:t,cachePool:null,transitions:null}}function vg(t,e,n){var r=e.pendingProps,s=ot.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Xe(ot,s&1),t===null)return ic(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Nl(a,r,0,null),t=ms(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=fc(n),e.memoizedState=dc,t):kh(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return h1(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ur(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ur(l,i):(i=ms(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?fc(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=dc,r}return i=t.child,t=i.sibling,r=Ur(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function kh(t,e){return e=Nl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function la(t,e,n,r){return r!==null&&lh(r),ui(e,t.child,null,n),t=kh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function h1(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=wu(Error(he(422))),la(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Nl({mode:"visible",children:r.children},s,0,null),i=ms(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ui(e,t.child,null,a),e.child.memoizedState=fc(a),e.memoizedState=dc,i);if(!(e.mode&1))return la(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(he(419)),r=wu(i,r,void 0),la(t,e,a,r)}if(l=(a&t.childLanes)!==0,nn||l){if(r=Nt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,gr(t,s),Vn(r,t,s,-1))}return Nh(),r=wu(Error(he(421))),la(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=C1.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,fn=Br(s.nextSibling),pn=e,st=!0,Rn=null,t!==null&&(wn[Sn++]=ur,wn[Sn++]=cr,wn[Sn++]=ys,ur=t.id,cr=t.overflow,ys=e),e=kh(e,r.children),e.flags|=4096,e)}function Tf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),oc(t.return,e,n)}function Su(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function yg(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if($t(t,e,r.children,n),r=ot.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tf(t,n,e);else if(t.tag===19)Tf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Xe(ot,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ya(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Su(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ya(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Su(e,!0,n,null,i);break;case"together":Su(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ta(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ws|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(he(153));if(e.child!==null){for(t=e.child,n=Ur(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ur(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function d1(t,e,n){switch(e.tag){case 3:gg(e),li();break;case 5:Um(e);break;case 1:sn(e.type)&&Wa(e);break;case 4:ph(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Xe(qa,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Xe(ot,ot.current&1),e.flags|=128,null):n&e.child.childLanes?vg(t,e,n):(Xe(ot,ot.current&1),t=vr(t,e,n),t!==null?t.sibling:null);Xe(ot,ot.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return yg(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Xe(ot,ot.current),r)break;return null;case 22:case 23:return e.lanes=0,pg(t,e,n)}return vr(t,e,n)}var _g,pc,wg,Sg;_g=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pc=function(){};wg=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,hs(Xn.current);var i=null;switch(n){case"input":s=Lu(t,s),r=Lu(t,r),i=[];break;case"select":s=lt({},s,{value:void 0}),r=lt({},r,{value:void 0}),i=[];break;case"textarea":s=Vu(t,s),r=Vu(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ka)}Ku(n,r);var a;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var l=s[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(oo.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var c=r[h];if(l=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(oo.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Je("scroll",t),i||l===c||(i=[])):(i=i||[]).push(h,c))}n&&(i=i||[]).push("style",n);var h=i;(e.updateQueue=h)&&(e.flags|=4)}};Sg=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ki(t,e){if(!st)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function f1(t,e,n){var r=e.pendingProps;switch(ah(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return sn(e.type)&&za(),jt(e),null;case 3:return r=e.stateNode,ci(),tt(rn),tt(zt),gh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(oa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rn!==null&&(kc(Rn),Rn=null))),pc(t,e),jt(e),null;case 5:mh(e);var s=hs(_o.current);if(n=e.type,t!==null&&e.stateNode!=null)wg(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(he(166));return jt(e),null}if(t=hs(Xn.current),oa(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Yn]=e,r[vo]=i,t=(e.mode&1)!==0,n){case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":case"embed":Je("load",r);break;case"video":case"audio":for(s=0;s<Gi.length;s++)Je(Gi[s],r);break;case"source":Je("error",r);break;case"img":case"image":case"link":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"input":Md(r,i),Je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Je("invalid",r);break;case"textarea":Rd(r,i),Je("invalid",r)}Ku(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ia(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ia(r.textContent,l,t),s=["children",""+l]):oo.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Je("scroll",r)}switch(n){case"input":Xo(r),Dd(r,i,!0);break;case"textarea":Xo(r),Ld(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ka)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Yp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Yn]=e,t[vo]=r,_g(t,e,!1,!1),e.stateNode=t;e:{switch(a=zu(n,r),n){case"dialog":Je("cancel",t),Je("close",t),s=r;break;case"iframe":case"object":case"embed":Je("load",t),s=r;break;case"video":case"audio":for(s=0;s<Gi.length;s++)Je(Gi[s],t);s=r;break;case"source":Je("error",t),s=r;break;case"img":case"image":case"link":Je("error",t),Je("load",t),s=r;break;case"details":Je("toggle",t),s=r;break;case"input":Md(t,r),s=Lu(t,r),Je("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=lt({},r,{value:void 0}),Je("invalid",t);break;case"textarea":Rd(t,r),s=Vu(t,r),Je("invalid",t);break;default:s=r}Ku(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Zp(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Qp(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ao(t,c):typeof c=="number"&&ao(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(oo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Je("scroll",t):c!=null&&qc(t,i,c,a))}switch(n){case"input":Xo(t),Dd(t,r,!1);break;case"textarea":Xo(t),Ld(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Zs(t,!!r.multiple,i,!1):r.defaultValue!=null&&Zs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ka)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)Sg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(he(166));if(n=hs(_o.current),hs(Xn.current),oa(e)){if(r=e.stateNode,n=e.memoizedProps,r[Yn]=e,(i=r.nodeValue!==n)&&(t=pn,t!==null))switch(t.tag){case 3:ia(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ia(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yn]=e,e.stateNode=r}return jt(e),null;case 13:if(tt(ot),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(st&&fn!==null&&e.mode&1&&!(e.flags&128))Vm(),li(),e.flags|=98560,i=!1;else if(i=oa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(he(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(he(317));i[Yn]=e}else li(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),i=!1}else Rn!==null&&(kc(Rn),Rn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?Ct===0&&(Ct=3):Nh())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return ci(),pc(t,e),t===null&&mo(e.stateNode.containerInfo),jt(e),null;case 10:return hh(e.type._context),jt(e),null;case 17:return sn(e.type)&&za(),jt(e),null;case 19:if(tt(ot),i=e.memoizedState,i===null)return jt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Ki(i,!1);else{if(Ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ya(t),a!==null){for(e.flags|=128,Ki(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Xe(ot,ot.current&1|2),e.child}t=t.sibling}i.tail!==null&&ft()>di&&(e.flags|=128,r=!0,Ki(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ya(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ki(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!st)return jt(e),null}else 2*ft()-i.renderingStartTime>di&&n!==1073741824&&(e.flags|=128,r=!0,Ki(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ft(),e.sibling=null,n=ot.current,Xe(ot,r?n&1|2:n&1),e):(jt(e),null);case 22:case 23:return bh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hn&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(he(156,e.tag))}function p1(t,e){switch(ah(e),e.tag){case 1:return sn(e.type)&&za(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ci(),tt(rn),tt(zt),gh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mh(e),null;case 13:if(tt(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(he(340));li()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tt(ot),null;case 4:return ci(),null;case 10:return hh(e.type._context),null;case 22:case 23:return bh(),null;case 24:return null;default:return null}}var ua=!1,Bt=!1,m1=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Hs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function mc(t,e,n){try{n()}catch(r){ct(t,e,r)}}var Ef=!1;function g1(t,e){if(Zu=ja,t=Em(),ih(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,f=0,v=t,w=null;t:for(;;){for(var N;v!==n||s!==0&&v.nodeType!==3||(l=a+s),v!==i||r!==0&&v.nodeType!==3||(c=a+r),v.nodeType===3&&(a+=v.nodeValue.length),(N=v.firstChild)!==null;)w=v,v=N;for(;;){if(v===t)break t;if(w===n&&++h===s&&(l=a),w===i&&++f===r&&(c=a),(N=v.nextSibling)!==null)break;v=w,w=v.parentNode}v=N}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ju={focusedElem:t,selectionRange:n},ja=!1,Se=e;Se!==null;)if(e=Se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Se=t;else for(;Se!==null;){e=Se;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var A=E.memoizedProps,b=E.memoizedState,y=e.stateNode,T=y.getSnapshotBeforeUpdate(e.elementType===e.type?A:Mn(e.type,A),b);y.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var O=e.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(D){ct(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,Se=t;break}Se=e.return}return E=Ef,Ef=!1,E}function no(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&mc(e,n,i)}s=s.next}while(s!==r)}}function El(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function kg(t){var e=t.alternate;e!==null&&(t.alternate=null,kg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yn],delete e[vo],delete e[nc],delete e[Z0],delete e[J0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xg(t){return t.tag===5||t.tag===3||t.tag===4}function bf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ka));else if(r!==4&&(t=t.child,t!==null))for(vc(t,e,n),t=t.sibling;t!==null;)vc(t,e,n),t=t.sibling}function yc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yc(t,e,n),t=t.sibling;t!==null;)yc(t,e,n),t=t.sibling}var Mt=null,Dn=!1;function br(t,e,n){for(n=n.child;n!==null;)Cg(t,e,n),n=n.sibling}function Cg(t,e,n){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(yl,n)}catch{}switch(n.tag){case 5:Bt||Hs(n,e);case 6:var r=Mt,s=Dn;Mt=null,br(t,e,n),Mt=r,Dn=s,Mt!==null&&(Dn?(t=Mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Mt.removeChild(n.stateNode));break;case 18:Mt!==null&&(Dn?(t=Mt,n=n.stateNode,t.nodeType===8?pu(t.parentNode,n):t.nodeType===1&&pu(t,n),ho(t)):pu(Mt,n.stateNode));break;case 4:r=Mt,s=Dn,Mt=n.stateNode.containerInfo,Dn=!0,br(t,e,n),Mt=r,Dn=s;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&mc(n,e,a),s=s.next}while(s!==r)}br(t,e,n);break;case 1:if(!Bt&&(Hs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ct(n,e,l)}br(t,e,n);break;case 21:br(t,e,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,br(t,e,n),Bt=r):br(t,e,n);break;default:br(t,e,n)}}function Nf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new m1),e.forEach(function(r){var s=T1.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Pn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Mt=l.stateNode,Dn=!1;break e;case 3:Mt=l.stateNode.containerInfo,Dn=!0;break e;case 4:Mt=l.stateNode.containerInfo,Dn=!0;break e}l=l.return}if(Mt===null)throw Error(he(160));Cg(i,a,s),Mt=null,Dn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(h){ct(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Tg(e,t),e=e.sibling}function Tg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pn(e,t),Hn(t),r&4){try{no(3,t,t.return),El(3,t)}catch(A){ct(t,t.return,A)}try{no(5,t,t.return)}catch(A){ct(t,t.return,A)}}break;case 1:Pn(e,t),Hn(t),r&512&&n!==null&&Hs(n,n.return);break;case 5:if(Pn(e,t),Hn(t),r&512&&n!==null&&Hs(n,n.return),t.flags&32){var s=t.stateNode;try{ao(s,"")}catch(A){ct(t,t.return,A)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Hp(s,i),zu(l,a);var h=zu(l,i);for(a=0;a<c.length;a+=2){var f=c[a],v=c[a+1];f==="style"?Zp(s,v):f==="dangerouslySetInnerHTML"?Qp(s,v):f==="children"?ao(s,v):qc(s,f,v,h)}switch(l){case"input":Fu(s,i);break;case"textarea":Gp(s,i);break;case"select":var w=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var N=i.value;N!=null?Zs(s,!!i.multiple,N,!1):w!==!!i.multiple&&(i.defaultValue!=null?Zs(s,!!i.multiple,i.defaultValue,!0):Zs(s,!!i.multiple,i.multiple?[]:"",!1))}s[vo]=i}catch(A){ct(t,t.return,A)}}break;case 6:if(Pn(e,t),Hn(t),r&4){if(t.stateNode===null)throw Error(he(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(A){ct(t,t.return,A)}}break;case 3:if(Pn(e,t),Hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ho(e.containerInfo)}catch(A){ct(t,t.return,A)}break;case 4:Pn(e,t),Hn(t);break;case 13:Pn(e,t),Hn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Th=ft())),r&4&&Nf(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(h=Bt)||f,Pn(e,t),Bt=h):Pn(e,t),Hn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(Se=t,f=t.child;f!==null;){for(v=Se=f;Se!==null;){switch(w=Se,N=w.child,w.tag){case 0:case 11:case 14:case 15:no(4,w,w.return);break;case 1:Hs(w,w.return);var E=w.stateNode;if(typeof E.componentWillUnmount=="function"){r=w,n=w.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(A){ct(r,n,A)}}break;case 5:Hs(w,w.return);break;case 22:if(w.memoizedState!==null){Af(v);continue}}N!==null?(N.return=w,Se=N):Af(v)}f=f.sibling}e:for(f=null,v=t;;){if(v.tag===5){if(f===null){f=v;try{s=v.stateNode,h?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=v.stateNode,c=v.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Xp("display",a))}catch(A){ct(t,t.return,A)}}}else if(v.tag===6){if(f===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(A){ct(t,t.return,A)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;f===v&&(f=null),v=v.return}f===v&&(f=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Pn(e,t),Hn(t),r&4&&Nf(t);break;case 21:break;default:Pn(e,t),Hn(t)}}function Hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xg(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ao(s,""),r.flags&=-33);var i=bf(t);yc(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=bf(t);vc(t,l,a);break;default:throw Error(he(161))}}catch(c){ct(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function v1(t,e,n){Se=t,Eg(t)}function Eg(t,e,n){for(var r=(t.mode&1)!==0;Se!==null;){var s=Se,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||ua;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Bt;l=ua;var h=Bt;if(ua=a,(Bt=c)&&!h)for(Se=s;Se!==null;)a=Se,c=a.child,a.tag===22&&a.memoizedState!==null?If(s):c!==null?(c.return=a,Se=c):If(s);for(;i!==null;)Se=i,Eg(i),i=i.sibling;Se=s,ua=l,Bt=h}Of(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Se=i):Of(t)}}function Of(t){for(;Se!==null;){var e=Se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||El(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Mn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ff(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ff(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var v=f.dehydrated;v!==null&&ho(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Bt||e.flags&512&&gc(e)}catch(w){ct(e,e.return,w)}}if(e===t){Se=null;break}if(n=e.sibling,n!==null){n.return=e.return,Se=n;break}Se=e.return}}function Af(t){for(;Se!==null;){var e=Se;if(e===t){Se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Se=n;break}Se=e.return}}function If(t){for(;Se!==null;){var e=Se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{El(4,e)}catch(c){ct(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){ct(e,s,c)}}var i=e.return;try{gc(e)}catch(c){ct(e,i,c)}break;case 5:var a=e.return;try{gc(e)}catch(c){ct(e,a,c)}}}catch(c){ct(e,e.return,c)}if(e===t){Se=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Se=l;break}Se=e.return}}var y1=Math.ceil,Za=_r.ReactCurrentDispatcher,xh=_r.ReactCurrentOwner,Cn=_r.ReactCurrentBatchConfig,We=0,Nt=null,_t=null,Dt=0,hn=0,Gs=Jr(0),Ct=0,xo=null,ws=0,bl=0,Ch=0,ro=null,Jt=null,Th=0,di=1/0,ir=null,Ja=!1,_c=null,zr=null,ca=!1,Rr=null,el=0,so=0,wc=null,Ea=-1,ba=0;function Yt(){return We&6?ft():Ea!==-1?Ea:Ea=ft()}function Wr(t){return t.mode&1?We&2&&Dt!==0?Dt&-Dt:t1.transition!==null?(ba===0&&(ba=cm()),ba):(t=qe,t!==0||(t=window.event,t=t===void 0?16:vm(t.type)),t):1}function Vn(t,e,n,r){if(50<so)throw so=0,wc=null,Error(he(185));Ao(t,n,r),(!(We&2)||t!==Nt)&&(t===Nt&&(!(We&2)&&(bl|=n),Ct===4&&Mr(t,Dt)),on(t,r),n===1&&We===0&&!(e.mode&1)&&(di=ft()+500,xl&&es()))}function on(t,e){var n=t.callbackNode;t0(t,e);var r=Fa(t,t===Nt?Dt:0);if(r===0)n!==null&&Vd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Vd(n),e===1)t.tag===0?e1(Pf.bind(null,t)):Lm(Pf.bind(null,t)),Q0(function(){!(We&6)&&es()}),n=null;else{switch(hm(r)){case 1:n=Xc;break;case 4:n=lm;break;case 16:n=La;break;case 536870912:n=um;break;default:n=La}n=Dg(n,bg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bg(t,e){if(Ea=-1,ba=0,We&6)throw Error(he(327));var n=t.callbackNode;if(ri()&&t.callbackNode!==n)return null;var r=Fa(t,t===Nt?Dt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=tl(t,r);else{e=r;var s=We;We|=2;var i=Og();(Nt!==t||Dt!==e)&&(ir=null,di=ft()+500,ps(t,e));do try{S1();break}catch(l){Ng(t,l)}while(!0);ch(),Za.current=i,We=s,_t!==null?e=0:(Nt=null,Dt=0,e=Ct)}if(e!==0){if(e===2&&(s=Hu(t),s!==0&&(r=s,e=Sc(t,s))),e===1)throw n=xo,ps(t,0),Mr(t,r),on(t,ft()),n;if(e===6)Mr(t,r);else{if(s=t.current.alternate,!(r&30)&&!_1(s)&&(e=tl(t,r),e===2&&(i=Hu(t),i!==0&&(r=i,e=Sc(t,i))),e===1))throw n=xo,ps(t,0),Mr(t,r),on(t,ft()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(he(345));case 2:os(t,Jt,ir);break;case 3:if(Mr(t,r),(r&130023424)===r&&(e=Th+500-ft(),10<e)){if(Fa(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Yt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=tc(os.bind(null,t,Jt,ir),e);break}os(t,Jt,ir);break;case 4:if(Mr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-jn(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*y1(r/1960))-r,10<r){t.timeoutHandle=tc(os.bind(null,t,Jt,ir),r);break}os(t,Jt,ir);break;case 5:os(t,Jt,ir);break;default:throw Error(he(329))}}}return on(t,ft()),t.callbackNode===n?bg.bind(null,t):null}function Sc(t,e){var n=ro;return t.current.memoizedState.isDehydrated&&(ps(t,e).flags|=256),t=tl(t,e),t!==2&&(e=Jt,Jt=n,e!==null&&kc(e)),t}function kc(t){Jt===null?Jt=t:Jt.push.apply(Jt,t)}function _1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Kn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mr(t,e){for(e&=~Ch,e&=~bl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-jn(e),r=1<<n;t[n]=-1,e&=~r}}function Pf(t){if(We&6)throw Error(he(327));ri();var e=Fa(t,0);if(!(e&1))return on(t,ft()),null;var n=tl(t,e);if(t.tag!==0&&n===2){var r=Hu(t);r!==0&&(e=r,n=Sc(t,r))}if(n===1)throw n=xo,ps(t,0),Mr(t,e),on(t,ft()),n;if(n===6)throw Error(he(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,os(t,Jt,ir),on(t,ft()),null}function Eh(t,e){var n=We;We|=1;try{return t(e)}finally{We=n,We===0&&(di=ft()+500,xl&&es())}}function Ss(t){Rr!==null&&Rr.tag===0&&!(We&6)&&ri();var e=We;We|=1;var n=Cn.transition,r=qe;try{if(Cn.transition=null,qe=1,t)return t()}finally{qe=r,Cn.transition=n,We=e,!(We&6)&&es()}}function bh(){hn=Gs.current,tt(Gs)}function ps(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Y0(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(ah(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&za();break;case 3:ci(),tt(rn),tt(zt),gh();break;case 5:mh(r);break;case 4:ci();break;case 13:tt(ot);break;case 19:tt(ot);break;case 10:hh(r.type._context);break;case 22:case 23:bh()}n=n.return}if(Nt=t,_t=t=Ur(t.current,null),Dt=hn=e,Ct=0,xo=null,Ch=bl=ws=0,Jt=ro=null,cs!==null){for(e=0;e<cs.length;e++)if(n=cs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}cs=null}return t}function Ng(t,e){do{var n=_t;try{if(ch(),xa.current=Xa,Qa){for(var r=at.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qa=!1}if(_s=0,bt=xt=at=null,to=!1,wo=0,xh.current=null,n===null||n.return===null){Ct=1,xo=e,_t=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=Dt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,f=l,v=f.tag;if(!(f.mode&1)&&(v===0||v===11||v===15)){var w=f.alternate;w?(f.updateQueue=w.updateQueue,f.memoizedState=w.memoizedState,f.lanes=w.lanes):(f.updateQueue=null,f.memoizedState=null)}var N=_f(a);if(N!==null){N.flags&=-257,wf(N,a,l,i,e),N.mode&1&&yf(i,h,e),e=N,c=h;var E=e.updateQueue;if(E===null){var A=new Set;A.add(c),e.updateQueue=A}else E.add(c);break e}else{if(!(e&1)){yf(i,h,e),Nh();break e}c=Error(he(426))}}else if(st&&l.mode&1){var b=_f(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),wf(b,a,l,i,e),lh(hi(c,l));break e}}i=c=hi(c,l),Ct!==4&&(Ct=2),ro===null?ro=[i]:ro.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=hg(i,c,e);df(i,y);break e;case 1:l=c;var T=i.type,O=i.stateNode;if(!(i.flags&128)&&(typeof T.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(zr===null||!zr.has(O)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=dg(i,l,e);df(i,D);break e}}i=i.return}while(i!==null)}Ig(n)}catch(P){e=P,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(!0)}function Og(){var t=Za.current;return Za.current=Xa,t===null?Xa:t}function Nh(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Nt===null||!(ws&268435455)&&!(bl&268435455)||Mr(Nt,Dt)}function tl(t,e){var n=We;We|=2;var r=Og();(Nt!==t||Dt!==e)&&(ir=null,ps(t,e));do try{w1();break}catch(s){Ng(t,s)}while(!0);if(ch(),We=n,Za.current=r,_t!==null)throw Error(he(261));return Nt=null,Dt=0,Ct}function w1(){for(;_t!==null;)Ag(_t)}function S1(){for(;_t!==null&&!qy();)Ag(_t)}function Ag(t){var e=Mg(t.alternate,t,hn);t.memoizedProps=t.pendingProps,e===null?Ig(t):_t=e,xh.current=null}function Ig(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=p1(n,e),n!==null){n.flags&=32767,_t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ct=6,_t=null;return}}else if(n=f1(n,e,hn),n!==null){_t=n;return}if(e=e.sibling,e!==null){_t=e;return}_t=e=t}while(e!==null);Ct===0&&(Ct=5)}function os(t,e,n){var r=qe,s=Cn.transition;try{Cn.transition=null,qe=1,k1(t,e,n,r)}finally{Cn.transition=s,qe=r}return null}function k1(t,e,n,r){do ri();while(Rr!==null);if(We&6)throw Error(he(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(he(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(n0(t,i),t===Nt&&(_t=Nt=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ca||(ca=!0,Dg(La,function(){return ri(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Cn.transition,Cn.transition=null;var a=qe;qe=1;var l=We;We|=4,xh.current=null,g1(t,n),Tg(n,t),z0(Ju),ja=!!Zu,Ju=Zu=null,t.current=n,v1(n),Hy(),We=l,qe=a,Cn.transition=i}else t.current=n;if(ca&&(ca=!1,Rr=t,el=s),i=t.pendingLanes,i===0&&(zr=null),Qy(n.stateNode),on(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ja)throw Ja=!1,t=_c,_c=null,t;return el&1&&t.tag!==0&&ri(),i=t.pendingLanes,i&1?t===wc?so++:(so=0,wc=t):so=0,es(),null}function ri(){if(Rr!==null){var t=hm(el),e=Cn.transition,n=qe;try{if(Cn.transition=null,qe=16>t?16:t,Rr===null)var r=!1;else{if(t=Rr,Rr=null,el=0,We&6)throw Error(he(331));var s=We;for(We|=4,Se=t.current;Se!==null;){var i=Se,a=i.child;if(Se.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(Se=h;Se!==null;){var f=Se;switch(f.tag){case 0:case 11:case 15:no(8,f,i)}var v=f.child;if(v!==null)v.return=f,Se=v;else for(;Se!==null;){f=Se;var w=f.sibling,N=f.return;if(kg(f),f===h){Se=null;break}if(w!==null){w.return=N,Se=w;break}Se=N}}}var E=i.alternate;if(E!==null){var A=E.child;if(A!==null){E.child=null;do{var b=A.sibling;A.sibling=null,A=b}while(A!==null)}}Se=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Se=a;else e:for(;Se!==null;){if(i=Se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:no(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Se=y;break e}Se=i.return}}var T=t.current;for(Se=T;Se!==null;){a=Se;var O=a.child;if(a.subtreeFlags&2064&&O!==null)O.return=a,Se=O;else e:for(a=T;Se!==null;){if(l=Se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:El(9,l)}}catch(P){ct(l,l.return,P)}if(l===a){Se=null;break e}var D=l.sibling;if(D!==null){D.return=l.return,Se=D;break e}Se=l.return}}if(We=s,es(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(yl,t)}catch{}r=!0}return r}finally{qe=n,Cn.transition=e}}return!1}function Mf(t,e,n){e=hi(n,e),e=hg(t,e,1),t=Kr(t,e,1),e=Yt(),t!==null&&(Ao(t,1,e),on(t,e))}function ct(t,e,n){if(t.tag===3)Mf(t,t,n);else for(;e!==null;){if(e.tag===3){Mf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zr===null||!zr.has(r))){t=hi(n,t),t=dg(e,t,1),e=Kr(e,t,1),t=Yt(),e!==null&&(Ao(e,1,t),on(e,t));break}}e=e.return}}function x1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yt(),t.pingedLanes|=t.suspendedLanes&n,Nt===t&&(Dt&n)===n&&(Ct===4||Ct===3&&(Dt&130023424)===Dt&&500>ft()-Th?ps(t,0):Ch|=n),on(t,e)}function Pg(t,e){e===0&&(t.mode&1?(e=ea,ea<<=1,!(ea&130023424)&&(ea=4194304)):e=1);var n=Yt();t=gr(t,e),t!==null&&(Ao(t,e,n),on(t,n))}function C1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Pg(t,n)}function T1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(e),Pg(t,n)}var Mg;Mg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rn.current)nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nn=!1,d1(t,e,n);nn=!!(t.flags&131072)}else nn=!1,st&&e.flags&1048576&&Fm(e,$a,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ta(t,e),t=e.pendingProps;var s=ai(e,zt.current);ni(e,n),s=yh(null,e,r,t,s,n);var i=_h();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sn(r)?(i=!0,Wa(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,fh(e),s.updater=Tl,e.stateNode=s,s._reactInternals=e,lc(e,r,t,n),e=hc(null,e,r,!0,i,n)):(e.tag=0,st&&i&&oh(e),$t(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ta(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=b1(r),t=Mn(r,t),s){case 0:e=cc(null,e,r,t,n);break e;case 1:e=xf(null,e,r,t,n);break e;case 11:e=Sf(null,e,r,t,n);break e;case 14:e=kf(null,e,r,Mn(r.type,t),n);break e}throw Error(he(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mn(r,s),cc(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mn(r,s),xf(t,e,r,s,n);case 3:e:{if(gg(e),t===null)throw Error(he(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Wm(t,e),Ga(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=hi(Error(he(423)),e),e=Cf(t,e,r,n,s);break e}else if(r!==s){s=hi(Error(he(424)),e),e=Cf(t,e,r,n,s);break e}else for(fn=Br(e.stateNode.containerInfo.firstChild),pn=e,st=!0,Rn=null,n=Km(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(li(),r===s){e=vr(t,e,n);break e}$t(t,e,r,n)}e=e.child}return e;case 5:return Um(e),t===null&&ic(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,ec(r,s)?a=null:i!==null&&ec(r,i)&&(e.flags|=32),mg(t,e),$t(t,e,a,n),e.child;case 6:return t===null&&ic(e),null;case 13:return vg(t,e,n);case 4:return ph(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ui(e,null,r,n):$t(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mn(r,s),Sf(t,e,r,s,n);case 7:return $t(t,e,e.pendingProps,n),e.child;case 8:return $t(t,e,e.pendingProps.children,n),e.child;case 12:return $t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Xe(qa,r._currentValue),r._currentValue=a,i!==null)if(Kn(i.value,a)){if(i.children===s.children&&!rn.current){e=vr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=dr(-1,n&-n),c.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?c.next=c:(c.next=f.next,f.next=c),h.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),oc(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(he(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),oc(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}$t(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ni(e,n),s=bn(s),r=r(s),e.flags|=1,$t(t,e,r,n),e.child;case 14:return r=e.type,s=Mn(r,e.pendingProps),s=Mn(r.type,s),kf(t,e,r,s,n);case 15:return fg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mn(r,s),Ta(t,e),e.tag=1,sn(r)?(t=!0,Wa(e)):t=!1,ni(e,n),cg(e,r,s),lc(e,r,s,n),hc(null,e,r,!0,t,n);case 19:return yg(t,e,n);case 22:return pg(t,e,n)}throw Error(he(156,e.tag))};function Dg(t,e){return am(t,e)}function E1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,e,n,r){return new E1(t,e,n,r)}function Oh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function b1(t){if(typeof t=="function")return Oh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gc)return 11;if(t===Yc)return 14}return 2}function Ur(t,e){var n=t.alternate;return n===null?(n=kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Na(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Oh(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case js:return ms(n.children,s,i,e);case Hc:a=8,s|=8;break;case Pu:return t=kn(12,n,e,s|2),t.elementType=Pu,t.lanes=i,t;case Mu:return t=kn(13,n,e,s),t.elementType=Mu,t.lanes=i,t;case Du:return t=kn(19,n,e,s),t.elementType=Du,t.lanes=i,t;case Up:return Nl(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zp:a=10;break e;case Wp:a=9;break e;case Gc:a=11;break e;case Yc:a=14;break e;case Or:a=16,r=null;break e}throw Error(he(130,t==null?t:typeof t,""))}return e=kn(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ms(t,e,n,r){return t=kn(7,t,r,e),t.lanes=n,t}function Nl(t,e,n,r){return t=kn(22,t,r,e),t.elementType=Up,t.lanes=n,t.stateNode={isHidden:!1},t}function ku(t,e,n){return t=kn(6,t,null,e),t.lanes=n,t}function xu(t,e,n){return e=kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function N1(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ru(0),this.expirationTimes=ru(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ru(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ah(t,e,n,r,s,i,a,l,c){return t=new N1(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=kn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fh(i),t}function O1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Rg(t){if(!t)return Gr;t=t._reactInternals;e:{if(Es(t)!==t||t.tag!==1)throw Error(he(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(he(171))}if(t.tag===1){var n=t.type;if(sn(n))return Rm(t,n,e)}return e}function Lg(t,e,n,r,s,i,a,l,c){return t=Ah(n,r,!0,t,s,i,a,l,c),t.context=Rg(null),n=t.current,r=Yt(),s=Wr(n),i=dr(r,s),i.callback=e??null,Kr(n,i,s),t.current.lanes=s,Ao(t,s,r),on(t,r),t}function Ol(t,e,n,r){var s=e.current,i=Yt(),a=Wr(s);return n=Rg(n),e.context===null?e.context=n:e.pendingContext=n,e=dr(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Kr(s,e,a),t!==null&&(Vn(t,s,a,i),ka(t,s,a)),a}function nl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Df(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ih(t,e){Df(t,e),(t=t.alternate)&&Df(t,e)}function A1(){return null}var Fg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ph(t){this._internalRoot=t}Al.prototype.render=Ph.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(he(409));Ol(t,e,null,null)};Al.prototype.unmount=Ph.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ss(function(){Ol(null,t,null,null)}),e[mr]=null}};function Al(t){this._internalRoot=t}Al.prototype.unstable_scheduleHydration=function(t){if(t){var e=pm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pr.length&&e!==0&&e<Pr[n].priority;n++);Pr.splice(n,0,t),n===0&&gm(t)}};function Mh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Il(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rf(){}function I1(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var h=nl(a);i.call(h)}}var a=Lg(e,r,t,0,null,!1,!1,"",Rf);return t._reactRootContainer=a,t[mr]=a.current,mo(t.nodeType===8?t.parentNode:t),Ss(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var h=nl(c);l.call(h)}}var c=Ah(t,0,!1,null,null,!1,!1,"",Rf);return t._reactRootContainer=c,t[mr]=c.current,mo(t.nodeType===8?t.parentNode:t),Ss(function(){Ol(e,c,n,r)}),c}function Pl(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=nl(a);l.call(c)}}Ol(e,a,t,s)}else a=I1(n,e,t,s,r);return nl(a)}dm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Hi(e.pendingLanes);n!==0&&(Zc(e,n|1),on(e,ft()),!(We&6)&&(di=ft()+500,es()))}break;case 13:Ss(function(){var r=gr(t,1);if(r!==null){var s=Yt();Vn(r,t,1,s)}}),Ih(t,1)}};Jc=function(t){if(t.tag===13){var e=gr(t,134217728);if(e!==null){var n=Yt();Vn(e,t,134217728,n)}Ih(t,134217728)}};fm=function(t){if(t.tag===13){var e=Wr(t),n=gr(t,e);if(n!==null){var r=Yt();Vn(n,t,e,r)}Ih(t,e)}};pm=function(){return qe};mm=function(t,e){var n=qe;try{return qe=t,e()}finally{qe=n}};Uu=function(t,e,n){switch(e){case"input":if(Fu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=kl(r);if(!s)throw Error(he(90));qp(r),Fu(r,s)}}}break;case"textarea":Gp(t,n);break;case"select":e=n.value,e!=null&&Zs(t,!!n.multiple,e,!1)}};tm=Eh;nm=Ss;var P1={usingClientEntryPoint:!1,Events:[Po,zs,kl,Jp,em,Eh]},zi={findFiberByHostInstance:us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M1={bundleType:zi.bundleType,version:zi.version,rendererPackageName:zi.rendererPackageName,rendererConfig:zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=im(t),t===null?null:t.stateNode},findFiberByHostInstance:zi.findFiberByHostInstance||A1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ha=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ha.isDisabled&&ha.supportsFiber)try{yl=ha.inject(M1),Qn=ha}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P1;vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mh(e))throw Error(he(200));return O1(t,e,null,n)};vn.createRoot=function(t,e){if(!Mh(t))throw Error(he(299));var n=!1,r="",s=Fg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ah(t,1,!1,null,null,n,!1,r,s),t[mr]=e.current,mo(t.nodeType===8?t.parentNode:t),new Ph(e)};vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(he(188)):(t=Object.keys(t).join(","),Error(he(268,t)));return t=im(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t){return Ss(t)};vn.hydrate=function(t,e,n){if(!Il(e))throw Error(he(200));return Pl(null,t,e,!0,n)};vn.hydrateRoot=function(t,e,n){if(!Mh(t))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Fg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Lg(e,null,t,1,n??null,s,!1,i,a),t[mr]=e.current,mo(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Al(e)};vn.render=function(t,e,n){if(!Il(e))throw Error(he(200));return Pl(null,t,e,!1,n)};vn.unmountComponentAtNode=function(t){if(!Il(t))throw Error(he(40));return t._reactRootContainer?(Ss(function(){Pl(null,null,t,!1,function(){t._reactRootContainer=null,t[mr]=null})}),!0):!1};vn.unstable_batchedUpdates=Eh;vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Il(n))throw Error(he(200));if(t==null||t._reactInternals===void 0)throw Error(he(38));return Pl(t,e,n,!1,r)};vn.version="18.3.1-next-f1338f8080-20240426";function jg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jg)}catch(t){console.error(t)}}jg(),jp.exports=vn;var D1=jp.exports,Vg,Lf=D1;Vg=Lf.createRoot,Lf.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Co(){return Co=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Co.apply(this,arguments)}var Lr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Lr||(Lr={}));const Ff="popstate";function R1(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return xc("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:rl(s)}return F1(e,n,null,t)}function pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L1(){return Math.random().toString(36).substr(2,8)}function jf(t,e){return{usr:t.state,key:t.key,idx:e}}function xc(t,e,n,r){return n===void 0&&(n=null),Co({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ci(e):e,{state:n,key:e&&e.key||r||L1()})}function rl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ci(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function F1(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Lr.Pop,c=null,h=f();h==null&&(h=0,a.replaceState(Co({},a.state,{idx:h}),""));function f(){return(a.state||{idx:null}).idx}function v(){l=Lr.Pop;let b=f(),y=b==null?null:b-h;h=b,c&&c({action:l,location:A.location,delta:y})}function w(b,y){l=Lr.Push;let T=xc(A.location,b,y);h=f()+1;let O=jf(T,h),D=A.createHref(T);try{a.pushState(O,"",D)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(D)}i&&c&&c({action:l,location:A.location,delta:1})}function N(b,y){l=Lr.Replace;let T=xc(A.location,b,y);h=f();let O=jf(T,h),D=A.createHref(T);a.replaceState(O,"",D),i&&c&&c({action:l,location:A.location,delta:0})}function E(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,T=typeof b=="string"?b:rl(b);return T=T.replace(/ $/,"%20"),pt(y,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,y)}let A={get action(){return l},get location(){return t(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ff,v),c=b,()=>{s.removeEventListener(Ff,v),c=null}},createHref(b){return e(s,b)},createURL:E,encodeLocation(b){let y=E(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:w,replace:N,go(b){return a.go(b)}};return A}var Vf;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Vf||(Vf={}));function j1(t,e,n){return n===void 0&&(n="/"),V1(t,e,n,!1)}function V1(t,e,n,r){let s=typeof e=="string"?Ci(e):e,i=Dh(s.pathname||"/",n);if(i==null)return null;let a=Kg(t);B1(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let h=X1(i);l=Y1(a[c],h,r)}return l}function Kg(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(pt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=$r([r,c.relativePath]),f=n.concat(c);i.children&&i.children.length>0&&(pt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Kg(i.children,e,f,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:H1(h,i.index),routesMeta:f})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of zg(i.path))s(i,a,c)}),e}function zg(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=zg(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function B1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:G1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const K1=/^:[\w-]+$/,z1=3,W1=2,U1=1,$1=10,q1=-2,Bf=t=>t==="*";function H1(t,e){let n=t.split("/"),r=n.length;return n.some(Bf)&&(r+=q1),e&&(r+=W1),n.filter(s=>!Bf(s)).reduce((s,i)=>s+(K1.test(i)?z1:i===""?U1:$1),r)}function G1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Y1(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],h=l===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",v=Kf({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},f),w=c.route;if(!v&&h&&n&&!r[r.length-1].route.index&&(v=Kf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!v)return null;Object.assign(s,v.params),a.push({params:s,pathname:$r([i,v.pathname]),pathnameBase:t_($r([i,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(i=$r([i,v.pathnameBase]))}return a}function Kf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Q1(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((h,f,v)=>{let{paramName:w,isOptional:N}=f;if(w==="*"){let A=l[v]||"";a=i.slice(0,i.length-A.length).replace(/(.)\/+$/,"$1")}const E=l[v];return N&&!E?h[w]=void 0:h[w]=(E||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:a,pattern:t}}function Q1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Bg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function X1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Dh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Z1(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ci(t):t;return{pathname:n?n.startsWith("/")?n:J1(n,e):e,search:n_(r),hash:r_(s)}}function J1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Cu(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function e_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Rh(t,e){let n=e_(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Lh(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ci(t):(s=Co({},t),pt(!s.pathname||!s.pathname.includes("?"),Cu("?","pathname","search",s)),pt(!s.pathname||!s.pathname.includes("#"),Cu("#","pathname","hash",s)),pt(!s.search||!s.search.includes("#"),Cu("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let v=e.length-1;if(!r&&a.startsWith("..")){let w=a.split("/");for(;w[0]==="..";)w.shift(),v-=1;s.pathname=w.join("/")}l=v>=0?e[v]:"/"}let c=Z1(s,l),h=a&&a!=="/"&&a.endsWith("/"),f=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||f)&&(c.pathname+="/"),c}const $r=t=>t.join("/").replace(/\/\/+/g,"/"),t_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),n_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,r_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function s_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Wg=["post","put","patch","delete"];new Set(Wg);const i_=["get",...Wg];new Set(i_);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function To(){return To=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},To.apply(this,arguments)}const Fh=ee.createContext(null),o_=ee.createContext(null),ts=ee.createContext(null),Ml=ee.createContext(null),wr=ee.createContext({outlet:null,matches:[],isDataRoute:!1}),Ug=ee.createContext(null);function a_(t,e){let{relative:n}=e===void 0?{}:e;Ti()||pt(!1);let{basename:r,navigator:s}=ee.useContext(ts),{hash:i,pathname:a,search:l}=qg(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:$r([r,a])),s.createHref({pathname:c,search:l,hash:i})}function Ti(){return ee.useContext(Ml)!=null}function Do(){return Ti()||pt(!1),ee.useContext(Ml).location}function $g(t){ee.useContext(ts).static||ee.useLayoutEffect(t)}function jh(){let{isDataRoute:t}=ee.useContext(wr);return t?S_():l_()}function l_(){Ti()||pt(!1);let t=ee.useContext(Fh),{basename:e,future:n,navigator:r}=ee.useContext(ts),{matches:s}=ee.useContext(wr),{pathname:i}=Do(),a=JSON.stringify(Rh(s,n.v7_relativeSplatPath)),l=ee.useRef(!1);return $g(()=>{l.current=!0}),ee.useCallback(function(h,f){if(f===void 0&&(f={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let v=Lh(h,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:$r([e,v.pathname])),(f.replace?r.replace:r.push)(v,f.state,f)},[e,r,a,i,t])}function u_(){let{matches:t}=ee.useContext(wr),e=t[t.length-1];return e?e.params:{}}function qg(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=ee.useContext(ts),{matches:s}=ee.useContext(wr),{pathname:i}=Do(),a=JSON.stringify(Rh(s,r.v7_relativeSplatPath));return ee.useMemo(()=>Lh(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function c_(t,e){return h_(t,e)}function h_(t,e,n,r){Ti()||pt(!1);let{navigator:s}=ee.useContext(ts),{matches:i}=ee.useContext(wr),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let h=Do(),f;if(e){var v;let b=typeof e=="string"?Ci(e):e;c==="/"||(v=b.pathname)!=null&&v.startsWith(c)||pt(!1),f=b}else f=h;let w=f.pathname||"/",N=w;if(c!=="/"){let b=c.replace(/^\//,"").split("/");N="/"+w.replace(/^\//,"").split("/").slice(b.length).join("/")}let E=j1(t,{pathname:N}),A=g_(E&&E.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:$r([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:$r([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&A?ee.createElement(Ml.Provider,{value:{location:To({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Lr.Pop}},A):A}function d_(){let t=w_(),e=s_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),n?ee.createElement("pre",{style:s},n):null,null)}const f_=ee.createElement(d_,null);class p_ extends ee.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?ee.createElement(wr.Provider,{value:this.props.routeContext},ee.createElement(Ug.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function m_(t){let{routeContext:e,match:n,children:r}=t,s=ee.useContext(Fh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),ee.createElement(wr.Provider,{value:e},r)}function g_(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let f=a.findIndex(v=>v.route.id&&(l==null?void 0:l[v.route.id])!==void 0);f>=0||pt(!1),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let v=a[f];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=f),v.route.id){let{loaderData:w,errors:N}=n,E=v.route.loader&&w[v.route.id]===void 0&&(!N||N[v.route.id]===void 0);if(v.route.lazy||E){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,v,w)=>{let N,E=!1,A=null,b=null;n&&(N=l&&v.route.id?l[v.route.id]:void 0,A=v.route.errorElement||f_,c&&(h<0&&w===0?(E=!0,b=null):h===w&&(E=!0,b=v.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,w+1)),T=()=>{let O;return N?O=A:E?O=b:v.route.Component?O=ee.createElement(v.route.Component,null):v.route.element?O=v.route.element:O=f,ee.createElement(m_,{match:v,routeContext:{outlet:f,matches:y,isDataRoute:n!=null},children:O})};return n&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?ee.createElement(p_,{location:n.location,revalidation:n.revalidation,component:A,error:N,children:T(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):T()},null)}var Hg=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Hg||{}),sl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(sl||{});function v_(t){let e=ee.useContext(Fh);return e||pt(!1),e}function y_(t){let e=ee.useContext(o_);return e||pt(!1),e}function __(t){let e=ee.useContext(wr);return e||pt(!1),e}function Gg(t){let e=__(),n=e.matches[e.matches.length-1];return n.route.id||pt(!1),n.route.id}function w_(){var t;let e=ee.useContext(Ug),n=y_(sl.UseRouteError),r=Gg(sl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function S_(){let{router:t}=v_(Hg.UseNavigateStable),e=Gg(sl.UseNavigateStable),n=ee.useRef(!1);return $g(()=>{n.current=!0}),ee.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,To({fromRouteId:e},i)))},[t,e])}const zf={};function k_(t,e){zf[e]||(zf[e]=!0,console.warn(e))}const Wf=(t,e,n)=>k_(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function x_(t,e){t!=null&&t.v7_startTransition||Wf("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Wf("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Uf(t){let{to:e,replace:n,state:r,relative:s}=t;Ti()||pt(!1);let{future:i,static:a}=ee.useContext(ts),{matches:l}=ee.useContext(wr),{pathname:c}=Do(),h=jh(),f=Lh(e,Rh(l,i.v7_relativeSplatPath),c,s==="path"),v=JSON.stringify(f);return ee.useEffect(()=>h(JSON.parse(v),{replace:n,state:r,relative:s}),[h,v,s,n,r]),null}function Oa(t){pt(!1)}function C_(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Lr.Pop,navigator:i,static:a=!1,future:l}=t;Ti()&&pt(!1);let c=e.replace(/^\/*/,"/"),h=ee.useMemo(()=>({basename:c,navigator:i,static:a,future:To({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Ci(r));let{pathname:f="/",search:v="",hash:w="",state:N=null,key:E="default"}=r,A=ee.useMemo(()=>{let b=Dh(f,c);return b==null?null:{location:{pathname:b,search:v,hash:w,state:N,key:E},navigationType:s}},[c,f,v,w,N,E,s]);return A==null?null:ee.createElement(ts.Provider,{value:h},ee.createElement(Ml.Provider,{children:n,value:A}))}function T_(t){let{children:e,location:n}=t;return c_(Cc(e),n)}new Promise(()=>{});function Cc(t,e){e===void 0&&(e=[]);let n=[];return ee.Children.forEach(t,(r,s)=>{if(!ee.isValidElement(r))return;let i=[...e,s];if(r.type===ee.Fragment){n.push.apply(n,Cc(r.props.children,i));return}r.type!==Oa&&pt(!1),!r.props.index||!r.props.children||pt(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Cc(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tc.apply(this,arguments)}function E_(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function b_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function N_(t,e){return t.button===0&&(!e||e==="_self")&&!b_(t)}const O_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],A_="6";try{window.__reactRouterVersion=A_}catch{}const I_="startTransition",$f=xy[I_];function P_(t){let{basename:e,children:n,future:r,window:s}=t,i=ee.useRef();i.current==null&&(i.current=R1({window:s,v5Compat:!0}));let a=i.current,[l,c]=ee.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},f=ee.useCallback(v=>{h&&$f?$f(()=>c(v)):c(v)},[c,h]);return ee.useLayoutEffect(()=>a.listen(f),[a,f]),ee.useEffect(()=>x_(r),[r]),ee.createElement(C_,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const M_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",D_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tu=ee.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:h,preventScrollReset:f,viewTransition:v}=e,w=E_(e,O_),{basename:N}=ee.useContext(ts),E,A=!1;if(typeof h=="string"&&D_.test(h)&&(E=h,M_))try{let O=new URL(window.location.href),D=h.startsWith("//")?new URL(O.protocol+h):new URL(h),P=Dh(D.pathname,N);D.origin===O.origin&&P!=null?h=P+D.search+D.hash:A=!0}catch{}let b=a_(h,{relative:s}),y=R_(h,{replace:a,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:v});function T(O){r&&r(O),O.defaultPrevented||y(O)}return ee.createElement("a",Tc({},w,{href:E||b,onClick:A||i?r:T,ref:n,target:c}))});var qf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(qf||(qf={}));var Hf;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Hf||(Hf={}));function R_(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=jh(),h=Do(),f=qg(t,{relative:a});return ee.useCallback(v=>{if(N_(v,n)){v.preventDefault();let w=r!==void 0?r:rl(h)===rl(f);c(t,{replace:w,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[h,c,f,r,s,n,t,i,a,l])}const Ec={0:"white",1:"rgb(130, 0, 0)",2:"red",3:"#007000",4:"#00fb47",5:"#9500b3",6:"#ea7eff",7:"rgb(120, 120, 120)",8:"rgb(0, 0, 255)",9:"#03b9d5",10:"#ff7328",11:"#ff0"},Vh=(t,e)=>{if(e==="traditional"){const r={};for(let s=0;s<12;s++)r[s]=[1,3,6,8,10].includes(s)?"#222222":"white";return r}const n={};for(let r=0;r<12;r++)n[r]=Ec[(r-t+12)%12];return n},Gf=50,L_=({notes:t,tonic:e,colorMode:n,fallingNoteWidth:r,referencePoints:s})=>{const[i,a]=ee.useState(Date.now()),l=Vh(e,n),c=f=>{const{c1:v,c2:w}=s;return v.left+(f-v.note)*(w.left-v.left)/(w.note-v.note)},h=()=>{const f=[];for(let N=0;N<=8;N++){const E=N*12+e+12,A=c(E);if(!isNaN(A)&&isFinite(A)&&f.push(ne.jsx("div",{style:{position:"absolute",left:A,top:0,width:"0.5px",height:"100%",backgroundColor:Ec[0],pointerEvents:"none"}},`tonic-line-${N}`)),N<8){const b=N*12+(e+7)%12+12,y=c(b);!isNaN(y)&&isFinite(y)&&f.push(ne.jsx("div",{style:{position:"absolute",left:y,top:0,width:"0.5px",height:"100%",backgroundColor:Ec[7],pointerEvents:"none"}},`fifth-line-${N}`))}}return f};return ee.useEffect(()=>{let f;const v=()=>{a(Date.now()),f=requestAnimationFrame(v)};return f=requestAnimationFrame(v),()=>cancelAnimationFrame(f)},[]),ne.jsxs("div",{style:{position:"absolute",top:as,left:0,right:0,bottom:-2e3,overflow:"hidden"},children:[h(),t.map(f=>{const v=!f.endTime,w=f.endTime?(i-f.endTime)/1e3:0,N=v?0:w*Gf,A=(v?i-f.startTime:f.endTime-f.startTime)*(Gf/1e3),b=f.note+f.octave*12,y=c(b),T=n==="traditional"?"white":l[f.note];return ne.jsx("div",{style:{position:"absolute",left:y,top:N,width:r,height:A,backgroundColor:T,borderTopLeftRadius:v?"0px":"10px",borderTopRightRadius:v?"0px":"10px",willChange:"transform, height"}},f.id)})]})},F_={KeyZ:{note:0,octave:2},KeyS:{note:1,octave:2},KeyX:{note:2,octave:2},KeyD:{note:3,octave:2},KeyC:{note:4,octave:2},KeyV:{note:5,octave:2},KeyG:{note:6,octave:2},KeyB:{note:7,octave:2},KeyH:{note:8,octave:2},KeyN:{note:9,octave:2},KeyJ:{note:10,octave:2},KeyM:{note:11,octave:2},Comma:{note:0,octave:3},KeyL:{note:1,octave:3},Period:{note:2,octave:3},Semicolon:{note:3,octave:3},Slash:{note:4,octave:3},KeyQ:{note:5,octave:3},Digit2:{note:6,octave:3},KeyW:{note:7,octave:3},Digit3:{note:8,octave:3},KeyE:{note:9,octave:3},Digit4:{note:10,octave:3},KeyR:{note:11,octave:3},KeyT:{note:0,octave:4},Digit6:{note:1,octave:4},KeyY:{note:2,octave:4},Digit7:{note:3,octave:4},KeyU:{note:4,octave:4},KeyI:{note:5,octave:4},Digit9:{note:6,octave:4},KeyO:{note:7,octave:4},Digit0:{note:8,octave:4},KeyP:{note:9,octave:4},Minus:{note:10,octave:4},BracketLeft:{note:11,octave:4},BracketRight:{note:0,octave:5}},j_={KeyZ:{note:0,octave:2},KeyX:{note:1,octave:2},KeyC:{note:2,octave:2},KeyV:{note:3,octave:2},KeyB:{note:4,octave:2},KeyN:{note:5,octave:2},KeyM:{note:6,octave:2},Comma:{note:7,octave:2},Period:{note:8,octave:2},Slash:{note:9,octave:2},KeyA:{note:10,octave:2},KeyS:{note:11,octave:2},KeyD:{note:0,octave:3},KeyF:{note:1,octave:3},KeyG:{note:2,octave:3},KeyH:{note:3,octave:3},KeyJ:{note:4,octave:3},KeyK:{note:5,octave:3},KeyL:{note:6,octave:3},Semicolon:{note:7,octave:3},Quote:{note:8,octave:3},KeyQ:{note:9,octave:3},KeyW:{note:10,octave:3},KeyE:{note:11,octave:3},KeyR:{note:0,octave:4},KeyT:{note:1,octave:4},KeyY:{note:2,octave:4},KeyU:{note:3,octave:4},KeyI:{note:4,octave:4},KeyO:{note:5,octave:4},KeyP:{note:6,octave:4},BracketLeft:{note:7,octave:4},BracketRight:{note:8,octave:4},Digit1:{note:9,octave:4},Digit2:{note:10,octave:4},Digit3:{note:11,octave:4},Digit4:{note:0,octave:5},Digit5:{note:1,octave:5},Digit6:{note:2,octave:5},Digit7:{note:3,octave:5},Digit8:{note:4,octave:5},Digit9:{note:5,octave:5},Digit0:{note:6,octave:5},Minus:{note:7,octave:5},Equal:{note:8,octave:5}},Eu=(t,e)=>e||(t==="flat-chromatic"?j_:F_),bc={KeyZ:"z",KeyX:"x",KeyC:"c",KeyV:"v",KeyB:"b",KeyN:"n",KeyM:"m",Comma:",",Period:".",Slash:"/",KeyA:"a",KeyS:"s",KeyD:"d",KeyF:"f",KeyG:"g",KeyH:"h",KeyJ:"j",KeyK:"k",KeyL:"l",Semicolon:";",Quote:"'",KeyQ:"q",KeyW:"w",KeyE:"e",KeyR:"r",KeyT:"t",KeyY:"y",KeyU:"u",KeyI:"i",KeyO:"o",KeyP:"p",BracketLeft:"[",BracketRight:"]",Digit1:"1",Digit2:"2",Digit3:"3",Digit4:"4",Digit5:"5",Digit6:"6",Digit7:"7",Digit8:"8",Digit9:"9",Digit0:"0",Minus:"-",Equal:"="},Nc={single:{label:"1",getNotes:(t,e)=>[{note:t,octave:e}]},fifth:{label:"5",getNotes:(t,e)=>[{note:t,octave:e},{note:(t+7)%12,octave:t+7>=12?e+1:e}]},major:{label:"M",getNotes:(t,e)=>[{note:t,octave:e},{note:(t+4)%12,octave:t+4>=12?e+1:e},{note:(t+7)%12,octave:t+7>=12?e+1:e}]},diatonic:{label:"d",getNotes:(t,e,n="major")=>{const r=n==="major"?[0,2,4,5,7,9,11]:[0,2,3,5,7,8,10],s=r.findIndex(l=>t%12===l);if(s===-1)return[{note:t,octave:e}];const i=l=>{const c=l%7;return r[c]};return[s,(s+2)%7,(s+4)%7].map(l=>{const h=i(l)-t,f=h<0?h+12:h;return{note:(t+f)%12,octave:t+f>=12?e+1:e}})}}},V_=({tonic:t,onTonicChange:e})=>{const[n,r]=ee.useState(!1),s=ee.useRef(null),[i,a]=ee.useState(null),l=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return ee.useEffect(()=>{const c=h=>{s.current&&!s.current.contains(h.target)&&r(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]),ne.jsxs("div",{ref:s,style:{position:"relative",cursor:"pointer"},onClick:()=>r(!n),children:[ne.jsx("div",{style:{fontSize:"16px",fontWeight:"bold"},children:l[t]}),n&&ne.jsxs("div",{style:{position:"absolute",top:"100%",left:"0",transform:"none",display:"flex",flexDirection:"column",gap:"8px",padding:"8px",background:"rgba(0, 0, 0, 0.8)",borderRadius:"4px",marginTop:"4px",zIndex:10,minWidth:"200px"},children:[ne.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gap:"4px"},children:l.map((c,h)=>ne.jsx("div",{onClick:f=>{f.stopPropagation(),e(h),r(!1)},onMouseEnter:()=>a(h),onMouseLeave:()=>a(null),style:{padding:"4px 8px",cursor:"pointer",background:t===h||i===h?"rgba(255, 255, 255, 0.15)":"none",border:t===h?"1px solid rgba(255, 255, 255, 0.8)":"1px solid transparent",borderRadius:"4px",fontSize:"14px",textAlign:"center",fontWeight:t===h?"bold":"normal",transition:"all 0.1s ease-in-out"},children:c},c))}),ne.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)",textAlign:"center",borderTop:"1px solid rgba(255, 255, 255, 0.2)",paddingTop:"8px"},children:"Press Ctrl + key to change tonic"})]})]})},B_=({colorMode:t,onColorModeChange:e})=>{const n={traditional:"chromatic",chromatic:"flat-chromatic","flat-chromatic":"traditional"};return ne.jsx("div",{onClick:()=>e(n[t]),style:{width:"80px",height:"20px",backgroundColor:t==="traditional"?"rgba(255, 255, 255, 0.2)":"#4CAF50",borderRadius:"10px",position:"relative",cursor:"pointer",transition:"background-color 1s ease-in-out"},children:ne.jsx("div",{style:{width:"18px",height:"18px",backgroundColor:"white",borderRadius:"50%",position:"absolute",top:"1px",left:t==="traditional"?"1px":t==="chromatic"?"31px":"61px",transition:"left 1s ease-in-out",display:"flex",alignItems:"center",justifyContent:"center"},children:t!=="traditional"&&ne.jsx("span",{role:"img","aria-label":"rainbow",style:{fontSize:"12px",userSelect:"none"},children:""})})})},K_=({currentVoicing:t,onVoicingChange:e})=>ne.jsx("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:Object.entries(Nc).map(([n,r])=>ne.jsx("span",{onClick:()=>e(n),style:{cursor:"pointer",opacity:n===t?1:.6,fontWeight:n===t?"bold":"normal",transition:"all 0.2s"},children:r.label},n))}),z_=({tonic:t,onTonicChange:e,colorMode:n,onColorModeChange:r,currentVoicing:s,onVoicingChange:i})=>ne.jsxs("div",{style:{position:"absolute",top:-30,left:0,display:"flex",alignItems:"center",gap:"40px",color:"white"},children:[ne.jsx(V_,{tonic:t,onTonicChange:e}),ne.jsx(K_,{currentVoicing:s,onVoicingChange:i}),ne.jsx(B_,{colorMode:n,onColorModeChange:r})]});function W_({title:t,titleId:e,...n},r){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?ee.createElement("title",{id:e},t):null,ee.createElement("path",{fillRule:"evenodd",d:"M4.5 7.5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-9Z",clipRule:"evenodd"}))}const U_=ee.forwardRef(W_),sr=({children:t})=>ne.jsx("p",{className:"mt-6 mb-2",children:t}),$_=({suffix:t,children:e})=>ne.jsx("a",{href:`https://rawl.rocks/${t}`,target:"_blank",rel:"noopener noreferrer",children:e}),q_=[{title:"White Keys",content:ne.jsxs(ne.Fragment,{children:[ne.jsxs(sr,{children:["Welcome to Rawl Piano, the companion book to"," ",ne.jsx($_,{suffix:"",children:"rawl.rocks"}),". I'm gonna cover Western music theory using my colorful music notation."]}),ne.jsx(sr,{children:"We have seven different types of white keys. Why seven? There are seven vibes, in a way."})]}),finalText:"Play around with all seven keys. Then, as you're ready, go to the next lesson",taskIds:["play-c-across-octaves","play-d-across-octaves","play-e-across-octaves","play-f-across-octaves","play-g-across-octaves","play-a-across-octaves","play-b-across-octaves"]},{title:"Black Keys",content:ne.jsx(ne.Fragment,{children:ne.jsx(sr,{children:"Now let's learn about the black keys!"})}),taskIds:["play-d-again","play-c-sharp","play-e-again","play-d-sharp","play-a-again","play-g-sharp","play-b-again","play-a-sharp","play-f-again","play-f-sharp"]},{title:"Free Play",content:ne.jsx(ne.Fragment,{children:ne.jsx(sr,{children:"Congratulations! You've completed the lessons. Now you can freely play around with the piano. Try different tonics, voicings, and color modes!"})}),taskIds:[]},{title:"Chromatic Sequences",content:ne.jsxs(ne.Fragment,{children:[ne.jsx(sr,{children:"Now let's play all notes in sequence! First ascending from A0, then descending from C8."}),ne.jsx(sr,{children:"Follow the arrows - they show which note to play next. Previous notes will show checkmarks."}),ne.jsx(sr,{children:"Finally, try playing the ascending sequence again using the flat keyboard layout - where each key is arranged in chromatic order from left to right."})]}),taskIds:["play-chromatic-ascending","play-chromatic-descending","play-chromatic-ascending-flat"]},{title:"Major Second Intervals",content:ne.jsxs(ne.Fragment,{children:[ne.jsx(sr,{children:"Let's explore intervals! We'll start with major seconds - the interval of two semitones."}),ne.jsx(sr,{children:"First, play all notes separated by major seconds starting from A0. Then we'll play the complementary sequence starting from A#0."})]}),taskIds:["play-major-seconds-from-a0","play-major-seconds-from-asharp0"]}],en=q_.map((t,e)=>({...t,id:e+1})),Yf=["play-c-across-octaves","play-d-across-octaves","play-e-across-octaves","play-f-across-octaves","play-g-across-octaves","play-a-across-octaves","play-b-across-octaves","play-d-again","play-c-sharp","play-e-again","play-d-sharp","play-a-again","play-g-sharp","play-b-again","play-a-sharp","play-f-again","play-f-sharp","play-chromatic-ascending","play-chromatic-descending","play-chromatic-ascending-flat","play-major-seconds-from-a0","play-major-seconds-from-asharp0"],Vt=(t,e)=>({note:t,octave:0,keys:e}),ze={C:Vt(0,["KeyZ","KeyA","KeyQ","Digit1"]),D:Vt(2,["KeyX","KeyS","KeyW","Digit2"]),E:Vt(4,["KeyC","KeyD","KeyE","Digit3"]),F:Vt(5,["KeyV","KeyF","KeyR","Digit4"]),G:Vt(7,["KeyB","KeyG","KeyT","Digit5"]),A:Vt(9,["KeyN","KeyH","KeyY","Digit6"]),B:Vt(11,["KeyM","KeyJ","KeyU","Digit7"]),"C#":Vt(1,["KeyZ","KeyA","KeyQ","Digit1"]),"E-again":Vt(4,["KeyV","KeyF","KeyR","Digit4"]),"D#":Vt(3,["KeyC","KeyD","KeyE","Digit3"]),"A-again":Vt(9,["Comma","KeyK","KeyI","Digit8"]),"G#":Vt(8,["KeyM","KeyJ","KeyU","Digit7"]),"B-again":Vt(11,["Slash","Semicolon","KeyP","Digit0"]),"A#":Vt(10,["Period","KeyL","KeyO","Digit9"]),"F-again":Vt(5,["KeyB","KeyG","KeyT","Digit5"]),"F#":Vt(6,["KeyN","KeyH","KeyY","Digit6"])},H_=()=>{const t=[];let e=9,n=0;for(;!(e===0&&n===8);){t.push({note:e,octave:n});const r=(e+1)%12;e=r,r===0&&n++}return t.push({note:0,octave:8}),t},G_=()=>{const t=[];let e=0,n=8;for(;!(e===9&&n===0);){t.push({note:e,octave:n});let r=e-1;r<0&&(r=11,n--),e=r}return t.push({note:9,octave:0}),t},Ds=H_(),bu=G_(),Rs=["KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal"],Nu=["Equal","Minus","Digit0","Digit9","Digit8","Digit7","Digit6","Digit5","Digit4","Digit3","Digit2","Digit1","BracketRight","BracketLeft","KeyP","KeyO","KeyI","KeyU","KeyY","KeyT","KeyR","KeyE","KeyW","KeyQ","Quote","Semicolon","KeyL","KeyK","KeyJ","KeyH","KeyG","KeyF","KeyD","KeyS","KeyA","Slash","Period","Comma","KeyM","KeyN","KeyB","KeyV","KeyC","KeyX","KeyZ"],Ou=(t,e)=>{const n={};return t.forEach(({note:r,octave:s},i)=>{i<e.length&&(n[e[i]]={note:r,octave:s})}),n},Pt=(t,e,n,r,s)=>{const i=new Set;[2,3,4,5].forEach(l=>{i.add(`${e.note}-${l}`)});const a={};if(s===1)[ze.C,ze.D,ze.E,ze.F,ze.G,ze.A,ze.B].slice(0,t+1).forEach(c=>{c&&c.keys.forEach((h,f)=>{a[h]={note:c.note,octave:f+2}})});else if(s===2){const l=[ze.D,ze["C#"],ze["E-again"],ze["D#"],ze["A-again"],ze["G#"],ze["B-again"],ze["A#"],ze["F-again"],ze["F#"]],c=t-7;l.slice(0,c+1).forEach(f=>{f&&f.keys.forEach((v,w)=>{a[v]={note:f.note,octave:w+2}})})}return{id:Yf[t],description:`Play ${n}`,total:4,requiredProgress:4,previousTaskId:t>0?Yf[t-1]:null,chromaticNotes:r,keyboardMapping:a,checker:{type:"set",targetNotes:i}}},Yg=(t,e,n)=>{const r=[];let s=t,i=e;const a=100;for(;r.length<a&&i<8;){r.push({note:s,octave:i});const l=(s+n)%12;if(s=l,l<s&&i++,i===8&&s>0)break}return r},Wi=Yg(9,0,2),Ui=Yg(10,0,2),Qf=t=>{const e={},n=["KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal"];return t.forEach(({note:r,octave:s},i)=>{i<n.length&&(e[n[i]]={note:r,octave:s})}),e},kt={"play-c-across-octaves":Pt(0,ze.C,"C notes across different octaves",[0],1),"play-d-across-octaves":Pt(1,ze.D,"D notes across different octaves",[0,2],1),"play-e-across-octaves":Pt(2,ze.E,"E notes across different octaves",[0,2,4],1),"play-f-across-octaves":Pt(3,ze.F,"F notes across different octaves",[0,2,4,5],1),"play-g-across-octaves":Pt(4,ze.G,"G notes across different octaves",[0,2,4,5,7],1),"play-a-across-octaves":Pt(5,ze.A,"A notes across different octaves",[0,2,4,5,7,9],1),"play-b-across-octaves":Pt(6,ze.B,"B notes across different octaves",[0,2,4,5,7,9,11],1),"play-d-again":Pt(7,ze.D,"D notes across different octaves",[0,2,4,5,7,9,11],2),"play-c-sharp":Pt(8,ze["C#"],"C# notes across different octaves",[0,1,2,4,5,7,9,11],2),"play-e-again":Pt(9,ze["E-again"],"E notes across different octaves",[0,1,2,4,5,7,9,11],2),"play-d-sharp":Pt(10,ze["D#"],"D# notes across different octaves",[0,1,2,3,4,5,7,9,11],2),"play-a-again":Pt(11,ze["A-again"],"A notes across different octaves",[0,1,2,3,4,5,7,9,11],2),"play-g-sharp":Pt(12,ze["G#"],"G# notes across different octaves",[0,1,2,3,4,5,7,8,9,11],2),"play-b-again":Pt(13,ze["B-again"],"B notes across different octaves",[0,1,2,3,4,5,7,8,9,11],2),"play-a-sharp":Pt(14,ze["A#"],"A# notes across different octaves",[0,1,2,3,4,5,7,8,9,10,11],2),"play-f-again":Pt(15,ze["F-again"],"F notes across different octaves",[0,1,2,3,4,5,7,8,9,10,11],2),"play-f-sharp":Pt(16,ze["F#"],"F# notes across different octaves",[0,1,2,3,4,5,6,7,8,9,10,11],2),"play-chromatic-ascending":{id:"play-chromatic-ascending",description:"Play notes in ascending chromatic order, starting from A0",total:Rs.length,requiredProgress:Rs.length,keyboardMapping:Ou(Ds,Rs),colorMode:"chromatic",chromaticNotes:Array.from(new Set(Ds.map(t=>t.note))),checker:{type:"sequence",sequence:Ds,currentIndex:0},previousTaskId:"play-f-sharp"},"play-chromatic-descending":{id:"play-chromatic-descending",description:"Play notes in descending chromatic order, starting from C8",total:Nu.length,requiredProgress:Nu.length,keyboardMapping:Ou(bu,Nu),colorMode:"chromatic",chromaticNotes:Array.from(new Set(bu.map(t=>t.note))),checker:{type:"sequence",sequence:bu,currentIndex:0},previousTaskId:"play-chromatic-ascending"},"play-chromatic-ascending-flat":{id:"play-chromatic-ascending-flat",description:"Play notes in ascending chromatic order using flat keyboard layout",total:Rs.length,requiredProgress:Rs.length,keyboardMapping:Ou(Ds,Rs),colorMode:"flat-chromatic",chromaticNotes:Array.from(new Set(Ds.map(t=>t.note))),checker:{type:"sequence",sequence:Ds,currentIndex:0},previousTaskId:"play-chromatic-descending"},"play-major-seconds-from-a0":{id:"play-major-seconds-from-a0",description:"Play notes separated by major seconds, starting from A0",total:Wi.length,requiredProgress:Wi.length,keyboardMapping:Qf(Wi),colorMode:"flat-chromatic",chromaticNotes:Array.from(new Set(Wi.map(t=>t.note))),checker:{type:"sequence",sequence:Wi,currentIndex:0},previousTaskId:"play-chromatic-ascending-flat"},"play-major-seconds-from-asharp0":{id:"play-major-seconds-from-asharp0",description:"Play notes separated by major seconds, starting from A#0",total:Ui.length,requiredProgress:Ui.length,keyboardMapping:Qf(Ui),colorMode:"flat-chromatic",chromaticNotes:Array.from(new Set(Ui.map(t=>t.note))),checker:{type:"sequence",sequence:Ui,currentIndex:0},previousTaskId:"play-major-seconds-from-a0"}},Y_=(t,e)=>{const n=kt[t];return n&&e>=n.requiredProgress},Q_=(t,e,n)=>{const r=kt[t];if(!r)return!1;const s=en.find(l=>l.taskIds.includes(t));if(!s||s.id!==n)return!1;if(!r.previousTaskId)return!0;const i=e.find(l=>l.taskId===r.previousTaskId),a=(i==null?void 0:i.progress)||0;return Y_(r.previousTaskId,a)},Xf=t=>{const e=en.find(r=>r.taskIds.includes(t));if(!e)return null;const n=e.taskIds.indexOf(t);return n===-1||n===e.taskIds.length-1?null:e.taskIds[n+1]},Qg=(t,e,n)=>{const r=t.sequence[t.currentIndex];return r.note===e&&r.octave===n},X_=(t,e,n)=>{if(t.type==="sequence")return Qg(t,e,n);{const r=`${e}-${n}`;return t.targetNotes.has(r)}},Z_=[1,3,-1,6,8,10,-1],ds=[0,2,4,5,7,9,11],Xg=[0,4,6,9,11],Zf=.65,as=80,J_=({note:t,octave:e,style:n,keyboardKey:r,shiftedKeyboardKey:s,tonic:i,isShiftPressed:a,colorMode:l,playNotes:c,releaseNotes:h,isActive:f,activeTaskId:v})=>{var J;const[w,N]=ee.useState(!1),[E,A]=ee.useState(!1),b=v?(J=kt[v])==null?void 0:J.chromaticNotes:void 0,y=l==="flat-chromatic"?"flat-chromatic":b!=null&&b.includes(t)?"chromatic":"traditional",T=Vh(i,y),O=(t-i+12)%12,D=ds.includes(t),P=async()=>{await c(t,e),A(!0)},j=()=>{E&&(h(t,e),A(!1))},z=()=>{N(!1),E&&j()},V=async X=>{X.preventDefault(),await P()},Q=X=>{X.preventDefault(),j()},G={...n,backgroundColor:T[t],position:"absolute",userSelect:"none",fontSize:"10px",textAlign:"center",color:y==="traditional"?D?"black":"white":Xg.includes(O)?"black":"white",display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center",paddingBottom:"3px",boxSizing:"border-box",transform:f||E?"scale(0.9)":w?"scale(1.1)":"scale(1)",boxShadow:f||E?`0 0 10px ${D?"rgba(0, 0, 0, 0.5)":"rgba(255, 255, 255, 0.5)"}`:"none",transition:v||E||w?"transform 0.1s ease-in-out, background-color 0.1s ease-in-out, box-shadow 0.1s ease-in-out":"transform 1s ease-in-out, background-color 1s ease-in-out, box-shadow 1s ease-in-out",cursor:"pointer",zIndex:w?3:n.zIndex||1,border:y==="traditional"?"1px solid #333":"none",height:y==="flat-chromatic"?as:y==="chromatic"?D?as-2:as*Zf-2:D?as:as*Zf,top:y==="flat-chromatic"?0:y==="chromatic"?1:0};return ne.jsx("div",{style:G,onMouseDown:P,onMouseUp:j,onMouseEnter:()=>N(!0),onMouseLeave:z,onTouchStart:V,onTouchEnd:Q,children:(r||s)&&ne.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"2px",display:"flex",flexDirection:"column",alignItems:"center",gap:"1px"},children:a?s&&ne.jsx("div",{children:s}):r&&ne.jsx("div",{children:r})})})},Jf=(t,e=!1)=>e?t-3:t+3,ep=({totalWidth:t})=>ne.jsxs("div",{style:{position:"absolute",top:-30,left:t*.58,width:t*.42,textAlign:"center",color:"white",fontSize:"14px",display:"flex",justifyContent:"center",alignItems:"center",gap:"8px"},children:[ne.jsx("div",{style:{flex:1,height:"1px",background:"rgba(255,255,255,0.3)"}}),ne.jsx("div",{children:"Shift"}),ne.jsx("div",{style:{flex:1,height:"1px",background:"rgba(255,255,255,0.3)"}})]}),or={0:{start:9,length:3},1:{start:0,length:12},2:{start:0,length:12},3:{start:0,length:12},4:{start:0,length:12},5:{start:0,length:12},6:{start:0,length:12},7:{start:0,length:12},8:{start:0,length:1}},Yi=(t,e)=>{let n=0;for(let r=0;r<e;r++)ds.includes((t+r)%12)&&n++;return n},tp=(t,e,n)=>{let r=0;for(let i=0;i<e;i++)r+=Yi(or[i].start,or[i].length);if(!ds.includes(t)){const i=Math.max(...ds.filter(l=>l<t)),a=ds.filter(l=>l<=i).length;return r+=a,(r-.5)*n}const s=ds.filter(i=>i<t).length;return r+=s,r*n},ew=({taskConfig:t,totalWidth:e,keyWidth:n,activeKeysCount:r,isCompleting:s})=>ne.jsxs("div",{style:{position:"absolute",top:-30,left:0,width:e,height:"30px",display:"flex",alignItems:"flex-end"},children:[s&&r>0&&ne.jsx("div",{style:{position:"absolute",top:0,left:"50%",transform:"translateX(-50%)",color:"rgba(255, 255, 255, 0.5)",fontSize:"14px",whiteSpace:"nowrap",padding:"4px 12px",borderRadius:"4px",background:"rgba(0, 0, 0, 0.6)"},children:"Release all keys to continue"}),!s&&ne.jsx(ne.Fragment,{children:t.checker.type==="sequence"?(()=>{const i=t.checker;return i.sequence.map(({note:a,octave:l},c)=>{const h=c<i.currentIndex,f=c===i.currentIndex,v=tp(a,l,n);return ne.jsx("div",{style:{position:"absolute",left:v,bottom:0,color:"white",fontSize:"20px",transform:f?"translateY(-5px)":"none",transition:"transform 0.2s ease-in-out",width:n,display:"flex",justifyContent:"center",alignItems:"center"},children:h?"":f?"":""},`${a}-${l}`)})})():Array.from(t.checker.targetNotes).map(i=>{var f;const[a,l]=i.split("-").map(Number),c=tp(a,l,n),h=(f=t.playedNotes)==null?void 0:f.has(i);return ne.jsx("div",{style:{position:"absolute",left:c,bottom:0,color:"white",fontSize:"20px",width:n,display:"flex",justifyContent:"center",alignItems:"center"},children:h?"":""},i)})})]}),tw=({tonic:t,setTonic:e,colorMode:n,onColorModeChange:r,currentVoicing:s,onVoicingChange:i,playNotes:a,releaseNotes:l,fallingNotes:c,currentlyPlayingId:h,onStopPlaying:f,taskKeyboardMapping:v,activeTaskId:w,taskProgress:N,taskPlayedNotes:E})=>{const[A,b]=ee.useState(!1),[y,T]=ee.useState(new Set),[O,D]=ee.useState([]),P=(ue,Y)=>O.some(U=>U.note===ue&&U.octave===Y);ee.useEffect(()=>{const ue=async U=>{const M=Eu(n,v);if(U.ctrlKey&&U.code in M){const{note:I}=M[U.code];e(I%12);return}if(!y.has(U.code)&&(T(I=>new Set([...I,U.code])),U.code in M)){const{note:I,octave:H}=M[U.code],le=U.shiftKey?Jf(H):H;await a(I,le)}},Y=U=>{const M=Eu(n,v);if(T(I=>{const H=new Set(I);return H.delete(U.code),H}),U.code in M){const{note:I,octave:H}=M[U.code],le=H,ge=Jf(H);[le,ge].forEach(ie=>{l(I,ie)})}};return window.addEventListener("keydown",ue),window.addEventListener("keyup",Y),()=>{window.removeEventListener("keydown",ue),window.removeEventListener("keyup",Y)}},[y,a,l,e,n,v]),ee.useEffect(()=>{const ue=U=>{U.key==="Shift"&&b(!0)},Y=U=>{U.key==="Shift"&&b(!1)};return window.addEventListener("keydown",ue),window.addEventListener("keyup",Y),()=>{window.removeEventListener("keydown",ue),window.removeEventListener("keyup",Y)}},[]),ee.useEffect(()=>{const ue=c.filter(Y=>!Y.endTime).map(Y=>({note:Y.note,octave:Y.octave}));D(ue)},[c]);const j=Object.values(or).reduce((ue,Y)=>ue+Yi(Y.start,Y.length),0),z=40,V=ue=>(ue-z)/j,[Q,G]=ee.useState(25);ee.useEffect(()=>{const ue=()=>{const Y=window.innerWidth-600,U=V(Y);G(U)};return ue(),window.addEventListener("resize",ue),()=>window.removeEventListener("resize",ue)},[]);const J=j*Q,X={onNoteStart:a,onNoteEnd:l,tonic:t,isShiftPressed:A,colorMode:n,playNotes:a,releaseNotes:l,activeTaskId:w},fe=ue=>{let Y=0;for(let U=0;U<ue;U++)Y+=Yi(or[U].start,or[U].length);return Y*Q},de=fe(1),_e=fe(2),me=(ue,Y)=>{var I;const U=Eu(n,v),M=(I=Object.entries(U).find(([,H])=>H.note===ue&&H.octave===Y))==null?void 0:I[0];if(M)return bc[M]};return ne.jsxs("div",{style:{position:"fixed",top:0,left:"600px",right:0,bottom:0,backgroundColor:"black",padding:"5px",display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden"},children:[h&&ne.jsx(U_,{className:"w-8 h-8 text-red-500 hover:text-red-400 cursor-pointer absolute bottom-4 left-4 z-50",onClick:f}),ne.jsxs("div",{style:{position:"relative",width:J,marginTop:"40px",marginLeft:z/2,marginRight:z/2},children:[w===null&&v===void 0&&ne.jsx(ep,{totalWidth:J}),w===null&&v===void 0?ne.jsxs(ne.Fragment,{children:[ne.jsx(ep,{totalWidth:J}),ne.jsx(z_,{tonic:t,onTonicChange:e,colorMode:n,onColorModeChange:r,currentVoicing:s,onVoicingChange:i})]}):ne.jsx("div",{style:{height:"40px"}}),Object.entries(or).map(([ue,Y])=>{const U=parseInt(ue);return Array.from({length:Y.length},(M,I)=>{const H=(Y.start+I)%12,le=ds.includes(H);let ge=0,ie=0;for(let _=0;_<U;_++)ge+=or[_].length,ie+=Yi(or[_].start,or[_].length);ge+=I,ie+=Yi(Y.start,I);const g={width:n==="flat-chromatic"?Q*(7/12):Q,height:as,borderRadius:"0 0 5px 5px"};return n==="flat-chromatic"||le||Z_.indexOf(H)!==-1?ne.jsx(J_,{...X,note:H,octave:U,isActive:P(H,U),keyboardKey:me(H,U),shiftedKeyboardKey:me(H,U),style:{...g,width:n==="flat-chromatic"?Q*(7/12):le?Q:Q-3,left:n==="flat-chromatic"?Q*(7/12)*(ge+.5):Q*(le?ie:ie-.5),zIndex:n==="flat-chromatic"||le?1:2},activeTaskId:w},`${U}-${H}`):null})}),ne.jsx(L_,{notes:c,tonic:t,colorMode:n,fallingNoteWidth:Q/6*7,referencePoints:{c1:{note:12,left:de},c2:{note:24,left:_e}}}),w&&kt[w]&&(()=>{const ue={...kt[w],playedNotes:E[w]},Y=N.some(U=>U.taskId===w&&U.status==="completing");return ne.jsx(ew,{taskConfig:ue,totalWidth:J,keyWidth:Q,activeKeysCount:y.size,isCompleting:Y})})()]})]})},Zg="15.0.4",np=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),rp=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),Oc=(t,e)=>({startTime:e,type:"setValue",value:t}),Jg=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),ev=(t,e,{startTime:n,target:r,timeConstant:s})=>r+(e-r)*Math.exp((n-t)/s),Ys=t=>t.type==="exponentialRampToValue",il=t=>t.type==="linearRampToValue",Ir=t=>Ys(t)||il(t),Bh=t=>t.type==="setValue",ar=t=>t.type==="setValueCurve",ol=(t,e,n,r)=>{const s=t[e];return s===void 0?r:Ir(s)||Bh(s)?s.value:ar(s)?s.values[s.values.length-1]:ev(n,ol(t,e-1,s.startTime,r),s)},sp=(t,e,n,r,s)=>n===void 0?[r.insertTime,s]:Ir(n)?[n.endTime,n.value]:Bh(n)?[n.startTime,n.value]:ar(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,ol(t,e-1,n.startTime,s)],Ac=t=>t.type==="cancelAndHold",Ic=t=>t.type==="cancelScheduledValues",Nr=t=>Ac(t)||Ic(t)?t.cancelTime:Ys(t)||il(t)?t.endTime:t.startTime,ip=(t,e,n,{endTime:r,value:s})=>n===s?s:0<n&&0<s||n<0&&s<0?n*(s/n)**((t-e)/(r-e)):0,op=(t,e,n,{endTime:r,value:s})=>n+(t-e)/(r-e)*(s-n),nw=(t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},rw=(t,{duration:e,startTime:n,values:r})=>{const s=(t-n)/e*(r.length-1);return nw(r,s)},da=t=>t.type==="setTarget";class sw{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=Nr(e);if(Ac(e)||Ic(e)){const r=this._automationEvents.findIndex(i=>Ic(e)&&ar(i)?i.startTime+i.duration>=n:Nr(i)>=n),s=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),Ac(e)){const i=this._automationEvents[this._automationEvents.length-1];if(s!==void 0&&Ir(s)){if(i!==void 0&&da(i))throw new Error("The internal list is malformed.");const a=i===void 0?s.insertTime:ar(i)?i.startTime+i.duration:Nr(i),l=i===void 0?this._defaultValue:ar(i)?i.values[i.values.length-1]:i.value,c=Ys(s)?ip(n,a,l,s):op(n,a,l,s),h=Ys(s)?np(c,n,this._currenTime):rp(c,n,this._currenTime);this._automationEvents.push(h)}if(i!==void 0&&da(i)&&this._automationEvents.push(Oc(this.getValue(n),n)),i!==void 0&&ar(i)&&i.startTime+i.duration>n){const a=n-i.startTime,l=(i.values.length-1)/i.duration,c=Math.max(2,1+Math.ceil(a*l)),h=a/(c-1)*l,f=i.values.slice(0,c);if(h<1)for(let v=1;v<c;v+=1){const w=h*v%1;f[v]=i.values[v-1]*(1-w)+i.values[v]*w}this._automationEvents[this._automationEvents.length-1]=Jg(f,i.startTime,a)}}}else{const r=this._automationEvents.findIndex(a=>Nr(a)>n),s=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(s!==void 0&&ar(s)&&Nr(s)+s.duration>n)return!1;const i=Ys(e)?np(e.value,e.endTime,this._currenTime):il(e)?rp(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(i);else{if(ar(e)&&n+e.duration>Nr(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,i)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>Nr(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),s=r[0];da(s)&&r.unshift(Oc(ol(this._automationEvents,n-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(a=>Nr(a)>e),r=this._automationEvents[n],s=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[s];if(i!==void 0&&da(i)&&(r===void 0||!Ir(r)||r.insertTime>e))return ev(e,ol(this._automationEvents,s-1,i.startTime,this._defaultValue),i);if(i!==void 0&&Bh(i)&&(r===void 0||!Ir(r)))return i.value;if(i!==void 0&&ar(i)&&(r===void 0||!Ir(r)||i.startTime+i.duration>e))return e<i.startTime+i.duration?rw(e,i):i.values[i.values.length-1];if(i!==void 0&&Ir(i)&&(r===void 0||!Ir(r)))return i.value;if(r!==void 0&&Ys(r)){const[a,l]=sp(this._automationEvents,s,i,r,this._defaultValue);return ip(e,a,l,r)}if(r!==void 0&&il(r)){const[a,l]=sp(this._automationEvents,s,i,r,this._defaultValue);return op(e,a,l,r)}return this._defaultValue}}const iw=t=>({cancelTime:t,type:"cancelAndHold"}),ow=t=>({cancelTime:t,type:"cancelScheduledValues"}),aw=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),lw=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),uw=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),cw=()=>new DOMException("","AbortError"),hw=t=>(e,n,[r,s,i],a)=>{t(e[s],[n,r,i],l=>l[0]===n&&l[1]===r,a)},dw=t=>(e,n,r)=>{const s=[];for(let i=0;i<r.numberOfInputs;i+=1)s.push(new Set);t.set(e,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},fw=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},fi=new WeakSet,tv=new WeakMap,Kh=new WeakMap,nv=new WeakMap,zh=new WeakMap,Dl=new WeakMap,rv=new WeakMap,Pc=new WeakMap,Mc=new WeakMap,Dc=new WeakMap,sv={construct(){return sv}},pw=t=>{try{const e=new Proxy(t,sv);new e}catch{return!1}return!0},ap=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,lp=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),s=r.match(ap);for(;s!==null;){const i=s[1].slice(1,-1),a=s[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(a),r=r.slice(s[0].length).replace(/^[\s]+/,""),s=r.match(ap)}return[n.join(";"),r]},up=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},cp=t=>{if(!pw(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},mw=(t,e,n,r,s,i,a,l,c,h,f,v,w)=>{let N=0;return(E,A,b={credentials:"omit"})=>{const y=f.get(E);if(y!==void 0&&y.has(A))return Promise.resolve();const T=h.get(E);if(T!==void 0){const P=T.get(A);if(P!==void 0)return P}const O=i(E),D=O.audioWorklet===void 0?s(A).then(([P,j])=>{const[z,V]=lp(P,j),Q=`${z};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${V}
})})(window,'_AWGS')`;return n(Q)}).then(()=>{const P=w._AWGS.pop();if(P===void 0)throw new SyntaxError;r(O.currentTime,O.sampleRate,()=>P(class{},void 0,(j,z)=>{if(j.trim()==="")throw e();const V=Mc.get(O);if(V!==void 0){if(V.has(j))throw e();cp(z),up(z.parameterDescriptors),V.set(j,z)}else cp(z),up(z.parameterDescriptors),Mc.set(O,new Map([[j,z]]))},O.sampleRate,void 0,void 0))}):Promise.all([s(A),Promise.resolve(t(v,v))]).then(([[P,j],z])=>{const V=N+1;N=V;const[Q,G]=lp(P,j),de=`${Q};((AudioWorkletProcessor,registerProcessor)=>{${G}
})(${z?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${z?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${z?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${V}',class extends AudioWorkletProcessor{process(){return !1}})`,_e=new Blob([de],{type:"application/javascript; charset=utf-8"}),me=URL.createObjectURL(_e);return O.audioWorklet.addModule(me,b).then(()=>{if(l(O))return O;const ue=a(O);return ue.audioWorklet.addModule(me,b).then(()=>ue)}).then(ue=>{if(c===null)throw new SyntaxError;try{new c(ue,`__sac${V}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(me))});return T===void 0?h.set(E,new Map([[A,D]])):T.set(A,D),D.then(()=>{const P=f.get(E);P===void 0?f.set(E,new Set([A])):P.add(A)}).finally(()=>{const P=h.get(E);P!==void 0&&P.delete(A)}),D}},zn=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},Rl=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},iv=(t,e,n,r)=>{const s=zn(t,e),i=Rl(s,a=>a[0]===n&&a[1]===r);return s.size===0&&t.delete(e),i},Ro=t=>zn(rv,t),pi=t=>{if(fi.has(t))throw new Error("The AudioNode is already stored.");fi.add(t),Ro(t).forEach(e=>e(!0))},ov=t=>"port"in t,Lo=t=>{if(!fi.has(t))throw new Error("The AudioNode is not stored.");fi.delete(t),Ro(t).forEach(e=>e(!1))},Rc=(t,e)=>{!ov(t)&&e.every(n=>n.size===0)&&Lo(t)},gw=(t,e,n,r,s,i,a,l,c,h,f,v,w)=>{const N=new WeakMap;return(E,A,b,y,T)=>{const{activeInputs:O,passiveInputs:D}=i(A),{outputs:P}=i(E),j=l(E),z=V=>{const Q=c(A),G=c(E);if(V){const J=iv(D,E,b,y);t(O,E,J,!1),!T&&!v(E)&&n(G,Q,b,y),w(A)&&pi(A)}else{const J=r(O,E,b,y);e(D,y,J,!1),!T&&!v(E)&&s(G,Q,b,y);const X=a(A);if(X===0)f(A)&&Rc(A,O);else{const fe=N.get(A);fe!==void 0&&clearTimeout(fe),N.set(A,setTimeout(()=>{f(A)&&Rc(A,O)},X*1e3))}}};return h(P,[A,b,y],V=>V[0]===A&&V[1]===b&&V[2]===y,!0)?(j.add(z),f(E)?t(O,E,[b,y,z],!0):e(D,y,[E,b,z],!0),!0):!1}},vw=t=>(e,n,[r,s,i],a)=>{const l=e.get(r);l===void 0?e.set(r,new Set([[s,n,i]])):t(l,[s,n,i],c=>c[0]===s&&c[1]===n,a)},yw=t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const s=()=>{n.removeEventListener("ended",s),n.disconnect(r),r.disconnect()};n.addEventListener("ended",s)},_w=t=>(e,n)=>{t(e).add(n)},ww={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Sw=(t,e,n,r,s,i)=>class extends t{constructor(l,c){const h=s(l),f={...ww,...c},v=r(h,f),w=i(h)?e():null;super(l,!1,v,w),this._nativeAnalyserNode=v}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(l){this._nativeAnalyserNode.fftSize=l}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(l){const c=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=l,!(l>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=c,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(l){const c=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=l,!(this._nativeAnalyserNode.maxDecibels>l))throw this._nativeAnalyserNode.minDecibels=c,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(l){this._nativeAnalyserNode.smoothingTimeConstant=l}getByteFrequencyData(l){this._nativeAnalyserNode.getByteFrequencyData(l)}getByteTimeDomainData(l){this._nativeAnalyserNode.getByteTimeDomainData(l)}getFloatFrequencyData(l){this._nativeAnalyserNode.getFloatFrequencyData(l)}getFloatTimeDomainData(l){this._nativeAnalyserNode.getFloatTimeDomainData(l)}},Wt=(t,e)=>t.context===e,kw=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,a)=>{let l=e(i);if(!Wt(l,a)){const h={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,fftSize:l.fftSize,maxDecibels:l.maxDecibels,minDecibels:l.minDecibels,smoothingTimeConstant:l.smoothingTimeConstant};l=t(a,h)}return r.set(a,l),await n(i,a,l),l};return{render(i,a){const l=r.get(a);return l!==void 0?Promise.resolve(l):s(i,a)}}},al=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Jn=()=>new DOMException("","IndexSizeError"),Wh=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?Jn():r}})(t.getChannelData)},xw={numberOfChannels:1},Cw=(t,e,n,r,s,i,a,l)=>{let c=null;return class av{constructor(f){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:v,numberOfChannels:w,sampleRate:N}={...xw,...f};c===null&&(c=new s(1,1,44100));const E=r!==null&&e(i,i)?new r({length:v,numberOfChannels:w,sampleRate:N}):c.createBuffer(w,v,N);if(E.numberOfChannels===0)throw n();return typeof E.copyFromChannel!="function"?(a(E),Wh(E)):e(al,()=>al(E))||l(E),t.add(E),E}static[Symbol.hasInstance](f){return f!==null&&typeof f=="object"&&Object.getPrototypeOf(f)===av.prototype||t.has(f)}}},tn=-34028234663852886e22,qt=-tn,fr=t=>fi.has(t),Tw={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Ew=(t,e,n,r,s,i,a,l)=>class extends t{constructor(h,f){const v=i(h),w={...Tw,...f},N=s(v,w),E=a(v),A=E?e():null;super(h,!1,N,A),this._audioBufferSourceNodeRenderer=A,this._isBufferNullified=!1,this._isBufferSet=w.buffer!==null,this._nativeAudioBufferSourceNode=N,this._onended=null,this._playbackRate=n(this,E,N.playbackRate,qt,tn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(h){if(this._nativeAudioBufferSourceNode.buffer=h,h!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(h){this._nativeAudioBufferSourceNode.loop=h}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(h){this._nativeAudioBufferSourceNode.loopEnd=h}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(h){this._nativeAudioBufferSourceNode.loopStart=h}get onended(){return this._onended}set onended(h){const f=typeof h=="function"?l(this,h):null;this._nativeAudioBufferSourceNode.onended=f;const v=this._nativeAudioBufferSourceNode.onended;this._onended=v!==null&&v===f?h:v}get playbackRate(){return this._playbackRate}start(h=0,f=0,v){if(this._nativeAudioBufferSourceNode.start(h,f,v),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=v===void 0?[h,f]:[h,f,v]),this.context.state!=="closed"){pi(this);const w=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",w),fr(this)&&Lo(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",w)}}stop(h=0){this._nativeAudioBufferSourceNode.stop(h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=h)}},bw=(t,e,n,r,s)=>()=>{const i=new WeakMap;let a=null,l=null;const c=async(h,f)=>{let v=n(h);const w=Wt(v,f);if(!w){const N={buffer:v.buffer,channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,loop:v.loop,loopEnd:v.loopEnd,loopStart:v.loopStart,playbackRate:v.playbackRate.value};v=e(f,N),a!==null&&v.start(...a),l!==null&&v.stop(l)}return i.set(f,v),w?await t(f,h.playbackRate,v.playbackRate):await r(f,h.playbackRate,v.playbackRate),await s(h,f,v),v};return{set start(h){a=h},set stop(h){l=h},render(h,f){const v=i.get(f);return v!==void 0?Promise.resolve(v):c(h,f)}}},Nw=t=>"playbackRate"in t,Ow=t=>"frequency"in t&&"gain"in t,Aw=t=>"offset"in t,Iw=t=>!("frequency"in t)&&"gain"in t,Pw=t=>"detune"in t&&"frequency"in t&&!("gain"in t),Mw=t=>"pan"in t,Ht=t=>zn(tv,t),Fo=t=>zn(nv,t),Lc=(t,e)=>{const{activeInputs:n}=Ht(t);n.forEach(s=>s.forEach(([i])=>{e.includes(t)||Lc(i,[...e,t])}));const r=Nw(t)?[t.playbackRate]:ov(t)?Array.from(t.parameters.values()):Ow(t)?[t.Q,t.detune,t.frequency,t.gain]:Aw(t)?[t.offset]:Iw(t)?[t.gain]:Pw(t)?[t.detune,t.frequency]:Mw(t)?[t.pan]:[];for(const s of r){const i=Fo(s);i!==void 0&&i.activeInputs.forEach(([a])=>Lc(a,e))}fr(t)&&Lo(t)},lv=t=>{Lc(t.destination,[])},Dw=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),Rw=(t,e,n,r,s,i,a,l,c)=>class extends t{constructor(f={}){if(c===null)throw new Error("Missing the native AudioContext constructor.");let v;try{v=new c(f)}catch(E){throw E.code===12&&E.message==="sampleRate is not in range"?n():E}if(v===null)throw r();if(!Dw(f.latencyHint))throw new TypeError(`The provided value '${f.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(f.sampleRate!==void 0&&v.sampleRate!==f.sampleRate)throw n();super(v,2);const{latencyHint:w}=f,{sampleRate:N}=v;if(this._baseLatency=typeof v.baseLatency=="number"?v.baseLatency:w==="balanced"?512/N:w==="interactive"||w===void 0?256/N:w==="playback"?1024/N:Math.max(2,Math.min(128,Math.round(w*N/128)))*128/N,this._nativeAudioContext=v,c.name==="webkitAudioContext"?(this._nativeGainNode=v.createGain(),this._nativeOscillatorNode=v.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(v.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,v.state==="running"){this._state="suspended";const E=()=>{this._state==="suspended"&&(this._state=null),v.removeEventListener("statechange",E)};v.addEventListener("statechange",E)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),lv(this)}))}createMediaElementSource(f){return new s(this,{mediaElement:f})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(f){return new a(this,{mediaStream:f})}createMediaStreamTrackSource(f){return new l(this,{mediaStreamTrack:f})}resume(){return this._state==="suspended"?new Promise((f,v)=>{const w=()=>{this._nativeAudioContext.removeEventListener("statechange",w),this._nativeAudioContext.state==="running"?f():this.resume().then(f,v)};this._nativeAudioContext.addEventListener("statechange",w)}):this._nativeAudioContext.resume().catch(f=>{throw f===void 0||f.code===15?e():f})}suspend(){return this._nativeAudioContext.suspend().catch(f=>{throw f===void 0?e():f})}},Lw=(t,e,n,r,s,i,a,l)=>class extends t{constructor(h,f){const v=i(h),w=a(v),N=s(v,f,w),E=w?e(l):null;super(h,!1,N,E),this._isNodeOfNativeOfflineAudioContext=w,this._nativeAudioDestinationNode=N}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(h){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(h>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=h}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(h){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=h}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},Fw=t=>{const e=new WeakMap,n=async(r,s)=>{const i=s.destination;return e.set(s,i),await t(r,s,i),i};return{render(r,s){const i=e.get(s);return i!==void 0?Promise.resolve(i):n(r,s)}}},jw=(t,e,n,r,s,i,a,l)=>(c,h)=>{const f=h.listener,v=()=>{const P=new Float32Array(1),j=e(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),z=a(h);let V=!1,Q=[0,0,-1,0,1,0],G=[0,0,0];const J=()=>{if(V)return;V=!0;const _e=r(h,256,9,0);_e.onaudioprocess=({inputBuffer:me})=>{const ue=[i(me,P,0),i(me,P,1),i(me,P,2),i(me,P,3),i(me,P,4),i(me,P,5)];ue.some((U,M)=>U!==Q[M])&&(f.setOrientation(...ue),Q=ue);const Y=[i(me,P,6),i(me,P,7),i(me,P,8)];Y.some((U,M)=>U!==G[M])&&(f.setPosition(...Y),G=Y)},j.connect(_e)},X=_e=>me=>{me!==Q[_e]&&(Q[_e]=me,f.setOrientation(...Q))},fe=_e=>me=>{me!==G[_e]&&(G[_e]=me,f.setPosition(...G))},de=(_e,me,ue)=>{const Y=n(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:me});Y.connect(j,0,_e),Y.start(),Object.defineProperty(Y.offset,"defaultValue",{get(){return me}});const U=t({context:c},z,Y.offset,qt,tn);return l(U,"value",M=>()=>M.call(U),M=>I=>{try{M.call(U,I)}catch(H){if(H.code!==9)throw H}J(),z&&ue(I)}),U.cancelAndHoldAtTime=(M=>z?()=>{throw s()}:(...I)=>{const H=M.apply(U,I);return J(),H})(U.cancelAndHoldAtTime),U.cancelScheduledValues=(M=>z?()=>{throw s()}:(...I)=>{const H=M.apply(U,I);return J(),H})(U.cancelScheduledValues),U.exponentialRampToValueAtTime=(M=>z?()=>{throw s()}:(...I)=>{const H=M.apply(U,I);return J(),H})(U.exponentialRampToValueAtTime),U.linearRampToValueAtTime=(M=>z?()=>{throw s()}:(...I)=>{const H=M.apply(U,I);return J(),H})(U.linearRampToValueAtTime),U.setTargetAtTime=(M=>z?()=>{throw s()}:(...I)=>{const H=M.apply(U,I);return J(),H})(U.setTargetAtTime),U.setValueAtTime=(M=>z?()=>{throw s()}:(...I)=>{const H=M.apply(U,I);return J(),H})(U.setValueAtTime),U.setValueCurveAtTime=(M=>z?()=>{throw s()}:(...I)=>{const H=M.apply(U,I);return J(),H})(U.setValueCurveAtTime),U};return{forwardX:de(0,0,X(0)),forwardY:de(1,0,X(1)),forwardZ:de(2,-1,X(2)),positionX:de(6,0,fe(0)),positionY:de(7,0,fe(1)),positionZ:de(8,0,fe(2)),upX:de(3,0,X(3)),upY:de(4,1,X(4)),upZ:de(5,0,X(5))}},{forwardX:w,forwardY:N,forwardZ:E,positionX:A,positionY:b,positionZ:y,upX:T,upY:O,upZ:D}=f.forwardX===void 0?v():f;return{get forwardX(){return w},get forwardY(){return N},get forwardZ(){return E},get positionX(){return A},get positionY(){return b},get positionZ(){return y},get upX(){return T},get upY(){return O},get upZ(){return D}}},ll=t=>"context"in t,jo=t=>ll(t[0]),bs=(t,e,n,r)=>{for(const s of t)if(n(s)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},hp=(t,e,[n,r],s)=>{bs(t,[e,n,r],i=>i[0]===e&&i[1]===n,s)},dp=(t,[e,n,r],s)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[n,r]])):bs(i,[n,r],a=>a[0]===n,s)},Ei=t=>"inputs"in t,ul=(t,e,n,r)=>{if(Ei(e)){const s=e.inputs[r];return t.connect(s,n,0),[s,n,0]}return t.connect(e,n,r),[e,n,r]},uv=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},Vw=(t,e,n)=>Rl(t,r=>r[0]===e&&r[1]===n),cv=(t,e)=>{if(!Ro(t).delete(e))throw new Error("Missing the expected event listener.")},hv=(t,e,n)=>{const r=zn(t,e),s=Rl(r,i=>i[0]===n);return r.size===0&&t.delete(e),s},cl=(t,e,n,r)=>{Ei(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},nt=t=>zn(Kh,t),Eo=t=>zn(zh,t),ks=t=>Pc.has(t),Aa=t=>!fi.has(t),fp=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),s=t.createGain(),i=t.createBuffer(1,2,44100),a=i.getChannelData(0);a[0]=1,a[1]=1;const l=t.createBufferSource();l.buffer=i,l.loop=!0,l.connect(r).connect(t.destination),l.connect(s),l.disconnect(s),r.onaudioprocess=c=>{const h=c.inputBuffer.getChannelData(0);Array.prototype.some.call(h,f=>f===1)?n(!0):n(!1),l.stop(),r.onaudioprocess=null,l.disconnect(r),r.disconnect(t.destination)},l.start()}}),Au=(t,e)=>{const n=new Map;for(const r of t)for(const s of r){const i=n.get(s);n.set(s,i===void 0?1:i+1)}n.forEach((r,s)=>e(s,r))},hl=t=>"context"in t,Bw=t=>{const e=new Map;t.connect=(n=>(r,s=0,i=0)=>{const a=hl(r)?n(r,s,i):n(r,s),l=e.get(r);return l===void 0?e.set(r,[{input:i,output:s}]):l.every(c=>c.input!==i||c.output!==s)&&l.push({input:i,output:s}),a})(t.connect.bind(t)),t.disconnect=(n=>(r,s,i)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[a,l]of e){const c=l.filter(h=>h.output!==r);c.length===0?e.delete(a):e.set(a,c)}else if(e.has(r))if(s===void 0)e.delete(r);else{const a=e.get(r);if(a!==void 0){const l=a.filter(c=>c.output!==s&&(c.input!==i||i===void 0));l.length===0?e.delete(r):e.set(r,l)}}for(const[a,l]of e)l.forEach(c=>{hl(a)?t.connect(a,c.output,c.input):t.connect(a,c.output)})})(t.disconnect)},Kw=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=Fo(e),{outputs:a}=Ht(t),l=Ro(t),c=h=>{const f=nt(t),v=Eo(e);if(h){const w=hv(i,t,n);hp(s,t,w,!1),!r&&!ks(t)&&f.connect(v,n)}else{const w=Vw(s,t,n);dp(i,w,!1),!r&&!ks(t)&&f.disconnect(v,n)}};return bs(a,[e,n],h=>h[0]===e&&h[1]===n,!0)?(l.add(c),fr(t)?hp(s,t,[n,c],!0):dp(i,[t,n,c],!0),!0):!1},zw=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=Ht(e),a=uv(s[r],t,n);return a===null?[iv(i,t,n,r)[2],!1]:[a[2],!0]},Ww=(t,e,n)=>{const{activeInputs:r,passiveInputs:s}=Fo(e),i=uv(r,t,n);return i===null?[hv(s,t,n)[1],!1]:[i[2],!0]},Uh=(t,e,n,r,s)=>{const[i,a]=zw(t,n,r,s);if(i!==null&&(cv(t,i),a&&!e&&!ks(t)&&cl(nt(t),nt(n),r,s)),fr(n)){const{activeInputs:l}=Ht(n);Rc(n,l)}},$h=(t,e,n,r)=>{const[s,i]=Ww(t,n,r);s!==null&&(cv(t,s),i&&!e&&!ks(t)&&nt(t).disconnect(Eo(n),r))},Uw=(t,e)=>{const n=Ht(t),r=[];for(const s of n.outputs)jo(s)?Uh(t,e,...s):$h(t,e,...s),r.push(s[0]);return n.outputs.clear(),r},$w=(t,e,n)=>{const r=Ht(t),s=[];for(const i of r.outputs)i[1]===n&&(jo(i)?Uh(t,e,...i):$h(t,e,...i),s.push(i[0]),r.outputs.delete(i));return s},qw=(t,e,n,r,s)=>{const i=Ht(t);return Array.from(i.outputs).filter(a=>a[0]===n&&(r===void 0||a[1]===r)&&(s===void 0||a[2]===s)).map(a=>(jo(a)?Uh(t,e,...a):$h(t,e,...a),i.outputs.delete(a),a[0]))},Hw=(t,e,n,r,s,i,a,l,c,h,f,v,w,N,E,A)=>class extends h{constructor(y,T,O,D){super(O),this._context=y,this._nativeAudioNode=O;const P=f(y);v(P)&&n(fp,()=>fp(P,A))!==!0&&Bw(O),Kh.set(this,O),rv.set(this,new Set),y.state!=="closed"&&T&&pi(this),t(this,D,O)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(y){this._nativeAudioNode.channelCount=y}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(y){this._nativeAudioNode.channelCountMode=y}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(y){this._nativeAudioNode.channelInterpretation=y}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(y,T=0,O=0){if(T<0||T>=this._nativeAudioNode.numberOfOutputs)throw s();const D=f(this._context),P=E(D);if(w(y)||N(y))throw i();if(ll(y)){const V=nt(y);try{const G=ul(this._nativeAudioNode,V,T,O),J=Aa(this);(P||J)&&this._nativeAudioNode.disconnect(...G),this.context.state!=="closed"&&!J&&Aa(y)&&pi(y)}catch(G){throw G.code===12?i():G}if(e(this,y,T,O,P)){const G=c([this],y);Au(G,r(P))}return y}const j=Eo(y);if(j.name==="playbackRate"&&j.maxValue===1024)throw a();try{this._nativeAudioNode.connect(j,T),(P||Aa(this))&&this._nativeAudioNode.disconnect(j,T)}catch(V){throw V.code===12?i():V}if(Kw(this,y,T,P)){const V=c([this],y);Au(V,r(P))}}disconnect(y,T,O){let D;const P=f(this._context),j=E(P);if(y===void 0)D=Uw(this,j);else if(typeof y=="number"){if(y<0||y>=this.numberOfOutputs)throw s();D=$w(this,j,y)}else{if(T!==void 0&&(T<0||T>=this.numberOfOutputs)||ll(y)&&O!==void 0&&(O<0||O>=y.numberOfInputs))throw s();if(D=qw(this,j,y,T,O),D.length===0)throw i()}for(const z of D){const V=c([this],z);Au(V,l)}}},Gw=(t,e,n,r,s,i,a,l,c,h,f,v,w)=>(N,E,A,b=null,y=null)=>{const T=A.value,O=new sw(T),D=E?r(O):null,P={get defaultValue(){return T},get maxValue(){return b===null?A.maxValue:b},get minValue(){return y===null?A.minValue:y},get value(){return A.value},set value(j){A.value=j,P.setValueAtTime(j,N.context.currentTime)},cancelAndHoldAtTime(j){if(typeof A.cancelAndHoldAtTime=="function")D===null&&O.flush(N.context.currentTime),O.add(s(j)),A.cancelAndHoldAtTime(j);else{const z=Array.from(O).pop();D===null&&O.flush(N.context.currentTime),O.add(s(j));const V=Array.from(O).pop();A.cancelScheduledValues(j),z!==V&&V!==void 0&&(V.type==="exponentialRampToValue"?A.exponentialRampToValueAtTime(V.value,V.endTime):V.type==="linearRampToValue"?A.linearRampToValueAtTime(V.value,V.endTime):V.type==="setValue"?A.setValueAtTime(V.value,V.startTime):V.type==="setValueCurve"&&A.setValueCurveAtTime(V.values,V.startTime,V.duration))}return P},cancelScheduledValues(j){return D===null&&O.flush(N.context.currentTime),O.add(i(j)),A.cancelScheduledValues(j),P},exponentialRampToValueAtTime(j,z){if(j===0)throw new RangeError;if(!Number.isFinite(z)||z<0)throw new RangeError;const V=N.context.currentTime;return D===null&&O.flush(V),Array.from(O).length===0&&(O.add(h(T,V)),A.setValueAtTime(T,V)),O.add(a(j,z)),A.exponentialRampToValueAtTime(j,z),P},linearRampToValueAtTime(j,z){const V=N.context.currentTime;return D===null&&O.flush(V),Array.from(O).length===0&&(O.add(h(T,V)),A.setValueAtTime(T,V)),O.add(l(j,z)),A.linearRampToValueAtTime(j,z),P},setTargetAtTime(j,z,V){return D===null&&O.flush(N.context.currentTime),O.add(c(j,z,V)),A.setTargetAtTime(j,z,V),P},setValueAtTime(j,z){return D===null&&O.flush(N.context.currentTime),O.add(h(j,z)),A.setValueAtTime(j,z),P},setValueCurveAtTime(j,z,V){const Q=j instanceof Float32Array?j:new Float32Array(j);if(v!==null&&v.name==="webkitAudioContext"){const G=z+V,J=N.context.sampleRate,X=Math.ceil(z*J),fe=Math.floor(G*J),de=fe-X,_e=new Float32Array(de);for(let ue=0;ue<de;ue+=1){const Y=(Q.length-1)/V*((X+ue)/J-z),U=Math.floor(Y),M=Math.ceil(Y);_e[ue]=U===M?Q[U]:(1-(Y-U))*Q[U]+(1-(M-Y))*Q[M]}D===null&&O.flush(N.context.currentTime),O.add(f(_e,z,V)),A.setValueCurveAtTime(_e,z,V);const me=fe/J;me<G&&w(P,_e[_e.length-1],me),w(P,Q[Q.length-1],G)}else D===null&&O.flush(N.context.currentTime),O.add(f(Q,z,V)),A.setValueCurveAtTime(Q,z,V);return P}};return n.set(P,A),e.set(P,N),t(P,D),P},Yw=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:s}=n;e.exponentialRampToValueAtTime(s,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:s}=n;e.linearRampToValueAtTime(s,r)}else if(n.type==="setTarget"){const{startTime:r,target:s,timeConstant:i}=n;e.setTargetAtTime(s,r,i)}else if(n.type==="setValue"){const{startTime:r,value:s}=n;e.setValueAtTime(s,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:s,values:i}=n;e.setValueCurveAtTime(i,s,r)}else throw new Error("Can't apply an unknown automation.")}});class dv{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,s)=>e.call(n,r,s,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const Qw={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Xw=(t,e,n,r,s,i,a,l,c,h,f,v,w,N)=>class extends e{constructor(A,b,y){var T;const O=l(A),D=c(O),P=f({...Qw,...y});w(P);const j=Mc.get(O),z=j==null?void 0:j.get(b),V=D||O.state!=="closed"?O:(T=a(O))!==null&&T!==void 0?T:O,Q=s(V,D?null:A.baseLatency,h,b,z,P),G=D?r(b,P,z):null;super(A,!0,Q,G);const J=[];Q.parameters.forEach((fe,de)=>{const _e=n(this,D,fe);J.push([de,_e])}),this._nativeAudioWorkletNode=Q,this._onprocessorerror=null,this._parameters=new dv(J),D&&t(O,this);const{activeInputs:X}=i(this);v(Q,X)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(A){const b=typeof A=="function"?N(this,A):null;this._nativeAudioWorkletNode.onprocessorerror=b;const y=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=y!==null&&y===b?A:y}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function dl(t,e,n,r,s){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,s);else{const i=t.getChannelData(r);if(e[n].byteLength===0)e[n]=i.slice(s,s+128);else{const a=new Float32Array(i.buffer,s*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(a)}}}const fv=(t,e,n,r,s)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,s):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],s)},fl=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const s=[],i=typeof e=="number"?e:e[r];for(let a=0;a<i;a+=1)s.push(new Float32Array(128));n.push(s)}return n},Zw=(t,e)=>{const n=zn(Dc,t),r=nt(e);return zn(n,r)},Jw=async(t,e,n,r,s,i,a)=>{const l=e===null?Math.ceil(t.context.length/128)*128:e.length,c=r.channelCount*r.numberOfInputs,h=s.reduce((b,y)=>b+y,0),f=h===0?null:n.createBuffer(h,l,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const v=Ht(t),w=await Zw(n,t),N=fl(r.numberOfInputs,r.channelCount),E=fl(r.numberOfOutputs,s),A=Array.from(t.parameters.keys()).reduce((b,y)=>({...b,[y]:new Float32Array(128)}),{});for(let b=0;b<l;b+=128){if(r.numberOfInputs>0&&e!==null)for(let y=0;y<r.numberOfInputs;y+=1)for(let T=0;T<r.channelCount;T+=1)dl(e,N[y],T,T,b);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:y},T)=>{dl(e,A,y,c+T,b)});for(let y=0;y<r.numberOfInputs;y+=1)for(let T=0;T<s[y];T+=1)E[y][T].byteLength===0&&(E[y][T]=new Float32Array(128));try{const y=N.map((O,D)=>v.activeInputs[D].size===0?[]:O),T=a(b/n.sampleRate,n.sampleRate,()=>w.process(y,E,A));if(f!==null)for(let O=0,D=0;O<r.numberOfOutputs;O+=1){for(let P=0;P<s[O];P+=1)fv(f,E[O],P,D+P,b);D+=s[O]}if(!T)break}catch(y){t.dispatchEvent(new ErrorEvent("processorerror",{colno:y.colno,filename:y.filename,lineno:y.lineno,message:y.message}));break}}return f},eS=(t,e,n,r,s,i,a,l,c,h,f,v,w,N,E,A)=>(b,y,T)=>{const O=new WeakMap;let D=null;const P=async(j,z)=>{let V=f(j),Q=null;const G=Wt(V,z),J=Array.isArray(y.outputChannelCount)?y.outputChannelCount:Array.from(y.outputChannelCount);if(v===null){const X=J.reduce((me,ue)=>me+ue,0),fe=s(z,{channelCount:Math.max(1,X),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,X)}),de=[];for(let me=0;me<j.numberOfOutputs;me+=1)de.push(r(z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:J[me]}));const _e=a(z,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1});_e.connect=e.bind(null,de),_e.disconnect=c.bind(null,de),Q=[fe,de,_e]}else G||(V=new v(z,b));if(O.set(z,Q===null?V:Q[2]),Q!==null){if(D===null){if(T===void 0)throw new Error("Missing the processor constructor.");if(w===null)throw new Error("Missing the native OfflineAudioContext constructor.");const ue=j.channelCount*j.numberOfInputs,Y=T.parameterDescriptors===void 0?0:T.parameterDescriptors.length,U=ue+Y;D=Jw(j,U===0?null:await(async()=>{const I=new w(U,Math.ceil(j.context.length/128)*128,z.sampleRate),H=[],le=[];for(let g=0;g<y.numberOfInputs;g+=1)H.push(a(I,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1})),le.push(s(I,{channelCount:y.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:y.channelCount}));const ge=await Promise.all(Array.from(j.parameters.values()).map(async g=>{const _=i(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:g.value});return await N(I,g,_.offset),_})),ie=r(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,ue+Y)});for(let g=0;g<y.numberOfInputs;g+=1){H[g].connect(le[g]);for(let _=0;_<y.channelCount;_+=1)le[g].connect(ie,_,g*y.channelCount+_)}for(const[g,_]of ge.entries())_.connect(ie,0,ue+g),_.start(0);return ie.connect(I.destination),await Promise.all(H.map(g=>E(j,I,g))),A(I)})(),z,y,J,T,h)}const X=await D,fe=n(z,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[de,_e,me]=Q;X!==null&&(fe.buffer=X,fe.start(0)),fe.connect(de);for(let ue=0,Y=0;ue<j.numberOfOutputs;ue+=1){const U=_e[ue];for(let M=0;M<J[ue];M+=1)de.connect(U,Y+M,M);Y+=J[ue]}return me}if(G)for(const[X,fe]of j.parameters.entries())await t(z,fe,V.parameters.get(X));else for(const[X,fe]of j.parameters.entries())await N(z,fe,V.parameters.get(X));return await E(j,z,V),V};return{render(j,z){l(z,j);const V=O.get(z);return V!==void 0?Promise.resolve(V):P(j,z)}}},tS=(t,e,n,r,s,i,a,l,c,h,f,v,w,N,E,A,b,y,T,O)=>class extends E{constructor(P,j){super(P,j),this._nativeContext=P,this._audioWorklet=t===void 0?void 0:{addModule:(z,V)=>t(this,z,V)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new s(this)}createBuffer(P,j,z){return new n({length:j,numberOfChannels:P,sampleRate:z})}createBufferSource(){return new r(this)}createChannelMerger(P=6){return new i(this,{numberOfInputs:P})}createChannelSplitter(P=6){return new a(this,{numberOfOutputs:P})}createConstantSource(){return new l(this)}createConvolver(){return new c(this)}createDelay(P=1){return new f(this,{maxDelayTime:P})}createDynamicsCompressor(){return new v(this)}createGain(){return new w(this)}createIIRFilter(P,j){return new N(this,{feedback:j,feedforward:P})}createOscillator(){return new A(this)}createPanner(){return new b(this)}createPeriodicWave(P,j,z={disableNormalization:!1}){return new y(this,{...z,imag:j,real:P})}createStereoPanner(){return new T(this)}createWaveShaper(){return new O(this)}decodeAudioData(P,j,z){return h(this._nativeContext,P).then(V=>(typeof j=="function"&&j(V),V),V=>{throw typeof z=="function"&&z(V),V})}},nS={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},rS=(t,e,n,r,s,i,a,l)=>class extends t{constructor(h,f){const v=i(h),w={...nS,...f},N=s(v,w),E=a(v),A=E?n():null;super(h,!1,N,A),this._Q=e(this,E,N.Q,qt,tn),this._detune=e(this,E,N.detune,1200*Math.log2(qt),-1200*Math.log2(qt)),this._frequency=e(this,E,N.frequency,h.sampleRate/2,0),this._gain=e(this,E,N.gain,40*Math.log10(qt),tn),this._nativeBiquadFilterNode=N,l(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(h){this._nativeBiquadFilterNode.type=h}getFrequencyResponse(h,f,v){try{this._nativeBiquadFilterNode.getFrequencyResponse(h,f,v)}catch(w){throw w.code===11?r():w}if(h.length!==f.length||f.length!==v.length)throw r()}},sS=(t,e,n,r,s)=>()=>{const i=new WeakMap,a=async(l,c)=>{let h=n(l);const f=Wt(h,c);if(!f){const v={Q:h.Q.value,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,gain:h.gain.value,type:h.type};h=e(c,v)}return i.set(c,h),f?(await t(c,l.Q,h.Q),await t(c,l.detune,h.detune),await t(c,l.frequency,h.frequency),await t(c,l.gain,h.gain)):(await r(c,l.Q,h.Q),await r(c,l.detune,h.detune),await r(c,l.frequency,h.frequency),await r(c,l.gain,h.gain)),await s(l,c,h),h};return{render(l,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):a(l,c)}}},iS=(t,e)=>(n,r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t.get(n);if(i!==void 0)return i;try{const a=r();return a instanceof Promise?(t.set(n,a),a.catch(()=>!1).then(l=>(t.delete(n),e.set(n,l),l))):(e.set(n,a),a)}catch{return e.set(n,!1),!1}},oS={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},aS=(t,e,n,r,s)=>class extends t{constructor(a,l){const c=r(a),h={...oS,...l},f=n(c,h),v=s(c)?e():null;super(a,!1,f,v)}},lS=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,a)=>{let l=e(i);if(!Wt(l,a)){const h={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,numberOfInputs:l.numberOfInputs};l=t(a,h)}return r.set(a,l),await n(i,a,l),l};return{render(i,a){const l=r.get(a);return l!==void 0?Promise.resolve(l):s(i,a)}}},uS={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},cS=(t,e,n,r,s,i)=>class extends t{constructor(l,c){const h=r(l),f=i({...uS,...c}),v=n(h,f),w=s(h)?e():null;super(l,!1,v,w)}},hS=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,a)=>{let l=e(i);if(!Wt(l,a)){const h={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,numberOfOutputs:l.numberOfOutputs};l=t(a,h)}return r.set(a,l),await n(i,a,l),l};return{render(i,a){const l=r.get(a);return l!==void 0?Promise.resolve(l):s(i,a)}}},dS=t=>(e,n,r)=>t(n,e,r),fS=t=>(e,n,r=0,s=0)=>{const i=e[r];if(i===void 0)throw t();return hl(n)?i.connect(n,0,s):i.connect(n,0)},pS=t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=e.createBuffer(1,2,44100);return r.buffer=s,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},mS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},gS=(t,e,n,r,s,i,a)=>class extends t{constructor(c,h){const f=s(c),v={...mS,...h},w=r(f,v),N=i(f),E=N?n():null;super(c,!1,w,E),this._constantSourceNodeRenderer=E,this._nativeConstantSourceNode=w,this._offset=e(this,N,w.offset,qt,tn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(c){const h=typeof c=="function"?a(this,c):null;this._nativeConstantSourceNode.onended=h;const f=this._nativeConstantSourceNode.onended;this._onended=f!==null&&f===h?c:f}start(c=0){if(this._nativeConstantSourceNode.start(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=c),this.context.state!=="closed"){pi(this);const h=()=>{this._nativeConstantSourceNode.removeEventListener("ended",h),fr(this)&&Lo(this)};this._nativeConstantSourceNode.addEventListener("ended",h)}}stop(c=0){this._nativeConstantSourceNode.stop(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=c)}},vS=(t,e,n,r,s)=>()=>{const i=new WeakMap;let a=null,l=null;const c=async(h,f)=>{let v=n(h);const w=Wt(v,f);if(!w){const N={channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,offset:v.offset.value};v=e(f,N),a!==null&&v.start(a),l!==null&&v.stop(l)}return i.set(f,v),w?await t(f,h.offset,v.offset):await r(f,h.offset,v.offset),await s(h,f,v),v};return{set start(h){a=h},set stop(h){l=h},render(h,f){const v=i.get(f);return v!==void 0?Promise.resolve(v):c(h,f)}}},yS=t=>e=>(t[0]=e,t[0]),_S={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},wS=(t,e,n,r,s,i)=>class extends t{constructor(l,c){const h=r(l),f={..._S,...c},v=n(h,f),N=s(h)?e():null;super(l,!1,v,N),this._isBufferNullified=!1,this._nativeConvolverNode=v,f.buffer!==null&&i(this,f.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(l){if(this._nativeConvolverNode.buffer=l,l===null&&this._nativeConvolverNode.buffer!==null){const c=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=c.createBuffer(1,1,c.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(l){this._nativeConvolverNode.normalize=l}},SS=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,a)=>{let l=e(i);if(!Wt(l,a)){const h={buffer:l.buffer,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,disableNormalization:!l.normalize};l=t(a,h)}return r.set(a,l),Ei(l)?await n(i,a,l.inputs[0]):await n(i,a,l),l};return{render(i,a){const l=r.get(a);return l!==void 0?Promise.resolve(l):s(i,a)}}},kS=(t,e)=>(n,r,s)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,s)}catch(i){throw i.name==="SyntaxError"?t():i}},xS=()=>new DOMException("","DataCloneError"),pp=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{const s=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>s();try{e.postMessage(t,[t])}catch{}finally{s()}})},CS=(t,e,n,r,s,i,a,l,c,h,f)=>(v,w)=>{const N=a(v)?v:i(v);if(s.has(w)){const E=n();return Promise.reject(E)}try{s.add(w)}catch{}return e(c,()=>c(N))?N.decodeAudioData(w).then(E=>(pp(w).catch(()=>{}),e(l,()=>l(E))||f(E),t.add(E),E)):new Promise((E,A)=>{const b=async()=>{try{await pp(w)}catch{}},y=T=>{A(T),b()};try{N.decodeAudioData(w,T=>{typeof T.copyFromChannel!="function"&&(h(T),Wh(T)),t.add(T),b().then(()=>E(T))},T=>{y(T===null?r():T)})}catch(T){y(T)}})},TS=(t,e,n,r,s,i,a,l)=>(c,h)=>{const f=e.get(c);if(f===void 0)throw new Error("Missing the expected cycle count.");const v=i(c.context),w=l(v);if(f===h){if(e.delete(c),!w&&a(c)){const N=r(c),{outputs:E}=n(c);for(const A of E)if(jo(A)){const b=r(A[0]);t(N,b,A[1],A[2])}else{const b=s(A[0]);N.connect(b,A[1])}}}else e.set(c,f-h)},ES={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},bS=(t,e,n,r,s,i,a)=>class extends t{constructor(c,h){const f=s(c),v={...ES,...h},w=r(f,v),N=i(f),E=N?n(v.maxDelayTime):null;super(c,!1,w,E),this._delayTime=e(this,N,w.delayTime),a(this,v.maxDelayTime)}get delayTime(){return this._delayTime}},NS=(t,e,n,r,s)=>i=>{const a=new WeakMap,l=async(c,h)=>{let f=n(c);const v=Wt(f,h);if(!v){const w={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,delayTime:f.delayTime.value,maxDelayTime:i};f=e(h,w)}return a.set(h,f),v?await t(h,c.delayTime,f.delayTime):await r(h,c.delayTime,f.delayTime),await s(c,h,f),f};return{render(c,h){const f=a.get(h);return f!==void 0?Promise.resolve(f):l(c,h)}}},OS=t=>(e,n,r,s)=>t(e[s],i=>i[0]===n&&i[1]===r),AS=t=>(e,n)=>{t(e).delete(n)},IS=t=>"delayTime"in t,PS=(t,e,n)=>function r(s,i){const a=ll(i)?i:n(t,i);if(IS(a))return[];if(s[0]===a)return[s];if(s.includes(a))return[];const{outputs:l}=e(a);return Array.from(l).map(c=>r([...s,a],c[0])).reduce((c,h)=>c.concat(h),[])},fa=(t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},MS=t=>(e,n=void 0,r=void 0,s=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?fa(t,e,n).disconnect():hl(n)?r===void 0?e.forEach(i=>i.disconnect(n)):s===void 0?fa(t,e,r).disconnect(n,0):fa(t,e,r).disconnect(n,0,s):r===void 0?e.forEach(i=>i.disconnect(n)):fa(t,e,r).disconnect(n,0),DS={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},RS=(t,e,n,r,s,i,a,l)=>class extends t{constructor(h,f){const v=i(h),w={...DS,...f},N=r(v,w),E=a(v),A=E?n():null;super(h,!1,N,A),this._attack=e(this,E,N.attack),this._knee=e(this,E,N.knee),this._nativeDynamicsCompressorNode=N,this._ratio=e(this,E,N.ratio),this._release=e(this,E,N.release),this._threshold=e(this,E,N.threshold),l(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(h){const f=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=h,h>2)throw this._nativeDynamicsCompressorNode.channelCount=f,s()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(h){const f=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=h,h==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=f,s()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},LS=(t,e,n,r,s)=>()=>{const i=new WeakMap,a=async(l,c)=>{let h=n(l);const f=Wt(h,c);if(!f){const v={attack:h.attack.value,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,knee:h.knee.value,ratio:h.ratio.value,release:h.release.value,threshold:h.threshold.value};h=e(c,v)}return i.set(c,h),f?(await t(c,l.attack,h.attack),await t(c,l.knee,h.knee),await t(c,l.ratio,h.ratio),await t(c,l.release,h.release),await t(c,l.threshold,h.threshold)):(await r(c,l.attack,h.attack),await r(c,l.knee,h.knee),await r(c,l.ratio,h.ratio),await r(c,l.release,h.release),await r(c,l.threshold,h.threshold)),await s(l,c,h),h};return{render(l,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):a(l,c)}}},FS=()=>new DOMException("","EncodingError"),jS=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const s=t.document.head;if(s===null)r(new SyntaxError);else{const i=t.document.createElement("script"),a=new Blob([e],{type:"application/javascript"}),l=URL.createObjectURL(a),c=t.onerror,h=()=>{t.onerror=c,URL.revokeObjectURL(l)};t.onerror=(f,v,w,N,E)=>{if(v===l||v===t.location.href&&w===1&&N===1)return h(),r(E),!1;if(c!==null)return c(f,v,w,N,E)},i.onerror=()=>{h(),r(new SyntaxError)},i.onload=()=>{h(),n()},i.src=l,i.type="module",s.appendChild(i)}}),VS=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,s){if(r!==null){let i=this._listeners.get(r);i===void 0&&(i=t(this,r),typeof r=="function"&&this._listeners.set(r,i)),this._nativeEventTarget.addEventListener(n,i,s)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,s){const i=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,s)}},BS=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},KS=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},zS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},WS=(t,e,n,r,s,i)=>class extends t{constructor(l,c){const h=s(l),f={...zS,...c},v=r(h,f),w=i(h),N=w?n():null;super(l,!1,v,N),this._gain=e(this,w,v.gain,qt,tn)}get gain(){return this._gain}},US=(t,e,n,r,s)=>()=>{const i=new WeakMap,a=async(l,c)=>{let h=n(l);const f=Wt(h,c);if(!f){const v={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,gain:h.gain.value};h=e(c,v)}return i.set(c,h),f?await t(c,l.gain,h.gain):await r(c,l.gain,h.gain),await s(l,c,h),h};return{render(l,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):a(l,c)}}},$S=(t,e)=>n=>e(t,n),qS=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},HS=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},GS=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},YS=t=>e=>t.get(e),Ot=()=>new DOMException("","InvalidStateError"),QS=t=>e=>{const n=t.get(e);if(n===void 0)throw Ot();return n},XS=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},ZS=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},Ll=()=>new DOMException("","InvalidAccessError"),JS=t=>{t.getFrequencyResponse=(e=>(n,r,s)=>{if(n.length!==r.length||r.length!==s.length)throw Ll();return e.call(t,n,r,s)})(t.getFrequencyResponse)},ek={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},tk=(t,e,n,r,s,i)=>class extends t{constructor(l,c){const h=r(l),f=s(h),v={...ek,...c},w=e(h,f?null:l.baseLatency,v),N=f?n(v.feedback,v.feedforward):null;super(l,!1,w,N),JS(w),this._nativeIIRFilterNode=w,i(this,1)}getFrequencyResponse(l,c,h){return this._nativeIIRFilterNode.getFrequencyResponse(l,c,h)}},pv=(t,e,n,r,s,i,a,l,c,h,f)=>{const v=h.length;let w=l;for(let N=0;N<v;N+=1){let E=n[0]*h[N];for(let A=1;A<s;A+=1){const b=w-A&c-1;E+=n[A]*i[b],E-=t[A]*a[b]}for(let A=s;A<r;A+=1)E+=n[A]*i[w-A&c-1];for(let A=s;A<e;A+=1)E-=t[A]*a[w-A&c-1];i[w]=h[N],a[w]=E,w=w+1&c-1,f[N]=E}return w},nk=(t,e,n,r)=>{const s=n instanceof Float64Array?n:new Float64Array(n),i=r instanceof Float64Array?r:new Float64Array(r),a=s.length,l=i.length,c=Math.min(a,l);if(s[0]!==1){for(let E=0;E<a;E+=1)i[E]/=s[0];for(let E=1;E<l;E+=1)s[E]/=s[0]}const h=32,f=new Float32Array(h),v=new Float32Array(h),w=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),N=t.numberOfChannels;for(let E=0;E<N;E+=1){const A=t.getChannelData(E),b=w.getChannelData(E);f.fill(0),v.fill(0),pv(s,a,i,l,c,f,v,0,h,A,b)}return w},rk=(t,e,n,r,s)=>(i,a)=>{const l=new WeakMap;let c=null;const h=async(f,v)=>{let w=null,N=e(f);const E=Wt(N,v);if(v.createIIRFilter===void 0?w=t(v,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):E||(N=v.createIIRFilter(a,i)),l.set(v,w===null?N:w),w!==null){if(c===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const b=new n(f.context.destination.channelCount,f.context.length,v.sampleRate);c=(async()=>{await r(f,b,b.destination);const y=await s(b);return nk(y,v,i,a)})()}const A=await c;return w.buffer=A,w.start(0),w}return await r(f,v,N),N};return{render(f,v){const w=l.get(v);return w!==void 0?Promise.resolve(w):h(f,v)}}},sk=(t,e,n,r,s,i)=>a=>(l,c)=>{const h=t.get(l);if(h===void 0){if(!a&&i(l)){const f=r(l),{outputs:v}=n(l);for(const w of v)if(jo(w)){const N=r(w[0]);e(f,N,w[1],w[2])}else{const N=s(w[0]);f.disconnect(N,w[1])}}t.set(l,c)}else t.set(l,h+c)},ik=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},ok=(t,e)=>n=>t.has(n)||e(n),ak=(t,e)=>n=>t.has(n)||e(n),lk=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},uk=t=>e=>t!==null&&e instanceof t,ck=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,hk=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,dk=(t,e)=>n=>t(n)||e(n),fk=t=>e=>t!==null&&e instanceof t,pk=t=>t!==null&&t.isSecureContext,mk=(t,e,n,r)=>class extends t{constructor(i,a){const l=n(i),c=e(l,a);if(r(l))throw TypeError();super(i,!0,c,null),this._nativeMediaElementAudioSourceNode=c}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},gk={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},vk=(t,e,n,r)=>class extends t{constructor(i,a){const l=n(i);if(r(l))throw new TypeError;const c={...gk,...a},h=e(l,c);super(i,!1,h,null),this._nativeMediaStreamAudioDestinationNode=h}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},yk=(t,e,n,r)=>class extends t{constructor(i,a){const l=n(i),c=e(l,a);if(r(l))throw new TypeError;super(i,!0,c,null),this._nativeMediaStreamAudioSourceNode=c}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},_k=(t,e,n)=>class extends t{constructor(s,i){const a=n(s),l=e(a,i);super(s,!0,l,null)}},wk=(t,e,n,r,s,i)=>class extends n{constructor(l,c){super(l),this._nativeContext=l,Dl.set(this,l),r(l)&&s.set(l,new Set),this._destination=new t(this,c),this._listener=e(this,l),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(l){const c=typeof l=="function"?i(this,l):null;this._nativeContext.onstatechange=c;const h=this._nativeContext.onstatechange;this._onstatechange=h!==null&&h===c?l:h}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},bo=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},Sk=(t,e)=>(n,r,s)=>{const i=new Set;return n.connect=(a=>(l,c=0,h=0)=>{const f=i.size===0;if(e(l))return a.call(n,l,c,h),t(i,[l,c,h],v=>v[0]===l&&v[1]===c&&v[2]===h,!0),f&&r(),l;a.call(n,l,c),t(i,[l,c],v=>v[0]===l&&v[1]===c,!0),f&&r()})(n.connect),n.disconnect=(a=>(l,c,h)=>{const f=i.size>0;if(l===void 0)a.apply(n),i.clear();else if(typeof l=="number"){a.call(n,l);for(const w of i)w[1]===l&&i.delete(w)}else{e(l)?a.call(n,l,c,h):a.call(n,l,c);for(const w of i)w[0]===l&&(c===void 0||w[1]===c)&&(h===void 0||w[2]===h)&&i.delete(w)}const v=i.size===0;f&&v&&s()})(n.disconnect),n},rt=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},Tt=(t,e)=>{rt(t,e,"channelCount"),rt(t,e,"channelCountMode"),rt(t,e,"channelInterpretation")},mp=t=>typeof t.getFloatTimeDomainData=="function",kk=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let s=0;s<r;s+=1)e[s]=(n[s]-128)*.0078125;return e}},xk=(t,e)=>(n,r)=>{const s=n.createAnalyser();if(Tt(s,r),!(r.maxDecibels>r.minDecibels))throw e();return rt(s,r,"fftSize"),rt(s,r,"maxDecibels"),rt(s,r,"minDecibels"),rt(s,r,"smoothingTimeConstant"),t(mp,()=>mp(s))||kk(s),s},Ck=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,ht=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},Tk=t=>{t.start=(e=>{let n=!1;return(r=0,s=0,i)=>{if(n)throw Ot();e.call(t,r,s,i),n=!0}})(t.start)},qh=t=>{t.start=(e=>(n=0,r=0,s)=>{if(typeof s=="number"&&s<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,s)})(t.start)},Hh=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},Ek=(t,e,n,r,s,i,a,l,c,h,f)=>(v,w)=>{const N=v.createBufferSource();return Tt(N,w),ht(N,w,"playbackRate"),rt(N,w,"buffer"),rt(N,w,"loop"),rt(N,w,"loopEnd"),rt(N,w,"loopStart"),e(n,()=>n(v))||Tk(N),e(r,()=>r(v))||c(N),e(s,()=>s(v))||h(N,v),e(i,()=>i(v))||qh(N),e(a,()=>a(v))||f(N,v),e(l,()=>l(v))||Hh(N),t(v,N),N},bk=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,Nk=(t,e)=>(n,r,s)=>{const i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch{}s&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});const a=t(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(a,"channelCount",l=>()=>l.call(a),l=>c=>{l.call(a,c);try{i.channelCount=c}catch(h){if(c>i.maxChannelCount)throw h}}),e(a,"channelCountMode",l=>()=>l.call(a),l=>c=>{l.call(a,c),i.channelCountMode=c}),e(a,"channelInterpretation",l=>()=>l.call(a),l=>c=>{l.call(a,c),i.channelInterpretation=c}),Object.defineProperty(a,"maxChannelCount",{get:()=>i.maxChannelCount}),a.connect(i),a},Ok=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,Ak=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},Ik=(t,e,n,r,s)=>(i,a,l,c,h,f)=>{if(l!==null)try{const v=new l(i,c,f),w=new Map;let N=null;if(Object.defineProperties(v,{channelCount:{get:()=>f.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>N,set:E=>{typeof N=="function"&&v.removeEventListener("processorerror",N),N=typeof E=="function"?E:null,typeof N=="function"&&v.addEventListener("processorerror",N)}}}),v.addEventListener=(E=>(...A)=>{if(A[0]==="processorerror"){const b=typeof A[1]=="function"?A[1]:typeof A[1]=="object"&&A[1]!==null&&typeof A[1].handleEvent=="function"?A[1].handleEvent:null;if(b!==null){const y=w.get(A[1]);y!==void 0?A[1]=y:(A[1]=T=>{T.type==="error"?(Object.defineProperties(T,{type:{value:"processorerror"}}),b(T)):b(new ErrorEvent(A[0],{...T}))},w.set(b,A[1]))}}return E.call(v,"error",A[1],A[2]),E.call(v,...A)})(v.addEventListener),v.removeEventListener=(E=>(...A)=>{if(A[0]==="processorerror"){const b=w.get(A[1]);b!==void 0&&(w.delete(A[1]),A[1]=b)}return E.call(v,"error",A[1],A[2]),E.call(v,A[0],A[1],A[2])})(v.removeEventListener),f.numberOfOutputs!==0){const E=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return v.connect(E).connect(i.destination),s(v,()=>E.disconnect(),()=>E.connect(i.destination))}return v}catch(v){throw v.code===11?r():v}if(h===void 0)throw r();return Ak(f),e(i,a,h,f)},mv=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),Pk=t=>new Promise((e,n)=>{const{port1:r,port2:s}=new MessageChannel;r.onmessage=({data:i})=>{r.close(),s.close(),e(i)},r.onmessageerror=({data:i})=>{r.close(),s.close(),n(i)},s.postMessage(t)}),Mk=async(t,e)=>{const n=await Pk(e);return new t(n)},Dk=(t,e,n,r)=>{let s=Dc.get(t);s===void 0&&(s=new WeakMap,Dc.set(t,s));const i=Mk(n,r);return s.set(e,i),i},Rk=(t,e,n,r,s,i,a,l,c,h,f,v,w)=>(N,E,A,b)=>{if(b.numberOfInputs===0&&b.numberOfOutputs===0)throw c();const y=Array.isArray(b.outputChannelCount)?b.outputChannelCount:Array.from(b.outputChannelCount);if(y.some(S=>S<1))throw c();if(y.length!==b.numberOfOutputs)throw e();if(b.channelCountMode!=="explicit")throw c();const T=b.channelCount*b.numberOfInputs,O=y.reduce((S,x)=>S+x,0),D=A.parameterDescriptors===void 0?0:A.parameterDescriptors.length;if(T+D>6||O>6)throw c();const P=new MessageChannel,j=[],z=[];for(let S=0;S<b.numberOfInputs;S+=1)j.push(a(N,{channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,gain:1})),z.push(s(N,{channelCount:b.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:b.channelCount}));const V=[];if(A.parameterDescriptors!==void 0)for(const{defaultValue:S,maxValue:x,minValue:L,name:B}of A.parameterDescriptors){const R=i(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:b.parameterData[B]!==void 0?b.parameterData[B]:S===void 0?0:S});Object.defineProperties(R.offset,{defaultValue:{get:()=>S===void 0?0:S},maxValue:{get:()=>x===void 0?qt:x},minValue:{get:()=>L===void 0?tn:L}}),V.push(R)}const Q=r(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,T+D)}),G=mv(E,N.sampleRate),J=l(N,G,T+D,Math.max(1,O)),X=s(N,{channelCount:Math.max(1,O),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,O)}),fe=[];for(let S=0;S<b.numberOfOutputs;S+=1)fe.push(r(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:y[S]}));for(let S=0;S<b.numberOfInputs;S+=1){j[S].connect(z[S]);for(let x=0;x<b.channelCount;x+=1)z[S].connect(Q,x,S*b.channelCount+x)}const de=new dv(A.parameterDescriptors===void 0?[]:A.parameterDescriptors.map(({name:S},x)=>{const L=V[x];return L.connect(Q,0,T+x),L.start(0),[S,L.offset]}));Q.connect(J);let _e=b.channelInterpretation,me=null;const ue=b.numberOfOutputs===0?[J]:fe,Y={get bufferSize(){return G},get channelCount(){return b.channelCount},set channelCount(S){throw n()},get channelCountMode(){return b.channelCountMode},set channelCountMode(S){throw n()},get channelInterpretation(){return _e},set channelInterpretation(S){for(const x of j)x.channelInterpretation=S;_e=S},get context(){return J.context},get inputs(){return j},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},get onprocessorerror(){return me},set onprocessorerror(S){typeof me=="function"&&Y.removeEventListener("processorerror",me),me=typeof S=="function"?S:null,typeof me=="function"&&Y.addEventListener("processorerror",me)},get parameters(){return de},get port(){return P.port2},addEventListener(...S){return J.addEventListener(S[0],S[1],S[2])},connect:t.bind(null,ue),disconnect:h.bind(null,ue),dispatchEvent(...S){return J.dispatchEvent(S[0])},removeEventListener(...S){return J.removeEventListener(S[0],S[1],S[2])}},U=new Map;P.port1.addEventListener=(S=>(...x)=>{if(x[0]==="message"){const L=typeof x[1]=="function"?x[1]:typeof x[1]=="object"&&x[1]!==null&&typeof x[1].handleEvent=="function"?x[1].handleEvent:null;if(L!==null){const B=U.get(x[1]);B!==void 0?x[1]=B:(x[1]=R=>{f(N.currentTime,N.sampleRate,()=>L(R))},U.set(L,x[1]))}}return S.call(P.port1,x[0],x[1],x[2])})(P.port1.addEventListener),P.port1.removeEventListener=(S=>(...x)=>{if(x[0]==="message"){const L=U.get(x[1]);L!==void 0&&(U.delete(x[1]),x[1]=L)}return S.call(P.port1,x[0],x[1],x[2])})(P.port1.removeEventListener);let M=null;Object.defineProperty(P.port1,"onmessage",{get:()=>M,set:S=>{typeof M=="function"&&P.port1.removeEventListener("message",M),M=typeof S=="function"?S:null,typeof M=="function"&&(P.port1.addEventListener("message",M),P.port1.start())}}),A.prototype.port=P.port1;let I=null;Dk(N,Y,A,b).then(S=>I=S);const le=fl(b.numberOfInputs,b.channelCount),ge=fl(b.numberOfOutputs,y),ie=A.parameterDescriptors===void 0?[]:A.parameterDescriptors.reduce((S,{name:x})=>({...S,[x]:new Float32Array(128)}),{});let g=!0;const _=()=>{b.numberOfOutputs>0&&J.disconnect(X);for(let S=0,x=0;S<b.numberOfOutputs;S+=1){const L=fe[S];for(let B=0;B<y[S];B+=1)X.disconnect(L,x+B,B);x+=y[S]}},o=new Map;J.onaudioprocess=({inputBuffer:S,outputBuffer:x})=>{if(I!==null){const L=v(Y);for(let B=0;B<G;B+=128){for(let R=0;R<b.numberOfInputs;R+=1)for(let F=0;F<b.channelCount;F+=1)dl(S,le[R],F,F,B);A.parameterDescriptors!==void 0&&A.parameterDescriptors.forEach(({name:R},F)=>{dl(S,ie,R,T+F,B)});for(let R=0;R<b.numberOfInputs;R+=1)for(let F=0;F<y[R];F+=1)ge[R][F].byteLength===0&&(ge[R][F]=new Float32Array(128));try{const R=le.map((W,K)=>{if(L[K].size>0)return o.set(K,G/128),W;const q=o.get(K);return q===void 0?[]:(W.every(Z=>Z.every(se=>se===0))&&(q===1?o.delete(K):o.set(K,q-1)),W)});g=f(N.currentTime+B/N.sampleRate,N.sampleRate,()=>I.process(R,ge,ie));for(let W=0,K=0;W<b.numberOfOutputs;W+=1){for(let $=0;$<y[W];$+=1)fv(x,ge[W],$,K+$,B);K+=y[W]}}catch(R){g=!1,Y.dispatchEvent(new ErrorEvent("processorerror",{colno:R.colno,filename:R.filename,lineno:R.lineno,message:R.message}))}if(!g){for(let R=0;R<b.numberOfInputs;R+=1){j[R].disconnect(z[R]);for(let F=0;F<b.channelCount;F+=1)z[B].disconnect(Q,F,R*b.channelCount+F)}if(A.parameterDescriptors!==void 0){const R=A.parameterDescriptors.length;for(let F=0;F<R;F+=1){const W=V[F];W.disconnect(Q,0,T+F),W.stop()}}Q.disconnect(J),J.onaudioprocess=null,u?_():m();break}}}};let u=!1;const d=a(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),p=()=>J.connect(d).connect(N.destination),m=()=>{J.disconnect(d),d.disconnect()},k=()=>{if(g){m(),b.numberOfOutputs>0&&J.connect(X);for(let S=0,x=0;S<b.numberOfOutputs;S+=1){const L=fe[S];for(let B=0;B<y[S];B+=1)X.connect(L,x+B,B);x+=y[S]}}u=!0},C=()=>{g&&(p(),_()),u=!1};return p(),w(Y,k,C)},gv=(t,e)=>{const n=t.createBiquadFilter();return Tt(n,e),ht(n,e,"Q"),ht(n,e,"detune"),ht(n,e,"frequency"),ht(n,e,"gain"),rt(n,e,"type"),n},Lk=(t,e)=>(n,r)=>{const s=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,s),Tt(s,r),s},Fk=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Ot()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Ot()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Ot()}})},Vo=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Tt(n,e),Fk(n),n},jk=(t,e,n,r,s)=>(i,a)=>{if(i.createConstantSource===void 0)return n(i,a);const l=i.createConstantSource();return Tt(l,a),ht(l,a,"offset"),e(r,()=>r(i))||qh(l),e(s,()=>s(i))||Hh(l),t(i,l),l},bi=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),Vk=(t,e,n,r)=>(s,{offset:i,...a})=>{const l=s.createBuffer(1,2,44100),c=e(s,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),h=n(s,{...a,gain:i}),f=l.getChannelData(0);f[0]=1,f[1]=1,c.buffer=l,c.loop=!0;const v={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(E){h.channelCount=E},get channelCountMode(){return h.channelCountMode},set channelCountMode(E){h.channelCountMode=E},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(E){h.channelInterpretation=E},get context(){return h.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get offset(){return h.gain},get onended(){return c.onended},set onended(E){c.onended=E},addEventListener(...E){return c.addEventListener(E[0],E[1],E[2])},dispatchEvent(...E){return c.dispatchEvent(E[0])},removeEventListener(...E){return c.removeEventListener(E[0],E[1],E[2])},start(E=0){c.start.call(c,E)},stop(E=0){c.stop.call(c,E)}},w=()=>c.connect(h),N=()=>c.disconnect(h);return t(s,c),r(bi(v,h),w,N)},Bk=(t,e)=>(n,r)=>{const s=n.createConvolver();if(Tt(s,r),r.disableNormalization===s.normalize&&(s.normalize=!r.disableNormalization),rt(s,r,"buffer"),r.channelCount>2||(e(s,"channelCount",i=>()=>i.call(s),i=>a=>{if(a>2)throw t();return i.call(s,a)}),r.channelCountMode==="max"))throw t();return e(s,"channelCountMode",i=>()=>i.call(s),i=>a=>{if(a==="max")throw t();return i.call(s,a)}),s},vv=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Tt(n,e),ht(n,e,"delayTime"),n},Kk=t=>(e,n)=>{const r=e.createDynamicsCompressor();if(Tt(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return ht(r,n,"attack"),ht(r,n,"knee"),ht(r,n,"ratio"),ht(r,n,"release"),ht(r,n,"threshold"),r},ln=(t,e)=>{const n=t.createGain();return Tt(n,e),ht(n,e,"gain"),n},zk=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);const s=e.createIIRFilter(r.feedforward,r.feedback);return Tt(s,r),s};function Wk(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function Uk(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function gp(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=Uk(n,e),n[0]+=t[r];return n}const $k=(t,e,n,r)=>(s,i,{channelCount:a,channelCountMode:l,channelInterpretation:c,feedback:h,feedforward:f})=>{const v=mv(i,s.sampleRate),w=h instanceof Float64Array?h:new Float64Array(h),N=f instanceof Float64Array?f:new Float64Array(f),E=w.length,A=N.length,b=Math.min(E,A);if(E===0||E>20)throw r();if(w[0]===0)throw e();if(A===0||A>20)throw r();if(N[0]===0)throw e();if(w[0]!==1){for(let V=0;V<A;V+=1)N[V]/=w[0];for(let V=1;V<E;V+=1)w[V]/=w[0]}const y=n(s,v,a,a);y.channelCount=a,y.channelCountMode=l,y.channelInterpretation=c;const T=32,O=[],D=[],P=[];for(let V=0;V<a;V+=1){O.push(0);const Q=new Float32Array(T),G=new Float32Array(T);Q.fill(0),G.fill(0),D.push(Q),P.push(G)}y.onaudioprocess=V=>{const Q=V.inputBuffer,G=V.outputBuffer,J=Q.numberOfChannels;for(let X=0;X<J;X+=1){const fe=Q.getChannelData(X),de=G.getChannelData(X);O[X]=pv(w,E,N,A,b,D[X],P[X],O[X],T,fe,de)}};const j=s.sampleRate/2;return bi({get bufferSize(){return v},get channelCount(){return y.channelCount},set channelCount(V){y.channelCount=V},get channelCountMode(){return y.channelCountMode},set channelCountMode(V){y.channelCountMode=V},get channelInterpretation(){return y.channelInterpretation},set channelInterpretation(V){y.channelInterpretation=V},get context(){return y.context},get inputs(){return[y]},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},addEventListener(...V){return y.addEventListener(V[0],V[1],V[2])},dispatchEvent(...V){return y.dispatchEvent(V[0])},getFrequencyResponse(V,Q,G){if(V.length!==Q.length||Q.length!==G.length)throw t();const J=V.length;for(let X=0;X<J;X+=1){const fe=-Math.PI*(V[X]/j),de=[Math.cos(fe),Math.sin(fe)],_e=gp(N,de),me=gp(w,de),ue=Wk(_e,me);Q[X]=Math.sqrt(ue[0]*ue[0]+ue[1]*ue[1]),G[X]=Math.atan2(ue[1],ue[0])}},removeEventListener(...V){return y.removeEventListener(V[0],V[1],V[2])}},y)},qk=(t,e)=>t.createMediaElementSource(e.mediaElement),Hk=(t,e)=>{const n=t.createMediaStreamDestination();return Tt(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},Gk=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,a)=>i.id<a.id?-1:i.id>a.id?1:0);const r=n.slice(0,1),s=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(s,"mediaStream",{value:e}),s},Yk=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const s=new MediaStream([r]),i=n.createMediaStreamSource(s);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return i},Qk=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,Xk=(t,e,n,r,s,i)=>(a,l)=>{const c=a.createOscillator();return Tt(c,l),ht(c,l,"detune"),ht(c,l,"frequency"),l.periodicWave!==void 0?c.setPeriodicWave(l.periodicWave):rt(c,l,"type"),e(n,()=>n(a))||qh(c),e(r,()=>r(a))||i(c,a),e(s,()=>s(a))||Hh(c),t(a,c),c},Zk=t=>(e,n)=>{const r=e.createPanner();return r.orientationX===void 0?t(e,n):(Tt(r,n),ht(r,n,"orientationX"),ht(r,n,"orientationY"),ht(r,n,"orientationZ"),ht(r,n,"positionX"),ht(r,n,"positionY"),ht(r,n,"positionZ"),rt(r,n,"coneInnerAngle"),rt(r,n,"coneOuterAngle"),rt(r,n,"coneOuterGain"),rt(r,n,"distanceModel"),rt(r,n,"maxDistance"),rt(r,n,"panningModel"),rt(r,n,"refDistance"),rt(r,n,"rolloffFactor"),r)},Jk=(t,e,n,r,s,i,a,l,c,h)=>(f,{coneInnerAngle:v,coneOuterAngle:w,coneOuterGain:N,distanceModel:E,maxDistance:A,orientationX:b,orientationY:y,orientationZ:T,panningModel:O,positionX:D,positionY:P,positionZ:j,refDistance:z,rolloffFactor:V,...Q})=>{const G=f.createPanner();if(Q.channelCount>2||Q.channelCountMode==="max")throw a();Tt(G,Q);const J={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},X=n(f,{...J,channelInterpretation:"speakers",numberOfInputs:6}),fe=r(f,{...Q,gain:1}),de=r(f,{...J,gain:1}),_e=r(f,{...J,gain:0}),me=r(f,{...J,gain:0}),ue=r(f,{...J,gain:0}),Y=r(f,{...J,gain:0}),U=r(f,{...J,gain:0}),M=s(f,256,6,1),I=i(f,{...J,curve:new Float32Array([1,1]),oversample:"none"});let H=[b,y,T],le=[D,P,j];const ge=new Float32Array(1);M.onaudioprocess=({inputBuffer:o})=>{const u=[c(o,ge,0),c(o,ge,1),c(o,ge,2)];u.some((p,m)=>p!==H[m])&&(G.setOrientation(...u),H=u);const d=[c(o,ge,3),c(o,ge,4),c(o,ge,5)];d.some((p,m)=>p!==le[m])&&(G.setPosition(...d),le=d)},Object.defineProperty(_e.gain,"defaultValue",{get:()=>0}),Object.defineProperty(me.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ue.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Y.gain,"defaultValue",{get:()=>0}),Object.defineProperty(U.gain,"defaultValue",{get:()=>0});const ie={get bufferSize(){},get channelCount(){return G.channelCount},set channelCount(o){if(o>2)throw a();fe.channelCount=o,G.channelCount=o},get channelCountMode(){return G.channelCountMode},set channelCountMode(o){if(o==="max")throw a();fe.channelCountMode=o,G.channelCountMode=o},get channelInterpretation(){return G.channelInterpretation},set channelInterpretation(o){fe.channelInterpretation=o,G.channelInterpretation=o},get coneInnerAngle(){return G.coneInnerAngle},set coneInnerAngle(o){G.coneInnerAngle=o},get coneOuterAngle(){return G.coneOuterAngle},set coneOuterAngle(o){G.coneOuterAngle=o},get coneOuterGain(){return G.coneOuterGain},set coneOuterGain(o){if(o<0||o>1)throw e();G.coneOuterGain=o},get context(){return G.context},get distanceModel(){return G.distanceModel},set distanceModel(o){G.distanceModel=o},get inputs(){return[fe]},get maxDistance(){return G.maxDistance},set maxDistance(o){if(o<0)throw new RangeError;G.maxDistance=o},get numberOfInputs(){return G.numberOfInputs},get numberOfOutputs(){return G.numberOfOutputs},get orientationX(){return de.gain},get orientationY(){return _e.gain},get orientationZ(){return me.gain},get panningModel(){return G.panningModel},set panningModel(o){G.panningModel=o},get positionX(){return ue.gain},get positionY(){return Y.gain},get positionZ(){return U.gain},get refDistance(){return G.refDistance},set refDistance(o){if(o<0)throw new RangeError;G.refDistance=o},get rolloffFactor(){return G.rolloffFactor},set rolloffFactor(o){if(o<0)throw new RangeError;G.rolloffFactor=o},addEventListener(...o){return fe.addEventListener(o[0],o[1],o[2])},dispatchEvent(...o){return fe.dispatchEvent(o[0])},removeEventListener(...o){return fe.removeEventListener(o[0],o[1],o[2])}};v!==ie.coneInnerAngle&&(ie.coneInnerAngle=v),w!==ie.coneOuterAngle&&(ie.coneOuterAngle=w),N!==ie.coneOuterGain&&(ie.coneOuterGain=N),E!==ie.distanceModel&&(ie.distanceModel=E),A!==ie.maxDistance&&(ie.maxDistance=A),b!==ie.orientationX.value&&(ie.orientationX.value=b),y!==ie.orientationY.value&&(ie.orientationY.value=y),T!==ie.orientationZ.value&&(ie.orientationZ.value=T),O!==ie.panningModel&&(ie.panningModel=O),D!==ie.positionX.value&&(ie.positionX.value=D),P!==ie.positionY.value&&(ie.positionY.value=P),j!==ie.positionZ.value&&(ie.positionZ.value=j),z!==ie.refDistance&&(ie.refDistance=z),V!==ie.rolloffFactor&&(ie.rolloffFactor=V),(H[0]!==1||H[1]!==0||H[2]!==0)&&G.setOrientation(...H),(le[0]!==0||le[1]!==0||le[2]!==0)&&G.setPosition(...le);const g=()=>{fe.connect(G),t(fe,I,0,0),I.connect(de).connect(X,0,0),I.connect(_e).connect(X,0,1),I.connect(me).connect(X,0,2),I.connect(ue).connect(X,0,3),I.connect(Y).connect(X,0,4),I.connect(U).connect(X,0,5),X.connect(M).connect(f.destination)},_=()=>{fe.disconnect(G),l(fe,I,0,0),I.disconnect(de),de.disconnect(X),I.disconnect(_e),_e.disconnect(X),I.disconnect(me),me.disconnect(X),I.disconnect(ue),ue.disconnect(X),I.disconnect(Y),Y.disconnect(X),I.disconnect(U),U.disconnect(X),X.disconnect(M),M.disconnect(f.destination)};return h(bi(ie,G),g,_)},ex=t=>(e,{disableNormalization:n,imag:r,real:s})=>{const i=r instanceof Float32Array?r:new Float32Array(r),a=s instanceof Float32Array?s:new Float32Array(s),l=e.createPeriodicWave(a,i,{disableNormalization:n});if(Array.from(r).length<2)throw t();return l},Bo=(t,e,n,r)=>t.createScriptProcessor(e,n,r),tx=(t,e)=>(n,r)=>{const s=r.channelCountMode;if(s==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);const i=n.createStereoPanner();return Tt(i,r),ht(i,r,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>s,set:a=>{if(a!==s)throw e()}}),i},nx=(t,e,n,r,s,i)=>{const l=new Float32Array([1,1]),c=Math.PI/2,h={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},f={...h,oversample:"none"},v=(E,A,b,y)=>{const T=new Float32Array(16385),O=new Float32Array(16385);for(let Q=0;Q<16385;Q+=1){const G=Q/16384*c;T[Q]=Math.cos(G),O[Q]=Math.sin(G)}const D=n(E,{...h,gain:0}),P=r(E,{...f,curve:T}),j=r(E,{...f,curve:l}),z=n(E,{...h,gain:0}),V=r(E,{...f,curve:O});return{connectGraph(){A.connect(D),A.connect(j.inputs===void 0?j:j.inputs[0]),A.connect(z),j.connect(b),b.connect(P.inputs===void 0?P:P.inputs[0]),b.connect(V.inputs===void 0?V:V.inputs[0]),P.connect(D.gain),V.connect(z.gain),D.connect(y,0,0),z.connect(y,0,1)},disconnectGraph(){A.disconnect(D),A.disconnect(j.inputs===void 0?j:j.inputs[0]),A.disconnect(z),j.disconnect(b),b.disconnect(P.inputs===void 0?P:P.inputs[0]),b.disconnect(V.inputs===void 0?V:V.inputs[0]),P.disconnect(D.gain),V.disconnect(z.gain),D.disconnect(y,0,0),z.disconnect(y,0,1)}}},w=(E,A,b,y)=>{const T=new Float32Array(16385),O=new Float32Array(16385),D=new Float32Array(16385),P=new Float32Array(16385),j=Math.floor(16385/2);for(let ue=0;ue<16385;ue+=1)if(ue>j){const Y=(ue-j)/(16384-j)*c;T[ue]=Math.cos(Y),O[ue]=Math.sin(Y),D[ue]=0,P[ue]=1}else{const Y=ue/(16384-j)*c;T[ue]=1,O[ue]=0,D[ue]=Math.cos(Y),P[ue]=Math.sin(Y)}const z=e(E,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),V=n(E,{...h,gain:0}),Q=r(E,{...f,curve:T}),G=n(E,{...h,gain:0}),J=r(E,{...f,curve:O}),X=r(E,{...f,curve:l}),fe=n(E,{...h,gain:0}),de=r(E,{...f,curve:D}),_e=n(E,{...h,gain:0}),me=r(E,{...f,curve:P});return{connectGraph(){A.connect(z),A.connect(X.inputs===void 0?X:X.inputs[0]),z.connect(V,0),z.connect(G,0),z.connect(fe,1),z.connect(_e,1),X.connect(b),b.connect(Q.inputs===void 0?Q:Q.inputs[0]),b.connect(J.inputs===void 0?J:J.inputs[0]),b.connect(de.inputs===void 0?de:de.inputs[0]),b.connect(me.inputs===void 0?me:me.inputs[0]),Q.connect(V.gain),J.connect(G.gain),de.connect(fe.gain),me.connect(_e.gain),V.connect(y,0,0),fe.connect(y,0,0),G.connect(y,0,1),_e.connect(y,0,1)},disconnectGraph(){A.disconnect(z),A.disconnect(X.inputs===void 0?X:X.inputs[0]),z.disconnect(V,0),z.disconnect(G,0),z.disconnect(fe,1),z.disconnect(_e,1),X.disconnect(b),b.disconnect(Q.inputs===void 0?Q:Q.inputs[0]),b.disconnect(J.inputs===void 0?J:J.inputs[0]),b.disconnect(de.inputs===void 0?de:de.inputs[0]),b.disconnect(me.inputs===void 0?me:me.inputs[0]),Q.disconnect(V.gain),J.disconnect(G.gain),de.disconnect(fe.gain),me.disconnect(_e.gain),V.disconnect(y,0,0),fe.disconnect(y,0,0),G.disconnect(y,0,1),_e.disconnect(y,0,1)}}},N=(E,A,b,y,T)=>{if(A===1)return v(E,b,y,T);if(A===2)return w(E,b,y,T);throw s()};return(E,{channelCount:A,channelCountMode:b,pan:y,...T})=>{if(b==="max")throw s();const O=t(E,{...T,channelCount:1,channelCountMode:b,numberOfInputs:2}),D=n(E,{...T,channelCount:A,channelCountMode:b,gain:1}),P=n(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:y});let{connectGraph:j,disconnectGraph:z}=N(E,A,D,P,O);Object.defineProperty(P.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"maxValue",{get:()=>1}),Object.defineProperty(P.gain,"minValue",{get:()=>-1});const V={get bufferSize(){},get channelCount(){return D.channelCount},set channelCount(X){D.channelCount!==X&&(Q&&z(),{connectGraph:j,disconnectGraph:z}=N(E,X,D,P,O),Q&&j()),D.channelCount=X},get channelCountMode(){return D.channelCountMode},set channelCountMode(X){if(X==="clamped-max"||X==="max")throw s();D.channelCountMode=X},get channelInterpretation(){return D.channelInterpretation},set channelInterpretation(X){D.channelInterpretation=X},get context(){return D.context},get inputs(){return[D]},get numberOfInputs(){return D.numberOfInputs},get numberOfOutputs(){return D.numberOfOutputs},get pan(){return P.gain},addEventListener(...X){return D.addEventListener(X[0],X[1],X[2])},dispatchEvent(...X){return D.dispatchEvent(X[0])},removeEventListener(...X){return D.removeEventListener(X[0],X[1],X[2])}};let Q=!1;const G=()=>{j(),Q=!0},J=()=>{z(),Q=!1};return i(bi(V,O),G,J)}},rx=(t,e,n,r,s,i,a)=>(l,c)=>{const h=l.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&l.createGain().gain.automationRate===void 0)return n(l,c);Tt(h,c);const f=c.curve===null||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(f!==null&&f.length<2)throw e();rt(h,{curve:f},"curve"),rt(h,c,"oversample");let v=null,w=!1;return a(h,"curve",A=>()=>A.call(h),A=>b=>(A.call(h,b),w&&(r(b)&&v===null?v=t(l,h):!r(b)&&v!==null&&(v(),v=null)),b)),s(h,()=>{w=!0,r(h.curve)&&(v=t(l,h))},()=>{w=!1,v!==null&&(v(),v=null)})},sx=(t,e,n,r,s)=>(i,{curve:a,oversample:l,...c})=>{const h=i.createWaveShaper(),f=i.createWaveShaper();Tt(h,c),Tt(f,c);const v=n(i,{...c,gain:1}),w=n(i,{...c,gain:-1}),N=n(i,{...c,gain:1}),E=n(i,{...c,gain:-1});let A=null,b=!1,y=null;const T={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(P){v.channelCount=P,w.channelCount=P,h.channelCount=P,N.channelCount=P,f.channelCount=P,E.channelCount=P},get channelCountMode(){return h.channelCountMode},set channelCountMode(P){v.channelCountMode=P,w.channelCountMode=P,h.channelCountMode=P,N.channelCountMode=P,f.channelCountMode=P,E.channelCountMode=P},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(P){v.channelInterpretation=P,w.channelInterpretation=P,h.channelInterpretation=P,N.channelInterpretation=P,f.channelInterpretation=P,E.channelInterpretation=P},get context(){return h.context},get curve(){return y},set curve(P){if(P!==null&&P.length<2)throw e();if(P===null)h.curve=P,f.curve=P;else{const j=P.length,z=new Float32Array(j+2-j%2),V=new Float32Array(j+2-j%2);z[0]=P[0],V[0]=-P[j-1];const Q=Math.ceil((j+1)/2),G=(j+1)/2-1;for(let J=1;J<Q;J+=1){const X=J/Q*G,fe=Math.floor(X),de=Math.ceil(X);z[J]=fe===de?P[fe]:(1-(X-fe))*P[fe]+(1-(de-X))*P[de],V[J]=fe===de?-P[j-1-fe]:-((1-(X-fe))*P[j-1-fe])-(1-(de-X))*P[j-1-de]}z[Q]=j%2===1?P[Q-1]:(P[Q-2]+P[Q-1])/2,h.curve=z,f.curve=V}y=P,b&&(r(y)&&A===null?A=t(i,v):A!==null&&(A(),A=null))},get inputs(){return[v]},get numberOfInputs(){return h.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get oversample(){return h.oversample},set oversample(P){h.oversample=P,f.oversample=P},addEventListener(...P){return v.addEventListener(P[0],P[1],P[2])},dispatchEvent(...P){return v.dispatchEvent(P[0])},removeEventListener(...P){return v.removeEventListener(P[0],P[1],P[2])}};a!==null&&(T.curve=a instanceof Float32Array?a:new Float32Array(a)),l!==T.oversample&&(T.oversample=l);const O=()=>{v.connect(h).connect(N),v.connect(w).connect(f).connect(E).connect(N),b=!0,r(y)&&(A=t(i,v))},D=()=>{v.disconnect(h),h.disconnect(N),v.disconnect(w),w.disconnect(f),f.disconnect(E),E.disconnect(N),b=!1,A!==null&&(A(),A=null)};return s(bi(T,N),O,D)},Zt=()=>new DOMException("","NotSupportedError"),ix={numberOfChannels:1},ox=(t,e,n,r,s)=>class extends t{constructor(a,l,c){let h;if(typeof a=="number"&&l!==void 0&&c!==void 0)h={length:l,numberOfChannels:a,sampleRate:c};else if(typeof a=="object")h=a;else throw new Error("The given parameters are not valid.");const{length:f,numberOfChannels:v,sampleRate:w}={...ix,...h},N=r(v,f,w);e(bo,()=>bo(N))||N.addEventListener("statechange",(()=>{let E=0;const A=b=>{this._state==="running"&&(E>0?(N.removeEventListener("statechange",A),b.stopImmediatePropagation(),this._waitForThePromiseToSettle(b)):E+=1)};return A})()),super(N,v),this._length=f,this._nativeOfflineAudioContext=N,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",s(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,lv(this)}))}_waitForThePromiseToSettle(a){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(a):setTimeout(()=>this._waitForThePromiseToSettle(a))}},ax={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},lx=(t,e,n,r,s,i,a)=>class extends t{constructor(c,h){const f=s(c),v={...ax,...h},w=n(f,v),N=i(f),E=N?r():null,A=c.sampleRate/2;super(c,!1,w,E),this._detune=e(this,N,w.detune,153600,-153600),this._frequency=e(this,N,w.frequency,A,-A),this._nativeOscillatorNode=w,this._onended=null,this._oscillatorNodeRenderer=E,this._oscillatorNodeRenderer!==null&&v.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=v.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(c){const h=typeof c=="function"?a(this,c):null;this._nativeOscillatorNode.onended=h;const f=this._nativeOscillatorNode.onended;this._onended=f!==null&&f===h?c:f}get type(){return this._nativeOscillatorNode.type}set type(c){this._nativeOscillatorNode.type=c,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(c){this._nativeOscillatorNode.setPeriodicWave(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=c)}start(c=0){if(this._nativeOscillatorNode.start(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=c),this.context.state!=="closed"){pi(this);const h=()=>{this._nativeOscillatorNode.removeEventListener("ended",h),fr(this)&&Lo(this)};this._nativeOscillatorNode.addEventListener("ended",h)}}stop(c=0){this._nativeOscillatorNode.stop(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=c)}},ux=(t,e,n,r,s)=>()=>{const i=new WeakMap;let a=null,l=null,c=null;const h=async(f,v)=>{let w=n(f);const N=Wt(w,v);if(!N){const E={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,detune:w.detune.value,frequency:w.frequency.value,periodicWave:a===null?void 0:a,type:w.type};w=e(v,E),l!==null&&w.start(l),c!==null&&w.stop(c)}return i.set(v,w),N?(await t(v,f.detune,w.detune),await t(v,f.frequency,w.frequency)):(await r(v,f.detune,w.detune),await r(v,f.frequency,w.frequency)),await s(f,v,w),w};return{set periodicWave(f){a=f},set start(f){l=f},set stop(f){c=f},render(f,v){const w=i.get(v);return w!==void 0?Promise.resolve(w):h(f,v)}}},cx={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},hx=(t,e,n,r,s,i,a)=>class extends t{constructor(c,h){const f=s(c),v={...cx,...h},w=n(f,v),N=i(f),E=N?r():null;super(c,!1,w,E),this._nativePannerNode=w,this._orientationX=e(this,N,w.orientationX,qt,tn),this._orientationY=e(this,N,w.orientationY,qt,tn),this._orientationZ=e(this,N,w.orientationZ,qt,tn),this._positionX=e(this,N,w.positionX,qt,tn),this._positionY=e(this,N,w.positionY,qt,tn),this._positionZ=e(this,N,w.positionZ,qt,tn),a(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(c){this._nativePannerNode.coneInnerAngle=c}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(c){this._nativePannerNode.coneOuterAngle=c}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(c){this._nativePannerNode.coneOuterGain=c}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(c){this._nativePannerNode.distanceModel=c}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(c){this._nativePannerNode.maxDistance=c}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(c){this._nativePannerNode.panningModel=c}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(c){this._nativePannerNode.refDistance=c}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(c){this._nativePannerNode.rolloffFactor=c}},dx=(t,e,n,r,s,i,a,l,c,h)=>()=>{const f=new WeakMap;let v=null;const w=async(N,E)=>{let A=null,b=i(N);const y={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation},T={...y,coneInnerAngle:b.coneInnerAngle,coneOuterAngle:b.coneOuterAngle,coneOuterGain:b.coneOuterGain,distanceModel:b.distanceModel,maxDistance:b.maxDistance,panningModel:b.panningModel,refDistance:b.refDistance,rolloffFactor:b.rolloffFactor},O=Wt(b,E);if("bufferSize"in b)A=r(E,{...y,gain:1});else if(!O){const D={...T,orientationX:b.orientationX.value,orientationY:b.orientationY.value,orientationZ:b.orientationZ.value,positionX:b.positionX.value,positionY:b.positionY.value,positionZ:b.positionZ.value};b=s(E,D)}if(f.set(E,A===null?b:A),A!==null){if(v===null){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const J=new a(6,N.context.length,E.sampleRate),X=e(J,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});X.connect(J.destination),v=(async()=>{const fe=await Promise.all([N.orientationX,N.orientationY,N.orientationZ,N.positionX,N.positionY,N.positionZ].map(async(de,_e)=>{const me=n(J,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:_e===0?1:0});return await l(J,de,me.offset),me}));for(let de=0;de<6;de+=1)fe[de].connect(X,0,de),fe[de].start(0);return h(J)})()}const D=await v,P=r(E,{...y,gain:1});await c(N,E,P);const j=[];for(let J=0;J<D.numberOfChannels;J+=1)j.push(D.getChannelData(J));let z=[j[0][0],j[1][0],j[2][0]],V=[j[3][0],j[4][0],j[5][0]],Q=r(E,{...y,gain:1}),G=s(E,{...T,orientationX:z[0],orientationY:z[1],orientationZ:z[2],positionX:V[0],positionY:V[1],positionZ:V[2]});P.connect(Q).connect(G.inputs[0]),G.connect(A);for(let J=128;J<D.length;J+=128){const X=[j[0][J],j[1][J],j[2][J]],fe=[j[3][J],j[4][J],j[5][J]];if(X.some((de,_e)=>de!==z[_e])||fe.some((de,_e)=>de!==V[_e])){z=X,V=fe;const de=J/E.sampleRate;Q.gain.setValueAtTime(0,de),Q=r(E,{...y,gain:0}),G=s(E,{...T,orientationX:z[0],orientationY:z[1],orientationZ:z[2],positionX:V[0],positionY:V[1],positionZ:V[2]}),Q.gain.setValueAtTime(1,de),P.connect(Q).connect(G.inputs[0]),G.connect(A)}}return A}return O?(await t(E,N.orientationX,b.orientationX),await t(E,N.orientationY,b.orientationY),await t(E,N.orientationZ,b.orientationZ),await t(E,N.positionX,b.positionX),await t(E,N.positionY,b.positionY),await t(E,N.positionZ,b.positionZ)):(await l(E,N.orientationX,b.orientationX),await l(E,N.orientationY,b.orientationY),await l(E,N.orientationZ,b.orientationZ),await l(E,N.positionX,b.positionX),await l(E,N.positionY,b.positionY),await l(E,N.positionZ,b.positionZ)),Ei(b)?await c(N,E,b.inputs[0]):await c(N,E,b),b};return{render(N,E){const A=f.get(E);return A!==void 0?Promise.resolve(A):w(N,E)}}},fx={disableNormalization:!1},px=(t,e,n,r)=>class yv{constructor(i,a){const l=e(i),c=r({...fx,...a}),h=t(l,c);return n.add(h),h}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===yv.prototype||n.has(i)}},mx=(t,e)=>(n,r,s)=>(t(r).replay(s),e(r,n,s)),gx=(t,e,n)=>async(r,s,i)=>{const a=t(r);await Promise.all(a.activeInputs.map((l,c)=>Array.from(l).map(async([h,f])=>{const w=await e(h).render(h,s),N=r.context.destination;!n(h)&&(r!==N||!n(r))&&w.connect(i,f,c)})).reduce((l,c)=>[...l,...c],[]))},vx=(t,e,n)=>async(r,s,i)=>{const a=e(r);await Promise.all(Array.from(a.activeInputs).map(async([l,c])=>{const f=await t(l).render(l,s);n(l)||f.connect(i,c)}))},yx=(t,e,n,r)=>s=>t(bo,()=>bo(s))?Promise.resolve(t(r,r)).then(i=>{if(!i){const a=n(s,512,0,1);s.oncomplete=()=>{a.onaudioprocess=null,a.disconnect()},a.onaudioprocess=()=>s.currentTime,a.connect(s.destination)}return s.startRendering()}):new Promise(i=>{const a=e(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.oncomplete=l=>{a.disconnect(),i(l.renderedBuffer)},a.connect(s.destination),s.startRendering()}),_x=t=>(e,n)=>{t.set(e,n)},wx=t=>(e,n)=>t.set(e,n),Sx=(t,e,n,r,s,i,a,l)=>(c,h)=>n(c).render(c,h).then(()=>Promise.all(Array.from(r(h)).map(f=>n(f).render(f,h)))).then(()=>s(h)).then(f=>(typeof f.copyFromChannel!="function"?(a(f),Wh(f)):e(i,()=>i(f))||l(f),t.add(f),f)),kx={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},xx=(t,e,n,r,s,i)=>class extends t{constructor(l,c){const h=s(l),f={...kx,...c},v=n(h,f),w=i(h),N=w?r():null;super(l,!1,v,N),this._pan=e(this,w,v.pan)}get pan(){return this._pan}},Cx=(t,e,n,r,s)=>()=>{const i=new WeakMap,a=async(l,c)=>{let h=n(l);const f=Wt(h,c);if(!f){const v={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,pan:h.pan.value};h=e(c,v)}return i.set(c,h),f?await t(c,l.pan,h.pan):await r(c,l.pan,h.pan),Ei(h)?await s(l,c,h.inputs[0]):await s(l,c,h),h};return{render(l,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):a(l,c)}}},Tx=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},Ex=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),s=URL.createObjectURL(n);let i=!1,a=!1;try{await r.audioWorklet.addModule(s);const l=new t(r,"a",{numberOfOutputs:0}),c=r.createOscillator();l.port.onmessage=()=>i=!0,l.onprocessorerror=()=>a=!0,c.connect(l),c.start(0),await r.startRendering(),await new Promise(h=>setTimeout(h))}catch{}finally{URL.revokeObjectURL(s)}return i&&!a},bx=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(s=>{n.oncomplete=()=>{r.disconnect(),s(n.currentTime!==0)},n.startRendering()})},Nx=()=>new DOMException("","UnknownError"),Ox={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},Ax=(t,e,n,r,s,i,a)=>class extends t{constructor(c,h){const f=s(c),v={...Ox,...h},w=n(f,v),E=i(f)?r():null;super(c,!0,w,E),this._isCurveNullified=!1,this._nativeWaveShaperNode=w,a(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(c){if(c===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(c.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=c}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(c){this._nativeWaveShaperNode.oversample=c}},Ix=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,a)=>{let l=e(i);if(!Wt(l,a)){const h={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,curve:l.curve,oversample:l.oversample};l=t(a,h)}return r.set(a,l),Ei(l)?await n(i,a,l.inputs[0]):await n(i,a,l),l};return{render(i,a){const l=r.get(a);return l!==void 0?Promise.resolve(l):s(i,a)}}},Px=()=>typeof window>"u"?null:window,Mx=(t,e)=>n=>{n.copyFromChannel=(r,s,i=0)=>{const a=t(i),l=t(s);if(l>=n.numberOfChannels)throw e();const c=n.length,h=n.getChannelData(l),f=r.length;for(let v=a<0?-a:0;v+a<c&&v<f;v+=1)r[v]=h[v+a]},n.copyToChannel=(r,s,i=0)=>{const a=t(i),l=t(s);if(l>=n.numberOfChannels)throw e();const c=n.length,h=n.getChannelData(l),f=r.length;for(let v=a<0?-a:0;v+a<c&&v<f;v+=1)h[v+a]=r[v]}},Dx=t=>e=>{e.copyFromChannel=(n=>(r,s,i=0)=>{const a=t(i),l=t(s);if(a<e.length)return n.call(e,r,l,a)})(e.copyFromChannel),e.copyToChannel=(n=>(r,s,i=0)=>{const a=t(i),l=t(s);if(a<e.length)return n.call(e,r,l,a)})(e.copyToChannel)},Rx=t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",s=>()=>{const i=s.call(e);return i===r?null:i},s=>i=>s.call(e,i===null?r:i))},Lx=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const s=n.createBufferSource();e(r,()=>{const l=r.numberOfInputs;for(let c=0;c<l;c+=1)s.connect(r,0,c)},()=>s.disconnect(r))},_v=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),wv=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},Ko=(t,e,n,r)=>{let s=t;for(;!s.hasOwnProperty(e);)s=Object.getPrototypeOf(s);const{get:i,set:a}=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(t,e,{get:n(i),set:r(a)})},Fx=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),jx=t=>({...t,channelCount:t.numberOfOutputs}),Vx=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},Sv=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;Sv(t,e,n+1e-7)}},Bx=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},Kx=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},zx=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Gh=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},kv=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Yh=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},Wx=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},Ux=t=>{t.start=(e=>(n=0,r=0,s)=>{const i=t.buffer,a=i===null?r:Math.min(i.duration,r);i!==null&&a>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,a,s)})(t.start)},xv=(t,e)=>{const n=e.createGain();t.connect(n);const r=(s=>()=>{s.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),bi(t,n),t.stop=(s=>{let i=!1;return(a=0)=>{if(i)try{s.call(t,a)}catch{n.gain.setValueAtTime(0,a)}else s.call(t,a),i=!0}})(t.stop)},Ni=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},$x=hw(bs),qx=vw(bs),Hx=OS(Rl),Cv=new WeakMap,Gx=HS(Cv),Wn=iS(new Map,new WeakMap),Zn=Px(),Tv=xk(Wn,Jn),Qh=qS(Ht),Lt=gx(Ht,Qh,ks),Yx=kw(Tv,nt,Lt),Ze=QS(Dl),Sr=Qk(Zn),Ye=fk(Sr),Ev=new WeakMap,bv=VS(Ni),zo=bk(Zn),Xh=uk(zo),Zh=ck(Zn),Nv=hk(Zn),No=Ok(Zn),mt=Hw(dw(tv),gw($x,qx,ul,Hx,cl,Ht,Gx,Ro,nt,bs,fr,ks,Aa),Wn,sk(Pc,cl,Ht,nt,Eo,fr),Jn,Ll,Zt,TS(ul,Pc,Ht,nt,Eo,Ze,fr,Ye),PS(Ev,Ht,zn),bv,Ze,Xh,Zh,Nv,Ye,No),Qx=Sw(mt,Yx,Jn,Tv,Ze,Ye),Jh=new WeakSet,vp=Ck(Zn),Ov=yS(new Uint32Array(1)),ed=Mx(Ov,Jn),td=Dx(Ov),Av=Cw(Jh,Wn,Zt,vp,Sr,Tx(vp),ed,td),Fl=yw(ln),Iv=vx(Qh,Fo,ks),er=dS(Iv),Oi=Ek(Fl,Wn,Bx,Kx,zx,Gh,kv,Yh,Ux,Rx(Ko),xv),tr=mx(GS(Fo),Iv),Xx=bw(er,Oi,nt,tr,Lt),Un=Gw(fw(nv),Ev,zh,Yw,iw,ow,aw,lw,uw,Oc,Jg,zo,Sv),Zx=Ew(mt,Xx,Un,Ot,Oi,Ze,Ye,Ni),Jx=Lw(mt,Fw,Jn,Ot,Nk(ln,Ko),Ze,Ye,Lt),eC=sS(er,gv,nt,tr,Lt),Ns=wx(Cv),tC=rS(mt,Un,eC,Ll,gv,Ze,Ye,Ns),ns=Sk(bs,Zh),nC=Lx(Ot,ns),rs=Lk(zo,nC),rC=lS(rs,nt,Lt),sC=aS(mt,rC,rs,Ze,Ye),iC=hS(Vo,nt,Lt),oC=cS(mt,iC,Vo,Ze,Ye,jx),aC=Vk(Fl,Oi,ln,ns),Ai=jk(Fl,Wn,aC,Gh,Yh),lC=vS(er,Ai,nt,tr,Lt),uC=gS(mt,Un,lC,Ai,Ze,Ye,Ni),Pv=Bk(Zt,Ko),cC=SS(Pv,nt,Lt),hC=wS(mt,cC,Pv,Ze,Ye,Ns),dC=NS(er,vv,nt,tr,Lt),fC=bS(mt,Un,dC,vv,Ze,Ye,Ns),Mv=Kk(Zt),pC=LS(er,Mv,nt,tr,Lt),mC=RS(mt,Un,pC,Mv,Zt,Ze,Ye,Ns),gC=US(er,ln,nt,tr,Lt),vC=WS(mt,Un,gC,ln,Ze,Ye),yC=$k(Ll,Ot,Bo,Zt),jl=yx(Wn,ln,Bo,bx(ln,Sr)),_C=rk(Oi,nt,Sr,Lt,jl),wC=zk(yC),SC=tk(mt,wC,_C,Ze,Ye,Ns),kC=jw(Un,rs,Ai,Bo,Zt,_v,Ye,Ko),Dv=new WeakMap,xC=wk(Jx,kC,bv,Ye,Dv,Ni),Rv=Xk(Fl,Wn,Gh,kv,Yh,xv),CC=ux(er,Rv,nt,tr,Lt),TC=lx(mt,Un,Rv,CC,Ze,Ye,Ni),Lv=pS(Oi),EC=sx(Lv,Ot,ln,wv,ns),Vl=rx(Lv,Ot,EC,wv,ns,zo,Ko),bC=Jk(ul,Ot,rs,ln,Bo,Vl,Zt,cl,_v,ns),Fv=Zk(bC),NC=dx(er,rs,Ai,ln,Fv,nt,Sr,tr,Lt,jl),OC=hx(mt,Un,Fv,NC,Ze,Ye,Ns),AC=ex(Jn),IC=px(AC,Ze,new WeakSet,Vx),PC=nx(rs,Vo,ln,Vl,Zt,ns),jv=tx(PC,Zt),MC=Cx(er,jv,nt,tr,Lt),DC=xx(mt,Un,jv,MC,Ze,Ye),RC=Ix(Vl,nt,Lt),LC=Ax(mt,Ot,Vl,RC,Ze,Ye,Ns),Vv=pk(Zn),nd=BS(Zn),Bv=new WeakMap,FC=XS(Bv,Sr),jC=Vv?mw(Wn,Zt,jS(Zn),nd,KS(cw),Ze,FC,Ye,No,new WeakMap,new WeakMap,Ex(No,Sr),Zn):void 0,VC=dk(Xh,Ye),BC=CS(Jh,Wn,xS,FS,new WeakSet,Ze,VC,al,bo,ed,td),Kv=tS(jC,Qx,Av,Zx,tC,sC,oC,uC,hC,BC,fC,mC,vC,SC,xC,TC,OC,IC,DC,LC),KC=mk(mt,qk,Ze,Ye),zC=vk(mt,Hk,Ze,Ye),WC=yk(mt,Gk,Ze,Ye),UC=Yk(Ot,Ye),$C=_k(mt,UC,Ze),qC=Rw(Kv,Ot,Zt,Nx,KC,zC,WC,$C,zo),rd=ZS(Dv),HC=_w(rd),zv=fS(Jn),GC=AS(rd),Wv=MS(Jn),Uv=new WeakMap,YC=$S(Uv,zn),QC=Rk(zv,Jn,Ot,rs,Vo,Ai,ln,Bo,Zt,Wv,nd,YC,ns),XC=Ik(Ot,QC,ln,Zt,ns),ZC=eS(er,zv,Oi,rs,Vo,Ai,ln,GC,Wv,nd,nt,No,Sr,tr,Lt,jl),JC=YS(Bv),eT=_x(Uv),yp=Vv?Xw(HC,mt,Un,ZC,XC,Ht,JC,Ze,Ye,No,Fx,eT,Wx,Ni):void 0,tT=kS(Zt,Sr),nT=Sx(Jh,Wn,Qh,rd,jl,al,ed,td),rT=ox(Kv,Wn,Ot,tT,nT),sT=ik(Dl,Xh),iT=ok(Kh,Zh),oT=ak(zh,Nv),aT=lk(Dl,Ye);function Tn(t){return t===void 0}function Be(t){return t!==void 0}function lT(t){return typeof t=="function"}function xs(t){return typeof t=="number"}function gs(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function uT(t){return typeof t=="boolean"}function Bn(t){return Array.isArray(t)}function yr(t){return typeof t=="string"}function pa(t){return yr(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function De(t,e){if(!t)throw new Error(e)}function Yr(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function $v(t){!t.isOffline&&t.state!=="running"&&sd('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let qv=!1,_p=!1;function wp(t){qv=t}function cT(t){Tn(t)&&qv&&!_p&&(_p=!0,sd("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Hv=console;function hT(...t){Hv.log(...t)}function sd(...t){Hv.warn(...t)}function dT(t){return new qC(t)}function fT(t,e,n){return new rT(t,e,n)}const dn=typeof self=="object"?self:null,pT=dn&&(dn.hasOwnProperty("AudioContext")||dn.hasOwnProperty("webkitAudioContext"));function mT(t,e,n){return De(Be(yp),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof(dn==null?void 0:dn.BaseAudioContext)?dn==null?void 0:dn.AudioWorkletNode:yp)(t,e,n)}function $n(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(i=(s<3?a(i):s>3?a(e,n,i):a(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function wt(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(f){try{h(r.next(f))}catch(v){a(v)}}function c(f){try{h(r.throw(f))}catch(v){a(v)}}function h(f){f.done?i(f.value):s(f.value).then(l,c)}h((r=r.apply(t,e||[])).next())})}class gT{constructor(e,n,r,s){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(s||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Cs(t){return oT(t)}function qr(t){return iT(t)}function Ia(t){return aT(t)}function Ls(t){return sT(t)}function vT(t){return t instanceof Av}function yT(t,e){return t==="value"||Cs(e)||qr(e)||vT(e)}function si(t,...e){if(!e.length)return t;const n=e.shift();if(gs(t)&&gs(n))for(const r in n)yT(r,n[r])?t[r]=n[r]:gs(n[r])?(t[r]||Object.assign(t,{[r]:{}}),si(t[r],n[r])):Object.assign(t,{[r]:n[r]});return si(t,...e)}function _T(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function Pe(t,e,n=[],r){const s={},i=Array.from(e);if(gs(i[0])&&r&&!Reflect.has(i[0],r)&&(Object.keys(i[0]).some(l=>Reflect.has(t,l))||(si(s,{[r]:i[0]}),n.splice(n.indexOf(r),1),i.shift())),i.length===1&&gs(i[0]))si(s,i[0]);else for(let a=0;a<n.length;a++)Be(i[a])&&(s[n[a]]=i[a]);return si(t,s)}function wT(t){return t.constructor.getDefaults()}function ii(t,e){return Tn(t)?e:t}function Sp(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class kr{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||dn&&this.toString()===dn.TONE_DEBUG_CLASS)&&hT(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}kr.version=Zg;const id=1e-6;function mi(t,e){return t>e+id}function Fc(t,e){return mi(t,e)||Ln(t,e)}function pl(t,e){return t+id<e}function Ln(t,e){return Math.abs(t-e)<id}function ST(t,e,n){return Math.max(Math.min(t,n),e)}class En extends kr{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Pe(En.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(De(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];De(Fc(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Ln(this._timeline[n].time,e)){for(let r=n;r>=0&&Ln(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Fc(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0;const s=this._timeline.length;let i=s;if(s>0&&this._timeline[s-1][n]<=e)return s-1;for(;r<i;){let a=Math.floor(r+(i-r)/2);const l=this._timeline[a],c=this._timeline[a+1];if(Ln(l[n],e)){for(let h=a;h<this._timeline.length;h++){const f=this._timeline[h];if(Ln(f[n],e))a=h;else break}return a}else{if(pl(l[n],e)&&mi(c[n],e))return a;mi(l[n],e)?i=a:r=a+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){const r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let s=this._search(e),i=this._search(n);return s!==-1&&i!==-1?(this._timeline[s].time!==e&&(s+=1),this._timeline[i].time===n&&(i-=1),this._iterate(r,s,i)):s===-1&&this._iterate(r,0,i),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){const r=this._search(e);if(r!==-1&&Ln(this._timeline[r].time,e)){let s=r;for(let i=r;i>=0&&Ln(this._timeline[i].time,e);i--)s=i;this._iterate(i=>{n(i)},s,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Gv=[];function Bl(t){Gv.push(t)}function kT(t){Gv.forEach(e=>e(t))}const Yv=[];function Kl(t){Yv.push(t)}function xT(t){Yv.forEach(e=>e(t))}class Wo extends kr{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(s=>{Tn(this._events)&&(this._events={}),this._events.hasOwnProperty(s)||(this._events[s]=[]),this._events[s].push(n)}),this}once(e,n){const r=(...s)=>{n(...s),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(s=>{if(Tn(this._events)&&(this._events={}),this._events.hasOwnProperty(s))if(Tn(n))this._events[s]=[];else{const i=this._events[s];for(let a=i.length-1;a>=0;a--)i[a]===n&&i.splice(a,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let s=0,i=r.length;s<i;s++)r[s].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const r=Object.getOwnPropertyDescriptor(Wo.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class Qv extends Wo{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Uo extends Qv{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new En,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=Pe(Uo.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=dT({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new gT(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(kT(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return De(Ls(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return De(Ls(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return De(Ls(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){De(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){De(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){De(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){De(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return mT(this.rawContext,e,n)}addAudioWorkletModule(e){return wt(this,void 0,void 0,function*(){De(Be(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return wt(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Ls(this._context)?this._context.resume():Promise.resolve()}close(){return wt(this,void 0,void 0,function*(){Ls(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&xT(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let i=0;i<r.length;i++)r[i]=e;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=n,s.loop=!0,s.start(0),this._constants.set(e,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const r=++this._timeoutIds,s=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),s()},id:r,time:i+n})};return s(),r}}class CT extends Qv{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return wt(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function dt(t,e){Bn(e)?e.forEach(n=>dt(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Xv(t,e){Bn(e)?e.forEach(n=>Xv(t,n)):Object.defineProperty(t,e,{writable:!0})}const Ge=()=>{};class et extends kr{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Ge;const e=Pe(et.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,yr(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Ge,onload:Ge,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Gt().sampleRate}set(e){return e instanceof et?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return wt(this,void 0,void 0,function*(){const n=et.load(e).then(r=>{this.set(r),this.onload(this)});et.downloads.push(n);try{yield n}finally{const r=et.downloads.indexOf(n);et.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=Bn(e)&&e[0].length>0,r=n?e.length:1,s=n?e[0].length:e.length,i=Gt(),a=i.createBuffer(r,s,i.sampleRate),l=!n&&r===1?[e]:e;for(let c=0;c<r;c++)a.copyToChannel(l[c],c);return this._buffer=a,this}toMono(e){if(xs(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const r=this.numberOfChannels;for(let s=0;s<r;s++){const i=this.toArray(s);for(let a=0;a<i.length;a++)n[a]+=i[a]}n=n.map(s=>s/r),this.fromArray(n)}return this}toArray(e){if(xs(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let r=0;r<this.numberOfChannels;r++)n[r]=this.getChannelData(r);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){De(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),s=Math.floor(n*this.sampleRate);De(r<s,"The start time must be less than the end time");const i=s-r,a=Gt().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let l=0;l<this.numberOfChannels;l++)a.copyToChannel(this.getChannelData(l).subarray(r,s),l);return new et(a)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new et().fromArray(e)}static fromUrl(e){return wt(this,void 0,void 0,function*(){return yield new et().load(e)})}static load(e){return wt(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const c=n[1].split("|");let h=c[0];for(const f of c)if(et.supportsType(f)){h=f;break}e=e.replace(n[0],h)}const r=et.baseUrl===""||et.baseUrl.endsWith("/")?et.baseUrl:et.baseUrl+"/",s=document.createElement("a");s.href=r+e,s.pathname=(s.pathname+s.hash).split("/").map(encodeURIComponent).join("/");const i=yield fetch(s.href);if(!i.ok)throw new Error(`could not load url: ${e}`);const a=yield i.arrayBuffer();return yield Gt().decodeAudioData(a)})}static supportsType(e){const n=e.split("."),r=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return wt(this,void 0,void 0,function*(){for(yield Promise.resolve();et.downloads.length;)yield et.downloads[0]})}}et.baseUrl="";et.downloads=[];class od extends Uo{constructor(){super({clockSource:"offline",context:Ia(arguments[0])?arguments[0]:fT(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Ia(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Ia(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return wt(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(s=>setTimeout(s,1)))}})}render(){return wt(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new et(n)})}close(){return Promise.resolve()}}const Zv=new CT;let fs=Zv;function Gt(){return fs===Zv&&pT&&TT(new Uo),fs}function TT(t,e=!1){e&&fs.dispose(),Ls(t)?fs=new Uo(t):Ia(t)?fs=new od(t):fs=t}function ET(){return fs.resume()}if(dn&&!dn.TONE_SILENCE_LOGGING){const e=` * Tone.js v${Zg} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function bT(t){return Math.pow(10,t/20)}function NT(t){return 20*(Math.log(t)/Math.LN10)}function Jv(t){return Math.pow(2,t/12)}let zl=440;function OT(){return zl}function AT(t){zl=t}function jc(t){return Math.round(ey(t))}function ey(t){return 69+12*Math.log2(t/zl)}function IT(t){return zl*Math.pow(2,(t-69)/12)}class ad extends kr{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const r=parseInt(e,10),s=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/r)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let s=0;return e&&e!=="0"&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s+=this._beatsToUnits(parseFloat(r)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof ad&&this.fromType(this._val),Tn(this._val))return this._noArg();if(yr(this._val)&&Tn(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(gs(this._val)){let e=0;for(const n in this._val)if(Be(this._val[n])){const r=this._val[n],s=new this.constructor(this.context,n).valueOf()*r;e+=s}return e}if(Be(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return yr(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Fn extends ad{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new Fn(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const r=new this.constructor(this.context,e).valueOf(),s=this.valueOf(),l=Math.round(s/r)*r-s;return s+l*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const a=Math.pow(2,i);n.push(a+"n."),n.push(a+"n"),n.push(a+"t")}n.push("0");let r=n[0],s=new Fn(this.context,n[0]).toSeconds();return n.forEach(i=>{const a=new Fn(this.context,i).toSeconds();Math.abs(a-e)<Math.abs(s-e)&&(r=i,s=a)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const r=Math.floor(n/this._getTimeSignature());let s=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=s.toString();return i.length>3&&(s=parseFloat(parseFloat(i).toFixed(3))),[r,n,s].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return jc(this.toFrequency())}_now(){return this.context.now()}}class xn extends Fn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return OT()}static set A4(e){AT(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:xn.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const s=PT[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?s:xn.mtof(s)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let s=1;return e&&e!=="0"&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s*=this._beatsToUnits(parseFloat(r)/4)),s}}})}transpose(e){return new xn(this.context,this.valueOf()*Jv(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return jc(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/xn.A4);let r=Math.round(12*n)+57;const s=Math.floor(r/12);return s<0&&(r+=-12*s),MT[r%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return IT(e)}static ftom(e){return jc(e)}}const PT={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},MT=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class io extends Fn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class an extends kr{constructor(){super();const e=Pe(an.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Gt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return cT(e),new Fn(this.context,e).toSeconds()}toFrequency(e){return new xn(this.context,e).toFrequency()}toTicks(e){return new io(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(r=>{Tn(e[r])&&delete n[r]}),n}get(){const e=wT(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const r=this[n];Be(r)&&Be(r.value)&&Be(r.setValueAtTime)?e[n]=r.value:r instanceof an?e[n]=r._getPartialProperties(e[n]):Bn(r)||xs(r)||yr(r)||uT(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&Be(this[n])&&(this[n]&&Be(this[n].value)&&Be(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof an?this[n].set(e[n]):this[n]=e[n])}),this}}class ld extends En{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return Yr(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){const r=this._search(n);for(let s=r;s>=0;s--){const i=this._timeline[s];if(i.state===e)return i}}getNextState(e,n){const r=this._search(n);if(r!==-1)for(let s=r;s<this._timeline.length;s++){const i=this._timeline[s];if(i.state===e)return i}}}class it extends an{constructor(){const e=Pe(it.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,De(Be(e.param)&&(Cs(e.param)||e.param instanceof it),"param must be an AudioParam");!Cs(e.param);)e.param=e.param._param;this._swappable=Be(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new En(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Be(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(an.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Be(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Be(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return Be(this.maxValue)&&Be(this.minValue)&&Yr(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?bT(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?NT(e):e}setValueAtTime(e,n){const r=this.toSeconds(n),s=this._fromType(e);return De(isFinite(s)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,r),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),s=this._events.get(n);let i=this._initialValue;if(s===null)i=this._initialValue;else if(s.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const a=this._events.getBefore(s.time);let l;a===null?l=this._initialValue:l=a.value,s.type==="setTargetAtTime"&&(i=this._exponentialApproach(s.time,l,s.value,s.constant,n))}else if(r===null)i=s.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let a=s.value;if(s.type==="setTargetAtTime"){const l=this._events.getBefore(s.time);l===null?a=this._initialValue:a=l.value}r.type==="linearRampToValueAtTime"?i=this._linearInterpolate(s.time,a,r.time,r.value,n):i=this._exponentialInterpolate(s.time,a,r.time,r.value,n)}else i=s.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const r=this._fromType(e),s=this.toSeconds(n);return De(isFinite(r)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:s,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,s),this._param.linearRampToValueAtTime(r,s),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=Ln(r,0)?this._minOutput:r,this._assertRange(r);const s=this.toSeconds(n);return De(isFinite(r)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,s),this._param.exponentialRampToValueAtTime(r,s),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);const s=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,s),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){const s=this._fromType(e);De(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(s),De(isFinite(s)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:i,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",e,i,r),this._param.setTargetAtTime(s,i,r),this}setValueCurveAtTime(e,n,r,s=1){r=this.toSeconds(r),n=this.toSeconds(n);const i=this._fromType(e[0])*s;this.setValueAtTime(this._toType(i),n);const a=r/(e.length-1);for(let l=1;l<e.length;l++){const c=this._fromType(e[l])*s;this.linearRampToValueAtTime(this._toType(c),n+l*a)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return De(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));De(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);const s=this._events.get(n),i=this._events.getAfter(n);return s&&Ln(s.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){const s=this._events.getAfter(r.time),i=s?s.time:n+2,a=(i-n)/10;for(let l=n;l<i;l+=a)e.linearRampToValueAtTime(this.getValueAtTime(l),l)}return this._events.forEachAfter(this.context.currentTime,s=>{s.type==="cancelScheduledValues"?e.cancelScheduledValues(s.time):s.type==="setTargetAtTime"?e.setTargetAtTime(s.value,s.time,s.constant):e[s.type](s.value,s.time)}),this}setParam(e){De(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,s,i){return r+(n-r)*Math.exp(-(i-e)/s)}_linearInterpolate(e,n,r,s,i){return n+(s-n)*((i-e)/(r-e))}_exponentialInterpolate(e,n,r,s,i){return n*Math.pow(s/n,(i-e)/(r-e))}}class Fe extends an{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Be(this.input)?Cs(this.input)||this.input instanceof it?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Be(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Be(e)&&(e instanceof Fe||qr(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();De(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return Ii(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return sd("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return DT(this,e,n,r),this}chain(...e){return Vc(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),Be(this.input)&&(this.input instanceof Fe?this.input.dispose():qr(this.input)&&this.input.disconnect()),Be(this.output)&&(this.output instanceof Fe?this.output.dispose():qr(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Vc(...t){const e=t.shift();t.reduce((n,r)=>(n instanceof Fe?n.connect(r):qr(n)&&Ii(n,r),r),e)}function Ii(t,e,n=0,r=0){for(De(Be(t),"Cannot connect from undefined node"),De(Be(e),"Cannot connect to undefined node"),(e instanceof Fe||qr(e))&&De(e.numberOfInputs>0,"Cannot connect to node with no inputs"),De(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Fe||e instanceof it;)Be(e.input)&&(e=e.input);for(;t instanceof Fe;)Be(t.output)&&(t=t.output);Cs(e)?t.connect(e,n):t.connect(e,n,r)}function DT(t,e,n=0,r=0){if(Be(e))for(;e instanceof Fe;)e=e.input;for(;!qr(t);)Be(t.output)&&(t=t.output);Cs(e)?t.disconnect(e,n):qr(e)?t.disconnect(e,n,r):t.disconnect()}class Kt extends Fe{constructor(){const e=Pe(Kt.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new it({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),dt(this,"gain")}static getDefaults(){return Object.assign(Fe.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class gi extends Fe{constructor(e){super(e),this.onended=Ge,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Kt({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Fe.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Ge})}_startGain(e,n=1){De(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){De(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Ge&&(this.onended(this),this.onended=Ge,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),De(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Ge,this}}class ud extends gi{constructor(){const e=Pe(ud.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Ii(this._source,this._gainNode),this.offset=new it({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(gi.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class At extends Fe{constructor(){const e=Pe(At.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new ud({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Fe.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return cd(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,s){return this._param.setValueCurveAtTime(e,n,r,s),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function cd(t,e,n,r){(e instanceof it||Cs(e)||e instanceof At&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof At&&(e.overridden=!0)),Ii(t,e,n,r)}class hd extends it{constructor(){const e=Pe(hd.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new En(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(it.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);const s=this._fromType(e),i=this._events.get(n),a=Math.round(Math.max(1/r,1));for(let l=0;l<=a;l++){const c=r*l+n,h=this._exponentialApproach(i.time,i.value,s,r,c);this.linearRampToValueAtTime(this._toType(h),c)}return this}setValueAtTime(e,n){const r=this.toSeconds(n);super.setValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),a=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(a,0),this}linearRampToValueAtTime(e,n){const r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),a=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(a,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const r=this._fromType(e),s=this._events.get(n),i=Math.round(Math.max((n-s.time)*10,1)),a=(n-s.time)/i;for(let l=0;l<=i;l++){const c=a*l+s.time,h=this._exponentialInterpolate(s.time,s.value,n,r,c);this.linearRampToValueAtTime(this._toType(h),c)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Tn(e.ticks)){const a=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(a,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let s=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(s=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+s)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(n);return this.getTimeOfTick(s+e)-r}getTimeOfTick(e){const n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){const s=this._fromType(this.getValueAtTime(n.time)),a=(this._fromType(this.getValueAtTime(r.time))-s)/(r.time-n.time),l=Math.sqrt(Math.pow(s,2)-2*a*(n.ticks-e)),c=(-s+l)/a,h=(-s-l)/a;return(c>0?c:h)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const r=this.toSeconds(n),s=this.toSeconds(e),i=this.getTicksAtTime(r);return this.getTicksAtTime(r+s)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class dd extends At{constructor(){const e=Pe(dd.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new hd({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(At.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class fd extends an{constructor(){const e=Pe(fd.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new ld,this._tickOffset=new En,this._ticksAtTime=new En,this._secondsAtTime=new En,this.frequency=new dd({context:this.context,units:e.units,value:e.frequency}),dt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},an.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),Be(n)&&this.setTicksAtTime(n,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),r=this._state.getLastState("stopped",n),s=this._ticksAtTime.get(n),i={state:"paused",time:n};this._state.add(i);let a=s||r,l=s?s.ticks:0,c=null;return this._state.forEachBetween(a.time,n+this.sampleTime,h=>{let f=a.time;const v=this._tickOffset.get(h.time);v&&v.time>=a.time&&(l=v.ticks,f=v.time),a.state==="started"&&h.state!=="started"&&(l+=this.frequency.getTicksAtTime(h.time)-this.frequency.getTicksAtTime(f),h.time!==i.time&&(c={state:h.state,time:h.time,ticks:l})),a=h}),this._state.remove(i),c&&this._ticksAtTime.add(c),l}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const s=this._secondsAtTime.get(e);let i=s||n,a=s?s.seconds:0,l=null;return this._state.forEachBetween(i.time,e+this.sampleTime,c=>{let h=i.time;const f=this._tickOffset.get(c.time);f&&f.time>=i.time&&(a=f.seconds,h=f.time),i.state==="started"&&c.state!=="started"&&(a+=c.time-h,c.time!==r.time&&(l={state:c.state,time:c.time,seconds:a})),i=c}),this._state.remove(r),l&&this._secondsAtTime.add(l),a}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const r=this._tickOffset.get(n),s=this._state.get(n),i=Math.max(r.time,s.time),a=this.frequency.getTicksAtTime(i)+e-r.ticks;return this.frequency.getTimeOfTick(a)}forEachTickBetween(e,n,r){let s=this._state.get(e);this._state.forEachBetween(e,n,a=>{s&&s.state==="started"&&a.state!=="started"&&this.forEachTickBetween(Math.max(s.time,e),a.time-this.sampleTime,r),s=a});let i=null;if(s&&s.state==="started"){const a=Math.max(s.time,e),l=this.frequency.getTicksAtTime(a),c=this.frequency.getTicksAtTime(s.time),h=l-c;let f=Math.ceil(h)-h;f=Ln(f,1)?0:f;let v=this.frequency.getTimeOfTick(l+f);for(;v<n;){try{r(v,Math.round(this.getTicksAtTime(v)))}catch(w){i=w;break}v+=this.frequency.getDurationOfTicks(1,v)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Wl extends an{constructor(){const e=Pe(Wl.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=Ge,this._lastUpdate=0,this._state=new ld("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new fd({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,dt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(an.getDefaults(),{callback:Ge,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){$v(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(s+e,r)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":const s=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,s);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,s)=>{this.callback(r,s)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Wo.mixin(Wl);class Pi extends Fe{constructor(){const e=Pe(Pi.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new Kt({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,dt(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Fe.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class pd extends Fe{constructor(){const e=Pe(pd.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Pi({context:this.context}),this.output=new Kt({context:this.context}),this.volume=this.input.volume,Vc(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Fe.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Vc(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Bl(t=>{t.destination=new pd({context:t})});Kl(t=>{t.destination.dispose()});class RT extends Fe{constructor(){super(...arguments),this.name="Listener",this.positionX=new it({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new it({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new it({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new it({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new it({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new it({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new it({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new it({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new it({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Fe.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Bl(t=>{t.listener=new RT({context:t})});Kl(t=>{t.listener.dispose()});class md extends kr{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Pe(md.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Ge,onload:Ge,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return De(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=Ge,s=Ge){return yr(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new et(this.baseUrl+n,r,s))):this._buffers.set(e.toString(),new et(n,r,s)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Qs extends io{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class LT extends an{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new En,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Bl(t=>{t.draw=new LT({context:t})});Kl(t=>{t.draw.dispose()});class FT extends kr{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){De(Be(e.time),"Events must have a time property"),De(Be(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new jT(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let r,s=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,s=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,s=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,s=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,s=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),s&&this._rebalance(s)}e.dispose()}_rotateLeft(e){const n=e.parent,r=e.isLeftChild(),s=e.right;s&&(e.right=s.left,s.left=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rotateRight(e){const n=e.parent,r=e.isLeftChild(),s=e.left;s&&(e.left=s.right,s.right=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let s=1;s<n.length;s++)n[s].low>r.low&&(r=n[s]);return r.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}forEachFrom(e,n){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class jT{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class VT extends kr{constructor(e){super(),this.name="TimelineValue",this._timeline=new En({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class vi extends Fe{constructor(){super(Pe(vi.getDefaults(),arguments,["context"]))}connect(e,n=0,r=0){return cd(this,e,n,r),this}}class $o extends vi{constructor(){const e=Pe($o.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Bn(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):lT(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(At.getDefaults(),{length:1024})}setMap(e,n=1024){const r=new Float32Array(n);for(let s=0,i=n;s<i;s++){const a=s/(i-1)*2-1;r[s]=e(a,s)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(r=>r.includes(e));De(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class gd extends vi{constructor(){const e=Pe(gd.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new $o({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(vi.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Qr{constructor(e,n){this.id=Qr._eventId++,this._remainderTime=0;const r=Object.assign(Qr.getDefaults(),n);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:Ge,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Qr._eventId=0;class vd extends Qr{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(vd.getDefaults(),n);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Qr.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return pl(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Qs(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){pl(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Qs(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);mi(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Ul extends an{constructor(){const e=Pe(Ul.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new VT(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new En,this._repeatedEvents=new FT,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Wl({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),dt(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(an.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const r=n%(this._swingTicks*2)/(this._swingTicks*2),s=Math.sin(r*Math.PI)*this._swingAmount;e+=new Qs(this.context,this._swingTicks*2/3).toSeconds()*s}wp(!0),this._timeline.forEachAtTime(n,r=>r.invoke(e)),wp(!1)}schedule(e,n){const r=new Qr(this,{callback:e,time:new io(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,s=1/0){const i=new vd(this,{callback:e,duration:new Fn(this.context,s).toTicks(),interval:new Fn(this.context,n).toTicks(),time:new io(this.context,r).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const r=new Qr(this,{callback:e,once:!0,time:new io(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new Qs(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let r;return Be(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Bn(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Fn(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Fn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Qs(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new Qs(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(n),s=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),i=n+s;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),r=this.getTicksAtTime(n),s=e-r%e;return this._clock.nextTickTime(s,n)}}syncSignal(e,n){const r=this.now();let s=this.bpm,i=1/(60/s.getValueAtTime(r)/this.PPQ),a=[];if(e.units==="time"){const c=.015625/i,h=new Kt(c),f=new gd(-1),v=new Kt(c);s.chain(h,f,v),s=v,i=1/i,a=[h,f,v]}n||(e.getValueAtTime(r)!==0?n=e.getValueAtTime(r)/i:n=0);const l=new Kt(n);return s.connect(l),l.connect(e._param),a.push(l),this._syncedSignals.push({initial:e.value,nodes:a,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const r=this._syncedSignals[n];r.signal===e&&(r.nodes.forEach(s=>s.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Xv(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Wo.mixin(Ul);Bl(t=>{t.transport=new Ul({context:t})});Kl(t=>{t.transport.dispose()});class gn extends Fe{constructor(e){super(e),this.input=void 0,this._state=new ld("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Ge,this._syncedStop=Ge,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Pi({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,dt(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Fe.getDefaults(),{mute:!1,onstop:Ge,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let s=Tn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),!this._synced&&this._state.getValueAtTime(s)==="started")De(mi(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,n,r);else if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const i=this._state.get(s);i&&(i.offset=this.toSeconds(ii(n,0)),i.duration=r?this.toSeconds(r):void 0);const a=this.context.transport.schedule(l=>{this._start(l,n,r)},s);this._scheduled.push(a),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else $v(this.context),this._start(s,n,r);return this}stop(e){let n=Tn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||Be(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(mi(n,0)){const r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){const s=n-this.toSeconds(r.time);let i;r.duration&&(i=this.toSeconds(r.duration)-s),this._start(e,this.toSeconds(r.offset)+s,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Ge,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class $l extends gi{constructor(){const e=Pe($l.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Ii(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new it({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new et(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(gi.getDefaults(),{url:new et,loop:!1,loopEnd:0,loopStart:0,onload:Ge,onerror:Ge,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,s=1){De(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,s),this.loop?n=ii(n,this.loopStart):n=ii(n,0);let a=Math.max(this.toSeconds(n),0);if(this.loop){const l=this.toSeconds(this.loopEnd)||this.buffer.duration,c=this.toSeconds(this.loopStart),h=l-c;Fc(a,l)&&(a=(a-c)%h+c),Ln(a,this.buffer.duration)&&(a=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,pl(a,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,a)),Be(r)){let l=this.toSeconds(r);l=Math.max(l,0),this.stop(i+l)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Os(t,e){return wt(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,r=new od(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class yd extends gi{constructor(){const e=Pe(yd.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Ii(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new it({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new it({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),dt(this,["frequency","detune"])}static getDefaults(){return Object.assign(gi.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class yt extends gn{constructor(){const e=Pe(yt.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new At({context:this.context,units:"frequency",value:e.frequency}),dt(this,"frequency"),this.detune=new At({context:this.context,units:"cents",value:e.detune}),dt(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(gn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),r=new yd({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return yt._periodicWaveCache.find(n=>n.phase===this._phase&&_T(n.partials,this._partials));{const e=yt._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(Be(r)){const{partials:s,wave:i}=r;this._wave=i,this._partials=s,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[s,i]=this._getRealImaginary(e,this._phase),a=this.context.createPeriodicWave(s,i);this._wave=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),yt._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:s,type:this._type,wave:this._wave}),yt._periodicWaveCache.length>100&&yt._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Yr(e,0);let n=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(n=r[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const s=new Float32Array(e);this._partials.forEach((i,a)=>s[a]=i),this._partials=Array.from(s),this.type=this._type}}_getRealImaginary(e,n){let s=2048;const i=new Float32Array(s),a=new Float32Array(s);let l=1;if(e==="custom"){if(l=this._partials.length+1,this._partialCount=this._partials.length,s=l,this._partials.length===0)return[i,a]}else{const c=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);c?(l=parseInt(c[2],10)+1,this._partialCount=parseInt(c[2],10),e=c[1],l=Math.max(l,2),s=l):this._partialCount=0,this._partials=[]}for(let c=1;c<s;++c){const h=2/(c*Math.PI);let f;switch(e){case"sine":f=c<=l?1:0,this._partials[c-1]=f;break;case"square":f=c&1?2*h:0,this._partials[c-1]=f;break;case"sawtooth":f=h*(c&1?1:-1),this._partials[c-1]=f;break;case"triangle":c&1?f=2*(h*h)*(c-1>>1&1?-1:1):f=0,this._partials[c-1]=f;break;case"custom":f=this._partials[c-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}f!==0?(i[c]=-f*Math.sin(n*c),a[c]=f*Math.cos(n*c)):(i[c]=0,a[c]=0)}return[i,a]}_inverseFFT(e,n,r){let s=0;const i=e.length;for(let a=0;a<i;a++)s+=e[a]*Math.cos(a*r)+n[a]*Math.sin(a*r);return s}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let r=0;const s=Math.PI*2,i=32;for(let a=0;a<i;a++)r=Math.max(this._inverseFFT(e,n,a/i*s),r);return ST(-this._inverseFFT(e,n,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return wt(this,arguments,void 0,function*(e=1024){return Os(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}yt._periodicWaveCache=[];class BT extends vi{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new $o({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class yi extends At{constructor(){const e=Pe(yi.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Kt({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(At.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class ql extends gn{constructor(){const e=Pe(ql.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new BT({context:this.context}),this._modulationNode=new Kt({context:this.context}),this._carrier=new yt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new yt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new yi({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),dt(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(yt.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return wt(this,arguments,void 0,function*(e=1024){return Os(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Hl extends gn{constructor(){const e=Pe(Hl.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new Kt({context:this.context,gain:0}),this._carrier=new yt({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new At({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new yt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new yi({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new yi({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),dt(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(yt.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return wt(this,arguments,void 0,function*(e=1024){return Os(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class qo extends gn{constructor(){const e=Pe(qo.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new Kt({context:this.context,gain:0}),this._thresh=new $o({context:this.context,mapping:n=>n<=0?-1:1}),this.width=new At({context:this.context,units:"audioRange",value:e.width}),this._triangle=new yt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),dt(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(gn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return wt(this,arguments,void 0,function*(e=1024){return Os(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Gl extends gn{constructor(){const e=Pe(Gl.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new At({context:this.context,units:"frequency",value:e.frequency}),this.detune=new At({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,dt(this,["frequency","detune"])}static getDefaults(){return Object.assign(yt.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,r=e/(this._oscillators.length-1);this._forEach((s,i)=>s.detune.value=n+r*i)}}get count(){return this._oscillators.length}set count(e){if(Yr(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const r=new yt({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):Ge});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(){return wt(this,arguments,void 0,function*(e=1024){return Os(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Yl extends gn{constructor(){const e=Pe(Yl.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new yi({context:this.context,value:2}),this._pulse=new qo({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new yt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),dt(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(gn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return wt(this,arguments,void 0,function*(e=1024){return Os(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const kp={am:ql,fat:Gl,fm:Hl,oscillator:yt,pulse:qo,pwm:Yl};class ml extends gn{constructor(){const e=Pe(ml.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new At({context:this.context,units:"frequency",value:e.frequency}),this.detune=new At({context:this.context,units:"cents",value:e.detune}),dt(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(yt.getDefaults(),Hl.getDefaults(),ql.getDefaults(),Gl.getDefaults(),qo.getDefaults(),Yl.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=kp[e],r=this.now();if(this._oscillator){const s=this._oscillator;s.stop(r),this.context.setTimeout(()=>s.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof kp[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&xs(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&xs(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&yr(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return wt(this,arguments,void 0,function*(e=1024){return Os(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function ty(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Yr(i,t,e),n.set(this,i)}})}}function xr(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Yr(this.toSeconds(i),t,e),n.set(this,i)}})}}class Ql extends gn{constructor(){const e=Pe(Ql.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new et({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(gn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Ge,onerror:Ge,playbackRate:1,reverse:!1})}load(e){return wt(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Ge){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=ii(n,this._loopStart):n=ii(n,0);const s=this.toSeconds(n),i=r;r=ii(r,Math.max(this._buffer.duration-s,0));let a=this.toSeconds(r);a=a/this._playbackRate,e=this.toSeconds(e);const l=new $l({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+a),this._state.setStateAtTime("stopped",e+a,{implicitEnd:!0})),this._activeSources.add(l),this._loop&&Tn(i)?l.start(e,s):l.start(e,s,a-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){var s;(s=[...this._activeSources].pop())===null||s===void 0||s.stop(e),this._start(e,n,r)}seek(e,n){const r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){const s=this.toSeconds(e);this._stop(r),this._start(r,s)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Yr(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Yr(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(s=>s.cancelStop())),this._activeSources.forEach(s=>{s.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}$n([xr(0)],Ql.prototype,"fadeIn",void 0);$n([xr(0)],Ql.prototype,"fadeOut",void 0);class ss extends Fe{constructor(){const e=Pe(ss.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new At({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Fe.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(yr(e))return e;{let r;for(r in ma)if(ma[r][n]===e)return r;return e}}_setCurve(e,n,r){if(yr(r)&&Reflect.has(ma,r)){const s=ma[r];gs(s)?e!=="_decayCurve"&&(this[e]=s[n]):this[e]=s}else if(Bn(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let s=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),a=this.getValueAtTime(e);if(a>0){const l=1/s;s=(1-a)/l}if(s<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,s,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,s,e);else{this._sig.cancelAndHoldAtTime(e);let l=this._attackCurve;for(let c=1;c<l.length;c++)if(l[c-1]<=a&&a<=l[c]){l=this._attackCurve.slice(c),l[0]=a;break}this._sig.setValueCurveAtTime(l,e,s,n)}if(i&&this.sustain<1){const l=n*this.sustain,c=e+s;this.log("decay",c),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(l,i+c):this._sig.exponentialApproachValueAtTime(l,c,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(De(Bn(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return cd(this,e,n,r),this}asArray(){return wt(this,arguments,void 0,function*(e=1024){const n=e/this.context.sampleRate,r=new od(1,n,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=s+this.toSeconds(this.release),a=i*.1,l=i+a,c=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/l,decay:n*this.toSeconds(this.decay)/l,release:n*this.toSeconds(this.release)/l,context:r}));return c._sig.toDestination(),c.triggerAttackRelease(n*(s+a)/l,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}$n([xr(0)],ss.prototype,"attack",void 0);$n([xr(0)],ss.prototype,"decay",void 0);$n([ty(0,1)],ss.prototype,"sustain",void 0);$n([xr(0)],ss.prototype,"release",void 0);const ma=(()=>{let e,n;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const s=[],i=6.4;for(e=0;e<127;e++){n=e/127;const w=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;s[e]=w/10+n*.83}s[127]=1;const a=[],l=5;for(e=0;e<128;e++)a[e]=Math.ceil(e/127*l)/l;const c=[];for(e=0;e<128;e++)n=e/127,c[e]=.5*(1-Math.cos(Math.PI*n));const h=[];for(e=0;e<128;e++){n=e/127;const w=Math.pow(n,3)*4+.2,N=Math.cos(w*Math.PI*2*n);h[e]=Math.abs(N*(1-n))}function f(w){const N=new Array(w.length);for(let E=0;E<w.length;E++)N[E]=1-w[E];return N}function v(w){return w.slice(0).reverse()}return{bounce:{In:f(h),Out:h},cosine:{In:r,Out:v(r)},exponential:"exponential",linear:"linear",ripple:{In:s,Out:f(s)},sine:{In:c,Out:f(c)},step:{In:a,Out:f(a)}}})();class _i extends Fe{constructor(){const e=Pe(_i.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n),this._volume=this.output=new Pi({context:this.context,volume:e.volume}),this.volume=this._volume.volume,dt(this,"volume")}static getDefaults(){return Object.assign(Fe.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const r=this["_original_"+e]=this[e];this[e]=(...s)=>{const i=s[n],a=this.context.transport.schedule(l=>{s[n]=l,r.apply(this,s)},i);this._scheduledEvents.push(a)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,r,s){const i=this.toSeconds(r),a=this.toSeconds(n);return this.triggerAttack(e,i,s),this.triggerRelease(i+a),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class wi extends _i{constructor(){const e=Pe(wi.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(_i.getDefaults(),{detune:0,onsilence:Ge,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);const s=this.toSeconds(n);return this._triggerEnvelopeAttack(s,r),this.setNote(e,s),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const r=this.toSeconds(n),s=e instanceof xn?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,i,r)}else this.frequency.setValueAtTime(s,r);return this}}$n([xr(0)],wi.prototype,"portamento",void 0);class _d extends ss{constructor(){super(Pe(_d.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Kt({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class gl extends wi{constructor(){const e=Pe(gl.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new ml(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new _d(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),dt(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(wi.getDefaults(),{envelope:Object.assign(Sp(ss.getDefaults(),Object.keys(Fe.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Sp(ml.getDefaults(),[...Object.keys(gn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),s=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+s)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Xl extends gl{constructor(){const e=Pe(Xl.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,dt(this,["oscillator","envelope"])}static getDefaults(){return si(wi.getDefaults(),gl.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const r=this.toSeconds(n),s=this.toFrequency(e instanceof xn?e.toFrequency():e),i=s*this.octaves;return this.oscillator.frequency.setValueAtTime(i,r),this.oscillator.frequency.exponentialRampToValueAtTime(s,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}$n([ty(0)],Xl.prototype,"octaves",void 0);$n([xr(0)],Xl.prototype,"pitchDecay",void 0);const ny=new Set;function wd(t){ny.add(t)}function ry(t,e){const n=`registerProcessor("${t}", ${e})`;ny.add(n)}const KT=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;wd(KT);const zT=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;wd(zT);const WT=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;wd(WT);const UT="feedback-comb-filter",$T=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;ry(UT,$T);class Ho extends _i{constructor(){const e=Pe(Ho.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const n={};Object.keys(e.urls).forEach(r=>{const s=parseInt(r,10);if(De(pa(r)||xs(s)&&isFinite(s),`url key is neither a note or midi pitch: ${r}`),pa(r)){const i=new xn(this.context,r).toMidi();n[i]=e.urls[r]}else xs(s)&&isFinite(s)&&(n[s]=e.urls[s])}),this._buffers=new md({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(_i.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Ge,onerror:Ge,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(s=>{const i=ey(new xn(this.context,s).toFrequency()),a=Math.round(i),l=i-a,c=this._findClosest(a),h=a-c,f=this._buffers.get(h),v=Jv(c+l),w=new $l({url:f,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:v}).connect(this.output);w.start(n,0,f.duration/v,r),Bn(this._activeSources.get(a))||this._activeSources.set(a,[]),this._activeSources.get(a).push(w),w.onended=()=>{if(this._activeSources&&this._activeSources.has(a)){const N=this._activeSources.get(a),E=N.indexOf(w);E!==-1&&N.splice(E,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const s=new xn(this.context,r).toMidi();if(this._activeSources.has(s)&&this._activeSources.get(s).length){const i=this._activeSources.get(s);n=this.toSeconds(n),i.forEach(a=>{a.stop(n)}),this._activeSources.set(s,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,s=1){const i=this.toSeconds(r);return this.triggerAttack(e,i,s),Bn(n)?(De(Bn(e),"notes must be an array when duration is array"),e.forEach((a,l)=>{const c=n[Math.min(l,n.length-1)];this.triggerRelease(a,i+this.toSeconds(c))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,r){if(De(pa(e)||isFinite(e),`note must be a pitch or midi: ${e}`),pa(e)){const s=new xn(this.context,e).toMidi();this._buffers.add(s,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}$n([xr(0)],Ho.prototype,"attack",void 0);$n([xr(0)],Ho.prototype,"release",void 0);class Sd extends Fe{constructor(){const e=Pe(Sd.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new it({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",dt(this,"pan")}static getDefaults(){return Object.assign(Fe.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const qT="bit-crusher",HT=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;ry(qT,HT);class vt extends Fe{constructor(){const e=Pe(vt.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new Kt({context:this.context}),vt._allSolos.has(this.context)||vt._allSolos.set(this.context,new Set),vt._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Fe.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),vt._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){vt._soloed.has(this.context)||vt._soloed.set(this.context,new Set),vt._soloed.get(this.context).add(this)}_removeSolo(){vt._soloed.has(this.context)&&vt._soloed.get(this.context).delete(this)}_isSoloed(){return vt._soloed.has(this.context)&&vt._soloed.get(this.context).has(this)}_noSolos(){return!vt._soloed.has(this.context)||vt._soloed.has(this.context)&&vt._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),vt._allSolos.get(this.context).delete(this),this._removeSolo(),this}}vt._allSolos=new Map;vt._soloed=new Map;class kd extends Fe{constructor(){const e=Pe(kd.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new Sd({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Pi({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,dt(this,["pan","volume"])}static getDefaults(){return Object.assign(Fe.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Xs extends Fe{constructor(){const e=Pe(Xs.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new vt({solo:e.solo,context:this.context}),this._panVol=this.output=new kd({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),dt(this,["pan","volume"])}static getDefaults(){return Object.assign(Fe.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Xs.buses.has(e)||Xs.buses.set(e,new Kt({context:this.context})),Xs.buses.get(e)}send(e,n=0){const r=this._getBus(e),s=new Kt({context:this.context,units:"decibels",gain:n});return this.connect(s),s.connect(r),s}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Xs.buses=new Map;function GT(){return Gt().immediate()}Gt().transport;Gt().destination;Gt().destination;Gt().listener;Gt().draw;Gt();let Pa=!1,ga=null;const Xr=new Ho({urls:{C2:"C2.mp3","D#2":"Ds2.mp3","F#2":"Fs2.mp3",A2:"A2.mp3",C3:"C3.mp3","D#3":"Ds3.mp3","F#3":"Fs3.mp3",A3:"A3.mp3",C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3",C5:"C5.mp3","D#5":"Ds5.mp3","F#5":"Fs5.mp3",A5:"A5.mp3"},baseUrl:"https://tonejs.github.io/audio/salamander/",onload:()=>{console.log("Sampler loaded"),console.log("Audio Context State:",Gt().state),Pa=!0}}).toDestination(),YT=Xr.triggerAttack;Xr.triggerAttack=function(...t){return console.log("Audio Context State:",Gt().state),YT.apply(this,t)};const QT=Xr.triggerRelease;Xr.triggerRelease=function(...t){return console.log("Audio Context State:",Gt().state),QT.apply(this,t)};const XT=async()=>{if(!Pa){if(ga)return ga;ga=new Promise(t=>{if(Xr.loaded){console.log("Sampler already loaded"),Pa=!0,t();return}const e=()=>{Xr.loaded?(console.log("Sampler loaded successfully"),Pa=!0,t()):setTimeout(e,100)};e()}),await ga,await ET(),console.log("Audio context started")}};function ZT({title:t,titleId:e,...n},r){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?ee.createElement("title",{id:e},t):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const xp=ee.forwardRef(ZT),hr="/p2";var Go={};(function t(e,n,r,s){var i=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),a=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!e.OffscreenCanvas)return!1;var M=new OffscreenCanvas(1,1),I=M.getContext("2d");I.fillRect(0,0,1,1);var H=M.transferToImageBitmap();try{I.createPattern(H,"no-repeat")}catch{return!1}return!0}();function c(){}function h(M){var I=n.exports.Promise,H=I!==void 0?I:e.Promise;return typeof H=="function"?new H(M):(M(c,c),null)}var f=function(M,I){return{transform:function(H){if(M)return H;if(I.has(H))return I.get(H);var le=new OffscreenCanvas(H.width,H.height),ge=le.getContext("2d");return ge.drawImage(H,0,0),I.set(H,le),le},clear:function(){I.clear()}}}(l,new Map),v=function(){var M=Math.floor(16.666666666666668),I,H,le={},ge=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(I=function(ie){var g=Math.random();return le[g]=requestAnimationFrame(function _(o){ge===o||ge+M-1<o?(ge=o,delete le[g],ie()):le[g]=requestAnimationFrame(_)}),g},H=function(ie){le[ie]&&cancelAnimationFrame(le[ie])}):(I=function(ie){return setTimeout(ie,M)},H=function(ie){return clearTimeout(ie)}),{frame:I,cancel:H}}(),w=function(){var M,I,H={};function le(ge){function ie(g,_){ge.postMessage({options:g||{},callback:_})}ge.init=function(_){var o=_.transferControlToOffscreen();ge.postMessage({canvas:o},[o])},ge.fire=function(_,o,u){if(I)return ie(_,null),I;var d=Math.random().toString(36).slice(2);return I=h(function(p){function m(k){k.data.callback===d&&(delete H[d],ge.removeEventListener("message",m),I=null,f.clear(),u(),p())}ge.addEventListener("message",m),ie(_,d),H[d]=m.bind(null,{data:{callback:d}})}),I},ge.reset=function(){ge.postMessage({reset:!0});for(var _ in H)H[_](),delete H[_]}}return function(){if(M)return M;if(!r&&i){var ge=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{M=new Worker(URL.createObjectURL(new Blob([ge])))}catch(ie){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",ie),null}le(M)}return M}}(),N={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function E(M,I){return I?I(M):M}function A(M){return M!=null}function b(M,I,H){return E(M&&A(M[I])?M[I]:N[I],H)}function y(M){return M<0?0:Math.floor(M)}function T(M,I){return Math.floor(Math.random()*(I-M))+M}function O(M){return parseInt(M,16)}function D(M){return M.map(P)}function P(M){var I=String(M).replace(/[^0-9a-f]/gi,"");return I.length<6&&(I=I[0]+I[0]+I[1]+I[1]+I[2]+I[2]),{r:O(I.substring(0,2)),g:O(I.substring(2,4)),b:O(I.substring(4,6))}}function j(M){var I=b(M,"origin",Object);return I.x=b(I,"x",Number),I.y=b(I,"y",Number),I}function z(M){M.width=document.documentElement.clientWidth,M.height=document.documentElement.clientHeight}function V(M){var I=M.getBoundingClientRect();M.width=I.width,M.height=I.height}function Q(M){var I=document.createElement("canvas");return I.style.position="fixed",I.style.top="0px",I.style.left="0px",I.style.pointerEvents="none",I.style.zIndex=M,I}function G(M,I,H,le,ge,ie,g,_,o){M.save(),M.translate(I,H),M.rotate(ie),M.scale(le,ge),M.arc(0,0,1,g,_,o),M.restore()}function J(M){var I=M.angle*(Math.PI/180),H=M.spread*(Math.PI/180);return{x:M.x,y:M.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:M.startVelocity*.5+Math.random()*M.startVelocity,angle2D:-I+(.5*H-Math.random()*H),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:M.color,shape:M.shape,tick:0,totalTicks:M.ticks,decay:M.decay,drift:M.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:M.gravity*3,ovalScalar:.6,scalar:M.scalar,flat:M.flat}}function X(M,I){I.x+=Math.cos(I.angle2D)*I.velocity+I.drift,I.y+=Math.sin(I.angle2D)*I.velocity+I.gravity,I.velocity*=I.decay,I.flat?(I.wobble=0,I.wobbleX=I.x+10*I.scalar,I.wobbleY=I.y+10*I.scalar,I.tiltSin=0,I.tiltCos=0,I.random=1):(I.wobble+=I.wobbleSpeed,I.wobbleX=I.x+10*I.scalar*Math.cos(I.wobble),I.wobbleY=I.y+10*I.scalar*Math.sin(I.wobble),I.tiltAngle+=.1,I.tiltSin=Math.sin(I.tiltAngle),I.tiltCos=Math.cos(I.tiltAngle),I.random=Math.random()+2);var H=I.tick++/I.totalTicks,le=I.x+I.random*I.tiltCos,ge=I.y+I.random*I.tiltSin,ie=I.wobbleX+I.random*I.tiltCos,g=I.wobbleY+I.random*I.tiltSin;if(M.fillStyle="rgba("+I.color.r+", "+I.color.g+", "+I.color.b+", "+(1-H)+")",M.beginPath(),a&&I.shape.type==="path"&&typeof I.shape.path=="string"&&Array.isArray(I.shape.matrix))M.fill(ue(I.shape.path,I.shape.matrix,I.x,I.y,Math.abs(ie-le)*.1,Math.abs(g-ge)*.1,Math.PI/10*I.wobble));else if(I.shape.type==="bitmap"){var _=Math.PI/10*I.wobble,o=Math.abs(ie-le)*.1,u=Math.abs(g-ge)*.1,d=I.shape.bitmap.width*I.scalar,p=I.shape.bitmap.height*I.scalar,m=new DOMMatrix([Math.cos(_)*o,Math.sin(_)*o,-Math.sin(_)*u,Math.cos(_)*u,I.x,I.y]);m.multiplySelf(new DOMMatrix(I.shape.matrix));var k=M.createPattern(f.transform(I.shape.bitmap),"no-repeat");k.setTransform(m),M.globalAlpha=1-H,M.fillStyle=k,M.fillRect(I.x-d/2,I.y-p/2,d,p),M.globalAlpha=1}else if(I.shape==="circle")M.ellipse?M.ellipse(I.x,I.y,Math.abs(ie-le)*I.ovalScalar,Math.abs(g-ge)*I.ovalScalar,Math.PI/10*I.wobble,0,2*Math.PI):G(M,I.x,I.y,Math.abs(ie-le)*I.ovalScalar,Math.abs(g-ge)*I.ovalScalar,Math.PI/10*I.wobble,0,2*Math.PI);else if(I.shape==="star")for(var C=Math.PI/2*3,S=4*I.scalar,x=8*I.scalar,L=I.x,B=I.y,R=5,F=Math.PI/R;R--;)L=I.x+Math.cos(C)*x,B=I.y+Math.sin(C)*x,M.lineTo(L,B),C+=F,L=I.x+Math.cos(C)*S,B=I.y+Math.sin(C)*S,M.lineTo(L,B),C+=F;else M.moveTo(Math.floor(I.x),Math.floor(I.y)),M.lineTo(Math.floor(I.wobbleX),Math.floor(ge)),M.lineTo(Math.floor(ie),Math.floor(g)),M.lineTo(Math.floor(le),Math.floor(I.wobbleY));return M.closePath(),M.fill(),I.tick<I.totalTicks}function fe(M,I,H,le,ge){var ie=I.slice(),g=M.getContext("2d"),_,o,u=h(function(d){function p(){_=o=null,g.clearRect(0,0,le.width,le.height),f.clear(),ge(),d()}function m(){r&&!(le.width===s.width&&le.height===s.height)&&(le.width=M.width=s.width,le.height=M.height=s.height),!le.width&&!le.height&&(H(M),le.width=M.width,le.height=M.height),g.clearRect(0,0,le.width,le.height),ie=ie.filter(function(k){return X(g,k)}),ie.length?_=v.frame(m):p()}_=v.frame(m),o=p});return{addFettis:function(d){return ie=ie.concat(d),u},canvas:M,promise:u,reset:function(){_&&v.cancel(_),o&&o()}}}function de(M,I){var H=!M,le=!!b(I||{},"resize"),ge=!1,ie=b(I,"disableForReducedMotion",Boolean),g=i&&!!b(I||{},"useWorker"),_=g?w():null,o=H?z:V,u=M&&_?!!M.__confetti_initialized:!1,d=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,p;function m(C,S,x){for(var L=b(C,"particleCount",y),B=b(C,"angle",Number),R=b(C,"spread",Number),F=b(C,"startVelocity",Number),W=b(C,"decay",Number),K=b(C,"gravity",Number),$=b(C,"drift",Number),q=b(C,"colors",D),Z=b(C,"ticks",Number),se=b(C,"shapes"),te=b(C,"scalar"),ce=!!b(C,"flat"),oe=j(C),re=L,pe=[],ve=M.width*oe.x,ae=M.height*oe.y;re--;)pe.push(J({x:ve,y:ae,angle:B,spread:R,startVelocity:F,color:q[re%q.length],shape:se[T(0,se.length)],ticks:Z,decay:W,gravity:K,drift:$,scalar:te,flat:ce}));return p?p.addFettis(pe):(p=fe(M,pe,o,S,x),p.promise)}function k(C){var S=ie||b(C,"disableForReducedMotion",Boolean),x=b(C,"zIndex",Number);if(S&&d)return h(function(F){F()});H&&p?M=p.canvas:H&&!M&&(M=Q(x),document.body.appendChild(M)),le&&!u&&o(M);var L={width:M.width,height:M.height};_&&!u&&_.init(M),u=!0,_&&(M.__confetti_initialized=!0);function B(){if(_){var F={getBoundingClientRect:function(){if(!H)return M.getBoundingClientRect()}};o(F),_.postMessage({resize:{width:F.width,height:F.height}});return}L.width=L.height=null}function R(){p=null,le&&(ge=!1,e.removeEventListener("resize",B)),H&&M&&(document.body.contains(M)&&document.body.removeChild(M),M=null,u=!1)}return le&&!ge&&(ge=!0,e.addEventListener("resize",B,!1)),_?_.fire(C,L,R):m(C,L,R)}return k.reset=function(){_&&_.reset(),p&&p.reset()},k}var _e;function me(){return _e||(_e=de(null,{useWorker:!0,resize:!0})),_e}function ue(M,I,H,le,ge,ie,g){var _=new Path2D(M),o=new Path2D;o.addPath(_,new DOMMatrix(I));var u=new Path2D;return u.addPath(o,new DOMMatrix([Math.cos(g)*ge,Math.sin(g)*ge,-Math.sin(g)*ie,Math.cos(g)*ie,H,le])),u}function Y(M){if(!a)throw new Error("path confetti are not supported in this browser");var I,H;typeof M=="string"?I=M:(I=M.path,H=M.matrix);var le=new Path2D(I),ge=document.createElement("canvas"),ie=ge.getContext("2d");if(!H){for(var g=1e3,_=g,o=g,u=0,d=0,p,m,k=0;k<g;k+=2)for(var C=0;C<g;C+=2)ie.isPointInPath(le,k,C,"nonzero")&&(_=Math.min(_,k),o=Math.min(o,C),u=Math.max(u,k),d=Math.max(d,C));p=u-_,m=d-o;var S=10,x=Math.min(S/p,S/m);H=[x,0,0,x,-Math.round(p/2+_)*x,-Math.round(m/2+o)*x]}return{type:"path",path:I,matrix:H}}function U(M){var I,H=1,le="#000000",ge='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof M=="string"?I=M:(I=M.text,H="scalar"in M?M.scalar:H,ge="fontFamily"in M?M.fontFamily:ge,le="color"in M?M.color:le);var ie=10*H,g=""+ie+"px "+ge,_=new OffscreenCanvas(ie,ie),o=_.getContext("2d");o.font=g;var u=o.measureText(I),d=Math.ceil(u.actualBoundingBoxRight+u.actualBoundingBoxLeft),p=Math.ceil(u.actualBoundingBoxAscent+u.actualBoundingBoxDescent),m=2,k=u.actualBoundingBoxLeft+m,C=u.actualBoundingBoxAscent+m;d+=m+m,p+=m+m,_=new OffscreenCanvas(d,p),o=_.getContext("2d"),o.font=g,o.fillStyle=le,o.fillText(I,k,C);var S=1/H;return{type:"bitmap",bitmap:_.transferToImageBitmap(),matrix:[S,0,0,S,-d*S/2,-p*S/2]}}n.exports=function(){return me().apply(this,arguments)},n.exports.reset=function(){me().reset()},n.exports.create=de,n.exports.shapeFromPath=Y,n.exports.shapeFromText=U})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Go,!1);const JT=Go.exports;Go.exports.create;const eE=({taskConfig:t,progress:e=0,status:n="active",isActive:r=!1,onActivate:s,previousTaskCompleted:i=!0,onSkip:a})=>{const{total:l,description:c}=t,h=n==="completed",f=Math.min(e/l*100,100);return ls.useEffect(()=>{n==="active"&&e>=l&&JT({particleCount:1e3,spread:200,origin:{y:.8}})},[e,l,n]),!i&&!h&&!r?null:ne.jsxs("div",{className:`my-4 p-4 bg-gray-800 rounded-lg transition-all duration-300 ${r?"ring-2 ring-blue-500 ring-opacity-50 shadow-lg shadow-blue-500/50":""} ${s?"cursor-pointer hover:bg-gray-700":""}`,onClick:s,children:[ne.jsxs("div",{className:"flex justify-between items-center mb-2",children:[ne.jsx("div",{className:"text-white",children:h?ne.jsxs("span",{className:"flex items-center gap-2",children:[ne.jsx("span",{className:"text-green-400",children:""}),c]}):c}),ne.jsxs("div",{className:"flex items-center gap-4",children:[!h&&a&&ne.jsx("button",{onClick:v=>{v.stopPropagation(),a(t.id)},className:"px-2 py-1 text-sm bg-gray-700 hover:bg-gray-600 rounded text-gray-300",children:"Skip"}),!h&&ne.jsx("div",{className:"text-gray-400",children:`${e}/${l}`})]})]}),ne.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:ne.jsx("div",{className:`h-full transition-all duration-300 ease-out ${h?"bg-green-400":"bg-green-500"}`,style:{width:`${f}%`}})})]})};var sy={exports:{}};/*!
 * 
 *   react-simple-keyboard v3.8.22
 *   https://github.com/hodgef/react-simple-keyboard
 *
 *   Copyright (c) Francisco Hodge (https://github.com/hodgef) and project contributors.
 *
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */(function(t,e){(function(n,r){t.exports=r(ee)})(ay,function(n){return function(){var r={981:function(){typeof Element>"u"||"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),typeof self<"u"&&"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(l){if("Element"in l){var c="classList",h="prototype",f=l.Element[h],v=Object,w=String[h].trim||function(){return this.replace(/^\s+|\s+$/g,"")},N=Array[h].indexOf||function(D){for(var P=0,j=this.length;P<j;P++)if(P in this&&this[P]===D)return P;return-1},E=function(D,P){this.name=D,this.code=DOMException[D],this.message=P},A=function(D,P){if(P==="")throw new E("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(P))throw new E("INVALID_CHARACTER_ERR","The token must not contain space characters.");return N.call(D,P)},b=function(D){for(var P=w.call(D.getAttribute("class")||""),j=P?P.split(/\s+/):[],z=0,V=j.length;z<V;z++)this.push(j[z]);this._updateClassName=function(){D.setAttribute("class",this.toString())}},y=b[h]=[],T=function(){return new b(this)};if(E[h]=Error[h],y.item=function(D){return this[D]||null},y.contains=function(D){return~A(this,D+"")},y.add=function(){var D,P=arguments,j=0,z=P.length,V=!1;do~A(this,D=P[j]+"")||(this.push(D),V=!0);while(++j<z);V&&this._updateClassName()},y.remove=function(){var D,P,j=arguments,z=0,V=j.length,Q=!1;do for(P=A(this,D=j[z]+"");~P;)this.splice(P,1),Q=!0,P=A(this,D);while(++z<V);Q&&this._updateClassName()},y.toggle=function(D,P){var j=this.contains(D),z=j?P!==!0&&"remove":P!==!1&&"add";return z&&this[z](D),P===!0||P===!1?P:!j},y.replace=function(D,P){var j=A(D+"");~j&&(this.splice(j,1,P),this._updateClassName())},y.toString=function(){return this.join(" ")},v.defineProperty){var O={get:T,enumerable:!0,configurable:!0};try{v.defineProperty(f,c,O)}catch(D){D.number!==void 0&&D.number!==-2146823252||(O.enumerable=!1,v.defineProperty(f,c,O))}}else v[h].__defineGetter__&&f.__defineGetter__(c,T)}}(self),function(){var l=document.createElement("_");if(l.classList.add("c1","c2"),!l.classList.contains("c2")){var c=function(f){var v=DOMTokenList.prototype[f];DOMTokenList.prototype[f]=function(w){var N,E=arguments.length;for(N=0;N<E;N++)w=arguments[N],v.call(this,w)}};c("add"),c("remove")}if(l.classList.toggle("c3",!1),l.classList.contains("c3")){var h=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(f,v){return 1 in arguments&&!this.contains(f)==!v?v:h.call(this,f)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(f,v){var w=this.toString().split(" "),N=w.indexOf(f+"");~N&&(w=w.slice(N),this.remove.apply(this,w),this.add(v),this.add.apply(this,w.slice(1)))}),l=null}())},548:function(l){l.exports=function(){var c={9306:function(g,_,o){var u=o(4901),d=o(6823),p=TypeError;g.exports=function(m){if(u(m))return m;throw new p(d(m)+" is not a function")}},5548:function(g,_,o){var u=o(3517),d=o(6823),p=TypeError;g.exports=function(m){if(u(m))return m;throw new p(d(m)+" is not a constructor")}},3506:function(g,_,o){var u=o(3925),d=String,p=TypeError;g.exports=function(m){if(u(m))return m;throw new p("Can't set "+d(m)+" as a prototype")}},6469:function(g,_,o){var u=o(8227),d=o(2360),p=o(4913).f,m=u("unscopables"),k=Array.prototype;k[m]===void 0&&p(k,m,{configurable:!0,value:d(null)}),g.exports=function(C){k[m][C]=!0}},7829:function(g,_,o){var u=o(8183).charAt;g.exports=function(d,p,m){return p+(m?u(d,p).length:1)}},8551:function(g,_,o){var u=o(34),d=String,p=TypeError;g.exports=function(m){if(u(m))return m;throw new p(d(m)+" is not an object")}},235:function(g,_,o){var u=o(9213).forEach,d=o(4598)("forEach");g.exports=d?[].forEach:function(p){return u(this,p,arguments.length>1?arguments[1]:void 0)}},7916:function(g,_,o){var u=o(6080),d=o(9565),p=o(8981),m=o(6319),k=o(4209),C=o(3517),S=o(6198),x=o(4659),L=o(81),B=o(851),R=Array;g.exports=function(F){var W=p(F),K=C(this),$=arguments.length,q=$>1?arguments[1]:void 0,Z=q!==void 0;Z&&(q=u(q,$>2?arguments[2]:void 0));var se,te,ce,oe,re,pe,ve=B(W),ae=0;if(!ve||this===R&&k(ve))for(se=S(W),te=K?new this(se):R(se);se>ae;ae++)pe=Z?q(W[ae],ae):W[ae],x(te,ae,pe);else for(te=K?new this:[],re=(oe=L(W,ve)).next;!(ce=d(re,oe)).done;ae++)pe=Z?m(oe,q,[ce.value,ae],!0):ce.value,x(te,ae,pe);return te.length=ae,te}},9617:function(g,_,o){var u=o(5397),d=o(5610),p=o(6198),m=function(k){return function(C,S,x){var L=u(C),B=p(L);if(B===0)return!k&&-1;var R,F=d(x,B);if(k&&S!=S){for(;B>F;)if((R=L[F++])!=R)return!0}else for(;B>F;F++)if((k||F in L)&&L[F]===S)return k||F||0;return!k&&-1}};g.exports={includes:m(!0),indexOf:m(!1)}},9213:function(g,_,o){var u=o(6080),d=o(9504),p=o(7055),m=o(8981),k=o(6198),C=o(1469),S=d([].push),x=function(L){var B=L===1,R=L===2,F=L===3,W=L===4,K=L===6,$=L===7,q=L===5||K;return function(Z,se,te,ce){for(var oe,re,pe=m(Z),ve=p(pe),ae=k(ve),Ce=u(se,te),ye=0,ke=ce||C,Le=B?ke(Z,ae):R||$?ke(Z,0):void 0;ae>ye;ye++)if((q||ye in ve)&&(re=Ce(oe=ve[ye],ye,pe),L))if(B)Le[ye]=re;else if(re)switch(L){case 3:return!0;case 5:return oe;case 6:return ye;case 2:S(Le,oe)}else switch(L){case 4:return!1;case 7:S(Le,oe)}return K?-1:F||W?W:Le}};g.exports={forEach:x(0),map:x(1),filter:x(2),some:x(3),every:x(4),find:x(5),findIndex:x(6),filterReject:x(7)}},597:function(g,_,o){var u=o(9039),d=o(8227),p=o(9519),m=d("species");g.exports=function(k){return p>=51||!u(function(){var C=[];return(C.constructor={})[m]=function(){return{foo:1}},C[k](Boolean).foo!==1})}},4598:function(g,_,o){var u=o(9039);g.exports=function(d,p){var m=[][d];return!!m&&u(function(){m.call(null,p||function(){return 1},1)})}},926:function(g,_,o){var u=o(9306),d=o(8981),p=o(7055),m=o(6198),k=TypeError,C="Reduce of empty array with no initial value",S=function(x){return function(L,B,R,F){var W=d(L),K=p(W),$=m(W);if(u(B),$===0&&R<2)throw new k(C);var q=x?$-1:0,Z=x?-1:1;if(R<2)for(;;){if(q in K){F=K[q],q+=Z;break}if(q+=Z,x?q<0:$<=q)throw new k(C)}for(;x?q>=0:$>q;q+=Z)q in K&&(F=B(F,K[q],q,W));return F}};g.exports={left:S(!1),right:S(!0)}},4527:function(g,_,o){var u=o(3724),d=o(4376),p=TypeError,m=Object.getOwnPropertyDescriptor,k=u&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(C){return C instanceof TypeError}}();g.exports=k?function(C,S){if(d(C)&&!m(C,"length").writable)throw new p("Cannot set read only .length");return C.length=S}:function(C,S){return C.length=S}},7680:function(g,_,o){var u=o(9504);g.exports=u([].slice)},4488:function(g,_,o){var u=o(7680),d=Math.floor,p=function(m,k){var C=m.length;if(C<8)for(var S,x,L=1;L<C;){for(x=L,S=m[L];x&&k(m[x-1],S)>0;)m[x]=m[--x];x!==L++&&(m[x]=S)}else for(var B=d(C/2),R=p(u(m,0,B),k),F=p(u(m,B),k),W=R.length,K=F.length,$=0,q=0;$<W||q<K;)m[$+q]=$<W&&q<K?k(R[$],F[q])<=0?R[$++]:F[q++]:$<W?R[$++]:F[q++];return m};g.exports=p},7433:function(g,_,o){var u=o(4376),d=o(3517),p=o(34),m=o(8227)("species"),k=Array;g.exports=function(C){var S;return u(C)&&(S=C.constructor,(d(S)&&(S===k||u(S.prototype))||p(S)&&(S=S[m])===null)&&(S=void 0)),S===void 0?k:S}},1469:function(g,_,o){var u=o(7433);g.exports=function(d,p){return new(u(d))(p===0?0:p)}},6319:function(g,_,o){var u=o(8551),d=o(9539);g.exports=function(p,m,k,C){try{return C?m(u(k)[0],k[1]):m(k)}catch(S){d(p,"throw",S)}}},4428:function(g,_,o){var u=o(8227)("iterator"),d=!1;try{var p=0,m={next:function(){return{done:!!p++}},return:function(){d=!0}};m[u]=function(){return this},Array.from(m,function(){throw 2})}catch{}g.exports=function(k,C){try{if(!C&&!d)return!1}catch{return!1}var S=!1;try{var x={};x[u]=function(){return{next:function(){return{done:S=!0}}}},k(x)}catch{}return S}},2195:function(g,_,o){var u=o(9504),d=u({}.toString),p=u("".slice);g.exports=function(m){return p(d(m),8,-1)}},6955:function(g,_,o){var u=o(2140),d=o(4901),p=o(2195),m=o(8227)("toStringTag"),k=Object,C=p(function(){return arguments}())==="Arguments";g.exports=u?p:function(S){var x,L,B;return S===void 0?"Undefined":S===null?"Null":typeof(L=function(R,F){try{return R[F]}catch{}}(x=k(S),m))=="string"?L:C?p(x):(B=p(x))==="Object"&&d(x.callee)?"Arguments":B}},7740:function(g,_,o){var u=o(9297),d=o(5031),p=o(7347),m=o(4913);g.exports=function(k,C,S){for(var x=d(C),L=m.f,B=p.f,R=0;R<x.length;R++){var F=x[R];u(k,F)||S&&u(S,F)||L(k,F,B(C,F))}}},1436:function(g,_,o){var u=o(8227)("match");g.exports=function(d){var p=/./;try{"/./"[d](p)}catch{try{return p[u]=!1,"/./"[d](p)}catch{}}return!1}},2211:function(g,_,o){var u=o(9039);g.exports=!u(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},2529:function(g){g.exports=function(_,o){return{value:_,done:o}}},6699:function(g,_,o){var u=o(3724),d=o(4913),p=o(6980);g.exports=u?function(m,k,C){return d.f(m,k,p(1,C))}:function(m,k,C){return m[k]=C,m}},6980:function(g){g.exports=function(_,o){return{enumerable:!(1&_),configurable:!(2&_),writable:!(4&_),value:o}}},4659:function(g,_,o){var u=o(3724),d=o(4913),p=o(6980);g.exports=function(m,k,C){u?d.f(m,k,p(0,C)):m[k]=C}},3640:function(g,_,o){var u=o(8551),d=o(4270),p=TypeError;g.exports=function(m){if(u(this),m==="string"||m==="default")m="string";else if(m!=="number")throw new p("Incorrect hint");return d(this,m)}},2106:function(g,_,o){var u=o(283),d=o(4913);g.exports=function(p,m,k){return k.get&&u(k.get,m,{getter:!0}),k.set&&u(k.set,m,{setter:!0}),d.f(p,m,k)}},6840:function(g,_,o){var u=o(4901),d=o(4913),p=o(283),m=o(9433);g.exports=function(k,C,S,x){x||(x={});var L=x.enumerable,B=x.name!==void 0?x.name:C;if(u(S)&&p(S,B,x),x.global)L?k[C]=S:m(C,S);else{try{x.unsafe?k[C]&&(L=!0):delete k[C]}catch{}L?k[C]=S:d.f(k,C,{value:S,enumerable:!1,configurable:!x.nonConfigurable,writable:!x.nonWritable})}return k}},9433:function(g,_,o){var u=o(4576),d=Object.defineProperty;g.exports=function(p,m){try{d(u,p,{value:m,configurable:!0,writable:!0})}catch{u[p]=m}return m}},4606:function(g,_,o){var u=o(6823),d=TypeError;g.exports=function(p,m){if(!delete p[m])throw new d("Cannot delete property "+u(m)+" of "+u(p))}},3724:function(g,_,o){var u=o(9039);g.exports=!u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},4055:function(g,_,o){var u=o(4576),d=o(34),p=u.document,m=d(p)&&d(p.createElement);g.exports=function(k){return m?p.createElement(k):{}}},6837:function(g){var _=TypeError;g.exports=function(o){if(o>9007199254740991)throw _("Maximum allowed index exceeded");return o}},7400:function(g){g.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9296:function(g,_,o){var u=o(4055)("span").classList,d=u&&u.constructor&&u.constructor.prototype;g.exports=d===Object.prototype?void 0:d},8727:function(g){g.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3709:function(g,_,o){var u=o(2839).match(/firefox\/(\d+)/i);g.exports=!!u&&+u[1]},3763:function(g,_,o){var u=o(2839);g.exports=/MSIE|Trident/.test(u)},6193:function(g,_,o){var u=o(4215);g.exports=u==="NODE"},2839:function(g,_,o){var u=o(4576).navigator,d=u&&u.userAgent;g.exports=d?String(d):""},9519:function(g,_,o){var u,d,p=o(4576),m=o(2839),k=p.process,C=p.Deno,S=k&&k.versions||C&&C.version,x=S&&S.v8;x&&(d=(u=x.split("."))[0]>0&&u[0]<4?1:+(u[0]+u[1])),!d&&m&&(!(u=m.match(/Edge\/(\d+)/))||u[1]>=74)&&(u=m.match(/Chrome\/(\d+)/))&&(d=+u[1]),g.exports=d},3607:function(g,_,o){var u=o(2839).match(/AppleWebKit\/(\d+)\./);g.exports=!!u&&+u[1]},4215:function(g,_,o){var u=o(4576),d=o(2839),p=o(2195),m=function(k){return d.slice(0,k.length)===k};g.exports=m("Bun/")?"BUN":m("Cloudflare-Workers")?"CLOUDFLARE":m("Deno/")?"DENO":m("Node.js/")?"NODE":u.Bun&&typeof Bun.version=="string"?"BUN":u.Deno&&typeof Deno.version=="object"?"DENO":p(u.process)==="process"?"NODE":u.window&&u.document?"BROWSER":"REST"},6518:function(g,_,o){var u=o(4576),d=o(7347).f,p=o(6699),m=o(6840),k=o(9433),C=o(7740),S=o(2796);g.exports=function(x,L){var B,R,F,W,K,$=x.target,q=x.global,Z=x.stat;if(B=q?u:Z?u[$]||k($,{}):u[$]&&u[$].prototype)for(R in L){if(W=L[R],F=x.dontCallGetSet?(K=d(B,R))&&K.value:B[R],!S(q?R:$+(Z?".":"#")+R,x.forced)&&F!==void 0){if(typeof W==typeof F)continue;C(W,F)}(x.sham||F&&F.sham)&&p(W,"sham",!0),m(B,R,W,x)}}},9039:function(g){g.exports=function(_){try{return!!_()}catch{return!0}}},9228:function(g,_,o){o(7495);var u=o(9565),d=o(6840),p=o(7323),m=o(9039),k=o(8227),C=o(6699),S=k("species"),x=RegExp.prototype;g.exports=function(L,B,R,F){var W=k(L),K=!m(function(){var se={};return se[W]=function(){return 7},""[L](se)!==7}),$=K&&!m(function(){var se=!1,te=/a/;return L==="split"&&((te={}).constructor={},te.constructor[S]=function(){return te},te.flags="",te[W]=/./[W]),te.exec=function(){return se=!0,null},te[W](""),!se});if(!K||!$||R){var q=/./[W],Z=B(W,""[L],function(se,te,ce,oe,re){var pe=te.exec;return pe===p||pe===x.exec?K&&!re?{done:!0,value:u(q,te,ce,oe)}:{done:!0,value:u(se,ce,te,oe)}:{done:!1}});d(String.prototype,L,Z[0]),d(x,W,Z[1])}F&&C(x[W],"sham",!0)}},8745:function(g,_,o){var u=o(616),d=Function.prototype,p=d.apply,m=d.call;g.exports=typeof Reflect=="object"&&Reflect.apply||(u?m.bind(p):function(){return m.apply(p,arguments)})},6080:function(g,_,o){var u=o(7476),d=o(9306),p=o(616),m=u(u.bind);g.exports=function(k,C){return d(k),C===void 0?k:p?m(k,C):function(){return k.apply(C,arguments)}}},616:function(g,_,o){var u=o(9039);g.exports=!u(function(){var d=(function(){}).bind();return typeof d!="function"||d.hasOwnProperty("prototype")})},9565:function(g,_,o){var u=o(616),d=Function.prototype.call;g.exports=u?d.bind(d):function(){return d.apply(d,arguments)}},350:function(g,_,o){var u=o(3724),d=o(9297),p=Function.prototype,m=u&&Object.getOwnPropertyDescriptor,k=d(p,"name"),C=k&&(function(){}).name==="something",S=k&&(!u||u&&m(p,"name").configurable);g.exports={EXISTS:k,PROPER:C,CONFIGURABLE:S}},6706:function(g,_,o){var u=o(9504),d=o(9306);g.exports=function(p,m,k){try{return u(d(Object.getOwnPropertyDescriptor(p,m)[k]))}catch{}}},7476:function(g,_,o){var u=o(2195),d=o(9504);g.exports=function(p){if(u(p)==="Function")return d(p)}},9504:function(g,_,o){var u=o(616),d=Function.prototype,p=d.call,m=u&&d.bind.bind(p,p);g.exports=u?m:function(k){return function(){return p.apply(k,arguments)}}},7751:function(g,_,o){var u=o(4576),d=o(4901);g.exports=function(p,m){return arguments.length<2?(k=u[p],d(k)?k:void 0):u[p]&&u[p][m];var k}},851:function(g,_,o){var u=o(6955),d=o(5966),p=o(4117),m=o(6269),k=o(8227)("iterator");g.exports=function(C){if(!p(C))return d(C,k)||d(C,"@@iterator")||m[u(C)]}},81:function(g,_,o){var u=o(9565),d=o(9306),p=o(8551),m=o(6823),k=o(851),C=TypeError;g.exports=function(S,x){var L=arguments.length<2?k(S):x;if(d(L))return p(u(L,S));throw new C(m(S)+" is not iterable")}},6933:function(g,_,o){var u=o(9504),d=o(4376),p=o(4901),m=o(2195),k=o(655),C=u([].push);g.exports=function(S){if(p(S))return S;if(d(S)){for(var x=S.length,L=[],B=0;B<x;B++){var R=S[B];typeof R=="string"?C(L,R):typeof R!="number"&&m(R)!=="Number"&&m(R)!=="String"||C(L,k(R))}var F=L.length,W=!0;return function(K,$){if(W)return W=!1,$;if(d(this))return $;for(var q=0;q<F;q++)if(L[q]===K)return $}}}},5966:function(g,_,o){var u=o(9306),d=o(4117);g.exports=function(p,m){var k=p[m];return d(k)?void 0:u(k)}},2478:function(g,_,o){var u=o(9504),d=o(8981),p=Math.floor,m=u("".charAt),k=u("".replace),C=u("".slice),S=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,x=/\$([$&'`]|\d{1,2})/g;g.exports=function(L,B,R,F,W,K){var $=R+L.length,q=F.length,Z=x;return W!==void 0&&(W=d(W),Z=S),k(K,Z,function(se,te){var ce;switch(m(te,0)){case"$":return"$";case"&":return L;case"`":return C(B,0,R);case"'":return C(B,$);case"<":ce=W[C(te,1,-1)];break;default:var oe=+te;if(oe===0)return se;if(oe>q){var re=p(oe/10);return re===0?se:re<=q?F[re-1]===void 0?m(te,1):F[re-1]+m(te,1):se}ce=F[oe-1]}return ce===void 0?"":ce})}},4576:function(g,_,o){var u=function(d){return d&&d.Math===Math&&d};g.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof o.g=="object"&&o.g)||u(typeof this=="object"&&this)||function(){return this}()||Function("return this")()},9297:function(g,_,o){var u=o(9504),d=o(8981),p=u({}.hasOwnProperty);g.exports=Object.hasOwn||function(m,k){return p(d(m),k)}},421:function(g){g.exports={}},397:function(g,_,o){var u=o(7751);g.exports=u("document","documentElement")},5917:function(g,_,o){var u=o(3724),d=o(9039),p=o(4055);g.exports=!u&&!d(function(){return Object.defineProperty(p("div"),"a",{get:function(){return 7}}).a!==7})},7055:function(g,_,o){var u=o(9504),d=o(9039),p=o(2195),m=Object,k=u("".split);g.exports=d(function(){return!m("z").propertyIsEnumerable(0)})?function(C){return p(C)==="String"?k(C,""):m(C)}:m},3167:function(g,_,o){var u=o(4901),d=o(34),p=o(2967);g.exports=function(m,k,C){var S,x;return p&&u(S=k.constructor)&&S!==C&&d(x=S.prototype)&&x!==C.prototype&&p(m,x),m}},3706:function(g,_,o){var u=o(9504),d=o(4901),p=o(7629),m=u(Function.toString);d(p.inspectSource)||(p.inspectSource=function(k){return m(k)}),g.exports=p.inspectSource},1181:function(g,_,o){var u,d,p,m=o(8622),k=o(4576),C=o(34),S=o(6699),x=o(9297),L=o(7629),B=o(6119),R=o(421),F="Object already initialized",W=k.TypeError,K=k.WeakMap;if(m||L.state){var $=L.state||(L.state=new K);$.get=$.get,$.has=$.has,$.set=$.set,u=function(Z,se){if($.has(Z))throw new W(F);return se.facade=Z,$.set(Z,se),se},d=function(Z){return $.get(Z)||{}},p=function(Z){return $.has(Z)}}else{var q=B("state");R[q]=!0,u=function(Z,se){if(x(Z,q))throw new W(F);return se.facade=Z,S(Z,q,se),se},d=function(Z){return x(Z,q)?Z[q]:{}},p=function(Z){return x(Z,q)}}g.exports={set:u,get:d,has:p,enforce:function(Z){return p(Z)?d(Z):u(Z,{})},getterFor:function(Z){return function(se){var te;if(!C(se)||(te=d(se)).type!==Z)throw new W("Incompatible receiver, "+Z+" required");return te}}}},4209:function(g,_,o){var u=o(8227),d=o(6269),p=u("iterator"),m=Array.prototype;g.exports=function(k){return k!==void 0&&(d.Array===k||m[p]===k)}},4376:function(g,_,o){var u=o(2195);g.exports=Array.isArray||function(d){return u(d)==="Array"}},4901:function(g){var _=typeof document=="object"&&document.all;g.exports=_===void 0&&_!==void 0?function(o){return typeof o=="function"||o===_}:function(o){return typeof o=="function"}},3517:function(g,_,o){var u=o(9504),d=o(9039),p=o(4901),m=o(6955),k=o(7751),C=o(3706),S=function(){},x=k("Reflect","construct"),L=/^\s*(?:class|function)\b/,B=u(L.exec),R=!L.test(S),F=function(K){if(!p(K))return!1;try{return x(S,[],K),!0}catch{return!1}},W=function(K){if(!p(K))return!1;switch(m(K)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return R||!!B(L,C(K))}catch{return!0}};W.sham=!0,g.exports=!x||d(function(){var K;return F(F.call)||!F(Object)||!F(function(){K=!0})||K})?W:F},2796:function(g,_,o){var u=o(9039),d=o(4901),p=/#|\.prototype\./,m=function(L,B){var R=C[k(L)];return R===x||R!==S&&(d(B)?u(B):!!B)},k=m.normalize=function(L){return String(L).replace(p,".").toLowerCase()},C=m.data={},S=m.NATIVE="N",x=m.POLYFILL="P";g.exports=m},2087:function(g,_,o){var u=o(34),d=Math.floor;g.exports=Number.isInteger||function(p){return!u(p)&&isFinite(p)&&d(p)===p}},4117:function(g){g.exports=function(_){return _==null}},34:function(g,_,o){var u=o(4901);g.exports=function(d){return typeof d=="object"?d!==null:u(d)}},3925:function(g,_,o){var u=o(34);g.exports=function(d){return u(d)||d===null}},6395:function(g){g.exports=!1},788:function(g,_,o){var u=o(34),d=o(2195),p=o(8227)("match");g.exports=function(m){var k;return u(m)&&((k=m[p])!==void 0?!!k:d(m)==="RegExp")}},757:function(g,_,o){var u=o(7751),d=o(4901),p=o(1625),m=o(7040),k=Object;g.exports=m?function(C){return typeof C=="symbol"}:function(C){var S=u("Symbol");return d(S)&&p(S.prototype,k(C))}},9539:function(g,_,o){var u=o(9565),d=o(8551),p=o(5966);g.exports=function(m,k,C){var S,x;d(m);try{if(!(S=p(m,"return"))){if(k==="throw")throw C;return C}S=u(S,m)}catch(L){x=!0,S=L}if(k==="throw")throw C;if(x)throw S;return d(S),C}},3994:function(g,_,o){var u=o(7657).IteratorPrototype,d=o(2360),p=o(6980),m=o(687),k=o(6269),C=function(){return this};g.exports=function(S,x,L,B){var R=x+" Iterator";return S.prototype=d(u,{next:p(+!B,L)}),m(S,R,!1,!0),k[R]=C,S}},1088:function(g,_,o){var u=o(6518),d=o(9565),p=o(6395),m=o(350),k=o(4901),C=o(3994),S=o(2787),x=o(2967),L=o(687),B=o(6699),R=o(6840),F=o(8227),W=o(6269),K=o(7657),$=m.PROPER,q=m.CONFIGURABLE,Z=K.IteratorPrototype,se=K.BUGGY_SAFARI_ITERATORS,te=F("iterator"),ce="keys",oe="values",re="entries",pe=function(){return this};g.exports=function(ve,ae,Ce,ye,ke,Le,Oe){C(Ce,ae,ye);var we,Me,be,Re=function($e){if($e===ke&&Ee)return Ee;if(!se&&$e&&$e in Te)return Te[$e];switch($e){case ce:case oe:case re:return function(){return new Ce(this,$e)}}return function(){return new Ce(this)}},Ne=ae+" Iterator",Ie=!1,Te=ve.prototype,xe=Te[te]||Te["@@iterator"]||ke&&Te[ke],Ee=!se&&xe||Re(ke),Ue=ae==="Array"&&Te.entries||xe;if(Ue&&(we=S(Ue.call(new ve)))!==Object.prototype&&we.next&&(p||S(we)===Z||(x?x(we,Z):k(we[te])||R(we,te,pe)),L(we,Ne,!0,!0),p&&(W[Ne]=pe)),$&&ke===oe&&xe&&xe.name!==oe&&(!p&&q?B(Te,"name",oe):(Ie=!0,Ee=function(){return d(xe,this)})),ke)if(Me={values:Re(oe),keys:Le?Ee:Re(ce),entries:Re(re)},Oe)for(be in Me)(se||Ie||!(be in Te))&&R(Te,be,Me[be]);else u({target:ae,proto:!0,forced:se||Ie},Me);return p&&!Oe||Te[te]===Ee||R(Te,te,Ee,{name:ke}),W[ae]=Ee,Me}},7657:function(g,_,o){var u,d,p,m=o(9039),k=o(4901),C=o(34),S=o(2360),x=o(2787),L=o(6840),B=o(8227),R=o(6395),F=B("iterator"),W=!1;[].keys&&("next"in(p=[].keys())?(d=x(x(p)))!==Object.prototype&&(u=d):W=!0),!C(u)||m(function(){var K={};return u[F].call(K)!==K})?u={}:R&&(u=S(u)),k(u[F])||L(u,F,function(){return this}),g.exports={IteratorPrototype:u,BUGGY_SAFARI_ITERATORS:W}},6269:function(g){g.exports={}},6198:function(g,_,o){var u=o(8014);g.exports=function(d){return u(d.length)}},283:function(g,_,o){var u=o(9504),d=o(9039),p=o(4901),m=o(9297),k=o(3724),C=o(350).CONFIGURABLE,S=o(3706),x=o(1181),L=x.enforce,B=x.get,R=String,F=Object.defineProperty,W=u("".slice),K=u("".replace),$=u([].join),q=k&&!d(function(){return F(function(){},"length",{value:8}).length!==8}),Z=String(String).split("String"),se=g.exports=function(te,ce,oe){W(R(ce),0,7)==="Symbol("&&(ce="["+K(R(ce),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),oe&&oe.getter&&(ce="get "+ce),oe&&oe.setter&&(ce="set "+ce),(!m(te,"name")||C&&te.name!==ce)&&(k?F(te,"name",{value:ce,configurable:!0}):te.name=ce),q&&oe&&m(oe,"arity")&&te.length!==oe.arity&&F(te,"length",{value:oe.arity});try{oe&&m(oe,"constructor")&&oe.constructor?k&&F(te,"prototype",{writable:!1}):te.prototype&&(te.prototype=void 0)}catch{}var re=L(te);return m(re,"source")||(re.source=$(Z,typeof ce=="string"?ce:"")),te};Function.prototype.toString=se(function(){return p(this)&&B(this).source||S(this)},"toString")},741:function(g){var _=Math.ceil,o=Math.floor;g.exports=Math.trunc||function(u){var d=+u;return(d>0?o:_)(d)}},5749:function(g,_,o){var u=o(788),d=TypeError;g.exports=function(p){if(u(p))throw new d("The method doesn't accept regular expressions");return p}},4213:function(g,_,o){var u=o(3724),d=o(9504),p=o(9565),m=o(9039),k=o(1072),C=o(3717),S=o(8773),x=o(8981),L=o(7055),B=Object.assign,R=Object.defineProperty,F=d([].concat);g.exports=!B||m(function(){if(u&&B({b:1},B(R({},"a",{enumerable:!0,get:function(){R(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var W={},K={},$=Symbol("assign detection"),q="abcdefghijklmnopqrst";return W[$]=7,q.split("").forEach(function(Z){K[Z]=Z}),B({},W)[$]!==7||k(B({},K)).join("")!==q})?function(W,K){for(var $=x(W),q=arguments.length,Z=1,se=C.f,te=S.f;q>Z;)for(var ce,oe=L(arguments[Z++]),re=se?F(k(oe),se(oe)):k(oe),pe=re.length,ve=0;pe>ve;)ce=re[ve++],u&&!p(te,oe,ce)||($[ce]=oe[ce]);return $}:B},2360:function(g,_,o){var u,d=o(8551),p=o(6801),m=o(8727),k=o(421),C=o(397),S=o(4055),x=o(6119),L="prototype",B="script",R=x("IE_PROTO"),F=function(){},W=function(q){return"<"+B+">"+q+"</"+B+">"},K=function(q){q.write(W("")),q.close();var Z=q.parentWindow.Object;return q=null,Z},$=function(){try{u=new ActiveXObject("htmlfile")}catch{}var q,Z,se;$=typeof document<"u"?document.domain&&u?K(u):(Z=S("iframe"),se="java"+B+":",Z.style.display="none",C.appendChild(Z),Z.src=String(se),(q=Z.contentWindow.document).open(),q.write(W("document.F=Object")),q.close(),q.F):K(u);for(var te=m.length;te--;)delete $[L][m[te]];return $()};k[R]=!0,g.exports=Object.create||function(q,Z){var se;return q!==null?(F[L]=d(q),se=new F,F[L]=null,se[R]=q):se=$(),Z===void 0?se:p.f(se,Z)}},6801:function(g,_,o){var u=o(3724),d=o(8686),p=o(4913),m=o(8551),k=o(5397),C=o(1072);_.f=u&&!d?Object.defineProperties:function(S,x){m(S);for(var L,B=k(x),R=C(x),F=R.length,W=0;F>W;)p.f(S,L=R[W++],B[L]);return S}},4913:function(g,_,o){var u=o(3724),d=o(5917),p=o(8686),m=o(8551),k=o(6969),C=TypeError,S=Object.defineProperty,x=Object.getOwnPropertyDescriptor,L="enumerable",B="configurable",R="writable";_.f=u?p?function(F,W,K){if(m(F),W=k(W),m(K),typeof F=="function"&&W==="prototype"&&"value"in K&&R in K&&!K[R]){var $=x(F,W);$&&$[R]&&(F[W]=K.value,K={configurable:B in K?K[B]:$[B],enumerable:L in K?K[L]:$[L],writable:!1})}return S(F,W,K)}:S:function(F,W,K){if(m(F),W=k(W),m(K),d)try{return S(F,W,K)}catch{}if("get"in K||"set"in K)throw new C("Accessors not supported");return"value"in K&&(F[W]=K.value),F}},7347:function(g,_,o){var u=o(3724),d=o(9565),p=o(8773),m=o(6980),k=o(5397),C=o(6969),S=o(9297),x=o(5917),L=Object.getOwnPropertyDescriptor;_.f=u?L:function(B,R){if(B=k(B),R=C(R),x)try{return L(B,R)}catch{}if(S(B,R))return m(!d(p.f,B,R),B[R])}},298:function(g,_,o){var u=o(2195),d=o(5397),p=o(8480).f,m=o(7680),k=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];g.exports.f=function(C){return k&&u(C)==="Window"?function(S){try{return p(S)}catch{return m(k)}}(C):p(d(C))}},8480:function(g,_,o){var u=o(1828),d=o(8727).concat("length","prototype");_.f=Object.getOwnPropertyNames||function(p){return u(p,d)}},3717:function(g,_){_.f=Object.getOwnPropertySymbols},2787:function(g,_,o){var u=o(9297),d=o(4901),p=o(8981),m=o(6119),k=o(2211),C=m("IE_PROTO"),S=Object,x=S.prototype;g.exports=k?S.getPrototypeOf:function(L){var B=p(L);if(u(B,C))return B[C];var R=B.constructor;return d(R)&&B instanceof R?R.prototype:B instanceof S?x:null}},1625:function(g,_,o){var u=o(9504);g.exports=u({}.isPrototypeOf)},1828:function(g,_,o){var u=o(9504),d=o(9297),p=o(5397),m=o(9617).indexOf,k=o(421),C=u([].push);g.exports=function(S,x){var L,B=p(S),R=0,F=[];for(L in B)!d(k,L)&&d(B,L)&&C(F,L);for(;x.length>R;)d(B,L=x[R++])&&(~m(F,L)||C(F,L));return F}},1072:function(g,_,o){var u=o(1828),d=o(8727);g.exports=Object.keys||function(p){return u(p,d)}},8773:function(g,_){var o={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,d=u&&!o.call({1:2},1);_.f=d?function(p){var m=u(this,p);return!!m&&m.enumerable}:o},2551:function(g,_,o){var u=o(6395),d=o(4576),p=o(9039),m=o(3607);g.exports=u||!p(function(){if(!(m&&m<535)){var k=Math.random();__defineSetter__.call(null,k,function(){}),delete d[k]}})},2967:function(g,_,o){var u=o(6706),d=o(34),p=o(7750),m=o(3506);g.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var k,C=!1,S={};try{(k=u(Object.prototype,"__proto__","set"))(S,[]),C=S instanceof Array}catch{}return function(x,L){return p(x),m(L),d(x)&&(C?k(x,L):x.__proto__=L),x}}():void 0)},3179:function(g,_,o){var u=o(2140),d=o(6955);g.exports=u?{}.toString:function(){return"[object "+d(this)+"]"}},4270:function(g,_,o){var u=o(9565),d=o(4901),p=o(34),m=TypeError;g.exports=function(k,C){var S,x;if(C==="string"&&d(S=k.toString)&&!p(x=u(S,k))||d(S=k.valueOf)&&!p(x=u(S,k))||C!=="string"&&d(S=k.toString)&&!p(x=u(S,k)))return x;throw new m("Can't convert object to primitive value")}},5031:function(g,_,o){var u=o(7751),d=o(9504),p=o(8480),m=o(3717),k=o(8551),C=d([].concat);g.exports=u("Reflect","ownKeys")||function(S){var x=p.f(k(S)),L=m.f;return L?C(x,L(S)):x}},9167:function(g,_,o){var u=o(4576);g.exports=u},1056:function(g,_,o){var u=o(4913).f;g.exports=function(d,p,m){m in d||u(d,m,{configurable:!0,get:function(){return p[m]},set:function(k){p[m]=k}})}},6682:function(g,_,o){var u=o(9565),d=o(8551),p=o(4901),m=o(2195),k=o(7323),C=TypeError;g.exports=function(S,x){var L=S.exec;if(p(L)){var B=u(L,S,x);return B!==null&&d(B),B}if(m(S)==="RegExp")return u(k,S,x);throw new C("RegExp#exec called on incompatible receiver")}},7323:function(g,_,o){var u,d,p=o(9565),m=o(9504),k=o(655),C=o(7979),S=o(8429),x=o(5745),L=o(2360),B=o(1181).get,R=o(3635),F=o(8814),W=x("native-string-replace",String.prototype.replace),K=RegExp.prototype.exec,$=K,q=m("".charAt),Z=m("".indexOf),se=m("".replace),te=m("".slice),ce=(d=/b*/g,p(K,u=/a/,"a"),p(K,d,"a"),u.lastIndex!==0||d.lastIndex!==0),oe=S.BROKEN_CARET,re=/()??/.exec("")[1]!==void 0;(ce||re||oe||R||F)&&($=function(pe){var ve,ae,Ce,ye,ke,Le,Oe,we=this,Me=B(we),be=k(pe),Re=Me.raw;if(Re)return Re.lastIndex=we.lastIndex,ve=p($,Re,be),we.lastIndex=Re.lastIndex,ve;var Ne=Me.groups,Ie=oe&&we.sticky,Te=p(C,we),xe=we.source,Ee=0,Ue=be;if(Ie&&(Te=se(Te,"y",""),Z(Te,"g")===-1&&(Te+="g"),Ue=te(be,we.lastIndex),we.lastIndex>0&&(!we.multiline||we.multiline&&q(be,we.lastIndex-1)!==`
`)&&(xe="(?: "+xe+")",Ue=" "+Ue,Ee++),ae=new RegExp("^(?:"+xe+")",Te)),re&&(ae=new RegExp("^"+xe+"$(?!\\s)",Te)),ce&&(Ce=we.lastIndex),ye=p(K,Ie?ae:we,Ue),Ie?ye?(ye.input=te(ye.input,Ee),ye[0]=te(ye[0],Ee),ye.index=we.lastIndex,we.lastIndex+=ye[0].length):we.lastIndex=0:ce&&ye&&(we.lastIndex=we.global?ye.index+ye[0].length:Ce),re&&ye&&ye.length>1&&p(W,ye[0],ae,function(){for(ke=1;ke<arguments.length-2;ke++)arguments[ke]===void 0&&(ye[ke]=void 0)}),ye&&Ne)for(ye.groups=Le=L(null),ke=0;ke<Ne.length;ke++)Le[(Oe=Ne[ke])[0]]=ye[Oe[1]];return ye}),g.exports=$},7979:function(g,_,o){var u=o(8551);g.exports=function(){var d=u(this),p="";return d.hasIndices&&(p+="d"),d.global&&(p+="g"),d.ignoreCase&&(p+="i"),d.multiline&&(p+="m"),d.dotAll&&(p+="s"),d.unicode&&(p+="u"),d.unicodeSets&&(p+="v"),d.sticky&&(p+="y"),p}},1034:function(g,_,o){var u=o(9565),d=o(9297),p=o(1625),m=o(7979),k=RegExp.prototype;g.exports=function(C){var S=C.flags;return S!==void 0||"flags"in k||d(C,"flags")||!p(k,C)?S:u(m,C)}},8429:function(g,_,o){var u=o(9039),d=o(4576).RegExp,p=u(function(){var C=d("a","y");return C.lastIndex=2,C.exec("abcd")!==null}),m=p||u(function(){return!d("a","y").sticky}),k=p||u(function(){var C=d("^r","gy");return C.lastIndex=2,C.exec("str")!==null});g.exports={BROKEN_CARET:k,MISSED_STICKY:m,UNSUPPORTED_Y:p}},3635:function(g,_,o){var u=o(9039),d=o(4576).RegExp;g.exports=u(function(){var p=d(".","s");return!(p.dotAll&&p.test(`
`)&&p.flags==="s")})},8814:function(g,_,o){var u=o(9039),d=o(4576).RegExp;g.exports=u(function(){var p=d("(?<a>b)","g");return p.exec("b").groups.a!=="b"||"b".replace(p,"$<a>c")!=="bc"})},7750:function(g,_,o){var u=o(4117),d=TypeError;g.exports=function(p){if(u(p))throw new d("Can't call method on "+p);return p}},7633:function(g,_,o){var u=o(7751),d=o(2106),p=o(8227),m=o(3724),k=p("species");g.exports=function(C){var S=u(C);m&&S&&!S[k]&&d(S,k,{configurable:!0,get:function(){return this}})}},687:function(g,_,o){var u=o(4913).f,d=o(9297),p=o(8227)("toStringTag");g.exports=function(m,k,C){m&&!C&&(m=m.prototype),m&&!d(m,p)&&u(m,p,{configurable:!0,value:k})}},6119:function(g,_,o){var u=o(5745),d=o(3392),p=u("keys");g.exports=function(m){return p[m]||(p[m]=d(m))}},7629:function(g,_,o){var u=o(6395),d=o(4576),p=o(9433),m="__core-js_shared__",k=g.exports=d[m]||p(m,{});(k.versions||(k.versions=[])).push({version:"3.39.0",mode:u?"pure":"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(g,_,o){var u=o(7629);g.exports=function(d,p){return u[d]||(u[d]=p||{})}},2293:function(g,_,o){var u=o(8551),d=o(5548),p=o(4117),m=o(8227)("species");g.exports=function(k,C){var S,x=u(k).constructor;return x===void 0||p(S=u(x)[m])?C:d(S)}},8183:function(g,_,o){var u=o(9504),d=o(1291),p=o(655),m=o(7750),k=u("".charAt),C=u("".charCodeAt),S=u("".slice),x=function(L){return function(B,R){var F,W,K=p(m(B)),$=d(R),q=K.length;return $<0||$>=q?L?"":void 0:(F=C(K,$))<55296||F>56319||$+1===q||(W=C(K,$+1))<56320||W>57343?L?k(K,$):F:L?S(K,$,$+2):W-56320+(F-55296<<10)+65536}};g.exports={codeAt:x(!1),charAt:x(!0)}},706:function(g,_,o){var u=o(350).PROPER,d=o(9039),p=o(7452);g.exports=function(m){return d(function(){return!!p[m]()||""[m]()!==""||u&&p[m].name!==m})}},3802:function(g,_,o){var u=o(9504),d=o(7750),p=o(655),m=o(7452),k=u("".replace),C=RegExp("^["+m+"]+"),S=RegExp("(^|[^"+m+"])["+m+"]+$"),x=function(L){return function(B){var R=p(d(B));return 1&L&&(R=k(R,C,"")),2&L&&(R=k(R,S,"$1")),R}};g.exports={start:x(1),end:x(2),trim:x(3)}},4495:function(g,_,o){var u=o(9519),d=o(9039),p=o(4576).String;g.exports=!!Object.getOwnPropertySymbols&&!d(function(){var m=Symbol("symbol detection");return!p(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&u&&u<41})},8242:function(g,_,o){var u=o(9565),d=o(7751),p=o(8227),m=o(6840);g.exports=function(){var k=d("Symbol"),C=k&&k.prototype,S=C&&C.valueOf,x=p("toPrimitive");C&&!C[x]&&m(C,x,function(L){return u(S,this)},{arity:1})}},1296:function(g,_,o){var u=o(4495);g.exports=u&&!!Symbol.for&&!!Symbol.keyFor},1240:function(g,_,o){var u=o(9504);g.exports=u(1 .valueOf)},5610:function(g,_,o){var u=o(1291),d=Math.max,p=Math.min;g.exports=function(m,k){var C=u(m);return C<0?d(C+k,0):p(C,k)}},5397:function(g,_,o){var u=o(7055),d=o(7750);g.exports=function(p){return u(d(p))}},1291:function(g,_,o){var u=o(741);g.exports=function(d){var p=+d;return p!=p||p===0?0:u(p)}},8014:function(g,_,o){var u=o(1291),d=Math.min;g.exports=function(p){var m=u(p);return m>0?d(m,9007199254740991):0}},8981:function(g,_,o){var u=o(7750),d=Object;g.exports=function(p){return d(u(p))}},2777:function(g,_,o){var u=o(9565),d=o(34),p=o(757),m=o(5966),k=o(4270),C=o(8227),S=TypeError,x=C("toPrimitive");g.exports=function(L,B){if(!d(L)||p(L))return L;var R,F=m(L,x);if(F){if(B===void 0&&(B="default"),R=u(F,L,B),!d(R)||p(R))return R;throw new S("Can't convert object to primitive value")}return B===void 0&&(B="number"),k(L,B)}},6969:function(g,_,o){var u=o(2777),d=o(757);g.exports=function(p){var m=u(p,"string");return d(m)?m:m+""}},2140:function(g,_,o){var u={};u[o(8227)("toStringTag")]="z",g.exports=String(u)==="[object z]"},655:function(g,_,o){var u=o(6955),d=String;g.exports=function(p){if(u(p)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return d(p)}},6823:function(g){var _=String;g.exports=function(o){try{return _(o)}catch{return"Object"}}},3392:function(g,_,o){var u=o(9504),d=0,p=Math.random(),m=u(1 .toString);g.exports=function(k){return"Symbol("+(k===void 0?"":k)+")_"+m(++d+p,36)}},7040:function(g,_,o){var u=o(4495);g.exports=u&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},8686:function(g,_,o){var u=o(3724),d=o(9039);g.exports=u&&d(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},8622:function(g,_,o){var u=o(4576),d=o(4901),p=u.WeakMap;g.exports=d(p)&&/native code/.test(String(p))},511:function(g,_,o){var u=o(9167),d=o(9297),p=o(1951),m=o(4913).f;g.exports=function(k){var C=u.Symbol||(u.Symbol={});d(C,k)||m(C,k,{value:p.f(k)})}},1951:function(g,_,o){var u=o(8227);_.f=u},8227:function(g,_,o){var u=o(4576),d=o(5745),p=o(9297),m=o(3392),k=o(4495),C=o(7040),S=u.Symbol,x=d("wks"),L=C?S.for||S:S&&S.withoutSetter||m;g.exports=function(B){return p(x,B)||(x[B]=k&&p(S,B)?S[B]:L("Symbol."+B)),x[B]}},7452:function(g){g.exports=`	
\v\f\r \u2028\u2029\uFEFF`},8706:function(g,_,o){var u=o(6518),d=o(9039),p=o(4376),m=o(34),k=o(8981),C=o(6198),S=o(6837),x=o(4659),L=o(1469),B=o(597),R=o(8227),F=o(9519),W=R("isConcatSpreadable"),K=F>=51||!d(function(){var q=[];return q[W]=!1,q.concat()[0]!==q}),$=function(q){if(!m(q))return!1;var Z=q[W];return Z!==void 0?!!Z:p(q)};u({target:"Array",proto:!0,arity:1,forced:!K||!B("concat")},{concat:function(q){var Z,se,te,ce,oe,re=k(this),pe=L(re,0),ve=0;for(Z=-1,te=arguments.length;Z<te;Z++)if($(oe=Z===-1?re:arguments[Z]))for(ce=C(oe),S(ve+ce),se=0;se<ce;se++,ve++)se in oe&&x(pe,ve,oe[se]);else S(ve+1),x(pe,ve++,oe);return pe.length=ve,pe}})},2008:function(g,_,o){var u=o(6518),d=o(9213).filter;u({target:"Array",proto:!0,forced:!o(597)("filter")},{filter:function(p){return d(this,p,arguments.length>1?arguments[1]:void 0)}})},3418:function(g,_,o){var u=o(6518),d=o(7916);u({target:"Array",stat:!0,forced:!o(4428)(function(p){Array.from(p)})},{from:d})},4423:function(g,_,o){var u=o(6518),d=o(9617).includes,p=o(9039),m=o(6469);u({target:"Array",proto:!0,forced:p(function(){return!Array(1).includes()})},{includes:function(k){return d(this,k,arguments.length>1?arguments[1]:void 0)}}),m("includes")},5276:function(g,_,o){var u=o(6518),d=o(7476),p=o(9617).indexOf,m=o(4598),k=d([].indexOf),C=!!k&&1/k([1],1,-0)<0;u({target:"Array",proto:!0,forced:C||!m("indexOf")},{indexOf:function(S){var x=arguments.length>1?arguments[1]:void 0;return C?k(this,S,x)||0:p(this,S,x)}})},3792:function(g,_,o){var u=o(5397),d=o(6469),p=o(6269),m=o(1181),k=o(4913).f,C=o(1088),S=o(2529),x=o(6395),L=o(3724),B="Array Iterator",R=m.set,F=m.getterFor(B);g.exports=C(Array,"Array",function(K,$){R(this,{type:B,target:u(K),index:0,kind:$})},function(){var K=F(this),$=K.target,q=K.index++;if(!$||q>=$.length)return K.target=null,S(void 0,!0);switch(K.kind){case"keys":return S(q,!1);case"values":return S($[q],!1)}return S([q,$[q]],!1)},"values");var W=p.Arguments=p.Array;if(d("keys"),d("values"),d("entries"),!x&&L&&W.name!=="values")try{k(W,"name",{value:"values"})}catch{}},8598:function(g,_,o){var u=o(6518),d=o(9504),p=o(7055),m=o(5397),k=o(4598),C=d([].join);u({target:"Array",proto:!0,forced:p!==Object||!k("join",",")},{join:function(S){return C(m(this),S===void 0?",":S)}})},2062:function(g,_,o){var u=o(6518),d=o(9213).map;u({target:"Array",proto:!0,forced:!o(597)("map")},{map:function(p){return d(this,p,arguments.length>1?arguments[1]:void 0)}})},2712:function(g,_,o){var u=o(6518),d=o(926).left,p=o(4598),m=o(9519);u({target:"Array",proto:!0,forced:!o(6193)&&m>79&&m<83||!p("reduce")},{reduce:function(k){var C=arguments.length;return d(this,k,C,C>1?arguments[1]:void 0)}})},4782:function(g,_,o){var u=o(6518),d=o(4376),p=o(3517),m=o(34),k=o(5610),C=o(6198),S=o(5397),x=o(4659),L=o(8227),B=o(597),R=o(7680),F=B("slice"),W=L("species"),K=Array,$=Math.max;u({target:"Array",proto:!0,forced:!F},{slice:function(q,Z){var se,te,ce,oe=S(this),re=C(oe),pe=k(q,re),ve=k(Z===void 0?re:Z,re);if(d(oe)&&(se=oe.constructor,(p(se)&&(se===K||d(se.prototype))||m(se)&&(se=se[W])===null)&&(se=void 0),se===K||se===void 0))return R(oe,pe,ve);for(te=new(se===void 0?K:se)($(ve-pe,0)),ce=0;pe<ve;pe++,ce++)pe in oe&&x(te,ce,oe[pe]);return te.length=ce,te}})},6910:function(g,_,o){var u=o(6518),d=o(9504),p=o(9306),m=o(8981),k=o(6198),C=o(4606),S=o(655),x=o(9039),L=o(4488),B=o(4598),R=o(3709),F=o(3763),W=o(9519),K=o(3607),$=[],q=d($.sort),Z=d($.push),se=x(function(){$.sort(void 0)}),te=x(function(){$.sort(null)}),ce=B("sort"),oe=!x(function(){if(W)return W<70;if(!(R&&R>3)){if(F)return!0;if(K)return K<603;var re,pe,ve,ae,Ce="";for(re=65;re<76;re++){switch(pe=String.fromCharCode(re),re){case 66:case 69:case 70:case 72:ve=3;break;case 68:case 71:ve=4;break;default:ve=2}for(ae=0;ae<47;ae++)$.push({k:pe+ae,v:ve})}for($.sort(function(ye,ke){return ke.v-ye.v}),ae=0;ae<$.length;ae++)pe=$[ae].k.charAt(0),Ce.charAt(Ce.length-1)!==pe&&(Ce+=pe);return Ce!=="DGBEFHACIJK"}});u({target:"Array",proto:!0,forced:se||!te||!ce||!oe},{sort:function(re){re!==void 0&&p(re);var pe=m(this);if(oe)return re===void 0?q(pe):q(pe,re);var ve,ae,Ce=[],ye=k(pe);for(ae=0;ae<ye;ae++)ae in pe&&Z(Ce,pe[ae]);for(L(Ce,function(ke){return function(Le,Oe){return Oe===void 0?-1:Le===void 0?1:ke!==void 0?+ke(Le,Oe)||0:S(Le)>S(Oe)?1:-1}}(re)),ve=k(Ce),ae=0;ae<ve;)pe[ae]=Ce[ae++];for(;ae<ye;)C(pe,ae++);return pe}})},4554:function(g,_,o){var u=o(6518),d=o(8981),p=o(5610),m=o(1291),k=o(6198),C=o(4527),S=o(6837),x=o(1469),L=o(4659),B=o(4606),R=o(597)("splice"),F=Math.max,W=Math.min;u({target:"Array",proto:!0,forced:!R},{splice:function(K,$){var q,Z,se,te,ce,oe,re=d(this),pe=k(re),ve=p(K,pe),ae=arguments.length;for(ae===0?q=Z=0:ae===1?(q=0,Z=pe-ve):(q=ae-2,Z=W(F(m($),0),pe-ve)),S(pe+q-Z),se=x(re,Z),te=0;te<Z;te++)(ce=ve+te)in re&&L(se,te,re[ce]);if(se.length=Z,q<Z){for(te=ve;te<pe-Z;te++)oe=te+q,(ce=te+Z)in re?re[oe]=re[ce]:B(re,oe);for(te=pe;te>pe-Z+q;te--)B(re,te-1)}else if(q>Z)for(te=pe-Z;te>ve;te--)oe=te+q-1,(ce=te+Z-1)in re?re[oe]=re[ce]:B(re,oe);for(te=0;te<q;te++)re[te+ve]=arguments[te+2];return C(re,pe-Z+q),se}})},739:function(g,_,o){var u=o(6518),d=o(9039),p=o(8981),m=o(2777);u({target:"Date",proto:!0,arity:1,forced:d(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1})},{toJSON:function(k){var C=p(this),S=m(C,"number");return typeof S!="number"||isFinite(S)?C.toISOString():null}})},9572:function(g,_,o){var u=o(9297),d=o(6840),p=o(3640),m=o(8227)("toPrimitive"),k=Date.prototype;u(k,m)||d(k,m,p)},2010:function(g,_,o){var u=o(3724),d=o(350).EXISTS,p=o(9504),m=o(2106),k=Function.prototype,C=p(k.toString),S=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,x=p(S.exec);u&&!d&&m(k,"name",{configurable:!0,get:function(){try{return x(S,C(this))[1]}catch{return""}}})},3110:function(g,_,o){var u=o(6518),d=o(7751),p=o(8745),m=o(9565),k=o(9504),C=o(9039),S=o(4901),x=o(757),L=o(7680),B=o(6933),R=o(4495),F=String,W=d("JSON","stringify"),K=k(/./.exec),$=k("".charAt),q=k("".charCodeAt),Z=k("".replace),se=k(1 .toString),te=/[\uD800-\uDFFF]/g,ce=/^[\uD800-\uDBFF]$/,oe=/^[\uDC00-\uDFFF]$/,re=!R||C(function(){var Ce=d("Symbol")("stringify detection");return W([Ce])!=="[null]"||W({a:Ce})!=="{}"||W(Object(Ce))!=="{}"}),pe=C(function(){return W("\uDF06\uD834")!=='"\\udf06\\ud834"'||W("\uDEAD")!=='"\\udead"'}),ve=function(Ce,ye){var ke=L(arguments),Le=B(ye);if(S(Le)||Ce!==void 0&&!x(Ce))return ke[1]=function(Oe,we){if(S(Le)&&(we=m(Le,this,F(Oe),we)),!x(we))return we},p(W,null,ke)},ae=function(Ce,ye,ke){var Le=$(ke,ye-1),Oe=$(ke,ye+1);return K(ce,Ce)&&!K(oe,Oe)||K(oe,Ce)&&!K(ce,Le)?"\\u"+se(q(Ce,0),16):Ce};W&&u({target:"JSON",stat:!0,arity:3,forced:re||pe},{stringify:function(Ce,ye,ke){var Le=L(arguments),Oe=p(re?ve:W,null,Le);return pe&&typeof Oe=="string"?Z(Oe,te,ae):Oe}})},2892:function(g,_,o){var u=o(6518),d=o(6395),p=o(3724),m=o(4576),k=o(9167),C=o(9504),S=o(2796),x=o(9297),L=o(3167),B=o(1625),R=o(757),F=o(2777),W=o(9039),K=o(8480).f,$=o(7347).f,q=o(4913).f,Z=o(1240),se=o(3802).trim,te="Number",ce=m[te],oe=k[te],re=ce.prototype,pe=m.TypeError,ve=C("".slice),ae=C("".charCodeAt),Ce=function(Oe){var we,Me,be,Re,Ne,Ie,Te,xe,Ee=F(Oe,"number");if(R(Ee))throw new pe("Cannot convert a Symbol value to a number");if(typeof Ee=="string"&&Ee.length>2){if(Ee=se(Ee),(we=ae(Ee,0))===43||we===45){if((Me=ae(Ee,2))===88||Me===120)return NaN}else if(we===48){switch(ae(Ee,1)){case 66:case 98:be=2,Re=49;break;case 79:case 111:be=8,Re=55;break;default:return+Ee}for(Ie=(Ne=ve(Ee,2)).length,Te=0;Te<Ie;Te++)if((xe=ae(Ne,Te))<48||xe>Re)return NaN;return parseInt(Ne,be)}}return+Ee},ye=S(te,!ce(" 0o1")||!ce("0b1")||ce("+0x1")),ke=function(Oe){var we,Me=arguments.length<1?0:ce(function(be){var Re=F(be,"number");return typeof Re=="bigint"?Re:Ce(Re)}(Oe));return B(re,we=this)&&W(function(){Z(we)})?L(Object(Me),this,ke):Me};ke.prototype=re,ye&&!d&&(re.constructor=ke),u({global:!0,constructor:!0,wrap:!0,forced:ye},{Number:ke});var Le=function(Oe,we){for(var Me,be=p?K(we):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Re=0;be.length>Re;Re++)x(we,Me=be[Re])&&!x(Oe,Me)&&q(Oe,Me,$(we,Me))};d&&oe&&Le(k[te],oe),(ye||d)&&Le(k[te],ce)},2637:function(g,_,o){o(6518)({target:"Number",stat:!0},{isInteger:o(2087)})},9085:function(g,_,o){var u=o(6518),d=o(4213);u({target:"Object",stat:!0,arity:2,forced:Object.assign!==d},{assign:d})},7427:function(g,_,o){var u=o(6518),d=o(3724),p=o(2551),m=o(9306),k=o(8981),C=o(4913);d&&u({target:"Object",proto:!0,forced:p},{__defineGetter__:function(S,x){C.f(k(this),S,{get:m(x),enumerable:!0,configurable:!0})}})},3851:function(g,_,o){var u=o(6518),d=o(9039),p=o(5397),m=o(7347).f,k=o(3724);u({target:"Object",stat:!0,forced:!k||d(function(){m(1)}),sham:!k},{getOwnPropertyDescriptor:function(C,S){return m(p(C),S)}})},1278:function(g,_,o){var u=o(6518),d=o(3724),p=o(5031),m=o(5397),k=o(7347),C=o(4659);u({target:"Object",stat:!0,sham:!d},{getOwnPropertyDescriptors:function(S){for(var x,L,B=m(S),R=k.f,F=p(B),W={},K=0;F.length>K;)(L=R(B,x=F[K++]))!==void 0&&C(W,x,L);return W}})},1480:function(g,_,o){var u=o(6518),d=o(9039),p=o(298).f;u({target:"Object",stat:!0,forced:d(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:p})},9773:function(g,_,o){var u=o(6518),d=o(4495),p=o(9039),m=o(3717),k=o(8981);u({target:"Object",stat:!0,forced:!d||p(function(){m.f(1)})},{getOwnPropertySymbols:function(C){var S=m.f;return S?S(k(C)):[]}})},9432:function(g,_,o){var u=o(6518),d=o(8981),p=o(1072);u({target:"Object",stat:!0,forced:o(9039)(function(){p(1)})},{keys:function(m){return p(d(m))}})},6099:function(g,_,o){var u=o(2140),d=o(6840),p=o(3179);u||d(Object.prototype,"toString",p,{unsafe:!0})},4864:function(g,_,o){var u=o(3724),d=o(4576),p=o(9504),m=o(2796),k=o(3167),C=o(6699),S=o(2360),x=o(8480).f,L=o(1625),B=o(788),R=o(655),F=o(1034),W=o(8429),K=o(1056),$=o(6840),q=o(9039),Z=o(9297),se=o(1181).enforce,te=o(7633),ce=o(8227),oe=o(3635),re=o(8814),pe=ce("match"),ve=d.RegExp,ae=ve.prototype,Ce=d.SyntaxError,ye=p(ae.exec),ke=p("".charAt),Le=p("".replace),Oe=p("".indexOf),we=p("".slice),Me=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,be=/a/g,Re=/a/g,Ne=new ve(be)!==be,Ie=W.MISSED_STICKY,Te=W.UNSUPPORTED_Y;if(m("RegExp",u&&(!Ne||Ie||oe||re||q(function(){return Re[pe]=!1,ve(be)!==be||ve(Re)===Re||String(ve(be,"i"))!=="/a/i"})))){for(var xe=function($e,Qe){var St,Ut,_n,On,qn,un,nr=L(ae,this),cn=B($e),Mi=Qe===void 0,As=[],Cr=$e;if(!nr&&cn&&Mi&&$e.constructor===xe)return $e;if((cn||L(ae,$e))&&($e=$e.source,Mi&&(Qe=F(Cr))),$e=$e===void 0?"":R($e),Qe=Qe===void 0?"":R(Qe),Cr=$e,oe&&"dotAll"in be&&(Ut=!!Qe&&Oe(Qe,"s")>-1)&&(Qe=Le(Qe,/s/g,"")),St=Qe,Ie&&"sticky"in be&&(_n=!!Qe&&Oe(Qe,"y")>-1)&&Te&&(Qe=Le(Qe,/y/g,"")),re&&(On=function(gt){for(var ut,Di=gt.length,It=0,An="",In=[],Is=S(null),Tr=!1,Er=!1,Ps=0,rr="";It<=Di;It++){if((ut=ke(gt,It))==="\\")ut+=ke(gt,++It);else if(ut==="]")Tr=!1;else if(!Tr)switch(!0){case ut==="[":Tr=!0;break;case ut==="(":if(An+=ut,we(gt,It+1,It+3)==="?:")continue;ye(Me,we(gt,It+1))&&(It+=2,Er=!0),Ps++;continue;case(ut===">"&&Er):if(rr===""||Z(Is,rr))throw new Ce("Invalid capture group name");Is[rr]=!0,In[In.length]=[rr,Ps],Er=!1,rr="";continue}Er?rr+=ut:An+=ut}return[An,In]}($e),$e=On[0],As=On[1]),qn=k(ve($e,Qe),nr?this:ae,xe),(Ut||_n||As.length)&&(un=se(qn),Ut&&(un.dotAll=!0,un.raw=xe(function(gt){for(var ut,Di=gt.length,It=0,An="",In=!1;It<=Di;It++)(ut=ke(gt,It))!=="\\"?In||ut!=="."?(ut==="["?In=!0:ut==="]"&&(In=!1),An+=ut):An+="[\\s\\S]":An+=ut+ke(gt,++It);return An}($e),St)),_n&&(un.sticky=!0),As.length&&(un.groups=As)),$e!==Cr)try{C(qn,"source",Cr===""?"(?:)":Cr)}catch{}return qn},Ee=x(ve),Ue=0;Ee.length>Ue;)K(xe,ve,Ee[Ue++]);ae.constructor=xe,xe.prototype=ae,$(d,"RegExp",xe,{constructor:!0})}te("RegExp")},7495:function(g,_,o){var u=o(6518),d=o(7323);u({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},8781:function(g,_,o){var u=o(350).PROPER,d=o(6840),p=o(8551),m=o(655),k=o(9039),C=o(1034),S="toString",x=RegExp.prototype,L=x[S],B=k(function(){return L.call({source:"a",flags:"b"})!=="/a/b"}),R=u&&L.name!==S;(B||R)&&d(x,S,function(){var F=p(this);return"/"+m(F.source)+"/"+m(C(F))},{unsafe:!0})},1699:function(g,_,o){var u=o(6518),d=o(9504),p=o(5749),m=o(7750),k=o(655),C=o(1436),S=d("".indexOf);u({target:"String",proto:!0,forced:!C("includes")},{includes:function(x){return!!~S(k(m(this)),k(p(x)),arguments.length>1?arguments[1]:void 0)}})},7764:function(g,_,o){var u=o(8183).charAt,d=o(655),p=o(1181),m=o(1088),k=o(2529),C="String Iterator",S=p.set,x=p.getterFor(C);m(String,"String",function(L){S(this,{type:C,string:d(L),index:0})},function(){var L,B=x(this),R=B.string,F=B.index;return F>=R.length?k(void 0,!0):(L=u(R,F),B.index+=L.length,k(L,!1))})},8543:function(g,_,o){var u=o(6518),d=o(9565),p=o(7476),m=o(3994),k=o(2529),C=o(7750),S=o(8014),x=o(655),L=o(8551),B=o(4117),R=o(2195),F=o(788),W=o(1034),K=o(5966),$=o(6840),q=o(9039),Z=o(8227),se=o(2293),te=o(7829),ce=o(6682),oe=o(1181),re=o(6395),pe=Z("matchAll"),ve="RegExp String",ae=ve+" Iterator",Ce=oe.set,ye=oe.getterFor(ae),ke=RegExp.prototype,Le=TypeError,Oe=p("".indexOf),we=p("".matchAll),Me=!!we&&!q(function(){we("a",/./)}),be=m(function(Ne,Ie,Te,xe){Ce(this,{type:ae,regexp:Ne,string:Ie,global:Te,unicode:xe,done:!1})},ve,function(){var Ne=ye(this);if(Ne.done)return k(void 0,!0);var Ie=Ne.regexp,Te=Ne.string,xe=ce(Ie,Te);return xe===null?(Ne.done=!0,k(void 0,!0)):Ne.global?(x(xe[0])===""&&(Ie.lastIndex=te(Te,S(Ie.lastIndex),Ne.unicode)),k(xe,!1)):(Ne.done=!0,k(xe,!1))}),Re=function(Ne){var Ie,Te,xe,Ee=L(this),Ue=x(Ne),$e=se(Ee,RegExp),Qe=x(W(Ee));return Ie=new $e($e===RegExp?Ee.source:Ee,Qe),Te=!!~Oe(Qe,"g"),xe=!!~Oe(Qe,"u"),Ie.lastIndex=S(Ee.lastIndex),new be(Ie,Ue,Te,xe)};u({target:"String",proto:!0,forced:Me},{matchAll:function(Ne){var Ie,Te,xe,Ee,Ue=C(this);if(B(Ne)){if(Me)return we(Ue,Ne)}else{if(F(Ne)&&(Ie=x(C(W(Ne))),!~Oe(Ie,"g")))throw new Le("`.matchAll` does not allow non-global regexes");if(Me)return we(Ue,Ne);if((xe=K(Ne,pe))===void 0&&re&&R(Ne)==="RegExp"&&(xe=Re),xe)return d(xe,Ne,Ue)}return Te=x(Ue),Ee=new RegExp(Ne,"g"),re?d(Re,Ee,Te):Ee[pe](Te)}}),re||pe in ke||$(ke,pe,Re)},1761:function(g,_,o){var u=o(9565),d=o(9228),p=o(8551),m=o(4117),k=o(8014),C=o(655),S=o(7750),x=o(5966),L=o(7829),B=o(6682);d("match",function(R,F,W){return[function(K){var $=S(this),q=m(K)?void 0:x(K,R);return q?u(q,K,$):new RegExp(K)[R](C($))},function(K){var $=p(this),q=C(K),Z=W(F,$,q);if(Z.done)return Z.value;if(!$.global)return B($,q);var se=$.unicode;$.lastIndex=0;for(var te,ce=[],oe=0;(te=B($,q))!==null;){var re=C(te[0]);ce[oe]=re,re===""&&($.lastIndex=L(q,k($.lastIndex),se)),oe++}return oe===0?null:ce}]})},5440:function(g,_,o){var u=o(8745),d=o(9565),p=o(9504),m=o(9228),k=o(9039),C=o(8551),S=o(4901),x=o(4117),L=o(1291),B=o(8014),R=o(655),F=o(7750),W=o(7829),K=o(5966),$=o(2478),q=o(6682),Z=o(8227)("replace"),se=Math.max,te=Math.min,ce=p([].concat),oe=p([].push),re=p("".indexOf),pe=p("".slice),ve="a".replace(/./,"$0")==="$0",ae=!!/./[Z]&&/./[Z]("a","$0")==="";m("replace",function(Ce,ye,ke){var Le=ae?"$":"$0";return[function(Oe,we){var Me=F(this),be=x(Oe)?void 0:K(Oe,Z);return be?d(be,Oe,Me,we):d(ye,R(Me),Oe,we)},function(Oe,we){var Me=C(this),be=R(Oe);if(typeof we=="string"&&re(we,Le)===-1&&re(we,"$<")===-1){var Re=ke(ye,Me,be,we);if(Re.done)return Re.value}var Ne=S(we);Ne||(we=R(we));var Ie,Te=Me.global;Te&&(Ie=Me.unicode,Me.lastIndex=0);for(var xe,Ee=[];(xe=q(Me,be))!==null&&(oe(Ee,xe),Te);)R(xe[0])===""&&(Me.lastIndex=W(be,B(Me.lastIndex),Ie));for(var Ue,$e="",Qe=0,St=0;St<Ee.length;St++){for(var Ut,_n=R((xe=Ee[St])[0]),On=se(te(L(xe.index),be.length),0),qn=[],un=1;un<xe.length;un++)oe(qn,(Ue=xe[un])===void 0?Ue:String(Ue));var nr=xe.groups;if(Ne){var cn=ce([_n],qn,On,be);nr!==void 0&&oe(cn,nr),Ut=R(u(we,void 0,cn))}else Ut=$(_n,be,On,qn,nr,we);On>=Qe&&($e+=pe(be,Qe,On)+Ut,Qe=On+_n.length)}return $e+pe(be,Qe)}]},!!k(function(){var Ce=/./;return Ce.exec=function(){var ye=[];return ye.groups={a:"7"},ye},"".replace(Ce,"$<a>")!=="7"})||!ve||ae)},744:function(g,_,o){var u=o(9565),d=o(9504),p=o(9228),m=o(8551),k=o(4117),C=o(7750),S=o(2293),x=o(7829),L=o(8014),B=o(655),R=o(5966),F=o(6682),W=o(8429),K=o(9039),$=W.UNSUPPORTED_Y,q=Math.min,Z=d([].push),se=d("".slice),te=!K(function(){var oe=/(?:)/,re=oe.exec;oe.exec=function(){return re.apply(this,arguments)};var pe="ab".split(oe);return pe.length!==2||pe[0]!=="a"||pe[1]!=="b"}),ce="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;p("split",function(oe,re,pe){var ve="0".split(void 0,0).length?function(ae,Ce){return ae===void 0&&Ce===0?[]:u(re,this,ae,Ce)}:re;return[function(ae,Ce){var ye=C(this),ke=k(ae)?void 0:R(ae,oe);return ke?u(ke,ae,ye,Ce):u(ve,B(ye),ae,Ce)},function(ae,Ce){var ye=m(this),ke=B(ae);if(!ce){var Le=pe(ve,ye,ke,Ce,ve!==re);if(Le.done)return Le.value}var Oe=S(ye,RegExp),we=ye.unicode,Me=(ye.ignoreCase?"i":"")+(ye.multiline?"m":"")+(ye.unicode?"u":"")+($?"g":"y"),be=new Oe($?"^(?:"+ye.source+")":ye,Me),Re=Ce===void 0?4294967295:Ce>>>0;if(Re===0)return[];if(ke.length===0)return F(be,ke)===null?[ke]:[];for(var Ne=0,Ie=0,Te=[];Ie<ke.length;){be.lastIndex=$?0:Ie;var xe,Ee=F(be,$?se(ke,Ie):ke);if(Ee===null||(xe=q(L(be.lastIndex+($?Ie:0)),ke.length))===Ne)Ie=x(ke,Ie,we);else{if(Z(Te,se(ke,Ne,Ie)),Te.length===Re)return Te;for(var Ue=1;Ue<=Ee.length-1;Ue++)if(Z(Te,Ee[Ue]),Te.length===Re)return Te;Ie=Ne=xe}}return Z(Te,se(ke,Ne)),Te}]},ce||!te,$)},2762:function(g,_,o){var u=o(6518),d=o(3802).trim;u({target:"String",proto:!0,forced:o(706)("trim")},{trim:function(){return d(this)}})},6761:function(g,_,o){var u=o(6518),d=o(4576),p=o(9565),m=o(9504),k=o(6395),C=o(3724),S=o(4495),x=o(9039),L=o(9297),B=o(1625),R=o(8551),F=o(5397),W=o(6969),K=o(655),$=o(6980),q=o(2360),Z=o(1072),se=o(8480),te=o(298),ce=o(3717),oe=o(7347),re=o(4913),pe=o(6801),ve=o(8773),ae=o(6840),Ce=o(2106),ye=o(5745),ke=o(6119),Le=o(421),Oe=o(3392),we=o(8227),Me=o(1951),be=o(511),Re=o(8242),Ne=o(687),Ie=o(1181),Te=o(9213).forEach,xe=ke("hidden"),Ee="Symbol",Ue="prototype",$e=Ie.set,Qe=Ie.getterFor(Ee),St=Object[Ue],Ut=d.Symbol,_n=Ut&&Ut[Ue],On=d.RangeError,qn=d.TypeError,un=d.QObject,nr=oe.f,cn=re.f,Mi=te.f,As=ve.f,Cr=m([].push),gt=ye("symbols"),ut=ye("op-symbols"),Di=ye("wks"),It=!un||!un[Ue]||!un[Ue].findChild,An=function(Ae,Ve,Ke){var He=nr(St,Ve);He&&delete St[Ve],cn(Ae,Ve,Ke),He&&Ae!==St&&cn(St,Ve,He)},In=C&&x(function(){return q(cn({},"a",{get:function(){return cn(this,"a",{value:7}).a}})).a!==7})?An:cn,Is=function(Ae,Ve){var Ke=gt[Ae]=q(_n);return $e(Ke,{type:Ee,tag:Ae,description:Ve}),C||(Ke.description=Ve),Ke},Tr=function(Ae,Ve,Ke){Ae===St&&Tr(ut,Ve,Ke),R(Ae);var He=W(Ve);return R(Ke),L(gt,He)?(Ke.enumerable?(L(Ae,xe)&&Ae[xe][He]&&(Ae[xe][He]=!1),Ke=q(Ke,{enumerable:$(0,!1)})):(L(Ae,xe)||cn(Ae,xe,$(1,q(null))),Ae[xe][He]=!0),In(Ae,He,Ke)):cn(Ae,He,Ke)},Er=function(Ae,Ve){R(Ae);var Ke=F(Ve),He=Z(Ke).concat(Cd(Ke));return Te(He,function(Et){C&&!p(Ps,Ke,Et)||Tr(Ae,Et,Ke[Et])}),Ae},Ps=function(Ae){var Ve=W(Ae),Ke=p(As,this,Ve);return!(this===St&&L(gt,Ve)&&!L(ut,Ve))&&(!(Ke||!L(this,Ve)||!L(gt,Ve)||L(this,xe)&&this[xe][Ve])||Ke)},rr=function(Ae,Ve){var Ke=F(Ae),He=W(Ve);if(Ke!==St||!L(gt,He)||L(ut,He)){var Et=nr(Ke,He);return!Et||!L(gt,He)||L(Ke,xe)&&Ke[xe][He]||(Et.enumerable=!0),Et}},xd=function(Ae){var Ve=Mi(F(Ae)),Ke=[];return Te(Ve,function(He){L(gt,He)||L(Le,He)||Cr(Ke,He)}),Ke},Cd=function(Ae){var Ve=Ae===St,Ke=Mi(Ve?ut:F(Ae)),He=[];return Te(Ke,function(Et){!L(gt,Et)||Ve&&!L(St,Et)||Cr(He,gt[Et])}),He};S||(Ut=function(){if(B(_n,this))throw new qn("Symbol is not a constructor");var Ae=arguments.length&&arguments[0]!==void 0?K(arguments[0]):void 0,Ve=Oe(Ae),Ke=function(He){var Et=this===void 0?d:this;Et===St&&p(Ke,ut,He),L(Et,xe)&&L(Et[xe],Ve)&&(Et[xe][Ve]=!1);var Td=$(1,He);try{In(Et,Ve,Td)}catch(Ed){if(!(Ed instanceof On))throw Ed;An(Et,Ve,Td)}};return C&&It&&In(St,Ve,{configurable:!0,set:Ke}),Is(Ve,Ae)},ae(_n=Ut[Ue],"toString",function(){return Qe(this).tag}),ae(Ut,"withoutSetter",function(Ae){return Is(Oe(Ae),Ae)}),ve.f=Ps,re.f=Tr,pe.f=Er,oe.f=rr,se.f=te.f=xd,ce.f=Cd,Me.f=function(Ae){return Is(we(Ae),Ae)},C&&(Ce(_n,"description",{configurable:!0,get:function(){return Qe(this).description}}),k||ae(St,"propertyIsEnumerable",Ps,{unsafe:!0}))),u({global:!0,constructor:!0,wrap:!0,forced:!S,sham:!S},{Symbol:Ut}),Te(Z(Di),function(Ae){be(Ae)}),u({target:Ee,stat:!0,forced:!S},{useSetter:function(){It=!0},useSimple:function(){It=!1}}),u({target:"Object",stat:!0,forced:!S,sham:!C},{create:function(Ae,Ve){return Ve===void 0?q(Ae):Er(q(Ae),Ve)},defineProperty:Tr,defineProperties:Er,getOwnPropertyDescriptor:rr}),u({target:"Object",stat:!0,forced:!S},{getOwnPropertyNames:xd}),Re(),Ne(Ut,Ee),Le[xe]=!0},9463:function(g,_,o){var u=o(6518),d=o(3724),p=o(4576),m=o(9504),k=o(9297),C=o(4901),S=o(1625),x=o(655),L=o(2106),B=o(7740),R=p.Symbol,F=R&&R.prototype;if(d&&C(R)&&(!("description"in F)||R().description!==void 0)){var W={},K=function(){var oe=arguments.length<1||arguments[0]===void 0?void 0:x(arguments[0]),re=S(F,this)?new R(oe):oe===void 0?R():R(oe);return oe===""&&(W[re]=!0),re};B(K,R),K.prototype=F,F.constructor=K;var $=String(R("description detection"))==="Symbol(description detection)",q=m(F.valueOf),Z=m(F.toString),se=/^Symbol\((.*)\)[^)]+$/,te=m("".replace),ce=m("".slice);L(F,"description",{configurable:!0,get:function(){var oe=q(this);if(k(W,oe))return"";var re=Z(oe),pe=$?ce(re,7,-1):te(re,se,"$1");return pe===""?void 0:pe}}),u({global:!0,constructor:!0,forced:!0},{Symbol:K})}},1510:function(g,_,o){var u=o(6518),d=o(7751),p=o(9297),m=o(655),k=o(5745),C=o(1296),S=k("string-to-symbol-registry"),x=k("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!C},{for:function(L){var B=m(L);if(p(S,B))return S[B];var R=d("Symbol")(B);return S[B]=R,x[R]=B,R}})},2259:function(g,_,o){o(511)("iterator")},2675:function(g,_,o){o(6761),o(1510),o(7812),o(3110),o(9773)},7812:function(g,_,o){var u=o(6518),d=o(9297),p=o(757),m=o(6823),k=o(5745),C=o(1296),S=k("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!C},{keyFor:function(x){if(!p(x))throw new TypeError(m(x)+" is not a symbol");if(d(S,x))return S[x]}})},5700:function(g,_,o){var u=o(511),d=o(8242);u("toPrimitive"),d()},8344:function(g,_,o){o(8543)},3500:function(g,_,o){var u=o(4576),d=o(7400),p=o(9296),m=o(235),k=o(6699),C=function(x){if(x&&x.forEach!==m)try{k(x,"forEach",m)}catch{x.forEach=m}};for(var S in d)d[S]&&C(u[S]&&u[S].prototype);C(p)},2953:function(g,_,o){var u=o(4576),d=o(7400),p=o(9296),m=o(3792),k=o(6699),C=o(687),S=o(8227)("iterator"),x=m.values,L=function(R,F){if(R){if(R[S]!==x)try{k(R,S,x)}catch{R[S]=x}if(C(R,F,!0),d[F]){for(var W in m)if(R[W]!==m[W])try{k(R,W,m[W])}catch{R[W]=m[W]}}}};for(var B in d)L(u[B]&&u[B].prototype,B);L(p,"DOMTokenList")}},h={};function f(g){var _=h[g];if(_!==void 0)return _.exports;var o=h[g]={exports:{}};return c[g].call(o.exports,o,o.exports,f),o.exports}f.d=function(g,_){for(var o in _)f.o(_,o)&&!f.o(g,o)&&Object.defineProperty(g,o,{enumerable:!0,get:_[o]})},f.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),f.o=function(g,_){return Object.prototype.hasOwnProperty.call(g,_)},f.r=function(g){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var v={};function w(g){return function(_){if(Array.isArray(_))return E(_)}(g)||function(_){if(typeof Symbol<"u"&&_[Symbol.iterator]!=null||_["@@iterator"]!=null)return Array.from(_)}(g)||N(g)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function N(g,_){if(g){if(typeof g=="string")return E(g,_);var o={}.toString.call(g).slice(8,-1);return o==="Object"&&g.constructor&&(o=g.constructor.name),o==="Map"||o==="Set"?Array.from(g):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?E(g,_):void 0}}function E(g,_){(_==null||_>g.length)&&(_=g.length);for(var o=0,u=Array(_);o<_;o++)u[o]=g[o];return u}function A(g){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},A(g)}function b(g,_){for(var o=0;o<_.length;o++){var u=_[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(g,T(u.key),u)}}function y(g,_,o){return(_=T(_))in g?Object.defineProperty(g,_,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[_]=o,g}function T(g){var _=function(o,u){if(A(o)!="object"||!o)return o;var d=o[Symbol.toPrimitive];if(d!==void 0){var p=d.call(o,u||"default");if(A(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(o)}(g,"string");return A(_)=="symbol"?_:_+""}f.r(v),f.d(v,{SimpleKeyboard:function(){return ge},default:function(){return ie}}),f(5276),f(8598),f(4782),f(4554),f(2010),f(7427),f(6099),f(7495),f(8781),f(5440),f(744),f(2762),typeof Element>"u"||"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),typeof self<"u"&&"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(g){if("Element"in g){var _="classList",o="prototype",u=g.Element[o],d=Object,p=String[o].trim||function(){return this.replace(/^\s+|\s+$/g,"")},m=Array[o].indexOf||function(R){for(var F=0,W=this.length;F<W;F++)if(F in this&&this[F]===R)return F;return-1},k=function(R,F){this.name=R,this.code=DOMException[R],this.message=F},C=function(R,F){if(F==="")throw new k("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(F))throw new k("INVALID_CHARACTER_ERR","The token must not contain space characters.");return m.call(R,F)},S=function(R){for(var F=p.call(R.getAttribute("class")||""),W=F?F.split(/\s+/):[],K=0,$=W.length;K<$;K++)this.push(W[K]);this._updateClassName=function(){R.setAttribute("class",this.toString())}},x=S[o]=[],L=function(){return new S(this)};if(k[o]=Error[o],x.item=function(R){return this[R]||null},x.contains=function(R){return~C(this,R+"")},x.add=function(){var R,F=arguments,W=0,K=F.length,$=!1;do~C(this,R=F[W]+"")||(this.push(R),$=!0);while(++W<K);$&&this._updateClassName()},x.remove=function(){var R,F,W=arguments,K=0,$=W.length,q=!1;do for(F=C(this,R=W[K]+"");~F;)this.splice(F,1),q=!0,F=C(this,R);while(++K<$);q&&this._updateClassName()},x.toggle=function(R,F){var W=this.contains(R),K=W?F!==!0&&"remove":F!==!1&&"add";return K&&this[K](R),F===!0||F===!1?F:!W},x.replace=function(R,F){var W=C(R+"");~W&&(this.splice(W,1,F),this._updateClassName())},x.toString=function(){return this.join(" ")},d.defineProperty){var B={get:L,enumerable:!0,configurable:!0};try{d.defineProperty(u,_,B)}catch(R){R.number!==void 0&&R.number!==-2146823252||(B.enumerable=!1,d.defineProperty(u,_,B))}}else d[o].__defineGetter__&&u.__defineGetter__(_,L)}}(self),function(){var g=document.createElement("_");if(g.classList.add("c1","c2"),!g.classList.contains("c2")){var _=function(u){var d=DOMTokenList.prototype[u];DOMTokenList.prototype[u]=function(p){var m,k=arguments.length;for(m=0;m<k;m++)p=arguments[m],d.call(this,p)}};_("add"),_("remove")}if(g.classList.toggle("c3",!1),g.classList.contains("c3")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(u,d){return 1 in arguments&&!this.contains(u)==!d?d:o.call(this,u)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(u,d){var p=this.toString().split(" "),m=p.indexOf(u+"");~m&&(p=p.slice(m),this.remove.apply(this,p),this.add(d),this.add.apply(this,p.slice(1)))}),g=null}()),f(2675),f(9463),f(2259),f(5700),f(8706),f(2008),f(3418),f(4423),f(3792),f(2062),f(6910),f(739),f(9572),f(2892),f(9085),f(3851),f(1278),f(9432),f(4864),f(1699),f(7764),f(8344),f(3500),f(2953),f(2712),f(2637),f(1480),f(1761);var O=function(){return g=function u(d){var p=d.getOptions,m=d.getCaretPosition,k=d.getCaretPositionEnd,C=d.dispatch;(function(S,x){if(!(S instanceof x))throw new TypeError("Cannot call a class as a function")})(this,u),y(this,"getOptions",void 0),y(this,"getCaretPosition",void 0),y(this,"getCaretPositionEnd",void 0),y(this,"dispatch",void 0),y(this,"maxLengthReached",void 0),y(this,"isStandardButton",function(S){return S&&!(S[0]==="{"&&S[S.length-1]==="}")}),this.getOptions=p,this.getCaretPosition=m,this.getCaretPositionEnd=k,this.dispatch=C,u.bindMethods(u,this)},_=[{key:"getButtonType",value:function(u){return u.includes("{")&&u.includes("}")&&u!=="{//}"?"functionBtn":"standardBtn"}},{key:"getButtonClass",value:function(u){var d=this.getButtonType(u),p=u.replace("{","").replace("}",""),m="";return d!=="standardBtn"&&(m=" hg-button-".concat(p)),"hg-".concat(d).concat(m)}},{key:"getDefaultDiplay",value:function(){return{"{bksp}":"backspace","{backspace}":"backspace","{enter}":"< enter","{shift}":"shift","{shiftleft}":"shift","{shiftright}":"shift","{alt}":"alt","{s}":"shift","{tab}":"tab","{lock}":"caps","{capslock}":"caps","{accept}":"Submit","{space}":" ","{//}":" ","{esc}":"esc","{escape}":"esc","{f1}":"f1","{f2}":"f2","{f3}":"f3","{f4}":"f4","{f5}":"f5","{f6}":"f6","{f7}":"f7","{f8}":"f8","{f9}":"f9","{f10}":"f10","{f11}":"f11","{f12}":"f12","{numpaddivide}":"/","{numlock}":"lock","{arrowup}":"","{arrowleft}":"","{arrowdown}":"","{arrowright}":"","{prtscr}":"print","{scrolllock}":"scroll","{pause}":"pause","{insert}":"ins","{home}":"home","{pageup}":"up","{delete}":"del","{forwarddelete}":"del","{end}":"end","{pagedown}":"down","{numpadmultiply}":"*","{numpadsubtract}":"-","{numpadadd}":"+","{numpadenter}":"enter","{period}":".","{numpaddecimal}":".","{numpad0}":"0","{numpad1}":"1","{numpad2}":"2","{numpad3}":"3","{numpad4}":"4","{numpad5}":"5","{numpad6}":"6","{numpad7}":"7","{numpad8}":"8","{numpad9}":"9"}}},{key:"getButtonDisplayName",value:function(u,d){return(d=arguments.length>2&&arguments[2]!==void 0&&arguments[2]?Object.assign({},this.getDefaultDiplay(),d):d||this.getDefaultDiplay())[u]||u}},{key:"getUpdatedInput",value:function(u,d,p){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:p,k=arguments.length>4&&arguments[4]!==void 0&&arguments[4],C=this.getOptions(),S=[p,m,k],x=d;return(u==="{bksp}"||u==="{backspace}")&&x.length>0?x=this.removeAt.apply(this,[x].concat(S)):(u==="{delete}"||u==="{forwarddelete}")&&x.length>0?x=this.removeForwardsAt.apply(this,[x].concat(S)):u==="{space}"?x=this.addStringAt.apply(this,[x," "].concat(S)):u!=="{tab}"||typeof C.tabCharOnTab=="boolean"&&C.tabCharOnTab===!1?u!=="{enter}"&&u!=="{numpadenter}"||!C.newLineOnEnter?u.includes("numpad")&&Number.isInteger(Number(u[u.length-2]))?x=this.addStringAt.apply(this,[x,u[u.length-2]].concat(S)):u==="{numpaddivide}"?x=this.addStringAt.apply(this,[x,"/"].concat(S)):u==="{numpadmultiply}"?x=this.addStringAt.apply(this,[x,"*"].concat(S)):u==="{numpadsubtract}"?x=this.addStringAt.apply(this,[x,"-"].concat(S)):u==="{numpadadd}"?x=this.addStringAt.apply(this,[x,"+"].concat(S)):u==="{numpaddecimal}"?x=this.addStringAt.apply(this,[x,"."].concat(S)):u==="{"||u==="}"?x=this.addStringAt.apply(this,[x,u].concat(S)):u.includes("{")||u.includes("}")||(x=this.addStringAt.apply(this,[x,u].concat(S))):x=this.addStringAt.apply(this,[x,`
`].concat(S)):x=this.addStringAt.apply(this,[x,"	"].concat(S)),C.debug&&console.log("Input will be: "+x),x}},{key:"updateCaretPos",value:function(u){var d=arguments.length>1&&arguments[1]!==void 0&&arguments[1],p=this.updateCaretPosAction(u,d);this.dispatch(function(m){m.setCaretPosition(p)})}},{key:"updateCaretPosAction",value:function(u){var d=arguments.length>1&&arguments[1]!==void 0&&arguments[1],p=this.getOptions(),m=this.getCaretPosition();return m!=null&&(d?m>0&&(m-=u):m+=u),p.debug&&console.log("Caret at:",m),m}},{key:"addStringAt",value:function(u,d){var p,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.length,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:u.length,C=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return m||m===0?(p=[u.slice(0,m),d,u.slice(k)].join(""),this.isMaxLengthReached()||C&&this.updateCaretPos(d.length)):p=u+d,p}},{key:"removeAt",value:function(u){var d,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.length,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.length,k=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(p===0&&m===0)return u;if(p===m){var C=/([\uD800-\uDBFF][\uDC00-\uDFFF])/g;p&&p>=0?u.substring(p-2,p).match(C)?(d=u.substr(0,p-2)+u.substr(p),k&&this.updateCaretPos(2,!0)):(d=u.substr(0,p-1)+u.substr(p),k&&this.updateCaretPos(1,!0)):u.slice(-2).match(C)?(d=u.slice(0,-2),k&&this.updateCaretPos(2,!0)):(d=u.slice(0,-1),k&&this.updateCaretPos(1,!0))}else d=u.slice(0,p)+u.slice(m),k&&this.dispatch(function(S){S.setCaretPosition(p)});return d}},{key:"removeForwardsAt",value:function(u){var d,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.length,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.length,k=arguments.length>3&&arguments[3]!==void 0&&arguments[3];return u!=null&&u.length&&p!==null?(p===m?d=u.substring(p,p+2).match(/([\uD800-\uDBFF][\uDC00-\uDFFF])/g)?u.substr(0,p)+u.substr(p+2):u.substr(0,p)+u.substr(p+1):(d=u.slice(0,p)+u.slice(m),k&&this.dispatch(function(C){C.setCaretPosition(p)})),d):u}},{key:"handleMaxLength",value:function(u,d){var p=this.getOptions(),m=p.maxLength,k=u[p.inputName||"default"],C=d.length-1>=m;if(d.length<=k.length)return!1;if(Number.isInteger(m))return p.debug&&console.log("maxLength (num) reached:",C),C?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1);if(A(m)==="object"){var S=d.length-1>=m[p.inputName||"default"];return p.debug&&console.log("maxLength (obj) reached:",S),S?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1)}}},{key:"isMaxLengthReached",value:function(){return!!this.maxLengthReached}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints}},{key:"pointerEventsSupported",value:function(){return!!window.PointerEvent}},{key:"camelCase",value:function(u){return u?u.toLowerCase().trim().split(/[.\-_\s]/g).reduce(function(d,p){return p.length?d+p[0].toUpperCase()+p.slice(1):d}):""}},{key:"chunkArray",value:function(u,d){return w(Array(Math.ceil(u.length/d))).map(function(p,m){return u.slice(d*m,d+d*m)})}},{key:"escapeRegex",value:function(u){return u.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}},{key:"getRtlOffset",value:function(u,d){var p=u,m=d.indexOf("");return m<u&&m!=-1&&p--,d.indexOf("")<u&&m!=-1&&p--,p<0?0:p}}],o=[{key:"bindMethods",value:function(u,d){var p,m=function(C,S){var x=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!x){if(Array.isArray(C)||(x=N(C))||S){x&&(C=x);var L=0,B=function(){};return{s:B,n:function(){return L>=C.length?{done:!0}:{done:!1,value:C[L++]}},e:function(K){throw K},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R,F=!0,W=!1;return{s:function(){x=x.call(C)},n:function(){var K=x.next();return F=K.done,K},e:function(K){W=!0,R=K},f:function(){try{F||x.return==null||x.return()}finally{if(W)throw R}}}}(Object.getOwnPropertyNames(u.prototype));try{for(m.s();!(p=m.n()).done;){var k=p.value;k==="constructor"||k==="bindMethods"||(d[k]=d[k].bind(d))}}catch(C){m.e(C)}finally{m.f()}}}],_&&b(g.prototype,_),o&&b(g,o),Object.defineProperty(g,"prototype",{writable:!1}),g;var g,_,o}();y(O,"noop",function(){});var D=O;function P(g){return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},P(g)}function j(g,_){for(var o=0;o<_.length;o++){var u=_[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(g,V(u.key),u)}}function z(g,_,o){return(_=V(_))in g?Object.defineProperty(g,_,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[_]=o,g}function V(g){var _=function(o,u){if(P(o)!="object"||!o)return o;var d=o[Symbol.toPrimitive];if(d!==void 0){var p=d.call(o,u);if(P(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}(g,"string");return P(_)=="symbol"?_:_+""}var Q=function(){return g=function u(d){var p=this,m=d.dispatch,k=d.getOptions;(function(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")})(this,u),z(this,"getOptions",void 0),z(this,"dispatch",void 0),z(this,"isModifierKey",function(C){return C.altKey||C.ctrlKey||C.shiftKey||["Tab","CapsLock","Esc","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(C.code||C.key||p.keyCodeToKey(C==null?void 0:C.keyCode))}),this.dispatch=m,this.getOptions=k,D.bindMethods(u,this)},_=[{key:"handleHighlightKeyDown",value:function(u){var d=this.getOptions();d.physicalKeyboardHighlightPreventDefault&&this.isModifierKey(u)&&(u.preventDefault(),u.stopImmediatePropagation());var p=this.getSimpleKeyboardLayoutKey(u);this.dispatch(function(m){var k,C,S=m.getButtonElement(p),x=m.getButtonElement("{".concat(p,"}"));if(S)k=S,C=p;else{if(!x)return;k=x,C="{".concat(p,"}")}var L,B,R,F,W=function($){$.style.background=d.physicalKeyboardHighlightBgColor||"#dadce4",$.style.color=d.physicalKeyboardHighlightTextColor||"black"};if(k)if(Array.isArray(k)){if(k.forEach(function($){return W($)}),d.physicalKeyboardHighlightPress)if(d.physicalKeyboardHighlightPressUsePointerEvents)(L=k[0])===null||L===void 0||(B=L.onpointerdown)===null||B===void 0||B.call(L,u);else if(d.physicalKeyboardHighlightPressUseClick){var K;(K=k[0])===null||K===void 0||K.click()}else m.handleButtonClicked(C,u)}else W(k),d.physicalKeyboardHighlightPress&&(d.physicalKeyboardHighlightPressUsePointerEvents?(R=k)===null||R===void 0||(F=R.onpointerdown)===null||F===void 0||F.call(R,u):d.physicalKeyboardHighlightPressUseClick?k.click():m.handleButtonClicked(C,u))})}},{key:"handleHighlightKeyUp",value:function(u){var d=this.getOptions();d.physicalKeyboardHighlightPreventDefault&&this.isModifierKey(u)&&(u.preventDefault(),u.stopImmediatePropagation());var p=this.getSimpleKeyboardLayoutKey(u);this.dispatch(function(m){var k,C,S,x=m.getButtonElement(p)||m.getButtonElement("{".concat(p,"}")),L=function(B){B.removeAttribute&&B.removeAttribute("style")};x&&(Array.isArray(x)?(x.forEach(function(B){return L(B)}),d.physicalKeyboardHighlightPressUsePointerEvents&&((k=x[0])===null||k===void 0||(C=k.onpointerup)===null||C===void 0||C.call(k,u))):(L(x),d.physicalKeyboardHighlightPressUsePointerEvents&&(x==null||(S=x.onpointerup)===null||S===void 0||S.call(x,u))))})}},{key:"getSimpleKeyboardLayoutKey",value:function(u){var d,p="",m=u.code||u.key||this.keyCodeToKey(u==null?void 0:u.keyCode);return(p=m!=null&&m.includes("Numpad")||m!=null&&m.includes("Shift")||m!=null&&m.includes("Space")||m!=null&&m.includes("Backspace")||m!=null&&m.includes("Control")||m!=null&&m.includes("Alt")||m!=null&&m.includes("Meta")?u.code||"":u.key||this.keyCodeToKey(u==null?void 0:u.keyCode)||"").length>1?(d=p)===null||d===void 0?void 0:d.toLowerCase():p}},{key:"keyCodeToKey",value:function(u){return{8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Meta",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",106:"NumpadMultiply",107:"NumpadAdd",109:"NumpadSubtract",110:"NumpadDecimal",111:"NumpadDivide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}[u]||""}}],_&&j(g.prototype,_),o&&j(g,o),Object.defineProperty(g,"prototype",{writable:!1}),g;var g,_,o}();function G(g){return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},G(g)}function J(g,_){for(var o=0;o<_.length;o++){var u=_[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(g,fe(u.key),u)}}function X(g,_,o){return(_=fe(_))in g?Object.defineProperty(g,_,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[_]=o,g}function fe(g){var _=function(o,u){if(G(o)!="object"||!o)return o;var d=o[Symbol.toPrimitive];if(d!==void 0){var p=d.call(o,u);if(G(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}(g,"string");return G(_)=="symbol"?_:_+""}var de=function(){return g=function u(d){var p=d.utilities,m=d.options;(function(k,C){if(!(k instanceof C))throw new TypeError("Cannot call a class as a function")})(this,u),X(this,"utilities",void 0),X(this,"options",void 0),X(this,"candidateBoxElement",void 0),X(this,"pageIndex",0),X(this,"pageSize",void 0),this.utilities=p,this.options=m,D.bindMethods(u,this),this.pageSize=this.utilities.getOptions().layoutCandidatesPageSize||5},_=[{key:"destroy",value:function(){this.candidateBoxElement&&(this.candidateBoxElement.remove(),this.pageIndex=0)}},{key:"show",value:function(u){var d=this,p=u.candidateValue,m=u.targetElement,k=u.onSelect;if(p&&p.length){var C=this.utilities.chunkArray(p.split(" "),this.pageSize);this.renderPage({candidateListPages:C,targetElement:m,pageIndex:this.pageIndex,nbPages:C.length,onItemSelected:function(S,x){k(S,x),d.destroy()}})}}},{key:"renderPage",value:function(u){var d,p=this,m=u.candidateListPages,k=u.targetElement,C=u.pageIndex,S=u.nbPages,x=u.onItemSelected;(d=this.candidateBoxElement)===null||d===void 0||d.remove(),this.candidateBoxElement=document.createElement("div"),this.candidateBoxElement.className="hg-candidate-box";var L=document.createElement("ul");L.className="hg-candidate-box-list",m[C].forEach(function(q){var Z,se=document.createElement("li"),te=function(){var ce=new(p.options.useTouchEvents?TouchEvent:MouseEvent)("click");return Object.defineProperty(ce,"target",{value:se}),ce};se.className="hg-candidate-box-list-item",se.innerHTML=((Z=p.options.display)===null||Z===void 0?void 0:Z[q])||q,p.options.useTouchEvents?se.ontouchstart=function(ce){return x(q,ce||te())}:se.onclick=function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:te();return x(q,ce)},L.appendChild(se)});var B=C>0,R=document.createElement("div");R.classList.add("hg-candidate-box-prev"),B&&R.classList.add("hg-candidate-box-btn-active");var F=function(){B&&p.renderPage({candidateListPages:m,targetElement:k,pageIndex:C-1,nbPages:S,onItemSelected:x})};this.options.useTouchEvents?R.ontouchstart=F:R.onclick=F,this.candidateBoxElement.appendChild(R),this.candidateBoxElement.appendChild(L);var W=C<S-1,K=document.createElement("div");K.classList.add("hg-candidate-box-next"),W&&K.classList.add("hg-candidate-box-btn-active");var $=function(){W&&p.renderPage({candidateListPages:m,targetElement:k,pageIndex:C+1,nbPages:S,onItemSelected:x})};this.options.useTouchEvents?K.ontouchstart=$:K.onclick=$,this.candidateBoxElement.appendChild(K),k.prepend(this.candidateBoxElement)}}],_&&J(g.prototype,_),o&&J(g,o),Object.defineProperty(g,"prototype",{writable:!1}),g;var g,_,o}(),_e=de;function me(g){return function(_){if(Array.isArray(_))return ue(_)}(g)||function(_){if(typeof Symbol<"u"&&_[Symbol.iterator]!=null||_["@@iterator"]!=null)return Array.from(_)}(g)||function(_,o){if(_){if(typeof _=="string")return ue(_,o);var u={}.toString.call(_).slice(8,-1);return u==="Object"&&_.constructor&&(u=_.constructor.name),u==="Map"||u==="Set"?Array.from(_):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?ue(_,o):void 0}}(g)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ue(g,_){(_==null||_>g.length)&&(_=g.length);for(var o=0,u=Array(_);o<_;o++)u[o]=g[o];return u}function Y(g){return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},Y(g)}function U(g,_){var o=Object.keys(g);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(g);_&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(g,d).enumerable})),o.push.apply(o,u)}return o}function M(g,_){for(var o=0;o<_.length;o++){var u=_[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(g,H(u.key),u)}}function I(g,_,o){return(_=H(_))in g?Object.defineProperty(g,_,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[_]=o,g}function H(g){var _=function(o,u){if(Y(o)!="object"||!o)return o;var d=o[Symbol.toPrimitive];if(d!==void 0){var p=d.call(o,u);if(Y(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}(g,"string");return Y(_)=="symbol"?_:_+""}var le=function(){return g=function u(d,p){var m=this;if(function(F,W){if(!(F instanceof W))throw new TypeError("Cannot call a class as a function")}(this,u),I(this,"input",void 0),I(this,"options",void 0),I(this,"utilities",void 0),I(this,"caretPosition",void 0),I(this,"caretPositionEnd",void 0),I(this,"keyboardDOM",void 0),I(this,"keyboardPluginClasses",void 0),I(this,"keyboardDOMClass",void 0),I(this,"buttonElements",void 0),I(this,"currentInstanceName",void 0),I(this,"allKeyboardInstances",void 0),I(this,"keyboardInstanceNames",void 0),I(this,"isFirstKeyboardInstance",void 0),I(this,"physicalKeyboard",void 0),I(this,"modules",void 0),I(this,"activeButtonClass",void 0),I(this,"holdInteractionTimeout",void 0),I(this,"holdTimeout",void 0),I(this,"isMouseHold",void 0),I(this,"initialized",void 0),I(this,"candidateBox",void 0),I(this,"keyboardRowsDOM",void 0),I(this,"defaultName","default"),I(this,"activeInputElement",null),I(this,"handleParams",function(F,W){var K,$,q;if(typeof F=="string")K=F.split(".").join(""),$=document.querySelector(".".concat(K)),q=W;else if(F instanceof HTMLDivElement){if(!F.className)throw console.warn("Any DOM element passed as parameter must have a class."),new Error("KEYBOARD_DOM_CLASS_ERROR");K=F.className.split(" ")[0],$=F,q=W}else K="simple-keyboard",$=document.querySelector(".".concat(K)),q=F;return{keyboardDOMClass:K,keyboardDOM:$,options:q}}),I(this,"getOptions",function(){return m.options}),I(this,"getCaretPosition",function(){return m.caretPosition}),I(this,"getCaretPositionEnd",function(){return m.caretPositionEnd}),I(this,"registerModule",function(F,W){m.modules[F]||(m.modules[F]={}),W(m.modules[F])}),I(this,"getKeyboardClassString",function(){for(var F=arguments.length,W=new Array(F),K=0;K<F;K++)W[K]=arguments[K];return[m.keyboardDOMClass].concat(W).filter(function($){return!!$}).join(" ")}),typeof window<"u"){var k=this.handleParams(d,p),C=k.keyboardDOMClass,S=k.keyboardDOM,x=k.options,L=x===void 0?{}:x;this.utilities=new D({getOptions:this.getOptions,getCaretPosition:this.getCaretPosition,getCaretPositionEnd:this.getCaretPositionEnd,dispatch:this.dispatch}),this.caretPosition=null,this.caretPositionEnd=null,this.keyboardDOM=S,this.options=function(F){for(var W=1;W<arguments.length;W++){var K=arguments[W]!=null?arguments[W]:{};W%2?U(Object(K),!0).forEach(function($){I(F,$,K[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(K)):U(Object(K)).forEach(function($){Object.defineProperty(F,$,Object.getOwnPropertyDescriptor(K,$))})}return F}({layoutName:"default",theme:"hg-theme-default",inputName:"default",preventMouseDownDefault:!1,enableLayoutCandidates:!0,excludeFromLayout:{}},L),this.keyboardPluginClasses="",D.bindMethods(u,this);var B=this.options.inputName,R=B===void 0?this.defaultName:B;if(this.input={},this.input[R]="",this.keyboardDOMClass=C,this.buttonElements={},window.SimpleKeyboardInstances||(window.SimpleKeyboardInstances={}),this.currentInstanceName=this.utilities.camelCase(this.keyboardDOMClass),window.SimpleKeyboardInstances[this.currentInstanceName]=this,this.allKeyboardInstances=window.SimpleKeyboardInstances,this.keyboardInstanceNames=Object.keys(window.SimpleKeyboardInstances),this.isFirstKeyboardInstance=this.keyboardInstanceNames[0]===this.currentInstanceName,this.physicalKeyboard=new Q({dispatch:this.dispatch,getOptions:this.getOptions}),this.candidateBox=this.options.enableLayoutCandidates?new _e({utilities:this.utilities,options:this.options}):null,!this.keyboardDOM)throw console.warn('".'.concat(C,'" was not found in the DOM.')),new Error("KEYBOARD_DOM_ERROR");this.render(),this.modules={},this.loadModules()}},_=[{key:"setCaretPosition",value:function(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u;this.caretPosition=u,this.caretPositionEnd=d}},{key:"getInputCandidates",value:function(u){var d=this,p=this.options,m=p.layoutCandidates,k=p.layoutCandidatesCaseSensitiveMatch;if(!m||Y(m)!=="object")return{};var C=Object.keys(m).filter(function(L){var B=u.substring(0,d.getCaretPositionEnd()||0)||u,R=new RegExp("".concat(d.utilities.escapeRegex(L),"$"),k?"g":"gi");return!!me(B.matchAll(R)).length});if(C.length>1){var S=C.sort(function(L,B){return B.length-L.length})[0];return{candidateKey:S,candidateValue:m[S]}}if(C.length){var x=C[0];return{candidateKey:x,candidateValue:m[x]}}return{}}},{key:"showCandidatesBox",value:function(u,d,p){var m=this;this.candidateBox&&this.candidateBox.show({candidateValue:d,targetElement:p,onSelect:function(k,C){var S=m.options,x=S.layoutCandidatesCaseSensitiveMatch,L=S.disableCandidateNormalization,B=S.enableLayoutCandidatesKeyPress,R=k;L||(R=k.normalize("NFD")),typeof m.options.beforeInputUpdate=="function"&&m.options.beforeInputUpdate(m);var F=m.getInput(m.options.inputName,!0),W=m.getCaretPositionEnd()||0,K=F.substring(0,W||0)||F,$=new RegExp("".concat(m.utilities.escapeRegex(u),"$"),x?"g":"gi"),q=K.replace($,R),Z=F.replace(K,q),se=q.length-K.length,te=(W||F.length)+se;te<0&&(te=0),m.setInput(Z,m.options.inputName,!0),m.setCaretPosition(te),B&&typeof m.options.onKeyPress=="function"&&m.options.onKeyPress(k,C),typeof m.options.onChange=="function"&&m.options.onChange(m.getInput(m.options.inputName,!0),C),typeof m.options.onChangeAll=="function"&&m.options.onChangeAll(m.getAllInputs(),C)}})}},{key:"handleButtonClicked",value:function(u,d){var p=this.options,m=p.inputName,k=m===void 0?this.defaultName:m,C=p.debug;if(u!=="{//}"){this.input[k]||(this.input[k]=""),typeof this.options.beforeInputUpdate=="function"&&this.options.beforeInputUpdate(this);var S=this.utilities.getUpdatedInput(u,this.input[k],this.caretPosition,this.caretPositionEnd);if(this.utilities.isStandardButton(u)&&this.activeInputElement&&this.input[k]&&this.input[k]===S&&this.caretPosition===0&&this.caretPositionEnd===S.length)return this.setInput("",this.options.inputName,!0),this.setCaretPosition(0),this.activeInputElement.value="",this.activeInputElement.setSelectionRange(0,0),void this.handleButtonClicked(u,d);if(typeof this.options.onKeyPress=="function"&&this.options.onKeyPress(u,d),this.input[k]!==S&&(!this.options.inputPattern||this.options.inputPattern&&this.inputPatternIsValid(S))){if(this.options.maxLength&&this.utilities.handleMaxLength(this.input,S))return;var x=this.utilities.getUpdatedInput(u,this.input[k],this.caretPosition,this.caretPositionEnd,!0);if(this.setInput(x,this.options.inputName,!0),C&&console.log("Input changed:",this.getAllInputs()),this.options.debug&&console.log("Caret at: ",this.getCaretPosition(),this.getCaretPositionEnd(),"(".concat(this.keyboardDOMClass,")"),d==null?void 0:d.type),this.options.syncInstanceInputs&&this.syncInstanceInputs(),typeof this.options.onChange=="function"&&this.options.onChange(this.getInput(this.options.inputName,!0),d),typeof this.options.onChangeAll=="function"&&this.options.onChangeAll(this.getAllInputs(),d),d!=null&&d.target&&this.options.enableLayoutCandidates){var L,B=this.getInputCandidates(S),R=B.candidateKey,F=B.candidateValue;R&&F?this.showCandidatesBox(R,F,this.keyboardDOM):(L=this.candidateBox)===null||L===void 0||L.destroy()}}this.caretPositionEnd&&this.caretPosition!==this.caretPositionEnd&&(this.setCaretPosition(this.caretPositionEnd,this.caretPositionEnd),this.activeInputElement&&this.activeInputElement.setSelectionRange(this.caretPositionEnd,this.caretPositionEnd),this.options.debug&&console.log("Caret position aligned",this.caretPosition)),C&&console.log("Key pressed:",u)}}},{key:"getMouseHold",value:function(){return this.isMouseHold}},{key:"setMouseHold",value:function(u){this.options.syncInstanceInputs?this.dispatch(function(d){d.isMouseHold=u}):this.isMouseHold=u}},{key:"handleButtonMouseDown",value:function(u,d){var p=this;d&&(this.options.preventMouseDownDefault&&d.preventDefault(),this.options.stopMouseDownPropagation&&d.stopPropagation(),d.target.classList.add(this.activeButtonClass)),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdTimeout&&clearTimeout(this.holdTimeout),this.setMouseHold(!0),this.options.disableButtonHold||(this.holdTimeout=window.setTimeout(function(){(p.getMouseHold()&&(!u.includes("{")&&!u.includes("}")||u==="{delete}"||u==="{backspace}"||u==="{bksp}"||u==="{space}"||u==="{tab}")||u==="{arrowright}"||u==="{arrowleft}"||u==="{arrowup}"||u==="{arrowdown}")&&(p.options.debug&&console.log("Button held:",u),p.handleButtonHold(u)),clearTimeout(p.holdTimeout)},500))}},{key:"handleButtonMouseUp",value:function(u,d){var p=this;d&&(this.options.preventMouseUpDefault&&d.preventDefault&&d.preventDefault(),this.options.stopMouseUpPropagation&&d.stopPropagation&&d.stopPropagation(),!(d.target===this.keyboardDOM||d.target&&this.keyboardDOM.contains(d.target)||this.candidateBox&&this.candidateBox.candidateBoxElement&&(d.target===this.candidateBox.candidateBoxElement||d.target&&this.candidateBox.candidateBoxElement.contains(d.target)))&&this.candidateBox&&this.candidateBox.destroy()),this.recurseButtons(function(m){m.classList.remove(p.activeButtonClass)}),this.setMouseHold(!1),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),u&&typeof this.options.onKeyReleased=="function"&&this.options.onKeyReleased(u,d)}},{key:"handleKeyboardContainerMouseDown",value:function(u){this.options.preventMouseDownDefault&&u.preventDefault()}},{key:"handleButtonHold",value:function(u){var d=this;this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdInteractionTimeout=window.setTimeout(function(){d.getMouseHold()?(d.handleButtonClicked(u),d.handleButtonHold(u)):clearTimeout(d.holdInteractionTimeout)},100)}},{key:"syncInstanceInputs",value:function(){var u=this;this.dispatch(function(d){d.replaceInput(u.input),d.setCaretPosition(u.caretPosition,u.caretPositionEnd)})}},{key:"clearInput",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.inputName||this.defaultName;this.input[u]="",this.setCaretPosition(0),this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"getInput",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.inputName||this.defaultName,d=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.options.syncInstanceInputs&&!d&&this.syncInstanceInputs(),this.options.rtl?""+this.input[u].replace("","").replace("","")+"":this.input[u]}},{key:"getAllInputs",value:function(){var u=this,d={};return Object.keys(this.input).forEach(function(p){d[p]=u.getInput(p,!0)}),d}},{key:"setInput",value:function(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.inputName||this.defaultName,p=arguments.length>2?arguments[2]:void 0;this.input[d]=u,!p&&this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"replaceInput",value:function(u){this.input=u}},{key:"setOptions",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=this.changedOptions(u);this.options=Object.assign(this.options,u),d.length&&(this.options.debug&&console.log("changedOptions",d),this.onSetOptions(d),this.render())}},{key:"changedOptions",value:function(u){var d=this;return Object.keys(u).filter(function(p){return JSON.stringify(u[p])!==JSON.stringify(d.options[p])})}},{key:"onSetOptions",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];u.includes("layoutName")&&this.candidateBox&&this.candidateBox.destroy(),(u.includes("layoutCandidatesPageSize")||u.includes("layoutCandidates"))&&this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=new _e({utilities:this.utilities,options:this.options}))}},{key:"resetRows",value:function(){this.keyboardRowsDOM&&this.keyboardRowsDOM.remove(),this.keyboardDOM.className=this.keyboardDOMClass,this.keyboardDOM.setAttribute("data-skInstance",this.currentInstanceName),this.buttonElements={}}},{key:"dispatch",value:function(u){if(!window.SimpleKeyboardInstances)throw console.warn("SimpleKeyboardInstances is not defined. Dispatch cannot be called."),new Error("INSTANCES_VAR_ERROR");return Object.keys(window.SimpleKeyboardInstances).forEach(function(d){u(window.SimpleKeyboardInstances[d],d)})}},{key:"addButtonTheme",value:function(u,d){var p=this;d&&u&&(u.split(" ").forEach(function(m){d.split(" ").forEach(function(k){p.options.buttonTheme||(p.options.buttonTheme=[]);var C=!1;p.options.buttonTheme.map(function(S){if(S!=null&&S.class.split(" ").includes(k)){C=!0;var x=S.buttons.split(" ");x.includes(m)||(C=!0,x.push(m),S.buttons=x.join(" "))}return S}),C||p.options.buttonTheme.push({class:k,buttons:u})})}),this.render())}},{key:"removeButtonTheme",value:function(u,d){var p=this;if(!u&&!d)return this.options.buttonTheme=[],void this.render();u&&Array.isArray(this.options.buttonTheme)&&this.options.buttonTheme.length&&(u.split(" ").forEach(function(m){var k;(k=p.options)===null||k===void 0||(k=k.buttonTheme)===null||k===void 0||k.map(function(C,S){if(C&&d&&d.includes(C.class)||!d){var x,L,B=(x=C)===null||x===void 0?void 0:x.buttons.split(" ").filter(function(R){return R!==m});C&&B!=null&&B.length?C.buttons=B.join(" "):((L=p.options.buttonTheme)===null||L===void 0||L.splice(S,1),C=null)}return C})}),this.render())}},{key:"getButtonElement",value:function(u){var d,p=this.buttonElements[u];return p&&(d=p.length>1?p:p[0]),d}},{key:"inputPatternIsValid",value:function(u){var d,p=this.options.inputPattern;if((d=p instanceof RegExp?p:p[this.options.inputName||this.defaultName])&&u){var m=d.test(u);return this.options.debug&&console.log('inputPattern ("'.concat(d,'"): ').concat(m?"passed":"did not pass!")),m}return!0}},{key:"setEventListeners",value:function(){if(this.isFirstKeyboardInstance||!this.allKeyboardInstances){this.options.debug&&console.log("Caret handling started (".concat(this.keyboardDOMClass,")"));var u=this.options.physicalKeyboardHighlightPreventDefault,d=u!==void 0&&u;document.addEventListener("keyup",this.handleKeyUp,d),document.addEventListener("keydown",this.handleKeyDown,d),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("touchend",this.handleTouchEnd),this.options.updateCaretOnSelectionChange&&document.addEventListener("selectionchange",this.handleSelectionChange),document.addEventListener("select",this.handleSelect)}}},{key:"handleKeyUp",value:function(u){this.caretEventHandler(u),this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyUp(u)}},{key:"handleKeyDown",value:function(u){this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyDown(u)}},{key:"handleMouseUp",value:function(u){this.caretEventHandler(u)}},{key:"handleTouchEnd",value:function(u){this.caretEventHandler(u)}},{key:"handleSelect",value:function(u){this.caretEventHandler(u)}},{key:"handleSelectionChange",value:function(u){navigator.userAgent.includes("Firefox")||this.caretEventHandler(u)}},{key:"caretEventHandler",value:function(u){var d,p=this;u.target.tagName&&(d=u.target.tagName.toLowerCase()),this.dispatch(function(m){var k=u.target===m.keyboardDOM||u.target&&m.keyboardDOM.contains(u.target);if(p.options.syncInstanceInputs&&Array.isArray(u.path)&&(k=u.path.some(function(x){var L;return x==null||(L=x.hasAttribute)===null||L===void 0?void 0:L.call(x,"data-skInstance")})),(d==="textarea"||d==="input"&&["text","search","url","tel","password"].includes(u.target.type))&&!m.options.disableCaretPositioning){var C=u.target.selectionStart,S=u.target.selectionEnd;m.options.rtl&&(C=m.utilities.getRtlOffset(C,m.getInput()),S=m.utilities.getRtlOffset(S,m.getInput())),m.setCaretPosition(C,S),m.activeInputElement=u.target,m.options.debug&&console.log("Caret at: ",m.getCaretPosition(),m.getCaretPositionEnd(),u&&u.target.tagName.toLowerCase(),"(".concat(m.keyboardDOMClass,")"),u==null?void 0:u.type)}else!m.options.disableCaretPositioning&&k||(u==null?void 0:u.type)==="selectionchange"||(m.setCaretPosition(null),m.activeInputElement=null,m.options.debug&&console.log('Caret position reset due to "'.concat(u==null?void 0:u.type,'" event'),u))})}},{key:"recurseButtons",value:function(u){var d=this;u&&Object.keys(this.buttonElements).forEach(function(p){return d.buttonElements[p].forEach(u)})}},{key:"destroy",value:function(){this.options.debug&&console.log("Destroying simple-keyboard instance: ".concat(this.currentInstanceName));var u=this.options.physicalKeyboardHighlightPreventDefault,d=u!==void 0&&u;document.removeEventListener("keyup",this.handleKeyUp,d),document.removeEventListener("keydown",this.handleKeyDown,d),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("touchend",this.handleTouchEnd),document.removeEventListener("select",this.handleSelect),this.options.updateCaretOnSelectionChange&&document.removeEventListener("selectionchange",this.handleSelectionChange),document.onpointerup=null,document.ontouchend=null,document.ontouchcancel=null,document.onmouseup=null,this.recurseButtons(function(p){p&&(p.onpointerdown=null,p.onpointerup=null,p.onpointercancel=null,p.ontouchstart=null,p.ontouchend=null,p.ontouchcancel=null,p.onclick=null,p.onmousedown=null,p.onmouseup=null,p.remove(),p=null)}),this.keyboardDOM.onpointerdown=null,this.keyboardDOM.ontouchstart=null,this.keyboardDOM.onmousedown=null,this.resetRows(),this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=null),this.activeInputElement=null,this.keyboardDOM.removeAttribute("data-skInstance"),this.keyboardDOM.innerHTML="",window.SimpleKeyboardInstances[this.currentInstanceName]=null,delete window.SimpleKeyboardInstances[this.currentInstanceName],this.initialized=!1}},{key:"getButtonThemeClasses",value:function(u){var d=this.options.buttonTheme,p=[];return Array.isArray(d)&&d.forEach(function(m){if(m&&m.class&&typeof m.class=="string"&&m.buttons&&typeof m.buttons=="string"){var k=m.class.split(" ");m.buttons.split(" ").includes(u)&&(p=[].concat(me(p),me(k)))}else console.warn('Incorrect "buttonTheme". Please check the documentation.',m)}),p}},{key:"setDOMButtonAttributes",value:function(u,d){var p=this.options.buttonAttributes;Array.isArray(p)&&p.forEach(function(m){m.attribute&&typeof m.attribute=="string"&&m.value&&typeof m.value=="string"&&m.buttons&&typeof m.buttons=="string"?m.buttons.split(" ").includes(u)&&d(m.attribute,m.value):console.warn('Incorrect "buttonAttributes". Please check the documentation.',m)})}},{key:"onTouchDeviceDetected",value:function(){this.processAutoTouchEvents(),this.disableContextualWindow()}},{key:"disableContextualWindow",value:function(){window.oncontextmenu=function(u){if(u.target.classList.contains("hg-button"))return u.preventDefault(),u.stopPropagation(),!1}}},{key:"processAutoTouchEvents",value:function(){this.options.autoUseTouchEvents&&(this.options.useTouchEvents=!0,this.options.debug&&console.log("autoUseTouchEvents: Touch device detected, useTouchEvents enabled."))}},{key:"onInit",value:function(){this.options.debug&&console.log("".concat(this.keyboardDOMClass," Initialized")),this.setEventListeners(),typeof this.options.onInit=="function"&&this.options.onInit(this)}},{key:"beforeFirstRender",value:function(){this.utilities.isTouchDevice()&&this.onTouchDeviceDetected(),typeof this.options.beforeFirstRender=="function"&&this.options.beforeFirstRender(this),this.isFirstKeyboardInstance&&this.utilities.pointerEventsSupported()&&!this.options.useTouchEvents&&!this.options.useMouseEvents&&this.options.debug&&console.log("Using PointerEvents as it is supported by this browser"),this.options.useTouchEvents&&this.options.debug&&console.log("useTouchEvents has been enabled. Only touch events will be used.")}},{key:"beforeRender",value:function(){typeof this.options.beforeRender=="function"&&this.options.beforeRender(this)}},{key:"onRender",value:function(){typeof this.options.onRender=="function"&&this.options.onRender(this)}},{key:"onModulesLoaded",value:function(){typeof this.options.onModulesLoaded=="function"&&this.options.onModulesLoaded(this)}},{key:"loadModules",value:function(){var u=this;Array.isArray(this.options.modules)&&(this.options.modules.forEach(function(d){var p=new d(u);p.init&&p.init(u)}),this.keyboardPluginClasses="modules-loaded",this.render(),this.onModulesLoaded())}},{key:"getModuleProp",value:function(u,d){return!!this.modules[u]&&this.modules[u][d]}},{key:"getModulesList",value:function(){return Object.keys(this.modules)}},{key:"parseRowDOMContainers",value:function(u,d,p,m){var k=this,C=Array.from(u.children),S=0;return C.length&&p.forEach(function(x,L){var B=m[L];if(!(B&&B>x))return!1;var R=x-S,F=B-S,W=document.createElement("div");W.className+="hg-button-container";var K="".concat(k.options.layoutName,"-r").concat(d,"c").concat(L);W.setAttribute("data-skUID",K);var $=C.splice(R,F-R+1);S=F-R,$.forEach(function(q){return W.appendChild(q)}),C.splice(R,0,W),u.innerHTML="",C.forEach(function(q){return u.appendChild(q)}),k.options.debug&&console.log("rowDOMContainer",$,R,F,S+1)}),u}},{key:"render",value:function(){var u=this;this.resetRows(),this.initialized||this.beforeFirstRender(),this.beforeRender();var d="hg-layout-".concat(this.options.layoutName),p=this.options.layout||{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","{lock} a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}",".com @ {space}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}",".com @ {space}"]},m=this.options.useTouchEvents||!1,k=m?"hg-touch-events":"",C=this.options.useMouseEvents||!1,S=this.options.disableRowButtonContainers;this.keyboardDOM.className=this.getKeyboardClassString(this.options.theme,d,this.keyboardPluginClasses,k),this.keyboardDOM.setAttribute("data-skInstance",this.currentInstanceName),this.keyboardRowsDOM=document.createElement("div"),this.keyboardRowsDOM.className="hg-rows",p[this.options.layoutName||this.defaultName].forEach(function(x,L){var B=x.split(" ");u.options.excludeFromLayout&&u.options.excludeFromLayout[u.options.layoutName||u.defaultName]&&(B=B.filter(function(K){return u.options.excludeFromLayout&&!u.options.excludeFromLayout[u.options.layoutName||u.defaultName].includes(K)}));var R=document.createElement("div");R.className+="hg-row";var F=[],W=[];B.forEach(function(K,$){var q,Z=!S&&typeof K=="string"&&K.length>1&&K.indexOf("[")===0,se=!S&&typeof K=="string"&&K.length>1&&K.indexOf("]")===K.length-1;Z&&(F.push($),K=K.replace(/\[/g,"")),se&&(W.push($),K=K.replace(/\]/g,""));var te=u.utilities.getButtonClass(K),ce=u.utilities.getButtonDisplayName(K,u.options.display,u.options.mergeDisplay),oe=u.options.useButtonTag?"button":"div",re=document.createElement(oe);re.className+="hg-button ".concat(te),(q=re.classList).add.apply(q,me(u.getButtonThemeClasses(K))),u.setDOMButtonAttributes(K,function(ae,Ce){re.setAttribute(ae,Ce)}),u.activeButtonClass="hg-activeButton",!u.utilities.pointerEventsSupported()||m||C?m?(re.ontouchstart=function(ae){u.handleButtonClicked(K,ae),u.handleButtonMouseDown(K,ae)},re.ontouchend=function(ae){u.handleButtonMouseUp(K,ae)},re.ontouchcancel=function(ae){u.handleButtonMouseUp(K,ae)}):(re.onclick=function(ae){u.setMouseHold(!1),typeof u.options.onKeyReleased!="function"&&u.handleButtonClicked(K,ae)},re.onmousedown=function(ae){typeof u.options.onKeyReleased!="function"||u.isMouseHold||u.handleButtonClicked(K,ae),u.handleButtonMouseDown(K,ae)},re.onmouseup=function(ae){u.handleButtonMouseUp(K,ae)}):(re.onpointerdown=function(ae){u.handleButtonClicked(K,ae),u.handleButtonMouseDown(K,ae)},re.onpointerup=function(ae){u.handleButtonMouseUp(K,ae)},re.onpointercancel=function(ae){u.handleButtonMouseUp(K,ae)}),re.setAttribute("data-skBtn",K);var pe="".concat(u.options.layoutName,"-r").concat(L,"b").concat($);re.setAttribute("data-skBtnUID",pe);var ve=document.createElement("span");ve.innerHTML=ce,re.appendChild(ve),u.buttonElements[K]||(u.buttonElements[K]=[]),u.buttonElements[K].push(re),R.appendChild(re)}),R=u.parseRowDOMContainers(R,L,F,W),u.keyboardRowsDOM.appendChild(R)}),this.keyboardDOM.appendChild(this.keyboardRowsDOM),this.onRender(),this.initialized||(this.initialized=!0,!this.utilities.pointerEventsSupported()||m||C?m?(document.ontouchend=function(x){return u.handleButtonMouseUp(void 0,x)},document.ontouchcancel=function(x){return u.handleButtonMouseUp(void 0,x)},this.keyboardDOM.ontouchstart=function(x){return u.handleKeyboardContainerMouseDown(x)}):m||(document.onmouseup=function(x){return u.handleButtonMouseUp(void 0,x)},this.keyboardDOM.onmousedown=function(x){return u.handleKeyboardContainerMouseDown(x)}):(document.onpointerup=function(x){return u.handleButtonMouseUp(void 0,x)},this.keyboardDOM.onpointerdown=function(x){return u.handleKeyboardContainerMouseDown(x)}),this.onInit())}}],_&&M(g.prototype,_),o&&M(g,o),Object.defineProperty(g,"prototype",{writable:!1}),g;var g,_,o}(),ge=le,ie=ge;return v}()},442:function(l){l.exports=n}},s={};function i(l){var c=s[l];if(c!==void 0)return c.exports;var h=s[l]={exports:{}};return r[l].call(h.exports,h,h.exports,i),h.exports}i.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return i.d(c,{a:c}),c},i.d=function(l,c){for(var h in c)i.o(c,h)&&!i.o(l,h)&&Object.defineProperty(l,h,{enumerable:!0,get:c[h]})},i.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},i.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var a={};return function(){i.r(a),i.d(a,{KeyboardReact:function(){return A},default:function(){return b}}),i(981);var l=i(442),c=i(548),h=i.n(c);function f(y){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},f(y)}function v(y,T){var O=Object.keys(y);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(y);T&&(D=D.filter(function(P){return Object.getOwnPropertyDescriptor(y,P).enumerable})),O.push.apply(O,D)}return O}function w(y){for(var T=1;T<arguments.length;T++){var O=arguments[T]!=null?arguments[T]:{};T%2?v(Object(O),!0).forEach(function(D){N(y,D,O[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(O)):v(Object(O)).forEach(function(D){Object.defineProperty(y,D,Object.getOwnPropertyDescriptor(O,D))})}return y}function N(y,T,O){return(T=function(D){var P=function(j,z){if(f(j)!="object"||!j)return j;var V=j[Symbol.toPrimitive];if(V!==void 0){var Q=V.call(j,z||"default");if(f(Q)!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(z==="string"?String:Number)(j)}(D,"string");return f(P)=="symbol"?P:P+""}(T))in y?Object.defineProperty(y,T,{value:O,enumerable:!0,configurable:!0,writable:!0}):y[T]=O,y}var E=function(y){return w(w({},y),{},{keyboardRef:null})},A=function(y){var T=y.baseClass||"react-simple-keyboard",O=l.useRef(null),D=l.useRef(null),P=l.useRef(null),j=l.useRef(y);return l.useEffect(function(){return function(){P.current&&P.current.destroy(),O.current=!1}},[]),l.useEffect(function(){var z=function(X){return w(w({},X),{},{theme:"simple-keyboard ".concat(X.theme||"hg-theme-default")})}(y);if(!O.current){O.current=!0,z.debug&&console.log("ReactSimpleKeyboard: Init");var V=D.current,Q=".".concat(T);P.current=new(h())(V||Q,z),z.keyboardRef&&z.keyboardRef(P.current)}var G=function(X,fe){var de=E(fe),_e=E(X);return Object.keys(de).filter(function(me){return de[me]!==_e[me]})}(j.current,z);if(G.length){var J=P.current;j.current=z,J==null||J.setOptions(z),z.debug&&console.log("ReactSimpleKeyboard - setOptions called due to updated props:",G)}},[O,T,j,y]),l.createElement("div",{className:T,ref:D})},b=A}(),a}()})})(sy);var tE=sy.exports;const nE=Ep(tE),rE=ls.memo(eE),sE={default:["1 2 3 4 5 6 7 8 9 0 - =","q w e r t y u i o p [ ]","a s d f g h j k l ; '","z x c v b n m , . /"]},iE=ls.memo(({currentLessonId:t,onLessonChange:e,taskProgress:n,activeTaskId:r,onSkipTask:s})=>{const[i,a]=ee.useState(!1),l=en.findIndex(b=>b.id===t),c=en[l],h=l>0?en[l-1]:null,f=l<en.length-1?en[l+1]:null,v=c==null?void 0:c.taskIds.every(b=>n.some(y=>y.taskId===b&&y.status==="completed"));ee.useEffect(()=>{const b=y=>{y.key==="ArrowLeft"&&h?e(h.id):y.key==="ArrowRight"&&f&&e(f.id)};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[h,f,e]),ee.useEffect(()=>{const b=y=>{y.key==="Escape"&&i&&a(!1)};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[i]);const w=ee.useCallback((b,y,T)=>{if(!ls.isValidElement(b))return b;if(b.props.children){const O=ls.Children.map(b.props.children,D=>w(D,y,T));return ls.cloneElement(b,{},O)}return b},[]),N=()=>{if(!r)return console.log("[Keyboard] No active task"),[];const b=kt[r];if(!(b!=null&&b.keyboardMapping))return console.log("[Keyboard] No keyboard mapping for task:",r),[];const y=Vh(0,b.colorMode||"chromatic"),T=[];return console.log("[Keyboard] Building theme with:",{taskId:r,colorMode:b.colorMode,mapping:b.keyboardMapping,colors:y}),setTimeout(()=>{var O;console.log("[Keyboard] Current keyboard DOM:",(O=document.querySelector(".simple-keyboard-base"))==null?void 0:O.innerHTML)},100),Object.entries(b.keyboardMapping).forEach(([O,D])=>{var j;const P=(j=bc[O])==null?void 0:j.toLowerCase();if(P){const z=y[D.note],V=`key-${P.replace(/[^a-z0-9]/g,"")}`,Q=D.note%12,G=Xg.includes(Q),J=G||z==="#ffffff"?"black":"white";console.log(`[Keyboard] Styling key ${P}:`,{originalKey:O,color:z,textColor:J,className:V,relativeNote:Q,isSpecialNote:G}),T.push({class:V,buttons:P});const X=document.createElement("style");X.textContent=`
            /* Direct button styling */
            .simple-keyboard-base .${V} {
              background: ${z} !important;
              color: ${J} !important;
            }
            
            /* Button text styling */
            .simple-keyboard-base .${V} span {
              color: ${J} !important;
            }
            
            /* Alternative selectors */
            .simple-keyboard-base .hg-button.${V} {
              background: ${z} !important;
              color: ${J} !important;
            }
            
            .simple-keyboard-base .hg-button.${V} span {
              color: ${J} !important;
            }
          `;const fe=document.querySelector(`style[data-key="${V}"]`);fe&&fe.remove(),X.setAttribute("data-key",V),document.head.appendChild(X)}}),console.log("[Keyboard] Final button theme:",T),T},E=()=>{if(!r)return{};const b=kt[r];if(!(b!=null&&b.keyboardMapping))return{};const y={};return"1234567890-=qwertyuiop[]asdfghjkl;'zxcvbnm,./".split("").forEach(T=>{y[T]=" "}),Object.entries(b.keyboardMapping).forEach(([T])=>{var D;const O=(D=bc[T])==null?void 0:D.toLowerCase();O&&(y[O]=O)}),y},A=ee.useRef(null);return ee.useEffect(()=>{if(r&&A.current){const b=A.current.querySelector(`[data-task-id="${r}"]`);if(b){const y=A.current.getBoundingClientRect(),T=b.getBoundingClientRect(),O=200;(T.bottom>y.bottom-O||T.top>y.bottom-O)&&b.scrollIntoView({behavior:"smooth",block:"center"})}}},[r]),ne.jsxs("div",{className:"fixed top-0 left-0 w-[600px] h-screen bg-gray-900 text-white flex flex-col",children:[ne.jsx("div",{className:"bg-gray-900 p-4 border-b border-gray-800",children:ne.jsx("div",{className:"w-full flex justify-end",children:ne.jsx("div",{className:"w-[274px]",children:ne.jsx(nE,{layout:sE,display:E(),buttonTheme:N(),mergeDisplay:!0,physicalKeyboardHighlight:!1,physicalKeyboardHighlightPress:!1,useButtonTag:!0,disableButtonHold:!0,preventMouseDownDefault:!0,baseClass:"simple-keyboard-base",theme:"hg-theme-default custom-theme",debug:!0,onRender:()=>{var b;console.log("[Keyboard] Rendered. DOM structure:",(b=document.querySelector(".simple-keyboard-base"))==null?void 0:b.innerHTML)}})})})}),ne.jsxs("div",{className:"bg-gray-900 z-20 p-8 pb-4 border-b border-gray-800",children:[ne.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[ne.jsx("button",{onClick:()=>a(!i),className:"p-2 bg-gray-800 rounded border border-gray-700 hover:bg-gray-700 relative z-20 pointer-events-auto",children:ne.jsx(xp,{className:"w-6 h-6"})}),ne.jsxs("div",{className:"flex-1 flex gap-2",children:[ne.jsx("div",{className:`flex-1 ${f?"w-1/2":"w-full"}`,children:h&&ne.jsxs(Tu,{to:`${hr}/${h.id}`,onClick:()=>e(h.id),className:"block w-full p-2 bg-gray-800 rounded border border-gray-700 text-gray-400 hover:bg-gray-700 text-left select-none",children:[" ",l,". ",h.title]})}),ne.jsx("div",{className:`flex-1 ${h?"w-1/2":"w-full"}`,children:f&&ne.jsxs(Tu,{to:`${hr}/${f.id}`,onClick:()=>e(f.id),className:`block w-full p-2 rounded border text-right select-none transition-all duration-300 ${v?"bg-blue-600 hover:bg-blue-500 border-blue-500 text-white shadow-lg shadow-blue-500/20":"bg-gray-800 border-gray-700 text-gray-400 hover:bg-gray-700"}`,children:[l+2,". ",f.title," "]})})]})]}),ne.jsxs("div",{className:"w-full text-white font-semibold text-[28px]",children:[l+1,". ",c.title]})]}),i&&ne.jsx("div",{className:"absolute inset-0 bg-gray-900 z-30 overflow-y-auto",children:ne.jsxs("div",{className:"p-8",children:[ne.jsx("div",{className:"flex items-center gap-2 mb-4",children:ne.jsx("button",{onClick:()=>a(!1),className:"p-2 bg-gray-800 rounded border border-gray-700 hover:bg-gray-700",children:ne.jsx(xp,{className:"w-6 h-6"})})}),ne.jsx("div",{className:"flex flex-col gap-2",children:en.map((b,y)=>ne.jsxs(Tu,{to:`${hr}/${b.id}`,onClick:()=>{e(b.id),a(!1)},className:`mt-2 text-left cursor-pointer hover:text-white ${b.id===t?"text-white":"text-gray-400"}`,children:[ne.jsxs("span",{children:[y+1,". "]}),b.title]},b.id))})]})}),ne.jsx("div",{className:"flex-1 overflow-y-auto",children:ne.jsxs("div",{className:"relative min-h-[calc(100vh-400px)]",children:[ne.jsx("div",{ref:A,className:"p-8 pt-4",children:c&&ne.jsxs("div",{className:"prose prose-invert",children:[w(c.content,n,c),c.taskIds.map((b,y)=>{var T,O;return ne.jsx(rE,{taskConfig:kt[b],"data-task-id":b,progress:((T=n.find(D=>D.taskId===b))==null?void 0:T.progress)??0,status:((O=n.find(D=>D.taskId===b))==null?void 0:O.status)??"active",previousTaskCompleted:y===0?!0:n.some(D=>D.taskId===c.taskIds[y-1]&&D.status==="completed"),isActive:b===r,onSkip:s},b)}),c.finalText&&c.taskIds.every(b=>n.some(y=>y.taskId===b&&y.status==="completed"))&&ne.jsx("p",{className:"mt-6 text-gray-400 italic",children:c.finalText})]})}),ne.jsx("div",{className:"pointer-events-none sticky bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-gray-900 to-transparent"})]})})]})}),Cp=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],oE=t=>{const e=en.find(n=>n.id===t);return!e||!e.taskIds.length?null:e.taskIds[e.taskIds.length-1]},Tp=(t,e)=>{var a;console.log("[getActiveTaskId] Called with:",{taskProgress:t.taskProgress,currentLessonId:e,pendingNextTask:t.pendingNextTask});const n=en.find(l=>l.id===e);if(!n)return console.log("No lesson found for id:",e),null;if(n.taskIds.length===0)return null;const r=t.taskProgress.find(l=>l.status==="completing");if(r)return console.log("Found completing task:",r.taskId),r.taskId;if(n.taskIds.every(l=>t.taskProgress.some(c=>c.taskId===l&&c.status==="completed")))return console.log("All tasks completed in lesson:",e),oE(e);if(t.pendingNextTask){if(t.activeKeysSize>0){const l=((a=t.taskProgress.find(c=>c.status==="active"))==null?void 0:a.taskId)??null;return console.log("Waiting for key releases before activating:",t.pendingNextTask),console.log("Staying with current task:",l),l}return console.log("Activating pending task:",t.pendingNextTask),t.pendingNextTask}const i=t.taskProgress.find(l=>l.status==="active");if(i&&n.taskIds.includes(i.taskId))return console.log("Found existing active task:",i.taskId),i.taskId;for(const l of n.taskIds){console.log("Checking task:",l);const c=t.taskProgress.find(h=>h.taskId===l);if(console.log("Task state:",c),(!c||c.status!=="completed")&&Q_(l,t.taskProgress,e))return console.log(`Activating task: ${l}`),l}return console.log("No active task found - all completed"),null},aE=t=>({taskId:t,progress:0,status:"active"}),lE=()=>{var ue,Y;const[t,e]=ee.useState(0),[n,r]=ee.useState("single"),[s,i]=ee.useState("chromatic"),[a,l]=ee.useState([]),[c,h]=ee.useState(1),[f,v]=ee.useState([]),[w,N]=ee.useState(null),E=jh(),{lessonId:A}=u_(),[b,y]=ee.useState({taskProgress:[],pendingTaskCompletion:null,activeKeysSize:0,pendingNextTask:null}),[T,O]=ee.useState(()=>en.reduce((M,I)=>[...M,...I.taskIds],[]).reduce((M,I)=>({...M,[I]:new Set}),{})),[D,P]=ee.useState(new Set),[j,z]=ee.useState(!1),V=ee.useCallback(U=>{const M=kt[U];M&&M.checker.type==="sequence"&&(M.checker.currentIndex=0),O(I=>({...I,[U]:new Set}))},[]);ee.useEffect(()=>{const U=parseInt(A||"1");console.log("[lessonChange] Changing to lesson:",U,{currentLessonId:c,lessonId:A});const M=en.find(H=>H.id===U),I=M==null?void 0:M.taskIds[0];console.log("[lessonChange] Lesson info:",{currentLesson:M,firstTaskId:I,hasTaskIds:M==null?void 0:M.taskIds.length}),!isNaN(U)&&en.some(H=>H.id===U)?(h(U),y(H=>{console.log("[lessonChange] Previous state:",{taskProgress:H.taskProgress,pendingNextTask:H.pendingNextTask});const le=I?[{taskId:I,progress:0,status:"active"}]:[];return console.log("[lessonChange] Setting new state:",{newTaskProgress:le,firstTaskId:I}),{...H,taskProgress:le,pendingNextTask:null,pendingTaskCompletion:null}}),M&&O(H=>{const le={...H};return M.taskIds.forEach(ge=>{le[ge]=new Set}),console.log("[lessonChange] Reset task played notes:",le),le})):(console.log("[lessonChange] Invalid lesson ID, redirecting to lesson 1"),U!==1&&E(`${hr}/1`,{replace:!0}))},[A,E]),ee.useEffect(()=>{y(U=>({...U,activeKeysSize:D.size}))},[D.size]);const Q=ee.useCallback((U,M,I)=>{const H=kt[U];if(!H){console.log("No task config found for:",U);return}console.log("[incrementTaskProgress] Before update:",{taskId:U,note:M,octave:I,checkerType:H.checker.type,currentIndex:H.checker.type==="sequence"?H.checker.currentIndex:"N/A",taskConfig:H});const le=`${M}-${I}`,ge=T[U];let ie=!1;if(H.checker.type==="sequence"?(ie=Qg(H.checker,M,I),console.log("[incrementTaskProgress] Sequence check:",{shouldIncrement:ie,expectedNote:H.checker.sequence[H.checker.currentIndex],receivedNote:{note:M,octave:I},currentIndex:H.checker.currentIndex})):ie=!ge.has(le),ie){const g={...kt};H.checker.type==="sequence"&&(g[U]={...H,checker:{...H.checker,currentIndex:H.checker.currentIndex+1}},Object.assign(kt,g)),O(_=>({..._,[U]:new Set([..._[U],le])})),y(_=>{const o=_.taskProgress.find(m=>m.taskId===U),d=((o==null?void 0:o.progress)??0)+1,p={...kt};return H.checker.type==="sequence"&&(p[U]={...H,checker:{...H.checker,currentIndex:H.checker.currentIndex+1}}),Object.assign(kt,p),{..._,taskProgress:o?_.taskProgress.map(m=>m.taskId===U?{...m,progress:d,status:d>=H.total?"completing":"active"}:m):[..._.taskProgress,{taskId:U,progress:1,status:"active"}]}})}},[T]);ee.useEffect(()=>{(async()=>{await XT(),z(!0)})()},[]);const G=ee.useCallback(async(U,M)=>{if(!j)return console.log("Sampler not ready yet, ignoring note"),[];console.log("[playNotes] Called with:",{note:U,octave:M,tonic:t}),console.log("[playNotes] Current state:",{taskProgress:b.taskProgress,activeKeys:Array.from(D),currentLessonId:c,state:b,taskPlayedNotes:T});const I=(U-t+12)%12;console.log("Calculated relative note:",I);const H=Nc[n].getNotes(I,M);console.log("Notes to play:",H);const le=Tp(b,c);if(console.log("Active task check:",{activeTaskId:le,currentLessonId:c,taskProgressLength:b.taskProgress.length,stateTaskProgressLength:b.taskProgress.length}),le){console.log("Incrementing progress for task:",le),y(g=>(console.log("Current task progress before update:",g.taskProgress),g.taskProgress.some(_=>_.taskId===le)?g:(console.log("Initializing new task:",le),{...g,taskProgress:[...g.taskProgress,aE(le)]})));const ie=kt[le];if(ie){const g=`${U}-${M}`;!T[le].has(g)&&X_(ie.checker,U,M)&&(O(u=>({...u,[le]:new Set([...u[le],g])})),y(u=>{const d=u.taskProgress.find(k=>k.taskId===le),m=((d==null?void 0:d.progress)??0)+1;return{...u,taskProgress:d?u.taskProgress.map(k=>k.taskId===le?{...k,progress:m,status:m>=ie.total?"completing":"active"}:k):[...u.taskProgress,{taskId:le,progress:1,status:"active"}]}}))}}const ge=H.map(({note:ie,octave:g})=>{const _=(ie+t)%12,o=`${Cp[_]}${g}`;Xr.triggerAttack(o,GT());const u={id:`${_}-${g}-${Date.now()}`,note:_,octave:g,startTime:Date.now(),endTime:null};return l(d=>[...d,u]),{note:_,octave:g}});return P(ie=>new Set([...ie,`${U}-${M}`])),ge},[j,t,n,Q,b,c]),J=ee.useCallback((U,M)=>{const I=`${U}-${M}`;console.log(`[releaseNotes] Releasing ${I}, active keys: ${D.size}`),P(ge=>{const ie=new Set(ge);return ie.delete(`${U}-${M}`),ie});const H=(U-t+12)%12;return Nc[n].getNotes(H,M).map(({note:ge,octave:ie})=>{const g=(ge+t)%12,_=`${Cp[g]}${ie}`;return Xr.triggerRelease(_),l(o=>o.map(u=>u.note===g&&u.octave===ie&&!u.endTime?{...u,endTime:Date.now()}:u)),{note:g,octave:ie}})},[t,n]),X=ee.useCallback(()=>{console.log("stopProgression called, current ID:",w),N(null);const U=a.filter(M=>!M.endTime).map(({note:M,octave:I})=>({note:M,octave:I}));console.log("Releasing notes:",U),U.forEach(({note:M,octave:I})=>{J(M,I)}),f.forEach(M=>clearTimeout(M)),v([])},[f,a,J]),fe=ee.useCallback(U=>{h(U),E(`${hr}/${U}`)},[E]);ee.useEffect(()=>{const U=M=>{M.code==="Space"&&w&&!["INPUT","TEXTAREA"].includes(M.target.tagName)&&(M.preventDefault(),X())};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[w,X]),ee.useEffect(()=>{b.pendingNextTask&&D.size===0&&(console.log("All keys released, finalizing task transition to:",b.pendingNextTask),y(U=>({...U,pendingNextTask:null})))},[b.pendingNextTask,D.size]),ee.useEffect(()=>{b.pendingNextTask&&y(U=>!U.taskProgress.some(I=>I.taskId===b.pendingNextTask)&&b.pendingNextTask?(V(b.pendingNextTask),{...U,taskProgress:[...U.taskProgress,{taskId:b.pendingNextTask,progress:0,status:"active"}]}):U)},[b.pendingNextTask]);const de=Tp(b,c),_e=ee.useCallback(async U=>{var M;console.log("Key down event:",{code:U.code,key:U.key,activeTaskId:de,taskMapping:de?(M=kt[de])==null?void 0:M.keyboardMapping:void 0})},[de]);ee.useEffect(()=>(window.addEventListener("keydown",_e),()=>window.removeEventListener("keydown",_e)),[_e]),ee.useEffect(()=>{console.log("[taskPlayedNotes] Resetting for lesson:",c);const U=en.find(M=>M.id===c);U&&O(M=>{const I={...M};return U.taskIds.forEach(H=>{I[H]=new Set}),I})},[c]),ee.useEffect(()=>{var U;if(console.log("[activeKeys effect] Size changed:",{size:D.size,completingTask:(U=b.taskProgress.find(M=>M.status==="completing"))==null?void 0:U.taskId}),D.size===0){const M=b.taskProgress.find(I=>I.status==="completing");M&&(console.log("[activeKeys effect] Completing task:",M.taskId),y(I=>{const H=Xf(M.taskId);return{...I,taskProgress:I.taskProgress.map(le=>le.taskId===M.taskId?{...le,status:"completed"}:le),pendingNextTask:H}}))}},[D.size]);const me=ee.useCallback(U=>{y(M=>{const I=Xf(U);return{...M,taskProgress:M.taskProgress.map(H=>H.taskId===U?{...H,status:"completed",progress:kt[U].total}:H),pendingNextTask:I}})},[]);return ne.jsxs(ne.Fragment,{children:[ne.jsx(iE,{currentLessonId:c,onLessonChange:fe,taskProgress:b.taskProgress,activeTaskId:de,onSkipTask:me}),j?ne.jsx(tw,{tonic:t,setTonic:e,colorMode:de&&((ue=kt[de])==null?void 0:ue.colorMode)||s,onColorModeChange:i,currentVoicing:n,onVoicingChange:r,playNotes:G,releaseNotes:J,fallingNotes:a,currentlyPlayingId:w,onStopPlaying:X,taskKeyboardMapping:de?(Y=kt[de])==null?void 0:Y.keyboardMapping:void 0,activeTaskId:de,taskPlayedNotes:T,taskProgress:b.taskProgress}):ne.jsx("div",{className:"fixed top-0 left-[600px] right-0 bottom-0 bg-black flex items-center justify-center text-white",children:"Loading piano sounds..."})]})};function uE(){return ne.jsx(P_,{children:ne.jsxs(T_,{children:[ne.jsx(Oa,{path:`${hr}/:lessonId`,element:ne.jsx(lE,{})}),ne.jsx(Oa,{path:hr,element:ne.jsx(Uf,{to:`${hr}/1`,replace:!0})}),ne.jsx(Oa,{path:"*",element:ne.jsx(Uf,{to:`${hr}/1`,replace:!0})})]})})}Vg(document.getElementById("root")).render(ne.jsx(ee.StrictMode,{children:ne.jsx(uE,{})}))});export default cE();
