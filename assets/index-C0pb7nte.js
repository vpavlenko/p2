var hv=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var PE=hv((l2,Zi)=>{function dv(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(t,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mp={exports:{}},kl={},Dp={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mi=Symbol.for("react.element"),pv=Symbol.for("react.portal"),mv=Symbol.for("react.fragment"),gv=Symbol.for("react.strict_mode"),yv=Symbol.for("react.profiler"),vv=Symbol.for("react.provider"),_v=Symbol.for("react.context"),wv=Symbol.for("react.forward_ref"),Sv=Symbol.for("react.suspense"),kv=Symbol.for("react.memo"),xv=Symbol.for("react.lazy"),Md=Symbol.iterator;function Cv(t){return t===null||typeof t!="object"?null:(t=Md&&t[Md]||t["@@iterator"],typeof t=="function"?t:null)}var Rp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jp=Object.assign,Lp={};function Ts(t,e,n){this.props=t,this.context=e,this.refs=Lp,this.updater=n||Rp}Ts.prototype.isReactComponent={};Ts.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ts.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Fp(){}Fp.prototype=Ts.prototype;function qc(t,e,n){this.props=t,this.context=e,this.refs=Lp,this.updater=n||Rp}var Hc=qc.prototype=new Fp;Hc.constructor=qc;jp(Hc,Ts.prototype);Hc.isPureReactComponent=!0;var Dd=Array.isArray,Kp=Object.prototype.hasOwnProperty,Gc={current:null},Vp={key:!0,ref:!0,__self:!0,__source:!0};function Bp(t,e,n){var r,o={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Kp.call(e,r)&&!Vp.hasOwnProperty(r)&&(o[r]=e[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];o.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:Mi,type:t,key:s,ref:a,props:o,_owner:Gc.current}}function Tv(t,e){return{$$typeof:Mi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mi}function Ev(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Rd=/\/+/g;function ou(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ev(""+t.key):e.toString(36)}function Sa(t,e,n,r,o){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Mi:case pv:a=!0}}if(a)return a=t,o=o(a),t=r===""?"."+ou(a,0):r,Dd(o)?(n="",t!=null&&(n=t.replace(Rd,"$&/")+"/"),Sa(o,e,n,"",function(h){return h})):o!=null&&(Yc(o)&&(o=Tv(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(Rd,"$&/")+"/")+t)),e.push(o)),1;if(a=0,r=r===""?".":r+":",Dd(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+ou(s,l);a+=Sa(s,e,n,u,o)}else if(u=Cv(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+ou(s,l++),a+=Sa(s,e,n,u,o);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ji(t,e,n){if(t==null)return t;var r=[],o=0;return Sa(t,r,"","",function(s){return e.call(n,s,o++)}),r}function bv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jt={current:null},ka={transition:null},Nv={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:ka,ReactCurrentOwner:Gc};function zp(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:Ji,forEach:function(t,e,n){Ji(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ji(t,function(){e++}),e},toArray:function(t){return Ji(t,function(e){return e})||[]},only:function(t){if(!Yc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ve.Component=Ts;Ve.Fragment=mv;Ve.Profiler=yv;Ve.PureComponent=qc;Ve.StrictMode=gv;Ve.Suspense=Sv;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nv;Ve.act=zp;Ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=jp({},t.props),o=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Gc.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Kp.call(e,u)&&!Vp.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Mi,type:t.type,key:o,ref:s,props:r,_owner:a}};Ve.createContext=function(t){return t={$$typeof:_v,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vv,_context:t},t.Consumer=t};Ve.createElement=Bp;Ve.createFactory=function(t){var e=Bp.bind(null,t);return e.type=t,e};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(t){return{$$typeof:wv,render:t}};Ve.isValidElement=Yc;Ve.lazy=function(t){return{$$typeof:xv,_payload:{_status:-1,_result:t},_init:bv}};Ve.memo=function(t,e){return{$$typeof:kv,type:t,compare:e===void 0?null:e}};Ve.startTransition=function(t){var e=ka.transition;ka.transition={};try{t()}finally{ka.transition=e}};Ve.unstable_act=zp;Ve.useCallback=function(t,e){return Jt.current.useCallback(t,e)};Ve.useContext=function(t){return Jt.current.useContext(t)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(t){return Jt.current.useDeferredValue(t)};Ve.useEffect=function(t,e){return Jt.current.useEffect(t,e)};Ve.useId=function(){return Jt.current.useId()};Ve.useImperativeHandle=function(t,e,n){return Jt.current.useImperativeHandle(t,e,n)};Ve.useInsertionEffect=function(t,e){return Jt.current.useInsertionEffect(t,e)};Ve.useLayoutEffect=function(t,e){return Jt.current.useLayoutEffect(t,e)};Ve.useMemo=function(t,e){return Jt.current.useMemo(t,e)};Ve.useReducer=function(t,e,n){return Jt.current.useReducer(t,e,n)};Ve.useRef=function(t){return Jt.current.useRef(t)};Ve.useState=function(t){return Jt.current.useState(t)};Ve.useSyncExternalStore=function(t,e,n){return Jt.current.useSyncExternalStore(t,e,n)};Ve.useTransition=function(){return Jt.current.useTransition()};Ve.version="18.3.1";Dp.exports=Ve;var J=Dp.exports;const fo=Pp(J),Ov=dv({__proto__:null,default:fo},[J]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av=J,Iv=Symbol.for("react.element"),Pv=Symbol.for("react.fragment"),Mv=Object.prototype.hasOwnProperty,Dv=Av.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rv={key:!0,ref:!0,__self:!0,__source:!0};function Up(t,e,n){var r,o={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Mv.call(e,r)&&!Rv.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:Iv,type:t,key:s,ref:a,props:o,_owner:Dv.current}}kl.Fragment=Pv;kl.jsx=Up;kl.jsxs=Up;Mp.exports=kl;var Y=Mp.exports,Wp={exports:{}},wn={},$p={exports:{}},qp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,X){var K=Q.length;Q.push(X);e:for(;0<K;){var P=K-1>>>1,W=Q[P];if(0<o(W,X))Q[P]=X,Q[K]=W,K=P;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var X=Q[0],K=Q.pop();if(K!==X){Q[0]=K;e:for(var P=0,W=Q.length,G=W>>>1;P<G;){var ae=2*(P+1)-1,oe=Q[ae],y=ae+1,v=Q[y];if(0>o(oe,K))y<W&&0>o(v,oe)?(Q[P]=v,Q[y]=K,P=y):(Q[P]=oe,Q[ae]=K,P=ae);else if(y<W&&0>o(v,K))Q[P]=v,Q[y]=K,P=y;else break e}}return X}function o(Q,X){var K=Q.sortIndex-X.sortIndex;return K!==0?K:Q.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],h=[],d=1,g=null,_=3,E=!1,b=!1,N=!1,O=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(Q){for(var X=n(h);X!==null;){if(X.callback===null)r(h);else if(X.startTime<=Q)r(h),X.sortIndex=X.expirationTime,e(u,X);else break;X=n(h)}}function R(Q){if(N=!1,A(Q),!b)if(n(u)!==null)b=!0,ce(I);else{var X=n(h);X!==null&&he(R,X.startTime-Q)}}function I(Q,X){b=!1,N&&(N=!1,w(V),V=-1),E=!0;var K=_;try{for(A(X),g=n(u);g!==null&&(!(g.expirationTime>X)||Q&&!re());){var P=g.callback;if(typeof P=="function"){g.callback=null,_=g.priorityLevel;var W=P(g.expirationTime<=X);X=t.unstable_now(),typeof W=="function"?g.callback=W:g===n(u)&&r(u),A(X)}else r(u);g=n(u)}if(g!==null)var G=!0;else{var ae=n(h);ae!==null&&he(R,ae.startTime-X),G=!1}return G}finally{g=null,_=K,E=!1}}var L=!1,z=null,V=-1,te=5,H=-1;function re(){return!(t.unstable_now()-H<te)}function ee(){if(z!==null){var Q=t.unstable_now();H=Q;var X=!0;try{X=z(!0,Q)}finally{X?pe():(L=!1,z=null)}}else L=!1}var pe;if(typeof T=="function")pe=function(){T(ee)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,Se=me.port2;me.port1.onmessage=ee,pe=function(){Se.postMessage(null)}}else pe=function(){O(ee,0)};function ce(Q){z=Q,L||(L=!0,pe())}function he(Q,X){V=O(function(){Q(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){b||E||(b=!0,ce(I))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(Q){switch(_){case 1:case 2:case 3:var X=3;break;default:X=_}var K=_;_=X;try{return Q()}finally{_=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,X){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var K=_;_=Q;try{return X()}finally{_=K}},t.unstable_scheduleCallback=function(Q,X,K){var P=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?P+K:P):K=P,Q){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=K+W,Q={id:d++,callback:X,priorityLevel:Q,startTime:K,expirationTime:W,sortIndex:-1},K>P?(Q.sortIndex=K,e(h,Q),n(u)===null&&Q===n(h)&&(N?(w(V),V=-1):N=!0,he(R,K-P))):(Q.sortIndex=W,e(u,Q),b||E||(b=!0,ce(I))),Q},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(Q){var X=_;return function(){var K=_;_=X;try{return Q.apply(this,arguments)}finally{_=K}}}})(qp);$p.exports=qp;var jv=$p.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv=J,vn=jv;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hp=new Set,hi={};function Oo(t,e){cs(t,e),cs(t+"Capture",e)}function cs(t,e){for(hi[t]=e,t=0;t<e.length;t++)Hp.add(e[t])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lu=Object.prototype.hasOwnProperty,Fv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jd={},Ld={};function Kv(t){return Lu.call(Ld,t)?!0:Lu.call(jd,t)?!1:Fv.test(t)?Ld[t]=!0:(jd[t]=!0,!1)}function Vv(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Bv(t,e,n,r){if(e===null||typeof e>"u"||Vv(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function en(t,e,n,r,o,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lt[t]=new en(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lt[e]=new en(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lt[t]=new en(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lt[t]=new en(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lt[t]=new en(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lt[t]=new en(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lt[t]=new en(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lt[t]=new en(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lt[t]=new en(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qc=/[\-:]([a-z])/g;function Xc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qc,Xc);Lt[e]=new en(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qc,Xc);Lt[e]=new en(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qc,Xc);Lt[e]=new en(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lt[t]=new en(t,1,!1,t.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new en("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lt[t]=new en(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zc(t,e,n,r){var o=Lt.hasOwnProperty(e)?Lt[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Bv(e,n,o,r)&&(n=null),r||o===null?Kv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Sr=Lv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ea=Symbol.for("react.element"),Bo=Symbol.for("react.portal"),zo=Symbol.for("react.fragment"),Jc=Symbol.for("react.strict_mode"),Fu=Symbol.for("react.profiler"),Gp=Symbol.for("react.provider"),Yp=Symbol.for("react.context"),eh=Symbol.for("react.forward_ref"),Ku=Symbol.for("react.suspense"),Vu=Symbol.for("react.suspense_list"),th=Symbol.for("react.memo"),Pr=Symbol.for("react.lazy"),Qp=Symbol.for("react.offscreen"),Fd=Symbol.iterator;function Ks(t){return t===null||typeof t!="object"?null:(t=Fd&&t[Fd]||t["@@iterator"],typeof t=="function"?t:null)}var ct=Object.assign,su;function Qs(t){if(su===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);su=e&&e[1]||""}return`
`+su+t}var iu=!1;function au(t,e){if(!t||iu)return"";iu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var o=h.stack.split(`
`),s=r.stack.split(`
`),a=o.length-1,l=s.length-1;1<=a&&0<=l&&o[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(o[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||o[a]!==s[l]){var u=`
`+o[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=l);break}}}finally{iu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qs(t):""}function zv(t){switch(t.tag){case 5:return Qs(t.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 2:case 15:return t=au(t.type,!1),t;case 11:return t=au(t.type.render,!1),t;case 1:return t=au(t.type,!0),t;default:return""}}function Bu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zo:return"Fragment";case Bo:return"Portal";case Fu:return"Profiler";case Jc:return"StrictMode";case Ku:return"Suspense";case Vu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yp:return(t.displayName||"Context")+".Consumer";case Gp:return(t._context.displayName||"Context")+".Provider";case eh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case th:return e=t.displayName||null,e!==null?e:Bu(t.type)||"Memo";case Pr:e=t._payload,t=t._init;try{return Bu(t(e))}catch{}}return null}function Uv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bu(e);case 8:return e===Jc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Wv(t){var e=Xp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ta(t){t._valueTracker||(t._valueTracker=Wv(t))}function Zp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Xp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Fa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zu(t,e){var n=e.checked;return ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Kd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Jp(t,e){e=e.checked,e!=null&&Zc(t,"checked",e,!1)}function Uu(t,e){Jp(t,e);var n=Qr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Wu(t,e.type,Qr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Wu(t,e,n){(e!=="number"||Fa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xs=Array.isArray;function ns(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qr(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function $u(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(fe(92));if(Xs(n)){if(1<n.length)throw Error(fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qr(n)}}function em(t,e){var n=Qr(e.value),r=Qr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var na,nm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(na=na||document.createElement("div"),na.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=na.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function di(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ti={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$v=["Webkit","ms","Moz","O"];Object.keys(ti).forEach(function(t){$v.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ti[e]=ti[t]})});function rm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ti.hasOwnProperty(t)&&ti[t]?(""+e).trim():e+"px"}function om(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=rm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var qv=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hu(t,e){if(e){if(qv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function Gu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yu=null;function nh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qu=null,rs=null,os=null;function Ud(t){if(t=ji(t)){if(typeof Qu!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=bl(e),Qu(t.stateNode,t.type,e))}}function sm(t){rs?os?os.push(t):os=[t]:rs=t}function im(){if(rs){var t=rs,e=os;if(os=rs=null,Ud(t),e)for(t=0;t<e.length;t++)Ud(e[t])}}function am(t,e){return t(e)}function lm(){}var lu=!1;function um(t,e,n){if(lu)return t(e,n);lu=!0;try{return am(t,e,n)}finally{lu=!1,(rs!==null||os!==null)&&(lm(),im())}}function fi(t,e){var n=t.stateNode;if(n===null)return null;var r=bl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(fe(231,e,typeof n));return n}var Xu=!1;if(gr)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){Xu=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{Xu=!1}function Hv(t,e,n,r,o,s,a,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(d){this.onError(d)}}var ni=!1,Ka=null,Va=!1,Zu=null,Gv={onError:function(t){ni=!0,Ka=t}};function Yv(t,e,n,r,o,s,a,l,u){ni=!1,Ka=null,Hv.apply(Gv,arguments)}function Qv(t,e,n,r,o,s,a,l,u){if(Yv.apply(this,arguments),ni){if(ni){var h=Ka;ni=!1,Ka=null}else throw Error(fe(198));Va||(Va=!0,Zu=h)}}function Ao(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wd(t){if(Ao(t)!==t)throw Error(fe(188))}function Xv(t){var e=t.alternate;if(!e){if(e=Ao(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Wd(o),t;if(s===r)return Wd(o),e;s=s.sibling}throw Error(fe(188))}if(n.return!==r.return)n=o,r=s;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a)throw Error(fe(189))}}if(n.alternate!==r)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?t:e}function hm(t){return t=Xv(t),t!==null?dm(t):null}function dm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dm(t);if(e!==null)return e;t=t.sibling}return null}var fm=vn.unstable_scheduleCallback,$d=vn.unstable_cancelCallback,Zv=vn.unstable_shouldYield,Jv=vn.unstable_requestPaint,gt=vn.unstable_now,e0=vn.unstable_getCurrentPriorityLevel,rh=vn.unstable_ImmediatePriority,pm=vn.unstable_UserBlockingPriority,Ba=vn.unstable_NormalPriority,t0=vn.unstable_LowPriority,mm=vn.unstable_IdlePriority,xl=null,er=null;function n0(t){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(xl,t,void 0,(t.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:s0,r0=Math.log,o0=Math.LN2;function s0(t){return t>>>=0,t===0?32:31-(r0(t)/o0|0)|0}var ra=64,oa=4194304;function Zs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function za(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~o;l!==0?r=Zs(l):(s&=a,s!==0&&(r=Zs(s)))}else a=n&~o,a!==0?r=Zs(a):s!==0&&(r=Zs(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,s=e&-e,o>=s||o===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zn(e),o=1<<n,r|=t[n],e&=~o;return r}function i0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-zn(s),l=1<<a,u=o[a];u===-1?(!(l&n)||l&r)&&(o[a]=i0(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Ju(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gm(){var t=ra;return ra<<=1,!(ra&4194240)&&(ra=64),t}function uu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Di(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zn(e),t[e]=n}function l0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-zn(n),s=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~s}}function oh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zn(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var Ge=0;function ym(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vm,sh,_m,wm,Sm,ec=!1,sa=[],Vr=null,Br=null,zr=null,pi=new Map,mi=new Map,Rr=[],u0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qd(t,e){switch(t){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":pi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mi.delete(e.pointerId)}}function Bs(t,e,n,r,o,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},e!==null&&(e=ji(e),e!==null&&sh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function c0(t,e,n,r,o){switch(e){case"focusin":return Vr=Bs(Vr,t,e,n,r,o),!0;case"dragenter":return Br=Bs(Br,t,e,n,r,o),!0;case"mouseover":return zr=Bs(zr,t,e,n,r,o),!0;case"pointerover":var s=o.pointerId;return pi.set(s,Bs(pi.get(s)||null,t,e,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,mi.set(s,Bs(mi.get(s)||null,t,e,n,r,o)),!0}return!1}function km(t){var e=po(t.target);if(e!==null){var n=Ao(e);if(n!==null){if(e=n.tag,e===13){if(e=cm(n),e!==null){t.blockedOn=e,Sm(t.priority,function(){_m(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=tc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Yu=r,n.target.dispatchEvent(r),Yu=null}else return e=ji(n),e!==null&&sh(e),t.blockedOn=n,!1;e.shift()}return!0}function Hd(t,e,n){xa(t)&&n.delete(e)}function h0(){ec=!1,Vr!==null&&xa(Vr)&&(Vr=null),Br!==null&&xa(Br)&&(Br=null),zr!==null&&xa(zr)&&(zr=null),pi.forEach(Hd),mi.forEach(Hd)}function zs(t,e){t.blockedOn===e&&(t.blockedOn=null,ec||(ec=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,h0)))}function gi(t){function e(o){return zs(o,t)}if(0<sa.length){zs(sa[0],t);for(var n=1;n<sa.length;n++){var r=sa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vr!==null&&zs(Vr,t),Br!==null&&zs(Br,t),zr!==null&&zs(zr,t),pi.forEach(e),mi.forEach(e),n=0;n<Rr.length;n++)r=Rr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Rr.length&&(n=Rr[0],n.blockedOn===null);)km(n),n.blockedOn===null&&Rr.shift()}var ss=Sr.ReactCurrentBatchConfig,Ua=!0;function d0(t,e,n,r){var o=Ge,s=ss.transition;ss.transition=null;try{Ge=1,ih(t,e,n,r)}finally{Ge=o,ss.transition=s}}function f0(t,e,n,r){var o=Ge,s=ss.transition;ss.transition=null;try{Ge=4,ih(t,e,n,r)}finally{Ge=o,ss.transition=s}}function ih(t,e,n,r){if(Ua){var o=tc(t,e,n,r);if(o===null)_u(t,e,r,Wa,n),qd(t,r);else if(c0(o,t,e,n,r))r.stopPropagation();else if(qd(t,r),e&4&&-1<u0.indexOf(t)){for(;o!==null;){var s=ji(o);if(s!==null&&vm(s),s=tc(t,e,n,r),s===null&&_u(t,e,r,Wa,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else _u(t,e,r,null,n)}}var Wa=null;function tc(t,e,n,r){if(Wa=null,t=nh(r),t=po(t),t!==null)if(e=Ao(t),e===null)t=null;else if(n=e.tag,n===13){if(t=cm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wa=t,null}function xm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e0()){case rh:return 1;case pm:return 4;case Ba:case t0:return 16;case mm:return 536870912;default:return 16}default:return 16}}var Lr=null,ah=null,Ca=null;function Cm(){if(Ca)return Ca;var t,e=ah,n=e.length,r,o="value"in Lr?Lr.value:Lr.textContent,s=o.length;for(t=0;t<n&&e[t]===o[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===o[s-r];r++);return Ca=o.slice(t,1<r?1-r:void 0)}function Ta(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ia(){return!0}function Gd(){return!1}function Sn(t){function e(n,r,o,s,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ia:Gd,this.isPropagationStopped=Gd,this}return ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ia)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ia)},persist:function(){},isPersistent:ia}),e}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lh=Sn(Es),Ri=ct({},Es,{view:0,detail:0}),p0=Sn(Ri),cu,hu,Us,Cl=ct({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Us&&(Us&&t.type==="mousemove"?(cu=t.screenX-Us.screenX,hu=t.screenY-Us.screenY):hu=cu=0,Us=t),cu)},movementY:function(t){return"movementY"in t?t.movementY:hu}}),Yd=Sn(Cl),m0=ct({},Cl,{dataTransfer:0}),g0=Sn(m0),y0=ct({},Ri,{relatedTarget:0}),du=Sn(y0),v0=ct({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),_0=Sn(v0),w0=ct({},Es,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),S0=Sn(w0),k0=ct({},Es,{data:0}),Qd=Sn(k0),x0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=T0[t])?!!e[t]:!1}function uh(){return E0}var b0=ct({},Ri,{key:function(t){if(t.key){var e=x0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ta(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?C0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uh,charCode:function(t){return t.type==="keypress"?Ta(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ta(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),N0=Sn(b0),O0=ct({},Cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xd=Sn(O0),A0=ct({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uh}),I0=Sn(A0),P0=ct({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),M0=Sn(P0),D0=ct({},Cl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),R0=Sn(D0),j0=[9,13,27,32],ch=gr&&"CompositionEvent"in window,ri=null;gr&&"documentMode"in document&&(ri=document.documentMode);var L0=gr&&"TextEvent"in window&&!ri,Tm=gr&&(!ch||ri&&8<ri&&11>=ri),Zd=" ",Jd=!1;function Em(t,e){switch(t){case"keyup":return j0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Uo=!1;function F0(t,e){switch(t){case"compositionend":return bm(e);case"keypress":return e.which!==32?null:(Jd=!0,Zd);case"textInput":return t=e.data,t===Zd&&Jd?null:t;default:return null}}function K0(t,e){if(Uo)return t==="compositionend"||!ch&&Em(t,e)?(t=Cm(),Ca=ah=Lr=null,Uo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tm&&e.locale!=="ko"?null:e.data;default:return null}}var V0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ef(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!V0[t.type]:e==="textarea"}function Nm(t,e,n,r){sm(r),e=$a(e,"onChange"),0<e.length&&(n=new lh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var oi=null,yi=null;function B0(t){Km(t,0)}function Tl(t){var e=qo(t);if(Zp(e))return t}function z0(t,e){if(t==="change")return e}var Om=!1;if(gr){var fu;if(gr){var pu="oninput"in document;if(!pu){var tf=document.createElement("div");tf.setAttribute("oninput","return;"),pu=typeof tf.oninput=="function"}fu=pu}else fu=!1;Om=fu&&(!document.documentMode||9<document.documentMode)}function nf(){oi&&(oi.detachEvent("onpropertychange",Am),yi=oi=null)}function Am(t){if(t.propertyName==="value"&&Tl(yi)){var e=[];Nm(e,yi,t,nh(t)),um(B0,e)}}function U0(t,e,n){t==="focusin"?(nf(),oi=e,yi=n,oi.attachEvent("onpropertychange",Am)):t==="focusout"&&nf()}function W0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tl(yi)}function $0(t,e){if(t==="click")return Tl(e)}function q0(t,e){if(t==="input"||t==="change")return Tl(e)}function H0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $n=typeof Object.is=="function"?Object.is:H0;function vi(t,e){if($n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Lu.call(e,o)||!$n(t[o],e[o]))return!1}return!0}function rf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function of(t,e){var n=rf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rf(n)}}function Im(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Im(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Pm(){for(var t=window,e=Fa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fa(t.document)}return e}function hh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function G0(t){var e=Pm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Im(n.ownerDocument.documentElement,n)){if(r!==null&&hh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!t.extend&&s>r&&(o=r,r=s,s=o),o=of(n,s);var a=of(n,r);o&&a&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Y0=gr&&"documentMode"in document&&11>=document.documentMode,Wo=null,nc=null,si=null,rc=!1;function sf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rc||Wo==null||Wo!==Fa(r)||(r=Wo,"selectionStart"in r&&hh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),si&&vi(si,r)||(si=r,r=$a(nc,"onSelect"),0<r.length&&(e=new lh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wo)))}function aa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $o={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionend:aa("Transition","TransitionEnd")},mu={},Mm={};gr&&(Mm=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function El(t){if(mu[t])return mu[t];if(!$o[t])return t;var e=$o[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Mm)return mu[t]=e[n];return t}var Dm=El("animationend"),Rm=El("animationiteration"),jm=El("animationstart"),Lm=El("transitionend"),Fm=new Map,af="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(t,e){Fm.set(t,e),Oo(e,[t])}for(var gu=0;gu<af.length;gu++){var yu=af[gu],Q0=yu.toLowerCase(),X0=yu[0].toUpperCase()+yu.slice(1);to(Q0,"on"+X0)}to(Dm,"onAnimationEnd");to(Rm,"onAnimationIteration");to(jm,"onAnimationStart");to("dblclick","onDoubleClick");to("focusin","onFocus");to("focusout","onBlur");to(Lm,"onTransitionEnd");cs("onMouseEnter",["mouseout","mouseover"]);cs("onMouseLeave",["mouseout","mouseover"]);cs("onPointerEnter",["pointerout","pointerover"]);cs("onPointerLeave",["pointerout","pointerover"]);Oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Js));function lf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Qv(r,e,void 0,t),t.currentTarget=null}function Km(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&o.isPropagationStopped())break e;lf(o,l,h),s=u}else for(a=0;a<r.length;a++){if(l=r[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&o.isPropagationStopped())break e;lf(o,l,h),s=u}}}if(Va)throw t=Zu,Va=!1,Zu=null,t}function tt(t,e){var n=e[lc];n===void 0&&(n=e[lc]=new Set);var r=t+"__bubble";n.has(r)||(Vm(e,t,2,!1),n.add(r))}function vu(t,e,n){var r=0;e&&(r|=4),Vm(n,t,r,e)}var la="_reactListening"+Math.random().toString(36).slice(2);function _i(t){if(!t[la]){t[la]=!0,Hp.forEach(function(n){n!=="selectionchange"&&(Z0.has(n)||vu(n,!1,t),vu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[la]||(e[la]=!0,vu("selectionchange",!1,e))}}function Vm(t,e,n,r){switch(xm(e)){case 1:var o=d0;break;case 4:o=f0;break;default:o=ih}n=o.bind(null,e,n,t),o=void 0,!Xu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function _u(t,e,n,r,o){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;a=a.return}for(;l!==null;){if(a=po(l),a===null)return;if(u=a.tag,u===5||u===6){r=s=a;continue e}l=l.parentNode}}r=r.return}um(function(){var h=s,d=nh(n),g=[];e:{var _=Fm.get(t);if(_!==void 0){var E=lh,b=t;switch(t){case"keypress":if(Ta(n)===0)break e;case"keydown":case"keyup":E=N0;break;case"focusin":b="focus",E=du;break;case"focusout":b="blur",E=du;break;case"beforeblur":case"afterblur":E=du;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=g0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=I0;break;case Dm:case Rm:case jm:E=_0;break;case Lm:E=M0;break;case"scroll":E=p0;break;case"wheel":E=R0;break;case"copy":case"cut":case"paste":E=S0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Xd}var N=(e&4)!==0,O=!N&&t==="scroll",w=N?_!==null?_+"Capture":null:_;N=[];for(var T=h,A;T!==null;){A=T;var R=A.stateNode;if(A.tag===5&&R!==null&&(A=R,w!==null&&(R=fi(T,w),R!=null&&N.push(wi(T,R,A)))),O)break;T=T.return}0<N.length&&(_=new E(_,b,null,n,d),g.push({event:_,listeners:N}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",_&&n!==Yu&&(b=n.relatedTarget||n.fromElement)&&(po(b)||b[yr]))break e;if((E||_)&&(_=d.window===d?d:(_=d.ownerDocument)?_.defaultView||_.parentWindow:window,E?(b=n.relatedTarget||n.toElement,E=h,b=b?po(b):null,b!==null&&(O=Ao(b),b!==O||b.tag!==5&&b.tag!==6)&&(b=null)):(E=null,b=h),E!==b)){if(N=Yd,R="onMouseLeave",w="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(N=Xd,R="onPointerLeave",w="onPointerEnter",T="pointer"),O=E==null?_:qo(E),A=b==null?_:qo(b),_=new N(R,T+"leave",E,n,d),_.target=O,_.relatedTarget=A,R=null,po(d)===h&&(N=new N(w,T+"enter",b,n,d),N.target=A,N.relatedTarget=O,R=N),O=R,E&&b)t:{for(N=E,w=b,T=0,A=N;A;A=Lo(A))T++;for(A=0,R=w;R;R=Lo(R))A++;for(;0<T-A;)N=Lo(N),T--;for(;0<A-T;)w=Lo(w),A--;for(;T--;){if(N===w||w!==null&&N===w.alternate)break t;N=Lo(N),w=Lo(w)}N=null}else N=null;E!==null&&uf(g,_,E,N,!1),b!==null&&O!==null&&uf(g,O,b,N,!0)}}e:{if(_=h?qo(h):window,E=_.nodeName&&_.nodeName.toLowerCase(),E==="select"||E==="input"&&_.type==="file")var I=z0;else if(ef(_))if(Om)I=q0;else{I=W0;var L=U0}else(E=_.nodeName)&&E.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(I=$0);if(I&&(I=I(t,h))){Nm(g,I,n,d);break e}L&&L(t,_,h),t==="focusout"&&(L=_._wrapperState)&&L.controlled&&_.type==="number"&&Wu(_,"number",_.value)}switch(L=h?qo(h):window,t){case"focusin":(ef(L)||L.contentEditable==="true")&&(Wo=L,nc=h,si=null);break;case"focusout":si=nc=Wo=null;break;case"mousedown":rc=!0;break;case"contextmenu":case"mouseup":case"dragend":rc=!1,sf(g,n,d);break;case"selectionchange":if(Y0)break;case"keydown":case"keyup":sf(g,n,d)}var z;if(ch)e:{switch(t){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else Uo?Em(t,n)&&(V="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(Tm&&n.locale!=="ko"&&(Uo||V!=="onCompositionStart"?V==="onCompositionEnd"&&Uo&&(z=Cm()):(Lr=d,ah="value"in Lr?Lr.value:Lr.textContent,Uo=!0)),L=$a(h,V),0<L.length&&(V=new Qd(V,t,null,n,d),g.push({event:V,listeners:L}),z?V.data=z:(z=bm(n),z!==null&&(V.data=z)))),(z=L0?F0(t,n):K0(t,n))&&(h=$a(h,"onBeforeInput"),0<h.length&&(d=new Qd("onBeforeInput","beforeinput",null,n,d),g.push({event:d,listeners:h}),d.data=z))}Km(g,e)})}function wi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $a(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=fi(t,n),s!=null&&r.unshift(wi(t,s,o)),s=fi(t,e),s!=null&&r.push(wi(t,s,o))),t=t.return}return r}function Lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uf(t,e,n,r,o){for(var s=e._reactName,a=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,o?(u=fi(n,s),u!=null&&a.unshift(wi(n,u,l))):o||(u=fi(n,s),u!=null&&a.push(wi(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var J0=/\r\n?/g,e1=/\u0000|\uFFFD/g;function cf(t){return(typeof t=="string"?t:""+t).replace(J0,`
`).replace(e1,"")}function ua(t,e,n){if(e=cf(e),cf(t)!==e&&n)throw Error(fe(425))}function qa(){}var oc=null,sc=null;function ic(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ac=typeof setTimeout=="function"?setTimeout:void 0,t1=typeof clearTimeout=="function"?clearTimeout:void 0,hf=typeof Promise=="function"?Promise:void 0,n1=typeof queueMicrotask=="function"?queueMicrotask:typeof hf<"u"?function(t){return hf.resolve(null).then(t).catch(r1)}:ac;function r1(t){setTimeout(function(){throw t})}function wu(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),gi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);gi(e)}function Ur(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function df(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bs=Math.random().toString(36).slice(2),Jn="__reactFiber$"+bs,Si="__reactProps$"+bs,yr="__reactContainer$"+bs,lc="__reactEvents$"+bs,o1="__reactListeners$"+bs,s1="__reactHandles$"+bs;function po(t){var e=t[Jn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yr]||n[Jn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=df(t);t!==null;){if(n=t[Jn])return n;t=df(t)}return e}t=n,n=t.parentNode}return null}function ji(t){return t=t[Jn]||t[yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function bl(t){return t[Si]||null}var uc=[],Ho=-1;function no(t){return{current:t}}function rt(t){0>Ho||(t.current=uc[Ho],uc[Ho]=null,Ho--)}function Je(t,e){Ho++,uc[Ho]=t.current,t.current=e}var Xr={},Wt=no(Xr),sn=no(!1),So=Xr;function hs(t,e){var n=t.type.contextTypes;if(!n)return Xr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function an(t){return t=t.childContextTypes,t!=null}function Ha(){rt(sn),rt(Wt)}function ff(t,e,n){if(Wt.current!==Xr)throw Error(fe(168));Je(Wt,e),Je(sn,n)}function Bm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(fe(108,Uv(t)||"Unknown",o));return ct({},n,r)}function Ga(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xr,So=Wt.current,Je(Wt,t),Je(sn,sn.current),!0}function pf(t,e,n){var r=t.stateNode;if(!r)throw Error(fe(169));n?(t=Bm(t,e,So),r.__reactInternalMemoizedMergedChildContext=t,rt(sn),rt(Wt),Je(Wt,t)):rt(sn),Je(sn,n)}var cr=null,Nl=!1,Su=!1;function zm(t){cr===null?cr=[t]:cr.push(t)}function i1(t){Nl=!0,zm(t)}function ro(){if(!Su&&cr!==null){Su=!0;var t=0,e=Ge;try{var n=cr;for(Ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}cr=null,Nl=!1}catch(o){throw cr!==null&&(cr=cr.slice(t+1)),fm(rh,ro),o}finally{Ge=e,Su=!1}}return null}var Go=[],Yo=0,Ya=null,Qa=0,Cn=[],Tn=0,ko=null,hr=1,dr="";function lo(t,e){Go[Yo++]=Qa,Go[Yo++]=Ya,Ya=t,Qa=e}function Um(t,e,n){Cn[Tn++]=hr,Cn[Tn++]=dr,Cn[Tn++]=ko,ko=t;var r=hr;t=dr;var o=32-zn(r)-1;r&=~(1<<o),n+=1;var s=32-zn(e)+o;if(30<s){var a=o-o%5;s=(r&(1<<a)-1).toString(32),r>>=a,o-=a,hr=1<<32-zn(e)+o|n<<o|r,dr=s+t}else hr=1<<s|n<<o|r,dr=t}function dh(t){t.return!==null&&(lo(t,1),Um(t,1,0))}function fh(t){for(;t===Ya;)Ya=Go[--Yo],Go[Yo]=null,Qa=Go[--Yo],Go[Yo]=null;for(;t===ko;)ko=Cn[--Tn],Cn[Tn]=null,dr=Cn[--Tn],Cn[Tn]=null,hr=Cn[--Tn],Cn[Tn]=null}var yn=null,gn=null,it=!1,Kn=null;function Wm(t,e){var n=En(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yn=t,gn=Ur(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yn=t,gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ko!==null?{id:hr,overflow:dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=En(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yn=t,gn=null,!0):!1;default:return!1}}function cc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hc(t){if(it){var e=gn;if(e){var n=e;if(!mf(t,e)){if(cc(t))throw Error(fe(418));e=Ur(n.nextSibling);var r=yn;e&&mf(t,e)?Wm(r,n):(t.flags=t.flags&-4097|2,it=!1,yn=t)}}else{if(cc(t))throw Error(fe(418));t.flags=t.flags&-4097|2,it=!1,yn=t}}}function gf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yn=t}function ca(t){if(t!==yn)return!1;if(!it)return gf(t),it=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ic(t.type,t.memoizedProps)),e&&(e=gn)){if(cc(t))throw $m(),Error(fe(418));for(;e;)Wm(t,e),e=Ur(e.nextSibling)}if(gf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gn=Ur(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gn=null}}else gn=yn?Ur(t.stateNode.nextSibling):null;return!0}function $m(){for(var t=gn;t;)t=Ur(t.nextSibling)}function ds(){gn=yn=null,it=!1}function ph(t){Kn===null?Kn=[t]:Kn.push(t)}var a1=Sr.ReactCurrentBatchConfig;function Ws(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var r=n.stateNode}if(!r)throw Error(fe(147,t));var o=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=o.refs;a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,t))}return t}function ha(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yf(t){var e=t._init;return e(t._payload)}function qm(t){function e(w,T){if(t){var A=w.deletions;A===null?(w.deletions=[T],w.flags|=16):A.push(T)}}function n(w,T){if(!t)return null;for(;T!==null;)e(w,T),T=T.sibling;return null}function r(w,T){for(w=new Map;T!==null;)T.key!==null?w.set(T.key,T):w.set(T.index,T),T=T.sibling;return w}function o(w,T){return w=Hr(w,T),w.index=0,w.sibling=null,w}function s(w,T,A){return w.index=A,t?(A=w.alternate,A!==null?(A=A.index,A<T?(w.flags|=2,T):A):(w.flags|=2,T)):(w.flags|=1048576,T)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,T,A,R){return T===null||T.tag!==6?(T=Nu(A,w.mode,R),T.return=w,T):(T=o(T,A),T.return=w,T)}function u(w,T,A,R){var I=A.type;return I===zo?d(w,T,A.props.children,R,A.key):T!==null&&(T.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Pr&&yf(I)===T.type)?(R=o(T,A.props),R.ref=Ws(w,T,A),R.return=w,R):(R=Pa(A.type,A.key,A.props,null,w.mode,R),R.ref=Ws(w,T,A),R.return=w,R)}function h(w,T,A,R){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=Ou(A,w.mode,R),T.return=w,T):(T=o(T,A.children||[]),T.return=w,T)}function d(w,T,A,R,I){return T===null||T.tag!==7?(T=_o(A,w.mode,R,I),T.return=w,T):(T=o(T,A),T.return=w,T)}function g(w,T,A){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Nu(""+T,w.mode,A),T.return=w,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ea:return A=Pa(T.type,T.key,T.props,null,w.mode,A),A.ref=Ws(w,null,T),A.return=w,A;case Bo:return T=Ou(T,w.mode,A),T.return=w,T;case Pr:var R=T._init;return g(w,R(T._payload),A)}if(Xs(T)||Ks(T))return T=_o(T,w.mode,A,null),T.return=w,T;ha(w,T)}return null}function _(w,T,A,R){var I=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return I!==null?null:l(w,T,""+A,R);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ea:return A.key===I?u(w,T,A,R):null;case Bo:return A.key===I?h(w,T,A,R):null;case Pr:return I=A._init,_(w,T,I(A._payload),R)}if(Xs(A)||Ks(A))return I!==null?null:d(w,T,A,R,null);ha(w,A)}return null}function E(w,T,A,R,I){if(typeof R=="string"&&R!==""||typeof R=="number")return w=w.get(A)||null,l(T,w,""+R,I);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case ea:return w=w.get(R.key===null?A:R.key)||null,u(T,w,R,I);case Bo:return w=w.get(R.key===null?A:R.key)||null,h(T,w,R,I);case Pr:var L=R._init;return E(w,T,A,L(R._payload),I)}if(Xs(R)||Ks(R))return w=w.get(A)||null,d(T,w,R,I,null);ha(T,R)}return null}function b(w,T,A,R){for(var I=null,L=null,z=T,V=T=0,te=null;z!==null&&V<A.length;V++){z.index>V?(te=z,z=null):te=z.sibling;var H=_(w,z,A[V],R);if(H===null){z===null&&(z=te);break}t&&z&&H.alternate===null&&e(w,z),T=s(H,T,V),L===null?I=H:L.sibling=H,L=H,z=te}if(V===A.length)return n(w,z),it&&lo(w,V),I;if(z===null){for(;V<A.length;V++)z=g(w,A[V],R),z!==null&&(T=s(z,T,V),L===null?I=z:L.sibling=z,L=z);return it&&lo(w,V),I}for(z=r(w,z);V<A.length;V++)te=E(z,w,V,A[V],R),te!==null&&(t&&te.alternate!==null&&z.delete(te.key===null?V:te.key),T=s(te,T,V),L===null?I=te:L.sibling=te,L=te);return t&&z.forEach(function(re){return e(w,re)}),it&&lo(w,V),I}function N(w,T,A,R){var I=Ks(A);if(typeof I!="function")throw Error(fe(150));if(A=I.call(A),A==null)throw Error(fe(151));for(var L=I=null,z=T,V=T=0,te=null,H=A.next();z!==null&&!H.done;V++,H=A.next()){z.index>V?(te=z,z=null):te=z.sibling;var re=_(w,z,H.value,R);if(re===null){z===null&&(z=te);break}t&&z&&re.alternate===null&&e(w,z),T=s(re,T,V),L===null?I=re:L.sibling=re,L=re,z=te}if(H.done)return n(w,z),it&&lo(w,V),I;if(z===null){for(;!H.done;V++,H=A.next())H=g(w,H.value,R),H!==null&&(T=s(H,T,V),L===null?I=H:L.sibling=H,L=H);return it&&lo(w,V),I}for(z=r(w,z);!H.done;V++,H=A.next())H=E(z,w,V,H.value,R),H!==null&&(t&&H.alternate!==null&&z.delete(H.key===null?V:H.key),T=s(H,T,V),L===null?I=H:L.sibling=H,L=H);return t&&z.forEach(function(ee){return e(w,ee)}),it&&lo(w,V),I}function O(w,T,A,R){if(typeof A=="object"&&A!==null&&A.type===zo&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case ea:e:{for(var I=A.key,L=T;L!==null;){if(L.key===I){if(I=A.type,I===zo){if(L.tag===7){n(w,L.sibling),T=o(L,A.props.children),T.return=w,w=T;break e}}else if(L.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Pr&&yf(I)===L.type){n(w,L.sibling),T=o(L,A.props),T.ref=Ws(w,L,A),T.return=w,w=T;break e}n(w,L);break}else e(w,L);L=L.sibling}A.type===zo?(T=_o(A.props.children,w.mode,R,A.key),T.return=w,w=T):(R=Pa(A.type,A.key,A.props,null,w.mode,R),R.ref=Ws(w,T,A),R.return=w,w=R)}return a(w);case Bo:e:{for(L=A.key;T!==null;){if(T.key===L)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){n(w,T.sibling),T=o(T,A.children||[]),T.return=w,w=T;break e}else{n(w,T);break}else e(w,T);T=T.sibling}T=Ou(A,w.mode,R),T.return=w,w=T}return a(w);case Pr:return L=A._init,O(w,T,L(A._payload),R)}if(Xs(A))return b(w,T,A,R);if(Ks(A))return N(w,T,A,R);ha(w,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,T!==null&&T.tag===6?(n(w,T.sibling),T=o(T,A),T.return=w,w=T):(n(w,T),T=Nu(A,w.mode,R),T.return=w,w=T),a(w)):n(w,T)}return O}var fs=qm(!0),Hm=qm(!1),Xa=no(null),Za=null,Qo=null,mh=null;function gh(){mh=Qo=Za=null}function yh(t){var e=Xa.current;rt(Xa),t._currentValue=e}function dc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function is(t,e){Za=t,mh=Qo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(on=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(mh!==t)if(t={context:t,memoizedValue:e,next:null},Qo===null){if(Za===null)throw Error(fe(308));Qo=t,Za.dependencies={lanes:0,firstContext:t}}else Qo=Qo.next=t;return e}var mo=null;function vh(t){mo===null?mo=[t]:mo.push(t)}function Gm(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,vh(e)):(n.next=o.next,o.next=n),e.interleaved=n,vr(t,r)}function vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mr=!1;function _h(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ym(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$e&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,vr(t,n)}return o=r.interleaved,o===null?(e.next=e,vh(r)):(e.next=o.next,o.next=e),r.interleaved=e,vr(t,n)}function Ea(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oh(t,n)}}function vf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?o=s=e:s=s.next=e}else o=s=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ja(t,e,n,r){var o=t.updateQueue;Mr=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?s=h:a.next=h,a=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(s!==null){var g=o.baseState;a=0,d=h=u=null,l=s;do{var _=l.lane,E=l.eventTime;if((r&_)===_){d!==null&&(d=d.next={eventTime:E,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,N=l;switch(_=e,E=n,N.tag){case 1:if(b=N.payload,typeof b=="function"){g=b.call(E,g,_);break e}g=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=N.payload,_=typeof b=="function"?b.call(E,g,_):b,_==null)break e;g=ct({},g,_);break e;case 2:Mr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,_=o.effects,_===null?o.effects=[l]:_.push(l))}else E={eventTime:E,lane:_,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=E,u=g):d=d.next=E,a|=_;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;_=l,l=_.next,_.next=null,o.lastBaseUpdate=_,o.shared.pending=null}}while(!0);if(d===null&&(u=g),o.baseState=u,o.firstBaseUpdate=h,o.lastBaseUpdate=d,e=o.shared.interleaved,e!==null){o=e;do a|=o.lane,o=o.next;while(o!==e)}else s===null&&(o.shared.lanes=0);Co|=a,t.lanes=a,t.memoizedState=g}}function _f(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(fe(191,o));o.call(r)}}}var Li={},tr=no(Li),ki=no(Li),xi=no(Li);function go(t){if(t===Li)throw Error(fe(174));return t}function wh(t,e){switch(Je(xi,e),Je(ki,t),Je(tr,Li),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qu(e,t)}rt(tr),Je(tr,e)}function ps(){rt(tr),rt(ki),rt(xi)}function Qm(t){go(xi.current);var e=go(tr.current),n=qu(e,t.type);e!==n&&(Je(ki,t),Je(tr,n))}function Sh(t){ki.current===t&&(rt(tr),rt(ki))}var lt=no(0);function el(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ku=[];function kh(){for(var t=0;t<ku.length;t++)ku[t]._workInProgressVersionPrimary=null;ku.length=0}var ba=Sr.ReactCurrentDispatcher,xu=Sr.ReactCurrentBatchConfig,xo=0,ut=null,Tt=null,Ot=null,tl=!1,ii=!1,Ci=0,l1=0;function Kt(){throw Error(fe(321))}function xh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$n(t[n],e[n]))return!1;return!0}function Ch(t,e,n,r,o,s){if(xo=s,ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ba.current=t===null||t.memoizedState===null?d1:f1,t=n(r,o),ii){s=0;do{if(ii=!1,Ci=0,25<=s)throw Error(fe(301));s+=1,Ot=Tt=null,e.updateQueue=null,ba.current=p1,t=n(r,o)}while(ii)}if(ba.current=nl,e=Tt!==null&&Tt.next!==null,xo=0,Ot=Tt=ut=null,tl=!1,e)throw Error(fe(300));return t}function Th(){var t=Ci!==0;return Ci=0,t}function Zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ut.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Pn(){if(Tt===null){var t=ut.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var e=Ot===null?ut.memoizedState:Ot.next;if(e!==null)Ot=e,Tt=t;else{if(t===null)throw Error(fe(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Ot===null?ut.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function Ti(t,e){return typeof e=="function"?e(t):e}function Cu(t){var e=Pn(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=Tt,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var a=o.next;o.next=s.next,s.next=a}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var l=a=null,u=null,h=s;do{var d=h.lane;if((xo&d)===d)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var g={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=g,a=r):u=u.next=g,ut.lanes|=d,Co|=d}h=h.next}while(h!==null&&h!==s);u===null?a=r:u.next=l,$n(r,e.memoizedState)||(on=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do s=o.lane,ut.lanes|=s,Co|=s,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tu(t){var e=Pn(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,s=e.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do s=t(s,a.action),a=a.next;while(a!==o);$n(s,e.memoizedState)||(on=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Xm(){}function Zm(t,e){var n=ut,r=Pn(),o=e(),s=!$n(r.memoizedState,o);if(s&&(r.memoizedState=o,on=!0),r=r.queue,Eh(tg.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ot!==null&&Ot.memoizedState.tag&1){if(n.flags|=2048,Ei(9,eg.bind(null,n,r,o,e),void 0,null),At===null)throw Error(fe(349));xo&30||Jm(n,e,o)}return o}function Jm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eg(t,e,n,r){e.value=n,e.getSnapshot=r,ng(e)&&rg(t)}function tg(t,e,n){return n(function(){ng(e)&&rg(t)})}function ng(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$n(t,n)}catch{return!0}}function rg(t){var e=vr(t,1);e!==null&&Un(e,t,1,-1)}function wf(t){var e=Zn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:t},e.queue=t,t=t.dispatch=h1.bind(null,ut,t),[e.memoizedState,t]}function Ei(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function og(){return Pn().memoizedState}function Na(t,e,n,r){var o=Zn();ut.flags|=t,o.memoizedState=Ei(1|e,n,void 0,r===void 0?null:r)}function Ol(t,e,n,r){var o=Pn();r=r===void 0?null:r;var s=void 0;if(Tt!==null){var a=Tt.memoizedState;if(s=a.destroy,r!==null&&xh(r,a.deps)){o.memoizedState=Ei(e,n,s,r);return}}ut.flags|=t,o.memoizedState=Ei(1|e,n,s,r)}function Sf(t,e){return Na(8390656,8,t,e)}function Eh(t,e){return Ol(2048,8,t,e)}function sg(t,e){return Ol(4,2,t,e)}function ig(t,e){return Ol(4,4,t,e)}function ag(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lg(t,e,n){return n=n!=null?n.concat([t]):null,Ol(4,4,ag.bind(null,e,t),n)}function bh(){}function ug(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function cg(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hg(t,e,n){return xo&21?($n(n,e)||(n=gm(),ut.lanes|=n,Co|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,on=!0),t.memoizedState=n)}function u1(t,e){var n=Ge;Ge=n!==0&&4>n?n:4,t(!0);var r=xu.transition;xu.transition={};try{t(!1),e()}finally{Ge=n,xu.transition=r}}function dg(){return Pn().memoizedState}function c1(t,e,n){var r=qr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fg(t))pg(e,n);else if(n=Gm(t,e,n,r),n!==null){var o=Zt();Un(n,t,r,o),mg(n,e,r)}}function h1(t,e,n){var r=qr(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fg(t))pg(e,o);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(o.hasEagerState=!0,o.eagerState=l,$n(l,a)){var u=e.interleaved;u===null?(o.next=o,vh(e)):(o.next=u.next,u.next=o),e.interleaved=o;return}}catch{}finally{}n=Gm(t,e,o,r),n!==null&&(o=Zt(),Un(n,t,r,o),mg(n,e,r))}}function fg(t){var e=t.alternate;return t===ut||e!==null&&e===ut}function pg(t,e){ii=tl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oh(t,n)}}var nl={readContext:In,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},d1={readContext:In,useCallback:function(t,e){return Zn().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:Sf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Na(4194308,4,ag.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Na(4194308,4,t,e)},useInsertionEffect:function(t,e){return Na(4,2,t,e)},useMemo:function(t,e){var n=Zn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=c1.bind(null,ut,t),[r.memoizedState,t]},useRef:function(t){var e=Zn();return t={current:t},e.memoizedState=t},useState:wf,useDebugValue:bh,useDeferredValue:function(t){return Zn().memoizedState=t},useTransition:function(){var t=wf(!1),e=t[0];return t=u1.bind(null,t[1]),Zn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ut,o=Zn();if(it){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=e(),At===null)throw Error(fe(349));xo&30||Jm(r,e,n)}o.memoizedState=n;var s={value:n,getSnapshot:e};return o.queue=s,Sf(tg.bind(null,r,s,t),[t]),r.flags|=2048,Ei(9,eg.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Zn(),e=At.identifierPrefix;if(it){var n=dr,r=hr;n=(r&~(1<<32-zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ci++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=l1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},f1={readContext:In,useCallback:ug,useContext:In,useEffect:Eh,useImperativeHandle:lg,useInsertionEffect:sg,useLayoutEffect:ig,useMemo:cg,useReducer:Cu,useRef:og,useState:function(){return Cu(Ti)},useDebugValue:bh,useDeferredValue:function(t){var e=Pn();return hg(e,Tt.memoizedState,t)},useTransition:function(){var t=Cu(Ti)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:Xm,useSyncExternalStore:Zm,useId:dg,unstable_isNewReconciler:!1},p1={readContext:In,useCallback:ug,useContext:In,useEffect:Eh,useImperativeHandle:lg,useInsertionEffect:sg,useLayoutEffect:ig,useMemo:cg,useReducer:Tu,useRef:og,useState:function(){return Tu(Ti)},useDebugValue:bh,useDeferredValue:function(t){var e=Pn();return Tt===null?e.memoizedState=t:hg(e,Tt.memoizedState,t)},useTransition:function(){var t=Tu(Ti)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:Xm,useSyncExternalStore:Zm,useId:dg,unstable_isNewReconciler:!1};function Ln(t,e){if(t&&t.defaultProps){e=ct({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function fc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ct({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Al={isMounted:function(t){return(t=t._reactInternals)?Ao(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zt(),o=qr(t),s=pr(r,o);s.payload=e,n!=null&&(s.callback=n),e=Wr(t,s,o),e!==null&&(Un(e,t,o,r),Ea(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zt(),o=qr(t),s=pr(r,o);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Wr(t,s,o),e!==null&&(Un(e,t,o,r),Ea(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zt(),r=qr(t),o=pr(n,r);o.tag=2,e!=null&&(o.callback=e),e=Wr(t,o,r),e!==null&&(Un(e,t,r,n),Ea(e,t,r))}};function kf(t,e,n,r,o,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!vi(n,r)||!vi(o,s):!0}function gg(t,e,n){var r=!1,o=Xr,s=e.contextType;return typeof s=="object"&&s!==null?s=In(s):(o=an(e)?So:Wt.current,r=e.contextTypes,s=(r=r!=null)?hs(t,o):Xr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Al,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=s),e}function xf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Al.enqueueReplaceState(e,e.state,null)}function pc(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},_h(t);var s=e.contextType;typeof s=="object"&&s!==null?o.context=In(s):(s=an(e)?So:Wt.current,o.context=hs(t,s)),o.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fc(t,e,s,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Al.enqueueReplaceState(o,o.state,null),Ja(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function ms(t,e){try{var n="",r=e;do n+=zv(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:o,digest:null}}function Eu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function mc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var m1=typeof WeakMap=="function"?WeakMap:Map;function yg(t,e,n){n=pr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ol||(ol=!0,Tc=r),mc(t,e)},n}function vg(t,e,n){n=pr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){mc(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){mc(t,e),typeof r!="function"&&($r===null?$r=new Set([this]):$r.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Cf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new m1;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=O1.bind(null,t,e,n),e.then(t,t))}function Tf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ef(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pr(-1,1),e.tag=2,Wr(n,e,1))),n.lanes|=1),t)}var g1=Sr.ReactCurrentOwner,on=!1;function Ht(t,e,n,r){e.child=t===null?Hm(e,null,n,r):fs(e,t.child,n,r)}function bf(t,e,n,r,o){n=n.render;var s=e.ref;return is(e,o),r=Ch(t,e,n,r,s,o),n=Th(),t!==null&&!on?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,_r(t,e,o)):(it&&n&&dh(e),e.flags|=1,Ht(t,e,r,o),e.child)}function Nf(t,e,n,r,o){if(t===null){var s=n.type;return typeof s=="function"&&!Rh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,_g(t,e,s,r,o)):(t=Pa(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&o)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:vi,n(a,r)&&t.ref===e.ref)return _r(t,e,o)}return e.flags|=1,t=Hr(s,r),t.ref=e.ref,t.return=e,e.child=t}function _g(t,e,n,r,o){if(t!==null){var s=t.memoizedProps;if(vi(s,r)&&t.ref===e.ref)if(on=!1,e.pendingProps=r=s,(t.lanes&o)!==0)t.flags&131072&&(on=!0);else return e.lanes=t.lanes,_r(t,e,o)}return gc(t,e,n,r,o)}function wg(t,e,n){var r=e.pendingProps,o=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Zo,pn),pn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Je(Zo,pn),pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Je(Zo,pn),pn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Je(Zo,pn),pn|=r;return Ht(t,e,o,n),e.child}function Sg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function gc(t,e,n,r,o){var s=an(n)?So:Wt.current;return s=hs(e,s),is(e,o),n=Ch(t,e,n,r,s,o),r=Th(),t!==null&&!on?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,_r(t,e,o)):(it&&r&&dh(e),e.flags|=1,Ht(t,e,n,o),e.child)}function Of(t,e,n,r,o){if(an(n)){var s=!0;Ga(e)}else s=!1;if(is(e,o),e.stateNode===null)Oa(t,e),gg(e,n,r),pc(e,n,r,o),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var u=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=In(h):(h=an(n)?So:Wt.current,h=hs(e,h));var d=n.getDerivedStateFromProps,g=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||u!==h)&&xf(e,a,r,h),Mr=!1;var _=e.memoizedState;a.state=_,Ja(e,r,a,o),u=e.memoizedState,l!==r||_!==u||sn.current||Mr?(typeof d=="function"&&(fc(e,n,d,r),u=e.memoizedState),(l=Mr||kf(e,n,l,r,_,u,h))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Ym(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Ln(e.type,l),a.props=h,g=e.pendingProps,_=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=In(u):(u=an(n)?So:Wt.current,u=hs(e,u));var E=n.getDerivedStateFromProps;(d=typeof E=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||_!==u)&&xf(e,a,r,u),Mr=!1,_=e.memoizedState,a.state=_,Ja(e,r,a,o);var b=e.memoizedState;l!==g||_!==b||sn.current||Mr?(typeof E=="function"&&(fc(e,n,E,r),b=e.memoizedState),(h=Mr||kf(e,n,h,r,_,b,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),a.props=r,a.state=b,a.context=u,r=h):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),r=!1)}return yc(t,e,n,r,s,o)}function yc(t,e,n,r,o,s){Sg(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return o&&pf(e,n,!1),_r(t,e,s);r=e.stateNode,g1.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=fs(e,t.child,null,s),e.child=fs(e,null,l,s)):Ht(t,e,l,s),e.memoizedState=r.state,o&&pf(e,n,!0),e.child}function kg(t){var e=t.stateNode;e.pendingContext?ff(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ff(t,e.context,!1),wh(t,e.containerInfo)}function Af(t,e,n,r,o){return ds(),ph(o),e.flags|=256,Ht(t,e,n,r),e.child}var vc={dehydrated:null,treeContext:null,retryLane:0};function _c(t){return{baseLanes:t,cachePool:null,transitions:null}}function xg(t,e,n){var r=e.pendingProps,o=lt.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(o&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),Je(lt,o&1),t===null)return hc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Ml(a,r,0,null),t=_o(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=_c(n),e.memoizedState=vc,t):Nh(e,a));if(o=t.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return y1(t,e,a,r,l,o,n);if(s){s=r.fallback,a=e.mode,o=t.child,l=o.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Hr(o,u),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?s=Hr(l,s):(s=_o(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?_c(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=vc,r}return s=t.child,t=s.sibling,r=Hr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Nh(t,e){return e=Ml({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function da(t,e,n,r){return r!==null&&ph(r),fs(e,t.child,null,n),t=Nh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function y1(t,e,n,r,o,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Eu(Error(fe(422))),da(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,o=e.mode,r=Ml({mode:"visible",children:r.children},o,0,null),s=_o(s,o,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&fs(e,t.child,null,a),e.child.memoizedState=_c(a),e.memoizedState=vc,s);if(!(e.mode&1))return da(t,e,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(fe(419)),r=Eu(s,r,void 0),da(t,e,a,r)}if(l=(a&t.childLanes)!==0,on||l){if(r=At,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,vr(t,o),Un(r,t,o,-1))}return Dh(),r=Eu(Error(fe(421))),da(t,e,a,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=A1.bind(null,t),o._reactRetry=e,null):(t=s.treeContext,gn=Ur(o.nextSibling),yn=e,it=!0,Kn=null,t!==null&&(Cn[Tn++]=hr,Cn[Tn++]=dr,Cn[Tn++]=ko,hr=t.id,dr=t.overflow,ko=e),e=Nh(e,r.children),e.flags|=4096,e)}function If(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),dc(t.return,e,n)}function bu(t,e,n,r,o){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function Cg(t,e,n){var r=e.pendingProps,o=r.revealOrder,s=r.tail;if(Ht(t,e,r.children,n),r=lt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&If(t,n,e);else if(t.tag===19)If(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Je(lt,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&el(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),bu(e,!1,o,n,s);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&el(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}bu(e,!0,n,null,s);break;case"together":bu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Oa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Co|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,n=Hr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function v1(t,e,n){switch(e.tag){case 3:kg(e),ds();break;case 5:Qm(e);break;case 1:an(e.type)&&Ga(e);break;case 4:wh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;Je(Xa,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Je(lt,lt.current&1),e.flags|=128,null):n&e.child.childLanes?xg(t,e,n):(Je(lt,lt.current&1),t=_r(t,e,n),t!==null?t.sibling:null);Je(lt,lt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Cg(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Je(lt,lt.current),r)break;return null;case 22:case 23:return e.lanes=0,wg(t,e,n)}return _r(t,e,n)}var Tg,wc,Eg,bg;Tg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wc=function(){};Eg=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,go(tr.current);var s=null;switch(n){case"input":o=zu(t,o),r=zu(t,r),s=[];break;case"select":o=ct({},o,{value:void 0}),r=ct({},r,{value:void 0}),s=[];break;case"textarea":o=$u(t,o),r=$u(t,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qa)}Hu(n,r);var a;n=null;for(h in o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&o[h]!=null)if(h==="style"){var l=o[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(hi.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var u=r[h];if(l=o!=null?o[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(hi.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&tt("scroll",t),s||l===u||(s=[])):(s=s||[]).push(h,u))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};bg=function(t,e,n,r){n!==r&&(e.flags|=4)};function $s(t,e){if(!it)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _1(t,e,n){var r=e.pendingProps;switch(fh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return an(e.type)&&Ha(),Vt(e),null;case 3:return r=e.stateNode,ps(),rt(sn),rt(Wt),kh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ca(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kn!==null&&(Nc(Kn),Kn=null))),wc(t,e),Vt(e),null;case 5:Sh(e);var o=go(xi.current);if(n=e.type,t!==null&&e.stateNode!=null)Eg(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(fe(166));return Vt(e),null}if(t=go(tr.current),ca(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Jn]=e,r[Si]=s,t=(e.mode&1)!==0,n){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(o=0;o<Js.length;o++)tt(Js[o],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":Kd(r,s),tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},tt("invalid",r);break;case"textarea":Bd(r,s),tt("invalid",r)}Hu(n,s),o=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&ua(r.textContent,l,t),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ua(r.textContent,l,t),o=["children",""+l]):hi.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&tt("scroll",r)}switch(n){case"input":ta(r),Vd(r,s,!0);break;case"textarea":ta(r),zd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=qa)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Jn]=e,t[Si]=r,Tg(t,e,!1,!1),e.stateNode=t;e:{switch(a=Gu(n,r),n){case"dialog":tt("cancel",t),tt("close",t),o=r;break;case"iframe":case"object":case"embed":tt("load",t),o=r;break;case"video":case"audio":for(o=0;o<Js.length;o++)tt(Js[o],t);o=r;break;case"source":tt("error",t),o=r;break;case"img":case"image":case"link":tt("error",t),tt("load",t),o=r;break;case"details":tt("toggle",t),o=r;break;case"input":Kd(t,r),o=zu(t,r),tt("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=ct({},r,{value:void 0}),tt("invalid",t);break;case"textarea":Bd(t,r),o=$u(t,r),tt("invalid",t);break;default:o=r}Hu(n,o),l=o;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?om(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&nm(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&di(t,u):typeof u=="number"&&di(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(hi.hasOwnProperty(s)?u!=null&&s==="onScroll"&&tt("scroll",t):u!=null&&Zc(t,s,u,a))}switch(n){case"input":ta(t),Vd(t,r,!1);break;case"textarea":ta(t),zd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ns(t,!!r.multiple,s,!1):r.defaultValue!=null&&ns(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=qa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)bg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(fe(166));if(n=go(xi.current),go(tr.current),ca(e)){if(r=e.stateNode,n=e.memoizedProps,r[Jn]=e,(s=r.nodeValue!==n)&&(t=yn,t!==null))switch(t.tag){case 3:ua(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ua(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jn]=e,e.stateNode=r}return Vt(e),null;case 13:if(rt(lt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(it&&gn!==null&&e.mode&1&&!(e.flags&128))$m(),ds(),e.flags|=98560,s=!1;else if(s=ca(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(fe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(fe(317));s[Jn]=e}else ds(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),s=!1}else Kn!==null&&(Nc(Kn),Kn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||lt.current&1?Et===0&&(Et=3):Dh())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return ps(),wc(t,e),t===null&&_i(e.stateNode.containerInfo),Vt(e),null;case 10:return yh(e.type._context),Vt(e),null;case 17:return an(e.type)&&Ha(),Vt(e),null;case 19:if(rt(lt),s=e.memoizedState,s===null)return Vt(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)$s(s,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=el(t),a!==null){for(e.flags|=128,$s(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Je(lt,lt.current&1|2),e.child}t=t.sibling}s.tail!==null&&gt()>gs&&(e.flags|=128,r=!0,$s(s,!1),e.lanes=4194304)}else{if(!r)if(t=el(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$s(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!it)return Vt(e),null}else 2*gt()-s.renderingStartTime>gs&&n!==1073741824&&(e.flags|=128,r=!0,$s(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gt(),e.sibling=null,n=lt.current,Je(lt,r?n&1|2:n&1),e):(Vt(e),null);case 22:case 23:return Mh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?pn&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function w1(t,e){switch(fh(e),e.tag){case 1:return an(e.type)&&Ha(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ps(),rt(sn),rt(Wt),kh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sh(e),null;case 13:if(rt(lt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));ds()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return rt(lt),null;case 4:return ps(),null;case 10:return yh(e.type._context),null;case 22:case 23:return Mh(),null;case 24:return null;default:return null}}var fa=!1,zt=!1,S1=typeof WeakSet=="function"?WeakSet:Set,we=null;function Xo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ft(t,e,r)}else n.current=null}function Sc(t,e,n){try{n()}catch(r){ft(t,e,r)}}var Pf=!1;function k1(t,e){if(oc=Ua,t=Pm(),hh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,h=0,d=0,g=t,_=null;t:for(;;){for(var E;g!==n||o!==0&&g.nodeType!==3||(l=a+o),g!==s||r!==0&&g.nodeType!==3||(u=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(E=g.firstChild)!==null;)_=g,g=E;for(;;){if(g===t)break t;if(_===n&&++h===o&&(l=a),_===s&&++d===r&&(u=a),(E=g.nextSibling)!==null)break;g=_,_=g.parentNode}g=E}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(sc={focusedElem:t,selectionRange:n},Ua=!1,we=e;we!==null;)if(e=we,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,we=t;else for(;we!==null;){e=we;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var N=b.memoizedProps,O=b.memoizedState,w=e.stateNode,T=w.getSnapshotBeforeUpdate(e.elementType===e.type?N:Ln(e.type,N),O);w.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(R){ft(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,we=t;break}we=e.return}return b=Pf,Pf=!1,b}function ai(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var s=o.destroy;o.destroy=void 0,s!==void 0&&Sc(e,n,s)}o=o.next}while(o!==r)}}function Il(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ng(t){var e=t.alternate;e!==null&&(t.alternate=null,Ng(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jn],delete e[Si],delete e[lc],delete e[o1],delete e[s1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Og(t){return t.tag===5||t.tag===3||t.tag===4}function Mf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Og(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qa));else if(r!==4&&(t=t.child,t!==null))for(xc(t,e,n),t=t.sibling;t!==null;)xc(t,e,n),t=t.sibling}function Cc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cc(t,e,n),t=t.sibling;t!==null;)Cc(t,e,n),t=t.sibling}var Rt=null,Fn=!1;function Or(t,e,n){for(n=n.child;n!==null;)Ag(t,e,n),n=n.sibling}function Ag(t,e,n){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(xl,n)}catch{}switch(n.tag){case 5:zt||Xo(n,e);case 6:var r=Rt,o=Fn;Rt=null,Or(t,e,n),Rt=r,Fn=o,Rt!==null&&(Fn?(t=Rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rt.removeChild(n.stateNode));break;case 18:Rt!==null&&(Fn?(t=Rt,n=n.stateNode,t.nodeType===8?wu(t.parentNode,n):t.nodeType===1&&wu(t,n),gi(t)):wu(Rt,n.stateNode));break;case 4:r=Rt,o=Fn,Rt=n.stateNode.containerInfo,Fn=!0,Or(t,e,n),Rt=r,Fn=o;break;case 0:case 11:case 14:case 15:if(!zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Sc(n,e,a),o=o.next}while(o!==r)}Or(t,e,n);break;case 1:if(!zt&&(Xo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ft(n,e,l)}Or(t,e,n);break;case 21:Or(t,e,n);break;case 22:n.mode&1?(zt=(r=zt)||n.memoizedState!==null,Or(t,e,n),zt=r):Or(t,e,n);break;default:Or(t,e,n)}}function Df(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new S1),e.forEach(function(r){var o=I1.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function jn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Rt=l.stateNode,Fn=!1;break e;case 3:Rt=l.stateNode.containerInfo,Fn=!0;break e;case 4:Rt=l.stateNode.containerInfo,Fn=!0;break e}l=l.return}if(Rt===null)throw Error(fe(160));Ag(s,a,o),Rt=null,Fn=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(h){ft(o,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ig(e,t),e=e.sibling}function Ig(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jn(e,t),Xn(t),r&4){try{ai(3,t,t.return),Il(3,t)}catch(N){ft(t,t.return,N)}try{ai(5,t,t.return)}catch(N){ft(t,t.return,N)}}break;case 1:jn(e,t),Xn(t),r&512&&n!==null&&Xo(n,n.return);break;case 5:if(jn(e,t),Xn(t),r&512&&n!==null&&Xo(n,n.return),t.flags&32){var o=t.stateNode;try{di(o,"")}catch(N){ft(t,t.return,N)}}if(r&4&&(o=t.stateNode,o!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Jp(o,s),Gu(l,a);var h=Gu(l,s);for(a=0;a<u.length;a+=2){var d=u[a],g=u[a+1];d==="style"?om(o,g):d==="dangerouslySetInnerHTML"?nm(o,g):d==="children"?di(o,g):Zc(o,d,g,h)}switch(l){case"input":Uu(o,s);break;case"textarea":em(o,s);break;case"select":var _=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?ns(o,!!s.multiple,E,!1):_!==!!s.multiple&&(s.defaultValue!=null?ns(o,!!s.multiple,s.defaultValue,!0):ns(o,!!s.multiple,s.multiple?[]:"",!1))}o[Si]=s}catch(N){ft(t,t.return,N)}}break;case 6:if(jn(e,t),Xn(t),r&4){if(t.stateNode===null)throw Error(fe(162));o=t.stateNode,s=t.memoizedProps;try{o.nodeValue=s}catch(N){ft(t,t.return,N)}}break;case 3:if(jn(e,t),Xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gi(e.containerInfo)}catch(N){ft(t,t.return,N)}break;case 4:jn(e,t),Xn(t);break;case 13:jn(e,t),Xn(t),o=t.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Ih=gt())),r&4&&Df(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(zt=(h=zt)||d,jn(e,t),zt=h):jn(e,t),Xn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!d&&t.mode&1)for(we=t,d=t.child;d!==null;){for(g=we=d;we!==null;){switch(_=we,E=_.child,_.tag){case 0:case 11:case 14:case 15:ai(4,_,_.return);break;case 1:Xo(_,_.return);var b=_.stateNode;if(typeof b.componentWillUnmount=="function"){r=_,n=_.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(N){ft(r,n,N)}}break;case 5:Xo(_,_.return);break;case 22:if(_.memoizedState!==null){jf(g);continue}}E!==null?(E.return=_,we=E):jf(g)}d=d.sibling}e:for(d=null,g=t;;){if(g.tag===5){if(d===null){d=g;try{o=g.stateNode,h?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=g.stateNode,u=g.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=rm("display",a))}catch(N){ft(t,t.return,N)}}}else if(g.tag===6){if(d===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(N){ft(t,t.return,N)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;d===g&&(d=null),g=g.return}d===g&&(d=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:jn(e,t),Xn(t),r&4&&Df(t);break;case 21:break;default:jn(e,t),Xn(t)}}function Xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Og(n)){var r=n;break e}n=n.return}throw Error(fe(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(di(o,""),r.flags&=-33);var s=Mf(t);Cc(t,s,o);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Mf(t);xc(t,l,a);break;default:throw Error(fe(161))}}catch(u){ft(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function x1(t,e,n){we=t,Pg(t)}function Pg(t,e,n){for(var r=(t.mode&1)!==0;we!==null;){var o=we,s=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||fa;if(!a){var l=o.alternate,u=l!==null&&l.memoizedState!==null||zt;l=fa;var h=zt;if(fa=a,(zt=u)&&!h)for(we=o;we!==null;)a=we,u=a.child,a.tag===22&&a.memoizedState!==null?Lf(o):u!==null?(u.return=a,we=u):Lf(o);for(;s!==null;)we=s,Pg(s),s=s.sibling;we=o,fa=l,zt=h}Rf(t)}else o.subtreeFlags&8772&&s!==null?(s.return=o,we=s):Rf(t)}}function Rf(t){for(;we!==null;){var e=we;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||Il(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zt)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Ln(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_f(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_f(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var g=d.dehydrated;g!==null&&gi(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}zt||e.flags&512&&kc(e)}catch(_){ft(e,e.return,_)}}if(e===t){we=null;break}if(n=e.sibling,n!==null){n.return=e.return,we=n;break}we=e.return}}function jf(t){for(;we!==null;){var e=we;if(e===t){we=null;break}var n=e.sibling;if(n!==null){n.return=e.return,we=n;break}we=e.return}}function Lf(t){for(;we!==null;){var e=we;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Il(4,e)}catch(u){ft(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(u){ft(e,o,u)}}var s=e.return;try{kc(e)}catch(u){ft(e,s,u)}break;case 5:var a=e.return;try{kc(e)}catch(u){ft(e,a,u)}}}catch(u){ft(e,e.return,u)}if(e===t){we=null;break}var l=e.sibling;if(l!==null){l.return=e.return,we=l;break}we=e.return}}var C1=Math.ceil,rl=Sr.ReactCurrentDispatcher,Oh=Sr.ReactCurrentOwner,Nn=Sr.ReactCurrentBatchConfig,$e=0,At=null,kt=null,jt=0,pn=0,Zo=no(0),Et=0,bi=null,Co=0,Pl=0,Ah=0,li=null,nn=null,Ih=0,gs=1/0,lr=null,ol=!1,Tc=null,$r=null,pa=!1,Fr=null,sl=0,ui=0,Ec=null,Aa=-1,Ia=0;function Zt(){return $e&6?gt():Aa!==-1?Aa:Aa=gt()}function qr(t){return t.mode&1?$e&2&&jt!==0?jt&-jt:a1.transition!==null?(Ia===0&&(Ia=gm()),Ia):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:xm(t.type)),t):1}function Un(t,e,n,r){if(50<ui)throw ui=0,Ec=null,Error(fe(185));Di(t,n,r),(!($e&2)||t!==At)&&(t===At&&(!($e&2)&&(Pl|=n),Et===4&&jr(t,jt)),ln(t,r),n===1&&$e===0&&!(e.mode&1)&&(gs=gt()+500,Nl&&ro()))}function ln(t,e){var n=t.callbackNode;a0(t,e);var r=za(t,t===At?jt:0);if(r===0)n!==null&&$d(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$d(n),e===1)t.tag===0?i1(Ff.bind(null,t)):zm(Ff.bind(null,t)),n1(function(){!($e&6)&&ro()}),n=null;else{switch(ym(r)){case 1:n=rh;break;case 4:n=pm;break;case 16:n=Ba;break;case 536870912:n=mm;break;default:n=Ba}n=Vg(n,Mg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Mg(t,e){if(Aa=-1,Ia=0,$e&6)throw Error(fe(327));var n=t.callbackNode;if(as()&&t.callbackNode!==n)return null;var r=za(t,t===At?jt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=il(t,r);else{e=r;var o=$e;$e|=2;var s=Rg();(At!==t||jt!==e)&&(lr=null,gs=gt()+500,vo(t,e));do try{b1();break}catch(l){Dg(t,l)}while(!0);gh(),rl.current=s,$e=o,kt!==null?e=0:(At=null,jt=0,e=Et)}if(e!==0){if(e===2&&(o=Ju(t),o!==0&&(r=o,e=bc(t,o))),e===1)throw n=bi,vo(t,0),jr(t,r),ln(t,gt()),n;if(e===6)jr(t,r);else{if(o=t.current.alternate,!(r&30)&&!T1(o)&&(e=il(t,r),e===2&&(s=Ju(t),s!==0&&(r=s,e=bc(t,s))),e===1))throw n=bi,vo(t,0),jr(t,r),ln(t,gt()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(fe(345));case 2:uo(t,nn,lr);break;case 3:if(jr(t,r),(r&130023424)===r&&(e=Ih+500-gt(),10<e)){if(za(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){Zt(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=ac(uo.bind(null,t,nn,lr),e);break}uo(t,nn,lr);break;case 4:if(jr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var a=31-zn(r);s=1<<a,a=e[a],a>o&&(o=a),r&=~s}if(r=o,r=gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*C1(r/1960))-r,10<r){t.timeoutHandle=ac(uo.bind(null,t,nn,lr),r);break}uo(t,nn,lr);break;case 5:uo(t,nn,lr);break;default:throw Error(fe(329))}}}return ln(t,gt()),t.callbackNode===n?Mg.bind(null,t):null}function bc(t,e){var n=li;return t.current.memoizedState.isDehydrated&&(vo(t,e).flags|=256),t=il(t,e),t!==2&&(e=nn,nn=n,e!==null&&Nc(e)),t}function Nc(t){nn===null?nn=t:nn.push.apply(nn,t)}function T1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!$n(s(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jr(t,e){for(e&=~Ah,e&=~Pl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zn(e),r=1<<n;t[n]=-1,e&=~r}}function Ff(t){if($e&6)throw Error(fe(327));as();var e=za(t,0);if(!(e&1))return ln(t,gt()),null;var n=il(t,e);if(t.tag!==0&&n===2){var r=Ju(t);r!==0&&(e=r,n=bc(t,r))}if(n===1)throw n=bi,vo(t,0),jr(t,e),ln(t,gt()),n;if(n===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,uo(t,nn,lr),ln(t,gt()),null}function Ph(t,e){var n=$e;$e|=1;try{return t(e)}finally{$e=n,$e===0&&(gs=gt()+500,Nl&&ro())}}function To(t){Fr!==null&&Fr.tag===0&&!($e&6)&&as();var e=$e;$e|=1;var n=Nn.transition,r=Ge;try{if(Nn.transition=null,Ge=1,t)return t()}finally{Ge=r,Nn.transition=n,$e=e,!($e&6)&&ro()}}function Mh(){pn=Zo.current,rt(Zo)}function vo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,t1(n)),kt!==null)for(n=kt.return;n!==null;){var r=n;switch(fh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ha();break;case 3:ps(),rt(sn),rt(Wt),kh();break;case 5:Sh(r);break;case 4:ps();break;case 13:rt(lt);break;case 19:rt(lt);break;case 10:yh(r.type._context);break;case 22:case 23:Mh()}n=n.return}if(At=t,kt=t=Hr(t.current,null),jt=pn=e,Et=0,bi=null,Ah=Pl=Co=0,nn=li=null,mo!==null){for(e=0;e<mo.length;e++)if(n=mo[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=o,r.next=a}n.pending=r}mo=null}return t}function Dg(t,e){do{var n=kt;try{if(gh(),ba.current=nl,tl){for(var r=ut.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}tl=!1}if(xo=0,Ot=Tt=ut=null,ii=!1,Ci=0,Oh.current=null,n===null||n.return===null){Et=1,bi=e,kt=null;break}e:{var s=t,a=n.return,l=n,u=e;if(e=jt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,d=l,g=d.tag;if(!(d.mode&1)&&(g===0||g===11||g===15)){var _=d.alternate;_?(d.updateQueue=_.updateQueue,d.memoizedState=_.memoizedState,d.lanes=_.lanes):(d.updateQueue=null,d.memoizedState=null)}var E=Tf(a);if(E!==null){E.flags&=-257,Ef(E,a,l,s,e),E.mode&1&&Cf(s,h,e),e=E,u=h;var b=e.updateQueue;if(b===null){var N=new Set;N.add(u),e.updateQueue=N}else b.add(u);break e}else{if(!(e&1)){Cf(s,h,e),Dh();break e}u=Error(fe(426))}}else if(it&&l.mode&1){var O=Tf(a);if(O!==null){!(O.flags&65536)&&(O.flags|=256),Ef(O,a,l,s,e),ph(ms(u,l));break e}}s=u=ms(u,l),Et!==4&&(Et=2),li===null?li=[s]:li.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=yg(s,u,e);vf(s,w);break e;case 1:l=u;var T=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&($r===null||!$r.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=vg(s,l,e);vf(s,R);break e}}s=s.return}while(s!==null)}Lg(n)}catch(I){e=I,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(!0)}function Rg(){var t=rl.current;return rl.current=nl,t===null?nl:t}function Dh(){(Et===0||Et===3||Et===2)&&(Et=4),At===null||!(Co&268435455)&&!(Pl&268435455)||jr(At,jt)}function il(t,e){var n=$e;$e|=2;var r=Rg();(At!==t||jt!==e)&&(lr=null,vo(t,e));do try{E1();break}catch(o){Dg(t,o)}while(!0);if(gh(),$e=n,rl.current=r,kt!==null)throw Error(fe(261));return At=null,jt=0,Et}function E1(){for(;kt!==null;)jg(kt)}function b1(){for(;kt!==null&&!Zv();)jg(kt)}function jg(t){var e=Kg(t.alternate,t,pn);t.memoizedProps=t.pendingProps,e===null?Lg(t):kt=e,Oh.current=null}function Lg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=w1(n,e),n!==null){n.flags&=32767,kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,kt=null;return}}else if(n=_1(n,e,pn),n!==null){kt=n;return}if(e=e.sibling,e!==null){kt=e;return}kt=e=t}while(e!==null);Et===0&&(Et=5)}function uo(t,e,n){var r=Ge,o=Nn.transition;try{Nn.transition=null,Ge=1,N1(t,e,n,r)}finally{Nn.transition=o,Ge=r}return null}function N1(t,e,n,r){do as();while(Fr!==null);if($e&6)throw Error(fe(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(l0(t,s),t===At&&(kt=At=null,jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pa||(pa=!0,Vg(Ba,function(){return as(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Nn.transition,Nn.transition=null;var a=Ge;Ge=1;var l=$e;$e|=4,Oh.current=null,k1(t,n),Ig(n,t),G0(sc),Ua=!!oc,sc=oc=null,t.current=n,x1(n),Jv(),$e=l,Ge=a,Nn.transition=s}else t.current=n;if(pa&&(pa=!1,Fr=t,sl=o),s=t.pendingLanes,s===0&&($r=null),n0(n.stateNode),ln(t,gt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ol)throw ol=!1,t=Tc,Tc=null,t;return sl&1&&t.tag!==0&&as(),s=t.pendingLanes,s&1?t===Ec?ui++:(ui=0,Ec=t):ui=0,ro(),null}function as(){if(Fr!==null){var t=ym(sl),e=Nn.transition,n=Ge;try{if(Nn.transition=null,Ge=16>t?16:t,Fr===null)var r=!1;else{if(t=Fr,Fr=null,sl=0,$e&6)throw Error(fe(331));var o=$e;for($e|=4,we=t.current;we!==null;){var s=we,a=s.child;if(we.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(we=h;we!==null;){var d=we;switch(d.tag){case 0:case 11:case 15:ai(8,d,s)}var g=d.child;if(g!==null)g.return=d,we=g;else for(;we!==null;){d=we;var _=d.sibling,E=d.return;if(Ng(d),d===h){we=null;break}if(_!==null){_.return=E,we=_;break}we=E}}}var b=s.alternate;if(b!==null){var N=b.child;if(N!==null){b.child=null;do{var O=N.sibling;N.sibling=null,N=O}while(N!==null)}}we=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,we=a;else e:for(;we!==null;){if(s=we,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ai(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,we=w;break e}we=s.return}}var T=t.current;for(we=T;we!==null;){a=we;var A=a.child;if(a.subtreeFlags&2064&&A!==null)A.return=a,we=A;else e:for(a=T;we!==null;){if(l=we,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Il(9,l)}}catch(I){ft(l,l.return,I)}if(l===a){we=null;break e}var R=l.sibling;if(R!==null){R.return=l.return,we=R;break e}we=l.return}}if($e=o,ro(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(xl,t)}catch{}r=!0}return r}finally{Ge=n,Nn.transition=e}}return!1}function Kf(t,e,n){e=ms(n,e),e=yg(t,e,1),t=Wr(t,e,1),e=Zt(),t!==null&&(Di(t,1,e),ln(t,e))}function ft(t,e,n){if(t.tag===3)Kf(t,t,n);else for(;e!==null;){if(e.tag===3){Kf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($r===null||!$r.has(r))){t=ms(n,t),t=vg(e,t,1),e=Wr(e,t,1),t=Zt(),e!==null&&(Di(e,1,t),ln(e,t));break}}e=e.return}}function O1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zt(),t.pingedLanes|=t.suspendedLanes&n,At===t&&(jt&n)===n&&(Et===4||Et===3&&(jt&130023424)===jt&&500>gt()-Ih?vo(t,0):Ah|=n),ln(t,e)}function Fg(t,e){e===0&&(t.mode&1?(e=oa,oa<<=1,!(oa&130023424)&&(oa=4194304)):e=1);var n=Zt();t=vr(t,e),t!==null&&(Di(t,e,n),ln(t,n))}function A1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Fg(t,n)}function I1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(fe(314))}r!==null&&r.delete(e),Fg(t,n)}var Kg;Kg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)on=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return on=!1,v1(t,e,n);on=!!(t.flags&131072)}else on=!1,it&&e.flags&1048576&&Um(e,Qa,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Oa(t,e),t=e.pendingProps;var o=hs(e,Wt.current);is(e,n),o=Ch(null,e,r,t,o,n);var s=Th();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(r)?(s=!0,Ga(e)):s=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,_h(e),o.updater=Al,e.stateNode=o,o._reactInternals=e,pc(e,r,t,n),e=yc(null,e,r,!0,s,n)):(e.tag=0,it&&s&&dh(e),Ht(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Oa(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=M1(r),t=Ln(r,t),o){case 0:e=gc(null,e,r,t,n);break e;case 1:e=Of(null,e,r,t,n);break e;case 11:e=bf(null,e,r,t,n);break e;case 14:e=Nf(null,e,r,Ln(r.type,t),n);break e}throw Error(fe(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Ln(r,o),gc(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Ln(r,o),Of(t,e,r,o,n);case 3:e:{if(kg(e),t===null)throw Error(fe(387));r=e.pendingProps,s=e.memoizedState,o=s.element,Ym(t,e),Ja(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){o=ms(Error(fe(423)),e),e=Af(t,e,r,n,o);break e}else if(r!==o){o=ms(Error(fe(424)),e),e=Af(t,e,r,n,o);break e}else for(gn=Ur(e.stateNode.containerInfo.firstChild),yn=e,it=!0,Kn=null,n=Hm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ds(),r===o){e=_r(t,e,n);break e}Ht(t,e,r,n)}e=e.child}return e;case 5:return Qm(e),t===null&&hc(e),r=e.type,o=e.pendingProps,s=t!==null?t.memoizedProps:null,a=o.children,ic(r,o)?a=null:s!==null&&ic(r,s)&&(e.flags|=32),Sg(t,e),Ht(t,e,a,n),e.child;case 6:return t===null&&hc(e),null;case 13:return xg(t,e,n);case 4:return wh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fs(e,null,r,n):Ht(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Ln(r,o),bf(t,e,r,o,n);case 7:return Ht(t,e,e.pendingProps,n),e.child;case 8:return Ht(t,e,e.pendingProps.children,n),e.child;case 12:return Ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,s=e.memoizedProps,a=o.value,Je(Xa,r._currentValue),r._currentValue=a,s!==null)if($n(s.value,a)){if(s.children===o.children&&!sn.current){e=_r(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=pr(-1,n&-n),u.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?u.next=u:(u.next=d.next,d.next=u),h.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),dc(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(fe(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),dc(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ht(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,is(e,n),o=In(o),r=r(o),e.flags|=1,Ht(t,e,r,n),e.child;case 14:return r=e.type,o=Ln(r,e.pendingProps),o=Ln(r.type,o),Nf(t,e,r,o,n);case 15:return _g(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Ln(r,o),Oa(t,e),e.tag=1,an(r)?(t=!0,Ga(e)):t=!1,is(e,n),gg(e,r,o),pc(e,r,o,n),yc(null,e,r,!0,t,n);case 19:return Cg(t,e,n);case 22:return wg(t,e,n)}throw Error(fe(156,e.tag))};function Vg(t,e){return fm(t,e)}function P1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,e,n,r){return new P1(t,e,n,r)}function Rh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function M1(t){if(typeof t=="function")return Rh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===eh)return 11;if(t===th)return 14}return 2}function Hr(t,e){var n=t.alternate;return n===null?(n=En(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pa(t,e,n,r,o,s){var a=2;if(r=t,typeof t=="function")Rh(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case zo:return _o(n.children,o,s,e);case Jc:a=8,o|=8;break;case Fu:return t=En(12,n,e,o|2),t.elementType=Fu,t.lanes=s,t;case Ku:return t=En(13,n,e,o),t.elementType=Ku,t.lanes=s,t;case Vu:return t=En(19,n,e,o),t.elementType=Vu,t.lanes=s,t;case Qp:return Ml(n,o,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gp:a=10;break e;case Yp:a=9;break e;case eh:a=11;break e;case th:a=14;break e;case Pr:a=16,r=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=En(a,n,e,o),e.elementType=t,e.type=r,e.lanes=s,e}function _o(t,e,n,r){return t=En(7,t,r,e),t.lanes=n,t}function Ml(t,e,n,r){return t=En(22,t,r,e),t.elementType=Qp,t.lanes=n,t.stateNode={isHidden:!1},t}function Nu(t,e,n){return t=En(6,t,null,e),t.lanes=n,t}function Ou(t,e,n){return e=En(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function D1(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uu(0),this.expirationTimes=uu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uu(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function jh(t,e,n,r,o,s,a,l,u){return t=new D1(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=En(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_h(s),t}function R1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Bg(t){if(!t)return Xr;t=t._reactInternals;e:{if(Ao(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var n=t.type;if(an(n))return Bm(t,n,e)}return e}function zg(t,e,n,r,o,s,a,l,u){return t=jh(n,r,!0,t,o,s,a,l,u),t.context=Bg(null),n=t.current,r=Zt(),o=qr(n),s=pr(r,o),s.callback=e??null,Wr(n,s,o),t.current.lanes=o,Di(t,o,r),ln(t,r),t}function Dl(t,e,n,r){var o=e.current,s=Zt(),a=qr(o);return n=Bg(n),e.context===null?e.context=n:e.pendingContext=n,e=pr(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wr(o,e,a),t!==null&&(Un(t,o,a,s),Ea(t,o,a)),a}function al(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Lh(t,e){Vf(t,e),(t=t.alternate)&&Vf(t,e)}function j1(){return null}var Ug=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fh(t){this._internalRoot=t}Rl.prototype.render=Fh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));Dl(t,e,null,null)};Rl.prototype.unmount=Fh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;To(function(){Dl(null,t,null,null)}),e[yr]=null}};function Rl(t){this._internalRoot=t}Rl.prototype.unstable_scheduleHydration=function(t){if(t){var e=wm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Rr.length&&e!==0&&e<Rr[n].priority;n++);Rr.splice(n,0,t),n===0&&km(t)}};function Kh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bf(){}function L1(t,e,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var h=al(a);s.call(h)}}var a=zg(e,r,t,0,null,!1,!1,"",Bf);return t._reactRootContainer=a,t[yr]=a.current,_i(t.nodeType===8?t.parentNode:t),To(),a}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var h=al(u);l.call(h)}}var u=jh(t,0,!1,null,null,!1,!1,"",Bf);return t._reactRootContainer=u,t[yr]=u.current,_i(t.nodeType===8?t.parentNode:t),To(function(){Dl(e,u,n,r)}),u}function Ll(t,e,n,r,o){var s=n._reactRootContainer;if(s){var a=s;if(typeof o=="function"){var l=o;o=function(){var u=al(a);l.call(u)}}Dl(e,a,t,o)}else a=L1(n,e,t,o,r);return al(a)}vm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zs(e.pendingLanes);n!==0&&(oh(e,n|1),ln(e,gt()),!($e&6)&&(gs=gt()+500,ro()))}break;case 13:To(function(){var r=vr(t,1);if(r!==null){var o=Zt();Un(r,t,1,o)}}),Lh(t,1)}};sh=function(t){if(t.tag===13){var e=vr(t,134217728);if(e!==null){var n=Zt();Un(e,t,134217728,n)}Lh(t,134217728)}};_m=function(t){if(t.tag===13){var e=qr(t),n=vr(t,e);if(n!==null){var r=Zt();Un(n,t,e,r)}Lh(t,e)}};wm=function(){return Ge};Sm=function(t,e){var n=Ge;try{return Ge=t,e()}finally{Ge=n}};Qu=function(t,e,n){switch(e){case"input":if(Uu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=bl(r);if(!o)throw Error(fe(90));Zp(r),Uu(r,o)}}}break;case"textarea":em(t,n);break;case"select":e=n.value,e!=null&&ns(t,!!n.multiple,e,!1)}};am=Ph;lm=To;var F1={usingClientEntryPoint:!1,Events:[ji,qo,bl,sm,im,Ph]},qs={findFiberByHostInstance:po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K1={bundleType:qs.bundleType,version:qs.version,rendererPackageName:qs.rendererPackageName,rendererConfig:qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hm(t),t===null?null:t.stateNode},findFiberByHostInstance:qs.findFiberByHostInstance||j1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ma.isDisabled&&ma.supportsFiber)try{xl=ma.inject(K1),er=ma}catch{}}wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F1;wn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kh(e))throw Error(fe(200));return R1(t,e,null,n)};wn.createRoot=function(t,e){if(!Kh(t))throw Error(fe(299));var n=!1,r="",o=Ug;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=jh(t,1,!1,null,null,n,!1,r,o),t[yr]=e.current,_i(t.nodeType===8?t.parentNode:t),new Fh(e)};wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=hm(e),t=t===null?null:t.stateNode,t};wn.flushSync=function(t){return To(t)};wn.hydrate=function(t,e,n){if(!jl(e))throw Error(fe(200));return Ll(null,t,e,!0,n)};wn.hydrateRoot=function(t,e,n){if(!Kh(t))throw Error(fe(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",a=Ug;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=zg(e,null,t,1,n??null,o,!1,s,a),t[yr]=e.current,_i(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Rl(e)};wn.render=function(t,e,n){if(!jl(e))throw Error(fe(200));return Ll(null,t,e,!1,n)};wn.unmountComponentAtNode=function(t){if(!jl(t))throw Error(fe(40));return t._reactRootContainer?(To(function(){Ll(null,null,t,!1,function(){t._reactRootContainer=null,t[yr]=null})}),!0):!1};wn.unstable_batchedUpdates=Ph;wn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jl(n))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return Ll(t,e,n,!1,r)};wn.version="18.3.1-next-f1338f8080-20240426";function Wg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wg)}catch(t){console.error(t)}}Wg(),Wp.exports=wn;var V1=Wp.exports,$g,zf=V1;$g=zf.createRoot,zf.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ni(){return Ni=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ni.apply(this,arguments)}var Kr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Kr||(Kr={}));const Uf="popstate";function B1(t){t===void 0&&(t={});function e(r,o){let{pathname:s,search:a,hash:l}=r.location;return Oc("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:ll(o)}return U1(e,n,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function z1(){return Math.random().toString(36).substr(2,8)}function Wf(t,e){return{usr:t.state,key:t.key,idx:e}}function Oc(t,e,n,r){return n===void 0&&(n=null),Ni({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ns(e):e,{state:n,key:e&&e.key||r||z1()})}function ll(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ns(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function U1(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:s=!1}=r,a=o.history,l=Kr.Pop,u=null,h=d();h==null&&(h=0,a.replaceState(Ni({},a.state,{idx:h}),""));function d(){return(a.state||{idx:null}).idx}function g(){l=Kr.Pop;let O=d(),w=O==null?null:O-h;h=O,u&&u({action:l,location:N.location,delta:w})}function _(O,w){l=Kr.Push;let T=Oc(N.location,O,w);h=d()+1;let A=Wf(T,h),R=N.createHref(T);try{a.pushState(A,"",R)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;o.location.assign(R)}s&&u&&u({action:l,location:N.location,delta:1})}function E(O,w){l=Kr.Replace;let T=Oc(N.location,O,w);h=d();let A=Wf(T,h),R=N.createHref(T);a.replaceState(A,"",R),s&&u&&u({action:l,location:N.location,delta:0})}function b(O){let w=o.location.origin!=="null"?o.location.origin:o.location.href,T=typeof O=="string"?O:ll(O);return T=T.replace(/ $/,"%20"),yt(w,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,w)}let N={get action(){return l},get location(){return t(o,a)},listen(O){if(u)throw new Error("A history only accepts one active listener");return o.addEventListener(Uf,g),u=O,()=>{o.removeEventListener(Uf,g),u=null}},createHref(O){return e(o,O)},createURL:b,encodeLocation(O){let w=b(O);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:_,replace:E,go(O){return a.go(O)}};return N}var $f;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($f||($f={}));function W1(t,e,n){return n===void 0&&(n="/"),$1(t,e,n,!1)}function $1(t,e,n,r){let o=typeof e=="string"?Ns(e):e,s=Vh(o.pathname||"/",n);if(s==null)return null;let a=Hg(t);q1(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let h=r_(s);l=t_(a[u],h,r)}return l}function Hg(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(s,a,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(yt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=Gr([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(yt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Hg(s.children,e,d,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:J1(h,s.index),routesMeta:d})};return t.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))o(s,a);else for(let u of Gg(s.path))o(s,a,u)}),e}function Gg(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return o?[s,""]:[s];let a=Gg(r.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),o&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function q1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:e_(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const H1=/^:[\w-]+$/,G1=3,Y1=2,Q1=1,X1=10,Z1=-2,qf=t=>t==="*";function J1(t,e){let n=t.split("/"),r=n.length;return n.some(qf)&&(r+=Z1),e&&(r+=Y1),n.filter(o=>!qf(o)).reduce((o,s)=>o+(H1.test(s)?G1:s===""?Q1:X1),r)}function e_(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function t_(t,e,n){let{routesMeta:r}=t,o={},s="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],h=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",g=Hf({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},d),_=u.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Hf({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!g)return null;Object.assign(o,g.params),a.push({params:o,pathname:Gr([s,g.pathname]),pathnameBase:a_(Gr([s,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(s=Gr([s,g.pathnameBase]))}return a}function Hf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=n_(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let s=o[0],a=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:r.reduce((h,d,g)=>{let{paramName:_,isOptional:E}=d;if(_==="*"){let N=l[g]||"";a=s.slice(0,s.length-N.length).replace(/(.)\/+$/,"$1")}const b=l[g];return E&&!b?h[_]=void 0:h[_]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:t}}function n_(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),qg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function r_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Vh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function o_(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Ns(t):t;return{pathname:n?n.startsWith("/")?n:s_(n,e):e,search:l_(r),hash:u_(o)}}function s_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Au(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bh(t,e){let n=i_(t);return e?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function zh(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=Ns(t):(o=Ni({},t),yt(!o.pathname||!o.pathname.includes("?"),Au("?","pathname","search",o)),yt(!o.pathname||!o.pathname.includes("#"),Au("#","pathname","hash",o)),yt(!o.search||!o.search.includes("#"),Au("#","search","hash",o)));let s=t===""||o.pathname==="",a=s?"/":o.pathname,l;if(a==null)l=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),g-=1;o.pathname=_.join("/")}l=g>=0?e[g]:"/"}let u=o_(o,l),h=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||d)&&(u.pathname+="/"),u}const Gr=t=>t.join("/").replace(/\/\/+/g,"/"),a_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),l_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,u_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function c_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Yg=["post","put","patch","delete"];new Set(Yg);const h_=["get",...Yg];new Set(h_);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oi(){return Oi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oi.apply(this,arguments)}const Uh=J.createContext(null),d_=J.createContext(null),oo=J.createContext(null),Fl=J.createContext(null),kr=J.createContext({outlet:null,matches:[],isDataRoute:!1}),Qg=J.createContext(null);function f_(t,e){let{relative:n}=e===void 0?{}:e;Os()||yt(!1);let{basename:r,navigator:o}=J.useContext(oo),{hash:s,pathname:a,search:l}=Zg(t,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:Gr([r,a])),o.createHref({pathname:u,search:l,hash:s})}function Os(){return J.useContext(Fl)!=null}function Fi(){return Os()||yt(!1),J.useContext(Fl).location}function Xg(t){J.useContext(oo).static||J.useLayoutEffect(t)}function Wh(){let{isDataRoute:t}=J.useContext(kr);return t?b_():p_()}function p_(){Os()||yt(!1);let t=J.useContext(Uh),{basename:e,future:n,navigator:r}=J.useContext(oo),{matches:o}=J.useContext(kr),{pathname:s}=Fi(),a=JSON.stringify(Bh(o,n.v7_relativeSplatPath)),l=J.useRef(!1);return Xg(()=>{l.current=!0}),J.useCallback(function(h,d){if(d===void 0&&(d={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let g=zh(h,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Gr([e,g.pathname])),(d.replace?r.replace:r.push)(g,d.state,d)},[e,r,a,s,t])}function m_(){let{matches:t}=J.useContext(kr),e=t[t.length-1];return e?e.params:{}}function Zg(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=J.useContext(oo),{matches:o}=J.useContext(kr),{pathname:s}=Fi(),a=JSON.stringify(Bh(o,r.v7_relativeSplatPath));return J.useMemo(()=>zh(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function g_(t,e){return y_(t,e)}function y_(t,e,n,r){Os()||yt(!1);let{navigator:o}=J.useContext(oo),{matches:s}=J.useContext(kr),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let h=Fi(),d;if(e){var g;let O=typeof e=="string"?Ns(e):e;u==="/"||(g=O.pathname)!=null&&g.startsWith(u)||yt(!1),d=O}else d=h;let _=d.pathname||"/",E=_;if(u!=="/"){let O=u.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(O.length).join("/")}let b=W1(t,{pathname:E}),N=k_(b&&b.map(O=>Object.assign({},O,{params:Object.assign({},l,O.params),pathname:Gr([u,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?u:Gr([u,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),s,n,r);return e&&N?J.createElement(Fl.Provider,{value:{location:Oi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Kr.Pop}},N):N}function v_(){let t=E_(),e=c_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),n?J.createElement("pre",{style:o},n):null,null)}const __=J.createElement(v_,null);class w_ extends J.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?J.createElement(kr.Provider,{value:this.props.routeContext},J.createElement(Qg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function S_(t){let{routeContext:e,match:n,children:r}=t,o=J.useContext(Uh);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),J.createElement(kr.Provider,{value:e},r)}function k_(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(o=n)==null?void 0:o.errors;if(l!=null){let d=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);d>=0||yt(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let g=a[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=d),g.route.id){let{loaderData:_,errors:E}=n,b=g.route.loader&&_[g.route.id]===void 0&&(!E||E[g.route.id]===void 0);if(g.route.lazy||b){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,g,_)=>{let E,b=!1,N=null,O=null;n&&(E=l&&g.route.id?l[g.route.id]:void 0,N=g.route.errorElement||__,u&&(h<0&&_===0?(b=!0,O=null):h===_&&(b=!0,O=g.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,_+1)),T=()=>{let A;return E?A=N:b?A=O:g.route.Component?A=J.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=d,J.createElement(S_,{match:g,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:A})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?J.createElement(w_,{location:n.location,revalidation:n.revalidation,component:N,error:E,children:T(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):T()},null)}var Jg=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Jg||{}),ul=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ul||{});function x_(t){let e=J.useContext(Uh);return e||yt(!1),e}function C_(t){let e=J.useContext(d_);return e||yt(!1),e}function T_(t){let e=J.useContext(kr);return e||yt(!1),e}function ey(t){let e=T_(),n=e.matches[e.matches.length-1];return n.route.id||yt(!1),n.route.id}function E_(){var t;let e=J.useContext(Qg),n=C_(ul.UseRouteError),r=ey(ul.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function b_(){let{router:t}=x_(Jg.UseNavigateStable),e=ey(ul.UseNavigateStable),n=J.useRef(!1);return Xg(()=>{n.current=!0}),J.useCallback(function(o,s){s===void 0&&(s={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Oi({fromRouteId:e},s)))},[t,e])}const Gf={};function N_(t,e){Gf[e]||(Gf[e]=!0,console.warn(e))}const Yf=(t,e,n)=>N_(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function O_(t,e){t!=null&&t.v7_startTransition||Yf("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Yf("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Qf(t){let{to:e,replace:n,state:r,relative:o}=t;Os()||yt(!1);let{future:s,static:a}=J.useContext(oo),{matches:l}=J.useContext(kr),{pathname:u}=Fi(),h=Wh(),d=zh(e,Bh(l,s.v7_relativeSplatPath),u,o==="path"),g=JSON.stringify(d);return J.useEffect(()=>h(JSON.parse(g),{replace:n,state:r,relative:o}),[h,g,o,n,r]),null}function Ma(t){yt(!1)}function A_(t){let{basename:e="/",children:n=null,location:r,navigationType:o=Kr.Pop,navigator:s,static:a=!1,future:l}=t;Os()&&yt(!1);let u=e.replace(/^\/*/,"/"),h=J.useMemo(()=>({basename:u,navigator:s,static:a,future:Oi({v7_relativeSplatPath:!1},l)}),[u,l,s,a]);typeof r=="string"&&(r=Ns(r));let{pathname:d="/",search:g="",hash:_="",state:E=null,key:b="default"}=r,N=J.useMemo(()=>{let O=Vh(d,u);return O==null?null:{location:{pathname:O,search:g,hash:_,state:E,key:b},navigationType:o}},[u,d,g,_,E,b,o]);return N==null?null:J.createElement(oo.Provider,{value:h},J.createElement(Fl.Provider,{children:n,value:N}))}function I_(t){let{children:e,location:n}=t;return g_(Ac(e),n)}new Promise(()=>{});function Ac(t,e){e===void 0&&(e=[]);let n=[];return J.Children.forEach(t,(r,o)=>{if(!J.isValidElement(r))return;let s=[...e,o];if(r.type===J.Fragment){n.push.apply(n,Ac(r.props.children,s));return}r.type!==Ma&&yt(!1),!r.props.index||!r.props.children||yt(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Ac(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ic(){return Ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ic.apply(this,arguments)}function P_(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,s;for(s=0;s<r.length;s++)o=r[s],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function M_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function D_(t,e){return t.button===0&&(!e||e==="_self")&&!M_(t)}const R_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],j_="6";try{window.__reactRouterVersion=j_}catch{}const L_="startTransition",Xf=Ov[L_];function F_(t){let{basename:e,children:n,future:r,window:o}=t,s=J.useRef();s.current==null&&(s.current=B1({window:o,v5Compat:!0}));let a=s.current,[l,u]=J.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},d=J.useCallback(g=>{h&&Xf?Xf(()=>u(g)):u(g)},[u,h]);return J.useLayoutEffect(()=>a.listen(d),[a,d]),J.useEffect(()=>O_(r),[r]),J.createElement(A_,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const K_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Iu=J.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:s,replace:a,state:l,target:u,to:h,preventScrollReset:d,viewTransition:g}=e,_=P_(e,R_),{basename:E}=J.useContext(oo),b,N=!1;if(typeof h=="string"&&V_.test(h)&&(b=h,K_))try{let A=new URL(window.location.href),R=h.startsWith("//")?new URL(A.protocol+h):new URL(h),I=Vh(R.pathname,E);R.origin===A.origin&&I!=null?h=I+R.search+R.hash:N=!0}catch{}let O=f_(h,{relative:o}),w=B_(h,{replace:a,state:l,target:u,preventScrollReset:d,relative:o,viewTransition:g});function T(A){r&&r(A),A.defaultPrevented||w(A)}return J.createElement("a",Ic({},_,{href:b||O,onClick:N||s?r:T,ref:n,target:u}))});var Zf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Zf||(Zf={}));var Jf;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Jf||(Jf={}));function B_(t,e){let{target:n,replace:r,state:o,preventScrollReset:s,relative:a,viewTransition:l}=e===void 0?{}:e,u=Wh(),h=Fi(),d=Zg(t,{relative:a});return J.useCallback(g=>{if(D_(g,n)){g.preventDefault();let _=r!==void 0?r:ll(h)===ll(d);u(t,{replace:_,state:o,preventScrollReset:s,relative:a,viewTransition:l})}},[h,u,d,r,o,n,t,s,a,l])}const Pc={0:"white",1:"rgb(130, 0, 0)",2:"red",3:"#007000",4:"#00fb47",5:"#9500b3",6:"#ea7eff",7:"rgb(120, 120, 120)",8:"rgb(0, 0, 255)",9:"#03b9d5",10:"#ff7328",11:"#ff0"},$h=(t,e)=>{if(e==="traditional"){const r={};for(let o=0;o<12;o++)r[o]=[1,3,6,8,10].includes(o)?"#222222":"white";return r}const n={};for(let r=0;r<12;r++)n[r]=Pc[(r-t+12)%12];return n},ty=t=>{const e=t%12;return[0,4,6,9,11].includes(e)?"black":"white"},ep=50,z_=({notes:t,tonic:e,colorMode:n,fallingNoteWidth:r,referencePoints:o})=>{const[s,a]=J.useState(Date.now()),l=$h(e,n),u=d=>{const{c1:g,c2:_}=o;return g.left+(d-g.note)*(_.left-g.left)/(_.note-g.note)},h=()=>{const d=[];for(let E=0;E<=8;E++){const b=E*12+e+12,N=u(b);if(!isNaN(N)&&isFinite(N)&&d.push(Y.jsx("div",{style:{position:"absolute",left:N,top:0,width:"0.5px",height:"100%",backgroundColor:Pc[0],pointerEvents:"none"}},`tonic-line-${E}`)),E<8){const O=E*12+(e+7)%12+12,w=u(O);!isNaN(w)&&isFinite(w)&&d.push(Y.jsx("div",{style:{position:"absolute",left:w,top:0,width:"0.5px",height:"100%",backgroundColor:Pc[7],pointerEvents:"none"}},`fifth-line-${E}`))}}return d};return J.useEffect(()=>{let d;const g=()=>{a(Date.now()),d=requestAnimationFrame(g)};return d=requestAnimationFrame(g),()=>cancelAnimationFrame(d)},[]),Y.jsxs("div",{style:{position:"absolute",top:co,left:0,right:0,bottom:-2e3,overflow:"hidden"},children:[h(),t.map(d=>{const g=!d.endTime,_=d.endTime?(s-d.endTime)/1e3:0,E=g?0:_*ep,N=(g?s-d.startTime:d.endTime-d.startTime)*(ep/1e3),O=d.note+d.octave*12,w=u(O),T=n==="traditional"?"white":l[d.note];return Y.jsx("div",{style:{position:"absolute",left:w,top:E,width:r,height:N,backgroundColor:T,borderTopLeftRadius:g?"0px":"10px",borderTopRightRadius:g?"0px":"10px",willChange:"transform, height"}},d.id)})]})},U_={KeyZ:{note:0,octave:2},KeyS:{note:1,octave:2},KeyX:{note:2,octave:2},KeyD:{note:3,octave:2},KeyC:{note:4,octave:2},KeyV:{note:5,octave:2},KeyG:{note:6,octave:2},KeyB:{note:7,octave:2},KeyH:{note:8,octave:2},KeyN:{note:9,octave:2},KeyJ:{note:10,octave:2},KeyM:{note:11,octave:2},Comma:{note:0,octave:3},KeyL:{note:1,octave:3},Period:{note:2,octave:3},Semicolon:{note:3,octave:3},Slash:{note:4,octave:3},KeyQ:{note:5,octave:3},Digit2:{note:6,octave:3},KeyW:{note:7,octave:3},Digit3:{note:8,octave:3},KeyE:{note:9,octave:3},Digit4:{note:10,octave:3},KeyR:{note:11,octave:3},KeyT:{note:0,octave:4},Digit6:{note:1,octave:4},KeyY:{note:2,octave:4},Digit7:{note:3,octave:4},KeyU:{note:4,octave:4},KeyI:{note:5,octave:4},Digit9:{note:6,octave:4},KeyO:{note:7,octave:4},Digit0:{note:8,octave:4},KeyP:{note:9,octave:4},Minus:{note:10,octave:4},BracketLeft:{note:11,octave:4},BracketRight:{note:0,octave:5}},W_={KeyZ:{note:0,octave:2},KeyX:{note:1,octave:2},KeyC:{note:2,octave:2},KeyV:{note:3,octave:2},KeyB:{note:4,octave:2},KeyN:{note:5,octave:2},KeyM:{note:6,octave:2},Comma:{note:7,octave:2},Period:{note:8,octave:2},Slash:{note:9,octave:2},KeyA:{note:10,octave:2},KeyS:{note:11,octave:2},KeyD:{note:0,octave:3},KeyF:{note:1,octave:3},KeyG:{note:2,octave:3},KeyH:{note:3,octave:3},KeyJ:{note:4,octave:3},KeyK:{note:5,octave:3},KeyL:{note:6,octave:3},Semicolon:{note:7,octave:3},Quote:{note:8,octave:3},KeyQ:{note:9,octave:3},KeyW:{note:10,octave:3},KeyE:{note:11,octave:3},KeyR:{note:0,octave:4},KeyT:{note:1,octave:4},KeyY:{note:2,octave:4},KeyU:{note:3,octave:4},KeyI:{note:4,octave:4},KeyO:{note:5,octave:4},KeyP:{note:6,octave:4},BracketLeft:{note:7,octave:4},BracketRight:{note:8,octave:4},Digit1:{note:9,octave:4},Digit2:{note:10,octave:4},Digit3:{note:11,octave:4},Digit4:{note:0,octave:5},Digit5:{note:1,octave:5},Digit6:{note:2,octave:5},Digit7:{note:3,octave:5},Digit8:{note:4,octave:5},Digit9:{note:5,octave:5},Digit0:{note:6,octave:5},Minus:{note:7,octave:5},Equal:{note:8,octave:5}},Pu=(t,e)=>e||(t==="flat-chromatic"?W_:U_),ei={KeyZ:"z",KeyX:"x",KeyC:"c",KeyV:"v",KeyB:"b",KeyN:"n",KeyM:"m",Comma:",",Period:".",Slash:"/",KeyA:"a",KeyS:"s",KeyD:"d",KeyF:"f",KeyG:"g",KeyH:"h",KeyJ:"j",KeyK:"k",KeyL:"l",Semicolon:";",Quote:"'",KeyQ:"q",KeyW:"w",KeyE:"e",KeyR:"r",KeyT:"t",KeyY:"y",KeyU:"u",KeyI:"i",KeyO:"o",KeyP:"p",BracketLeft:"[",BracketRight:"]",Digit1:"1",Digit2:"2",Digit3:"3",Digit4:"4",Digit5:"5",Digit6:"6",Digit7:"7",Digit8:"8",Digit9:"9",Digit0:"0",Minus:"-",Equal:"="},Mc={single:{label:"1",getNotes:(t,e)=>[{note:t,octave:e}]},fifth:{label:"5",getNotes:(t,e)=>[{note:t,octave:e},{note:(t+7)%12,octave:t+7>=12?e+1:e}]},major:{label:"M",getNotes:(t,e)=>[{note:t,octave:e},{note:(t+4)%12,octave:t+4>=12?e+1:e},{note:(t+7)%12,octave:t+7>=12?e+1:e}]},diatonic:{label:"d",getNotes:(t,e,n="major")=>{const r=n==="major"?[0,2,4,5,7,9,11]:[0,2,3,5,7,8,10],o=r.findIndex(l=>t%12===l);if(o===-1)return[{note:t,octave:e}];const s=l=>{const u=l%7;return r[u]};return[o,(o+2)%7,(o+4)%7].map(l=>{const h=s(l)-t,d=h<0?h+12:h;return{note:(t+d)%12,octave:t+d>=12?e+1:e}})}}},$_=({tonic:t,onTonicChange:e})=>{const[n,r]=J.useState(!1),o=J.useRef(null),[s,a]=J.useState(null),l=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return J.useEffect(()=>{const u=h=>{o.current&&!o.current.contains(h.target)&&r(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[]),Y.jsxs("div",{ref:o,style:{position:"relative",cursor:"pointer"},onClick:()=>r(!n),children:[Y.jsx("div",{style:{fontSize:"16px",fontWeight:"bold"},children:l[t]}),n&&Y.jsxs("div",{style:{position:"absolute",top:"100%",left:"0",transform:"none",display:"flex",flexDirection:"column",gap:"8px",padding:"8px",background:"rgba(0, 0, 0, 0.8)",borderRadius:"4px",marginTop:"4px",zIndex:10,minWidth:"200px"},children:[Y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gap:"4px"},children:l.map((u,h)=>Y.jsx("div",{onClick:d=>{d.stopPropagation(),e(h),r(!1)},onMouseEnter:()=>a(h),onMouseLeave:()=>a(null),style:{padding:"4px 8px",cursor:"pointer",background:t===h||s===h?"rgba(255, 255, 255, 0.15)":"none",border:t===h?"1px solid rgba(255, 255, 255, 0.8)":"1px solid transparent",borderRadius:"4px",fontSize:"14px",textAlign:"center",fontWeight:t===h?"bold":"normal",transition:"all 0.1s ease-in-out"},children:u},u))}),Y.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)",textAlign:"center",borderTop:"1px solid rgba(255, 255, 255, 0.2)",paddingTop:"8px"},children:"Press Ctrl + key to change tonic"})]})]})},q_=({colorMode:t,onColorModeChange:e})=>{const n={traditional:"chromatic",chromatic:"flat-chromatic","flat-chromatic":"traditional"};return Y.jsx("div",{onClick:()=>e(n[t]),style:{width:"80px",height:"20px",backgroundColor:t==="traditional"?"rgba(255, 255, 255, 0.2)":"#4CAF50",borderRadius:"10px",position:"relative",cursor:"pointer",transition:"background-color 1s ease-in-out"},children:Y.jsx("div",{style:{width:"18px",height:"18px",backgroundColor:"white",borderRadius:"50%",position:"absolute",top:"1px",left:t==="traditional"?"1px":t==="chromatic"?"31px":"61px",transition:"left 1s ease-in-out",display:"flex",alignItems:"center",justifyContent:"center"},children:t!=="traditional"&&Y.jsx("span",{role:"img","aria-label":"rainbow",style:{fontSize:"12px",userSelect:"none"},children:"🌈"})})})},H_=({currentVoicing:t,onVoicingChange:e})=>Y.jsx("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:Object.entries(Mc).map(([n,r])=>Y.jsx("span",{onClick:()=>e(n),style:{cursor:"pointer",opacity:n===t?1:.6,fontWeight:n===t?"bold":"normal",transition:"all 0.2s"},children:r.label},n))}),G_=({tonic:t,onTonicChange:e,colorMode:n,onColorModeChange:r,currentVoicing:o,onVoicingChange:s})=>Y.jsxs("div",{style:{position:"absolute",top:-30,left:0,display:"flex",alignItems:"center",gap:"40px",color:"white"},children:[Y.jsx($_,{tonic:t,onTonicChange:e}),Y.jsx(H_,{currentVoicing:o,onVoicingChange:s}),Y.jsx(q_,{colorMode:n,onColorModeChange:r})]});function Y_({title:t,titleId:e,...n},r){return J.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?J.createElement("title",{id:e},t):null,J.createElement("path",{fillRule:"evenodd",d:"M4.5 7.5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-9Z",clipRule:"evenodd"}))}const Q_=J.forwardRef(Y_),dt=({children:t})=>Y.jsx("p",{className:"mt-6 mb-2",children:t}),X_=({suffix:t,children:e})=>Y.jsx("a",{href:`https://rawl.rocks/${t}`,target:"_blank",rel:"noopener noreferrer",children:e}),Z_=[{title:"White Keys",content:Y.jsxs(Y.Fragment,{children:[Y.jsxs(dt,{children:["Welcome to Rawl Piano, the companion book to"," ",Y.jsx(X_,{suffix:"",children:"rawl.rocks"}),". I'm gonna cover Western music theory using my colorful music notation."]}),Y.jsx(dt,{children:"We have seven different types of white keys. Why seven? There are seven vibes, in a way."})]}),finalText:"Play around with all seven keys. Then, as you're ready, go to the next lesson",taskIds:["play-c-across-octaves","play-d-across-octaves","play-e-across-octaves","play-f-across-octaves","play-g-across-octaves","play-a-across-octaves","play-b-across-octaves"]},{title:"Black Keys",content:Y.jsx(Y.Fragment,{children:Y.jsx(dt,{children:"Now let's learn about the black keys!"})}),taskIds:["play-d-again","play-c-sharp","play-e-again","play-d-sharp","play-a-again","play-g-sharp","play-b-again","play-a-sharp","play-f-again","play-f-sharp"]},{title:"Free Play",content:Y.jsx(Y.Fragment,{children:Y.jsx(dt,{children:"Congratulations! You've completed the lessons. Now you can freely play around with the piano. Try different tonics, voicings, and color modes!"})}),taskIds:[]},{title:"Chromatic Sequences",content:Y.jsxs(Y.Fragment,{children:[Y.jsx(dt,{children:"Now let's play all notes in sequence! First ascending from A0, then descending from C8."}),Y.jsx(dt,{children:"Follow the arrows - they show which note to play next. Previous notes will show checkmarks."}),Y.jsx(dt,{children:"Finally, try playing the ascending sequence again using the flat keyboard layout - where each key is arranged in chromatic order from left to right."})]}),taskIds:["play-chromatic-ascending","play-chromatic-descending","play-chromatic-ascending-flat"]},{title:"Major Second Intervals",content:Y.jsxs(Y.Fragment,{children:[Y.jsx(dt,{children:"Let's explore intervals! We'll start with major seconds - the interval of two semitones."}),Y.jsx(dt,{children:"First, play all notes separated by major seconds starting from A0. Then we'll play the complementary sequence starting from A#0."})]}),taskIds:["play-major-seconds-from-a0","play-major-seconds-from-asharp0"]},{title:"Scale Modes",content:Y.jsxs(Y.Fragment,{children:[Y.jsx(dt,{children:"Let's explore different scale modes! Each row of keys maps to a different mode:"}),Y.jsx(dt,{children:"Bottom row (Z-M): Lydian mode - like major scale but with a raised 4th"}),Y.jsx(dt,{children:"Middle row (A-J): Major scale (Ionian mode) - the familiar do-re-mi pattern"}),Y.jsx(dt,{children:"Top row (Q-U): Mixolydian mode - major scale with a lowered 7th"}),Y.jsx(dt,{children:"Number row (1-8): Dorian mode - minor scale with a raised 6th"})]}),taskIds:["play-lydian-scale","play-major-scale","play-mixolydian-scale","play-dorian-scale"]},{title:"More Scale Modes",content:Y.jsxs(Y.Fragment,{children:[Y.jsx(dt,{children:"Let's explore the remaining scale modes! Each row maps to a different mode, continuing our pattern:"}),Y.jsx(dt,{children:"Bottom row (Z-A): Dorian mode again - but in a lower octave for comparison"}),Y.jsx(dt,{children:"Middle row (A-J): Natural Minor (Aeolian) - the familiar sad scale"}),Y.jsx(dt,{children:"Top row (Q-U): Phrygian mode - minor scale with a lowered 2nd"}),Y.jsx(dt,{children:"Number row (1-8): Locrian mode - the darkest mode, with lowered 2nd and 5th"})]}),taskIds:["play-dorian-low-scale","play-minor-scale","play-phrygian-scale","play-locrian-scale"]},{title:"Major Chords",content:Y.jsxs(Y.Fragment,{children:[Y.jsx(dt,{children:"Now let's learn all twelve major chords! We'll start with C major in the second octave, using three keys for the three notes of each chord."}),Y.jsx(dt,{children:"The bottom row (Z-.) covers C, C#, and D major chords. The home row (A-L) covers Eb, E, and F major chords. The top row (Q-O) covers F#, G, and G# major chords. And finally the number row is grouped in threes: 1-2-3 for A major, 4-5-6 for Bb major, and 7-8-9 for B major."}),Y.jsx(dt,{children:"Each new chord builds on the previous ones, so you can always go back and practice earlier chords!"})]}),taskIds:["play-c-major-chord","play-c-sharp-major-chord","play-d-major-chord","play-eb-major-chord","play-e-major-chord","play-f-major-chord","play-f-sharp-major-chord","play-g-major-chord","play-g-sharp-major-chord","play-a-major-chord","play-bb-major-chord","play-b-major-chord"]}],Gt=Z_.map((t,e)=>({...t,id:e+1})),tp=["play-c-across-octaves","play-d-across-octaves","play-e-across-octaves","play-f-across-octaves","play-g-across-octaves","play-a-across-octaves","play-b-across-octaves","play-d-again","play-c-sharp","play-e-again","play-d-sharp","play-a-again","play-g-sharp","play-b-again","play-a-sharp","play-f-again","play-f-sharp","play-chromatic-ascending","play-chromatic-descending","play-chromatic-ascending-flat","play-major-seconds-from-a0","play-major-seconds-from-asharp0","play-lydian-scale","play-major-scale","play-mixolydian-scale","play-dorian-scale","play-dorian-low-scale","play-minor-scale","play-phrygian-scale","play-locrian-scale","play-c-major-chord","play-c-sharp-major-chord","play-d-major-chord","play-eb-major-chord","play-e-major-chord","play-f-major-chord","play-f-sharp-major-chord","play-g-major-chord","play-g-sharp-major-chord","play-a-major-chord","play-bb-major-chord","play-b-major-chord"],Oe=(t,e)=>({note:t,octave:0,keys:e}),We={C:Oe(0,["KeyZ","KeyA","KeyQ","Digit1"]),D:Oe(2,["KeyX","KeyS","KeyW","Digit2"]),E:Oe(4,["KeyC","KeyD","KeyE","Digit3"]),F:Oe(5,["KeyV","KeyF","KeyR","Digit4"]),G:Oe(7,["KeyB","KeyG","KeyT","Digit5"]),A:Oe(9,["KeyN","KeyH","KeyY","Digit6"]),B:Oe(11,["KeyM","KeyJ","KeyU","Digit7"]),"C#":Oe(1,["KeyZ","KeyA","KeyQ","Digit1"]),"E-again":Oe(4,["KeyV","KeyF","KeyR","Digit4"]),"D#":Oe(3,["KeyC","KeyD","KeyE","Digit3"]),"A-again":Oe(9,["Comma","KeyK","KeyI","Digit8"]),"G#":Oe(8,["KeyM","KeyJ","KeyU","Digit7"]),"B-again":Oe(11,["Slash","Semicolon","KeyP","Digit0"]),"A#":Oe(10,["Period","KeyL","KeyO","Digit9"]),"F-again":Oe(5,["KeyB","KeyG","KeyT","Digit5"]),"F#":Oe(6,["KeyN","KeyH","KeyY","Digit6"]),"lydian-c":Oe(0,["KeyZ","KeyZ","KeyZ","KeyZ"]),"lydian-d":Oe(2,["KeyX","KeyX","KeyX","KeyX"]),"lydian-e":Oe(4,["KeyC","KeyC","KeyC","KeyC"]),"lydian-f#":Oe(6,["KeyV","KeyV","KeyV","KeyV"]),"lydian-g":Oe(7,["KeyB","KeyB","KeyB","KeyB"]),"lydian-a":Oe(9,["KeyN","KeyN","KeyN","KeyN"]),"lydian-b":Oe(11,["KeyM","KeyM","KeyM","KeyM"]),"major-c":Oe(0,["KeyA","KeyA","KeyA","KeyA"]),"major-d":Oe(2,["KeyS","KeyS","KeyS","KeyS"]),"major-e":Oe(4,["KeyD","KeyD","KeyD","KeyD"]),"major-f":Oe(5,["KeyF","KeyF","KeyF","KeyF"]),"major-g":Oe(7,["KeyG","KeyG","KeyG","KeyG"]),"major-a":Oe(9,["KeyH","KeyH","KeyH","KeyH"]),"major-b":Oe(11,["KeyJ","KeyJ","KeyJ","KeyJ"]),"mixo-c":Oe(0,["KeyQ","KeyQ","KeyQ","KeyQ"]),"mixo-d":Oe(2,["KeyW","KeyW","KeyW","KeyW"]),"mixo-e":Oe(4,["KeyE","KeyE","KeyE","KeyE"]),"mixo-f":Oe(5,["KeyR","KeyR","KeyR","KeyR"]),"mixo-g":Oe(7,["KeyT","KeyT","KeyT","KeyT"]),"mixo-a":Oe(9,["KeyY","KeyY","KeyY","KeyY"]),"mixo-bb":Oe(10,["KeyU","KeyU","KeyU","KeyU"]),"dorian-c":Oe(0,["Digit1","Digit1","Digit1","Digit1"]),"dorian-d":Oe(2,["Digit2","Digit2","Digit2","Digit2"]),"dorian-eb":Oe(3,["Digit3","Digit3","Digit3","Digit3"]),"dorian-f":Oe(5,["Digit4","Digit4","Digit4","Digit4"]),"dorian-g":Oe(7,["Digit5","Digit5","Digit5","Digit5"]),"dorian-a":Oe(9,["Digit6","Digit6","Digit6","Digit6"]),"dorian-bb":Oe(10,["Digit7","Digit7","Digit7","Digit7"]),"dorian-c2":Oe(0,["Digit8","Digit8","Digit8","Digit8"])},Hs={"C-major":{notes:[{note:0,octave:2},{note:4,octave:2},{note:7,octave:2}],keys:["KeyZ","KeyX","KeyC"]},"C#-major":{notes:[{note:1,octave:2},{note:5,octave:2},{note:8,octave:2}],keys:["KeyV","KeyB","KeyN"]},"D-major":{notes:[{note:2,octave:2},{note:6,octave:2},{note:9,octave:2}],keys:["KeyM","Comma","Period"]},"Eb-major":{notes:[{note:3,octave:3},{note:7,octave:3},{note:10,octave:3}],keys:["KeyA","KeyS","KeyD"]},"E-major":{notes:[{note:4,octave:3},{note:8,octave:3},{note:11,octave:3}],keys:["KeyF","KeyG","KeyH"]},"F-major":{notes:[{note:5,octave:3},{note:9,octave:3},{note:0,octave:4}],keys:["KeyJ","KeyK","KeyL"]},"F#-major":{notes:[{note:6,octave:4},{note:10,octave:4},{note:1,octave:5}],keys:["KeyQ","KeyW","KeyE"]},"G-major":{notes:[{note:7,octave:4},{note:11,octave:4},{note:2,octave:5}],keys:["KeyR","KeyT","KeyY"]},"G#-major":{notes:[{note:8,octave:4},{note:0,octave:5},{note:3,octave:5}],keys:["KeyU","KeyI","KeyO"]},"A-major":{notes:[{note:9,octave:4},{note:1,octave:5},{note:4,octave:5}],keys:["Digit1","Digit2","Digit3"]},"Bb-major":{notes:[{note:10,octave:4},{note:2,octave:5},{note:5,octave:5}],keys:["Digit4","Digit5","Digit6"]},"B-major":{notes:[{note:11,octave:4},{note:3,octave:5},{note:6,octave:5}],keys:["Digit7","Digit8","Digit9"]}},fn=t=>({type:"sequence",sequence:t,getState:e=>({completedNotes:t.slice(0,e),activeTargets:t.slice(e,e+1),progress:e}),checkNote:(e,n,r)=>{const o=t[r];return o&&o.note===e&&o.octave===n}}),ny=t=>({type:"set",targetNotes:t,getState:(e=new Set)=>{const n=[],r=[],o=e||new Set;return Array.from(t).forEach(s=>{const[a,l]=s.split("-").map(Number);o.has(s)?n.push({note:a,octave:l}):r.push({note:a,octave:l})}),{completedNotes:n,activeTargets:r,progress:n.length}},checkNote:(e,n,r=new Set)=>{const o=`${e}-${n}`,s=r||new Set;return t.has(o)&&!s.has(o)}}),J_=()=>{const t=[];let e=9,n=0;for(;!(e===0&&n===8);){t.push({note:e,octave:n});const r=(e+1)%12;e=r,r===0&&n++}return t.push({note:0,octave:8}),t},ew=()=>{const t=[];let e=0,n=8;for(;!(e===9&&n===0);){t.push({note:e,octave:n});let r=e-1;r<0&&(r=11,n--),e=r}return t.push({note:9,octave:0}),t},Fo=J_(),Mu=ew(),Ko=["KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal"],Du=["Equal","Minus","Digit0","Digit9","Digit8","Digit7","Digit6","Digit5","Digit4","Digit3","Digit2","Digit1","BracketRight","BracketLeft","KeyP","KeyO","KeyI","KeyU","KeyY","KeyT","KeyR","KeyE","KeyW","KeyQ","Quote","Semicolon","KeyL","KeyK","KeyJ","KeyH","KeyG","KeyF","KeyD","KeyS","KeyA","Slash","Period","Comma","KeyM","KeyN","KeyB","KeyV","KeyC","KeyX","KeyZ"],Ru=(t,e)=>{const n={};return t.forEach(({note:r,octave:o},s)=>{s<e.length&&(n[e[s]]={note:r,octave:o})}),n},Dt=(t,e,n,r,o)=>{const s=new Set;[2,3,4,5].forEach(u=>{s.add(`${e.note}-${u}`)});const a=ny(s),l={};if(o===1)[We.C,We.D,We.E,We.F,We.G,We.A,We.B].slice(0,t+1).forEach(h=>{h&&h.keys.forEach((d,g)=>{l[d]={note:h.note,octave:g+2}})});else if(o===2){const u=[We.D,We["C#"],We["E-again"],We["D#"],We["A-again"],We["G#"],We["B-again"],We["A#"],We["F-again"],We["F#"]],h=t-7;u.slice(0,h+1).forEach(g=>{g&&g.keys.forEach((_,E)=>{l[_]={note:g.note,octave:E+2}})})}return{id:tp[t],description:`Play ${n}`,total:4,requiredProgress:4,previousTaskId:t>0?tp[t-1]:null,chromaticNotes:r,keyboardMapping:l,checker:a}},ry=(t,e,n)=>{const r=[];let o=t,s=e;const a=100;for(;r.length<a&&s<8;){r.push({note:o,octave:s});let l=o+n,u=s;if(l>11&&(l=l%12,u++),o=l,s=u,s>=8)break}return r},Gs=ry(9,0,2),Ys=ry(10,0,2),np=t=>{const e={},n=["KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal"];return t.forEach(({note:r,octave:o},s)=>{s<n.length&&(e[n[s]]={note:r,octave:o})}),e},Ce={lydian:{notes:[{note:0,octave:2},{note:2,octave:2},{note:4,octave:2},{note:6,octave:2},{note:7,octave:2},{note:9,octave:2},{note:11,octave:2},{note:0,octave:3}],keys:["KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","KeyA"],description:"Lydian scale (C D E F# G A B C)"},major:{notes:[{note:0,octave:3},{note:2,octave:3},{note:4,octave:3},{note:5,octave:3},{note:7,octave:3},{note:9,octave:3},{note:11,octave:3},{note:0,octave:4}],keys:["KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyQ"],description:"Major scale (C D E F G A B C)"},mixolydian:{notes:[{note:0,octave:4},{note:2,octave:4},{note:4,octave:4},{note:5,octave:4},{note:7,octave:4},{note:9,octave:4},{note:10,octave:4},{note:0,octave:5}],keys:["KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","Digit1"],description:"Mixolydian scale (C D E F G A Bb C)"},dorian:{notes:[{note:0,octave:5},{note:2,octave:5},{note:3,octave:5},{note:5,octave:5},{note:7,octave:5},{note:9,octave:5},{note:10,octave:5},{note:0,octave:6}],keys:["Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8"],description:"Dorian scale (C D Eb F G A Bb C)"},dorianLow:{notes:[{note:0,octave:2},{note:2,octave:2},{note:3,octave:2},{note:5,octave:2},{note:7,octave:2},{note:9,octave:2},{note:10,octave:2},{note:0,octave:3}],keys:["KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","KeyA"],description:"Dorian scale in lower octave (C D Eb F G A Bb C)"},minor:{notes:[{note:0,octave:3},{note:2,octave:3},{note:3,octave:3},{note:5,octave:3},{note:7,octave:3},{note:8,octave:3},{note:10,octave:3},{note:0,octave:4}],keys:["KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyQ"],description:"Natural Minor scale (C D Eb F G Ab Bb C)"},phrygian:{notes:[{note:0,octave:4},{note:1,octave:4},{note:3,octave:4},{note:5,octave:4},{note:7,octave:4},{note:8,octave:4},{note:10,octave:4},{note:0,octave:5}],keys:["KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","Digit1"],description:"Phrygian scale (C Db Eb F G Ab Bb C)"},locrian:{notes:[{note:0,octave:5},{note:1,octave:5},{note:3,octave:5},{note:5,octave:5},{note:6,octave:5},{note:8,octave:5},{note:10,octave:5},{note:0,octave:6}],keys:["Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8"],description:"Locrian scale (C Db Eb F Gb Ab Bb C)"}},Ar=(t,e=[])=>{const n={};return e.forEach(r=>{const o=Ce[r];o.notes.slice(0,-1).forEach(({note:s,octave:a},l)=>{n[o.keys[l]]={note:s,octave:a}})}),t.notes.forEach(({note:r,octave:o},s)=>{n[t.keys[s]]={note:r,octave:o}}),n},xn=(t,e,n=[])=>{const r={};n.forEach(s=>{Hs[s].notes.forEach((a,l)=>{r[Hs[s].keys[l]]=a})}),Hs[e].notes.forEach((s,a)=>{r[Hs[e].keys[a]]=s});const o=new Set(Hs[e].notes.map(s=>`${s.note}-${s.octave}`));return{id:`play-${e.toLowerCase()}-chord`,description:`Play ${e.replace("-"," ")} chord`,total:3,requiredProgress:3,keyboardMapping:r,colorMode:"chromatic",chromaticNotes:[0,1,2,3,4,5,6,7,8,9,10,11],checker:ny(o),previousTaskId:t>0?`play-${n[n.length-1].toLowerCase()}-chord`:null}},Bt={"play-c-across-octaves":Dt(0,We.C,"C notes across different octaves",[0],1),"play-d-across-octaves":Dt(1,We.D,"D notes across different octaves",[0,2],1),"play-e-across-octaves":Dt(2,We.E,"E notes across different octaves",[0,2,4],1),"play-f-across-octaves":Dt(3,We.F,"F notes across different octaves",[0,2,4,5],1),"play-g-across-octaves":Dt(4,We.G,"G notes across different octaves",[0,2,4,5,7],1),"play-a-across-octaves":Dt(5,We.A,"A notes across different octaves",[0,2,4,5,7,9],1),"play-b-across-octaves":Dt(6,We.B,"B notes across different octaves",[0,2,4,5,7,9,11],1),"play-d-again":Dt(7,We.D,"D notes across different octaves",[0,2,4,5,7,9,11],2),"play-c-sharp":Dt(8,We["C#"],"D♭ notes across different octaves",[0,1,2,4,5,7,9,11],2),"play-e-again":Dt(9,We["E-again"],"E notes across different octaves",[0,1,2,4,5,7,9,11],2),"play-d-sharp":Dt(10,We["D#"],"E♭ notes across different octaves",[0,1,2,3,4,5,7,9,11],2),"play-a-again":Dt(11,We["A-again"],"A notes across different octaves",[0,1,2,3,4,5,7,9,11],2),"play-g-sharp":Dt(12,We["G#"],"A♭ notes across different octaves",[0,1,2,3,4,5,7,8,9,11],2),"play-b-again":Dt(13,We["B-again"],"B notes across different octaves",[0,1,2,3,4,5,7,8,9,11],2),"play-a-sharp":Dt(14,We["A#"],"B♭ notes across different octaves",[0,1,2,3,4,5,7,8,9,10,11],2),"play-f-again":Dt(15,We["F-again"],"F notes across different octaves",[0,1,2,3,4,5,7,8,9,10,11],2),"play-f-sharp":Dt(16,We["F#"],"F# notes across different octaves",[0,1,2,3,4,5,6,7,8,9,10,11],2),"play-chromatic-ascending":{id:"play-chromatic-ascending",description:"Play notes in ascending chromatic order, starting from A0",total:Ko.length,requiredProgress:Ko.length,keyboardMapping:Ru(Fo,Ko),colorMode:"chromatic",chromaticNotes:Array.from(new Set(Fo.map(t=>t.note))),checker:fn(Fo),previousTaskId:"play-f-sharp"},"play-chromatic-descending":{id:"play-chromatic-descending",description:"Play notes in descending chromatic order, starting from C8",total:Du.length,requiredProgress:Du.length,keyboardMapping:Ru(Mu,Du),colorMode:"chromatic",chromaticNotes:Array.from(new Set(Mu.map(t=>t.note))),checker:fn(Mu),previousTaskId:"play-chromatic-ascending"},"play-chromatic-ascending-flat":{id:"play-chromatic-ascending-flat",description:"Play notes in ascending chromatic order using flat keyboard layout",total:Ko.length,requiredProgress:Ko.length,keyboardMapping:Ru(Fo,Ko),colorMode:"flat-chromatic",chromaticNotes:Array.from(new Set(Fo.map(t=>t.note))),checker:fn(Fo),previousTaskId:"play-chromatic-descending"},"play-major-seconds-from-a0":{id:"play-major-seconds-from-a0",description:"Play notes separated by major seconds, starting from A0",total:Gs.length,requiredProgress:Gs.length,keyboardMapping:np(Gs),colorMode:"flat-chromatic",chromaticNotes:Array.from(new Set(Gs.map(t=>t.note))),checker:fn(Gs),previousTaskId:"play-chromatic-ascending-flat"},"play-major-seconds-from-asharp0":{id:"play-major-seconds-from-asharp0",description:"Play notes separated by major seconds, starting from A#0",total:Ys.length,requiredProgress:Ys.length,keyboardMapping:np(Ys),colorMode:"flat-chromatic",chromaticNotes:Array.from(new Set(Ys.map(t=>t.note))),checker:fn(Ys),previousTaskId:"play-major-seconds-from-a0"},"play-lydian-scale":{id:"play-lydian-scale",description:Ce.lydian.description,total:Ce.lydian.notes.length,requiredProgress:Ce.lydian.notes.length,keyboardMapping:Ar(Ce.lydian),colorMode:"chromatic",chromaticNotes:Array.from(new Set(Ce.lydian.notes.map(t=>t.note))),checker:fn([...Ce.lydian.notes]),previousTaskId:"play-major-seconds-from-asharp0"},"play-major-scale":{id:"play-major-scale",description:Ce.major.description,total:Ce.major.notes.length,requiredProgress:Ce.major.notes.length,keyboardMapping:Ar(Ce.major,["lydian"]),colorMode:"chromatic",chromaticNotes:Array.from(new Set([...Ce.lydian.notes.map(t=>t.note),...Ce.major.notes.map(t=>t.note)])),checker:fn([...Ce.major.notes]),previousTaskId:"play-lydian-scale"},"play-mixolydian-scale":{id:"play-mixolydian-scale",description:Ce.mixolydian.description,total:Ce.mixolydian.notes.length,requiredProgress:Ce.mixolydian.notes.length,keyboardMapping:Ar(Ce.mixolydian,["lydian","major"]),colorMode:"chromatic",chromaticNotes:Array.from(new Set([...Ce.lydian.notes.map(t=>t.note),...Ce.major.notes.map(t=>t.note),...Ce.mixolydian.notes.map(t=>t.note)])),checker:fn([...Ce.mixolydian.notes]),previousTaskId:"play-major-scale"},"play-dorian-scale":{id:"play-dorian-scale",description:Ce.dorian.description,total:Ce.dorian.notes.length,requiredProgress:Ce.dorian.notes.length,keyboardMapping:Ar(Ce.dorian,["lydian","major","mixolydian"]),colorMode:"chromatic",chromaticNotes:Array.from(new Set([...Ce.lydian.notes.map(t=>t.note),...Ce.major.notes.map(t=>t.note),...Ce.mixolydian.notes.map(t=>t.note),...Ce.dorian.notes.map(t=>t.note)])),checker:fn([...Ce.dorian.notes]),previousTaskId:"play-mixolydian-scale"},"play-dorian-low-scale":{id:"play-dorian-low-scale",description:Ce.dorianLow.description,total:Ce.dorianLow.notes.length,requiredProgress:Ce.dorianLow.notes.length,keyboardMapping:Ar(Ce.dorianLow),colorMode:"chromatic",chromaticNotes:Array.from(new Set(Ce.dorianLow.notes.map(t=>t.note))),checker:fn([...Ce.dorianLow.notes]),previousTaskId:"play-dorian-scale"},"play-minor-scale":{id:"play-minor-scale",description:Ce.minor.description,total:Ce.minor.notes.length,requiredProgress:Ce.minor.notes.length,keyboardMapping:Ar(Ce.minor,["dorianLow"]),colorMode:"chromatic",chromaticNotes:Array.from(new Set([...Ce.dorianLow.notes.map(t=>t.note),...Ce.minor.notes.map(t=>t.note)])),checker:fn([...Ce.minor.notes]),previousTaskId:"play-dorian-low-scale"},"play-phrygian-scale":{id:"play-phrygian-scale",description:Ce.phrygian.description,total:Ce.phrygian.notes.length,requiredProgress:Ce.phrygian.notes.length,keyboardMapping:Ar(Ce.phrygian,["dorianLow","minor"]),colorMode:"chromatic",chromaticNotes:Array.from(new Set([...Ce.dorianLow.notes.map(t=>t.note),...Ce.minor.notes.map(t=>t.note),...Ce.phrygian.notes.map(t=>t.note)])),checker:fn([...Ce.phrygian.notes]),previousTaskId:"play-minor-scale"},"play-locrian-scale":{id:"play-locrian-scale",description:Ce.locrian.description,total:Ce.locrian.notes.length,requiredProgress:Ce.locrian.notes.length,keyboardMapping:Ar(Ce.locrian,["dorianLow","minor","phrygian"]),colorMode:"chromatic",chromaticNotes:Array.from(new Set([...Ce.dorianLow.notes.map(t=>t.note),...Ce.minor.notes.map(t=>t.note),...Ce.phrygian.notes.map(t=>t.note),...Ce.locrian.notes.map(t=>t.note)])),checker:fn([...Ce.locrian.notes]),previousTaskId:"play-phrygian-scale"},"play-c-major-chord":xn(0,"C-major"),"play-c-sharp-major-chord":xn(1,"C#-major",["C-major"]),"play-d-major-chord":xn(2,"D-major",["C-major","C#-major"]),"play-eb-major-chord":xn(3,"Eb-major",["C-major","C#-major","D-major"]),"play-e-major-chord":xn(4,"E-major",["C-major","C#-major","D-major","Eb-major"]),"play-f-major-chord":xn(5,"F-major",["C-major","C#-major","D-major","Eb-major","E-major"]),"play-f-sharp-major-chord":xn(6,"F#-major",["C-major","C#-major","D-major","Eb-major","E-major","F-major"]),"play-g-major-chord":xn(7,"G-major",["C-major","C#-major","D-major","Eb-major","E-major","F-major","F#-major"]),"play-g-sharp-major-chord":xn(8,"G#-major",["C-major","C#-major","D-major","Eb-major","E-major","F-major","F#-major","G-major"]),"play-a-major-chord":xn(9,"A-major",["C-major","C#-major","D-major","Eb-major","E-major","F-major","F#-major","G-major","G#-major"]),"play-bb-major-chord":xn(10,"Bb-major",["C-major","C#-major","D-major","Eb-major","E-major","F-major","F#-major","G-major","G#-major","A-major"]),"play-b-major-chord":xn(11,"B-major",["C-major","C#-major","D-major","Eb-major","E-major","F-major","F#-major","G-major","G#-major","A-major","Bb-major"])},tw=(t,e)=>{const n=Bt[t];return n&&e>=n.requiredProgress},nw=(t,e,n)=>{const r=Bt[t];if(!r)return!1;const o=Gt.find(l=>l.taskIds.includes(t));if(!o||o.id!==n)return!1;if(!r.previousTaskId)return!0;const s=e.find(l=>l.taskId===r.previousTaskId),a=(s==null?void 0:s.progress)||0;return tw(r.previousTaskId,a)},rp=t=>{const e=Gt.find(r=>r.taskIds.includes(t));if(!e)return null;const n=e.taskIds.indexOf(t);return n===-1||n===e.taskIds.length-1?null:e.taskIds[n+1]},rw=[1,3,-1,6,8,10,-1],Kl=[0,2,4,5,7,9,11],op=.65,co=80,ow=(t,e,n,r)=>!n||!r||!n.includes("scale")?!0:Object.values(r).some(o=>o.note===t&&o.octave===e),sw=({note:t,octave:e,style:n,keyboardKey:r,shiftedKeyboardKey:o,tonic:s,isShiftPressed:a,colorMode:l,playNotes:u,releaseNotes:h,isActive:d,activeTaskId:g,keyboardMapping:_})=>{var pe;const[E,b]=J.useState(!1),[N,O]=J.useState(!1),w=g?(pe=Bt[g])==null?void 0:pe.chromaticNotes:void 0,T=ow(t,e,g,_),A=l==="flat-chromatic"?"flat-chromatic":g!=null&&g.includes("scale")?T&&(w!=null&&w.includes(t))?"chromatic":"traditional":w!=null&&w.includes(t)?"chromatic":"traditional",R=$h(s,A),I=(t-s+12)%12,L=Kl.includes(t),z=async()=>{await u(t,e),O(!0)},V=()=>{N&&(h(t,e),O(!1))},te=()=>{b(!1),N&&V()},H=async me=>{me.preventDefault(),await z()},re=me=>{me.preventDefault(),V()},ee={...n,backgroundColor:R[t],position:"absolute",userSelect:"none",fontSize:"10px",textAlign:"center",color:ty(I),display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center",paddingBottom:"3px",boxSizing:"border-box",transform:d||N?"scale(0.9)":E?"scale(1.1)":"scale(1)",boxShadow:d||N?`0 0 10px ${L?"rgba(0, 0, 0, 0.5)":"rgba(255, 255, 255, 0.5)"}`:"none",transition:g||N||E?"transform 0.1s ease-in-out, background-color 0.1s ease-in-out, box-shadow 0.1s ease-in-out":"transform 1s ease-in-out, background-color 1s ease-in-out, box-shadow 1s ease-in-out",cursor:"pointer",zIndex:E?3:n.zIndex||1,border:A==="traditional"?"1px solid #333":"none",height:A==="flat-chromatic"?co:A==="chromatic"?L?co-2:co*op-2:L?co:co*op,top:A==="flat-chromatic"?0:A==="chromatic"?1:0};return Y.jsx("div",{style:ee,onMouseDown:z,onMouseUp:V,onMouseEnter:()=>b(!0),onMouseLeave:te,onTouchStart:H,onTouchEnd:re,children:(r||o)&&Y.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"2px",display:"flex",flexDirection:"column",alignItems:"center",gap:"1px"},children:a?o&&Y.jsx("div",{children:o}):r&&Y.jsx("div",{children:r})})})},sp=(t,e=!1)=>e?t-3:t+3,ip=({totalWidth:t})=>Y.jsxs("div",{style:{position:"absolute",top:-30,left:t*.58,width:t*.42,textAlign:"center",color:"white",fontSize:"14px",display:"flex",justifyContent:"center",alignItems:"center",gap:"8px"},children:[Y.jsx("div",{style:{flex:1,height:"1px",background:"rgba(255,255,255,0.3)"}}),Y.jsx("div",{children:"Shift"}),Y.jsx("div",{style:{flex:1,height:"1px",background:"rgba(255,255,255,0.3)"}})]}),ho={0:{start:9,length:3},1:{start:0,length:12},2:{start:0,length:12},3:{start:0,length:12},4:{start:0,length:12},5:{start:0,length:12},6:{start:0,length:12},7:{start:0,length:12},8:{start:0,length:1}},Dc=(t,e)=>{let n=0;for(let r=0;r<e;r++)Kl.includes((t+r)%12)&&n++;return n},ap=({note:t,octave:e,keyWidth:n,isPlayed:r,isCurrent:o,isSetMode:s,colorMode:a})=>{const l=Da(t,e,n,a);return console.log("[TaskIndicator] Rendering:",{note:t,octave:e,isPlayed:r,isCurrent:o,isSetMode:s,left:l}),Y.jsx("div",{style:{position:"absolute",left:l,bottom:0,color:r?"#4ade80":"white",fontSize:"20px",transform:o?"translateY(-5px)":"none",transition:"transform 0.2s ease-in-out",width:a==="flat-chromatic"?n*(7/12):n,display:"flex",justifyContent:"center",alignItems:"center"},children:r?"✓":o?"↓":""})},iw=({taskConfig:t,totalWidth:e,keyWidth:n,activeKeysCount:r,isCompleting:o,colorMode:s,currentIndex:a,playedNotes:l})=>{const u=t.checker.type==="sequence"?t.checker.getState(a):t.checker.getState(l);return console.log("[TaskIndicators] Checker state:",{type:t.checker.type,state:u,currentIndex:a,playedNotes:l}),Y.jsxs("div",{style:{position:"absolute",top:-30,left:0,width:e,height:"30px",display:"flex",alignItems:"flex-end"},children:[o&&r>0&&Y.jsx("div",{style:{position:"absolute",top:0,left:"50%",transform:"translateX(-50%)",color:"rgba(255, 255, 255, 0.5)",fontSize:"14px",whiteSpace:"nowrap",padding:"4px 12px",borderRadius:"4px",background:"rgba(0, 0, 0, 0.6)"},children:"Release all keys to continue"}),!o&&Y.jsxs(Y.Fragment,{children:[u.completedNotes.map(({note:h,octave:d})=>(console.log("[TaskIndicator] Rendering completed note:",{note:h,octave:d}),Y.jsx(ap,{note:h,octave:d,keyWidth:n,isPlayed:!0,colorMode:s},`completed-${h}-${d}`))),u.activeTargets.map(({note:h,octave:d})=>(console.log("[TaskIndicator] Rendering active target:",{note:h,octave:d}),Y.jsx(ap,{note:h,octave:d,keyWidth:n,isCurrent:!0,colorMode:s},`active-${h}-${d}`)))]})]})},Da=(t,e,n,r)=>{if(r==="flat-chromatic"){let u=0;for(let d=0;d<e;d++)u+=ho[d].length;const h=ho[e];return u+=t-h.start,n*(7/12)*(u+.5)}const o=Kl.includes(t);let s=0;for(let u=0;u<e;u++)s+=Dc(ho[u].start,ho[u].length);const a=ho[e],l=t-a.start;return s+=Dc(a.start,l),n*(o?s:s-.5)},aw=({tonic:t,setTonic:e,colorMode:n,onColorModeChange:r,currentVoicing:o,onVoicingChange:s,playNotes:a,releaseNotes:l,fallingNotes:u,currentlyPlayingId:h,onStopPlaying:d,taskKeyboardMapping:g,activeTaskId:_,taskProgress:E,taskPlayedNotes:b,state:N})=>{const[O,w]=J.useState(!1),[T,A]=J.useState(new Set),[R,I]=J.useState([]),L=(he,Q)=>R.some(X=>X.note===he&&X.octave===Q);J.useEffect(()=>{const he=async X=>{const K=Pu(n,g);if(X.ctrlKey&&X.code in K){const{note:P}=K[X.code];e(P%12);return}if(!T.has(X.code)&&(A(P=>new Set([...P,X.code])),X.code in K)){const{note:P,octave:W}=K[X.code],G=X.shiftKey?sp(W):W;await a(P,G)}},Q=X=>{const K=Pu(n,g);if(A(P=>{const W=new Set(P);return W.delete(X.code),W}),X.code in K){const{note:P,octave:W}=K[X.code],G=W,ae=sp(W);[G,ae].forEach(oe=>{l(P,oe)})}};return window.addEventListener("keydown",he),window.addEventListener("keyup",Q),()=>{window.removeEventListener("keydown",he),window.removeEventListener("keyup",Q)}},[T,a,l,e,n,g]),J.useEffect(()=>{const he=X=>{X.key==="Shift"&&w(!0)},Q=X=>{X.key==="Shift"&&w(!1)};return window.addEventListener("keydown",he),window.addEventListener("keyup",Q),()=>{window.removeEventListener("keydown",he),window.removeEventListener("keyup",Q)}},[]),J.useEffect(()=>{const he=u.filter(Q=>!Q.endTime).map(Q=>({note:Q.note,octave:Q.octave}));I(he)},[u]);const z=Object.values(ho).reduce((he,Q)=>he+Dc(Q.start,Q.length),0),V=40,te=he=>(he-V)/z,[H,re]=J.useState(25);J.useEffect(()=>{const he=()=>{const Q=window.innerWidth-600,X=te(Q);re(X)};return he(),window.addEventListener("resize",he),()=>window.removeEventListener("resize",he)},[]);const ee=z*H,pe={onNoteStart:a,onNoteEnd:l,tonic:t,isShiftPressed:O,colorMode:n,playNotes:a,releaseNotes:l,activeTaskId:_},me=Da(0,1,H,"traditional"),Se=Da(0,2,H,"traditional"),ce=(he,Q)=>{var P;const X=Pu(n,g),K=(P=Object.entries(X).find(([,W])=>W.note===he&&W.octave===Q))==null?void 0:P[0];if(K)return ei[K]};return Y.jsxs("div",{style:{position:"fixed",top:0,left:"600px",right:0,bottom:0,backgroundColor:"black",padding:"5px",display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden"},children:[h&&Y.jsx(Q_,{className:"w-8 h-8 text-red-500 hover:text-red-400 cursor-pointer absolute bottom-4 left-4 z-50",onClick:d}),Y.jsxs("div",{style:{position:"relative",width:ee,marginTop:"40px",marginLeft:V/2,marginRight:V/2},children:[_===null&&g===void 0&&Y.jsx(ip,{totalWidth:ee}),_===null&&g===void 0?Y.jsxs(Y.Fragment,{children:[Y.jsx(ip,{totalWidth:ee}),Y.jsx(G_,{tonic:t,onTonicChange:e,colorMode:n,onColorModeChange:r,currentVoicing:o,onVoicingChange:s})]}):Y.jsx("div",{style:{height:"40px"}}),Object.entries(ho).map(([he,Q])=>{const X=parseInt(he);return Array.from({length:Q.length},(K,P)=>{const W=(Q.start+P)%12,G=Kl.includes(W),ae={width:n==="flat-chromatic"?H*(7/12):H,height:co,borderRadius:"0 0 5px 5px"};return n==="flat-chromatic"||G||rw.indexOf(W)!==-1?Y.jsx(sw,{...pe,note:W,octave:X,isActive:L(W,X),keyboardKey:ce(W,X),shiftedKeyboardKey:ce(W,X),style:{...ae,width:n==="flat-chromatic"?H*(7/12):G?H:H-3,left:Da(W,X,H,n),zIndex:n==="flat-chromatic"||G?1:2},activeTaskId:_,keyboardMapping:g},`${X}-${W}`):null})}),Y.jsx(z_,{notes:u,tonic:t,colorMode:n,fallingNoteWidth:H/6*7,referencePoints:{c1:{note:12,left:me},c2:{note:24,left:Se}}}),_&&Bt[_]&&(()=>{const he={...Bt[_],playedNotes:b[_]||new Set},Q=E.some(X=>X.taskId===_&&X.status==="completing");return Y.jsx(iw,{taskConfig:he,totalWidth:ee,keyWidth:H,activeKeysCount:T.size,isCompleting:Q,colorMode:n,currentIndex:N.sequenceIndices[_]||0,playedNotes:b[_]||new Set})})()]})]})},oy="15.0.4",lp=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),up=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),Rc=(t,e)=>({startTime:e,type:"setValue",value:t}),sy=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),iy=(t,e,{startTime:n,target:r,timeConstant:o})=>r+(e-r)*Math.exp((n-t)/o),Jo=t=>t.type==="exponentialRampToValue",cl=t=>t.type==="linearRampToValue",Dr=t=>Jo(t)||cl(t),qh=t=>t.type==="setValue",ur=t=>t.type==="setValueCurve",hl=(t,e,n,r)=>{const o=t[e];return o===void 0?r:Dr(o)||qh(o)?o.value:ur(o)?o.values[o.values.length-1]:iy(n,hl(t,e-1,o.startTime,r),o)},cp=(t,e,n,r,o)=>n===void 0?[r.insertTime,o]:Dr(n)?[n.endTime,n.value]:qh(n)?[n.startTime,n.value]:ur(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,hl(t,e-1,n.startTime,o)],jc=t=>t.type==="cancelAndHold",Lc=t=>t.type==="cancelScheduledValues",Ir=t=>jc(t)||Lc(t)?t.cancelTime:Jo(t)||cl(t)?t.endTime:t.startTime,hp=(t,e,n,{endTime:r,value:o})=>n===o?o:0<n&&0<o||n<0&&o<0?n*(o/n)**((t-e)/(r-e)):0,dp=(t,e,n,{endTime:r,value:o})=>n+(t-e)/(r-e)*(o-n),lw=(t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},uw=(t,{duration:e,startTime:n,values:r})=>{const o=(t-n)/e*(r.length-1);return lw(r,o)},ga=t=>t.type==="setTarget";class cw{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=Ir(e);if(jc(e)||Lc(e)){const r=this._automationEvents.findIndex(s=>Lc(e)&&ur(s)?s.startTime+s.duration>=n:Ir(s)>=n),o=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),jc(e)){const s=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&Dr(o)){if(s!==void 0&&ga(s))throw new Error("The internal list is malformed.");const a=s===void 0?o.insertTime:ur(s)?s.startTime+s.duration:Ir(s),l=s===void 0?this._defaultValue:ur(s)?s.values[s.values.length-1]:s.value,u=Jo(o)?hp(n,a,l,o):dp(n,a,l,o),h=Jo(o)?lp(u,n,this._currenTime):up(u,n,this._currenTime);this._automationEvents.push(h)}if(s!==void 0&&ga(s)&&this._automationEvents.push(Rc(this.getValue(n),n)),s!==void 0&&ur(s)&&s.startTime+s.duration>n){const a=n-s.startTime,l=(s.values.length-1)/s.duration,u=Math.max(2,1+Math.ceil(a*l)),h=a/(u-1)*l,d=s.values.slice(0,u);if(h<1)for(let g=1;g<u;g+=1){const _=h*g%1;d[g]=s.values[g-1]*(1-_)+s.values[g]*_}this._automationEvents[this._automationEvents.length-1]=sy(d,s.startTime,a)}}}else{const r=this._automationEvents.findIndex(a=>Ir(a)>n),o=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(o!==void 0&&ur(o)&&Ir(o)+o.duration>n)return!1;const s=Jo(e)?lp(e.value,e.endTime,this._currenTime):cl(e)?up(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(s);else{if(ur(e)&&n+e.duration>Ir(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,s)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>Ir(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),o=r[0];ga(o)&&r.unshift(Rc(hl(this._automationEvents,n-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(a=>Ir(a)>e),r=this._automationEvents[n],o=(n===-1?this._automationEvents.length:n)-1,s=this._automationEvents[o];if(s!==void 0&&ga(s)&&(r===void 0||!Dr(r)||r.insertTime>e))return iy(e,hl(this._automationEvents,o-1,s.startTime,this._defaultValue),s);if(s!==void 0&&qh(s)&&(r===void 0||!Dr(r)))return s.value;if(s!==void 0&&ur(s)&&(r===void 0||!Dr(r)||s.startTime+s.duration>e))return e<s.startTime+s.duration?uw(e,s):s.values[s.values.length-1];if(s!==void 0&&Dr(s)&&(r===void 0||!Dr(r)))return s.value;if(r!==void 0&&Jo(r)){const[a,l]=cp(this._automationEvents,o,s,r,this._defaultValue);return hp(e,a,l,r)}if(r!==void 0&&cl(r)){const[a,l]=cp(this._automationEvents,o,s,r,this._defaultValue);return dp(e,a,l,r)}return this._defaultValue}}const hw=t=>({cancelTime:t,type:"cancelAndHold"}),dw=t=>({cancelTime:t,type:"cancelScheduledValues"}),fw=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),pw=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),mw=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),gw=()=>new DOMException("","AbortError"),yw=t=>(e,n,[r,o,s],a)=>{t(e[o],[n,r,s],l=>l[0]===n&&l[1]===r,a)},vw=t=>(e,n,r)=>{const o=[];for(let s=0;s<r.numberOfInputs;s+=1)o.push(new Set);t.set(e,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},_w=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},ys=new WeakSet,ay=new WeakMap,Hh=new WeakMap,ly=new WeakMap,Gh=new WeakMap,Vl=new WeakMap,uy=new WeakMap,Fc=new WeakMap,Kc=new WeakMap,Vc=new WeakMap,cy={construct(){return cy}},ww=t=>{try{const e=new Proxy(t,cy);new e}catch{return!1}return!0},fp=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,pp=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),o=r.match(fp);for(;o!==null;){const s=o[1].slice(1,-1),a=o[0].replace(/([\s]+)?;?$/,"").replace(s,new URL(s,e).toString());n.push(a),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(fp)}return[n.join(";"),r]},mp=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},gp=t=>{if(!ww(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Sw=(t,e,n,r,o,s,a,l,u,h,d,g,_)=>{let E=0;return(b,N,O={credentials:"omit"})=>{const w=d.get(b);if(w!==void 0&&w.has(N))return Promise.resolve();const T=h.get(b);if(T!==void 0){const I=T.get(N);if(I!==void 0)return I}const A=s(b),R=A.audioWorklet===void 0?o(N).then(([I,L])=>{const[z,V]=pp(I,L),te=`${z};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${V}
})})(window,'_AWGS')`;return n(te)}).then(()=>{const I=_._AWGS.pop();if(I===void 0)throw new SyntaxError;r(A.currentTime,A.sampleRate,()=>I(class{},void 0,(L,z)=>{if(L.trim()==="")throw e();const V=Kc.get(A);if(V!==void 0){if(V.has(L))throw e();gp(z),mp(z.parameterDescriptors),V.set(L,z)}else gp(z),mp(z.parameterDescriptors),Kc.set(A,new Map([[L,z]]))},A.sampleRate,void 0,void 0))}):Promise.all([o(N),Promise.resolve(t(g,g))]).then(([[I,L],z])=>{const V=E+1;E=V;const[te,H]=pp(I,L),me=`${te};((AudioWorkletProcessor,registerProcessor)=>{${H}
})(${z?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${z?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${z?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${V}',class extends AudioWorkletProcessor{process(){return !1}})`,Se=new Blob([me],{type:"application/javascript; charset=utf-8"}),ce=URL.createObjectURL(Se);return A.audioWorklet.addModule(ce,O).then(()=>{if(l(A))return A;const he=a(A);return he.audioWorklet.addModule(ce,O).then(()=>he)}).then(he=>{if(u===null)throw new SyntaxError;try{new u(he,`__sac${V}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(ce))});return T===void 0?h.set(b,new Map([[N,R]])):T.set(N,R),R.then(()=>{const I=d.get(b);I===void 0?d.set(b,new Set([N])):I.add(N)}).finally(()=>{const I=h.get(b);I!==void 0&&I.delete(N)}),R}},qn=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},Bl=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},hy=(t,e,n,r)=>{const o=qn(t,e),s=Bl(o,a=>a[0]===n&&a[1]===r);return o.size===0&&t.delete(e),s},Ki=t=>qn(uy,t),vs=t=>{if(ys.has(t))throw new Error("The AudioNode is already stored.");ys.add(t),Ki(t).forEach(e=>e(!0))},dy=t=>"port"in t,Vi=t=>{if(!ys.has(t))throw new Error("The AudioNode is not stored.");ys.delete(t),Ki(t).forEach(e=>e(!1))},Bc=(t,e)=>{!dy(t)&&e.every(n=>n.size===0)&&Vi(t)},kw=(t,e,n,r,o,s,a,l,u,h,d,g,_)=>{const E=new WeakMap;return(b,N,O,w,T)=>{const{activeInputs:A,passiveInputs:R}=s(N),{outputs:I}=s(b),L=l(b),z=V=>{const te=u(N),H=u(b);if(V){const re=hy(R,b,O,w);t(A,b,re,!1),!T&&!g(b)&&n(H,te,O,w),_(N)&&vs(N)}else{const re=r(A,b,O,w);e(R,w,re,!1),!T&&!g(b)&&o(H,te,O,w);const ee=a(N);if(ee===0)d(N)&&Bc(N,A);else{const pe=E.get(N);pe!==void 0&&clearTimeout(pe),E.set(N,setTimeout(()=>{d(N)&&Bc(N,A)},ee*1e3))}}};return h(I,[N,O,w],V=>V[0]===N&&V[1]===O&&V[2]===w,!0)?(L.add(z),d(b)?t(A,b,[O,w,z],!0):e(R,w,[b,O,z],!0),!0):!1}},xw=t=>(e,n,[r,o,s],a)=>{const l=e.get(r);l===void 0?e.set(r,new Set([[o,n,s]])):t(l,[o,n,s],u=>u[0]===o&&u[1]===n,a)},Cw=t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const o=()=>{n.removeEventListener("ended",o),n.disconnect(r),r.disconnect()};n.addEventListener("ended",o)},Tw=t=>(e,n)=>{t(e).add(n)},Ew={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},bw=(t,e,n,r,o,s)=>class extends t{constructor(l,u){const h=o(l),d={...Ew,...u},g=r(h,d),_=s(h)?e():null;super(l,!1,g,_),this._nativeAnalyserNode=g}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(l){this._nativeAnalyserNode.fftSize=l}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(l){const u=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=l,!(l>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=u,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(l){const u=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=l,!(this._nativeAnalyserNode.maxDecibels>l))throw this._nativeAnalyserNode.minDecibels=u,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(l){this._nativeAnalyserNode.smoothingTimeConstant=l}getByteFrequencyData(l){this._nativeAnalyserNode.getByteFrequencyData(l)}getByteTimeDomainData(l){this._nativeAnalyserNode.getByteTimeDomainData(l)}getFloatFrequencyData(l){this._nativeAnalyserNode.getFloatFrequencyData(l)}getFloatTimeDomainData(l){this._nativeAnalyserNode.getFloatTimeDomainData(l)}},$t=(t,e)=>t.context===e,Nw=(t,e,n)=>()=>{const r=new WeakMap,o=async(s,a)=>{let l=e(s);if(!$t(l,a)){const h={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,fftSize:l.fftSize,maxDecibels:l.maxDecibels,minDecibels:l.minDecibels,smoothingTimeConstant:l.smoothingTimeConstant};l=t(a,h)}return r.set(a,l),await n(s,a,l),l};return{render(s,a){const l=r.get(a);return l!==void 0?Promise.resolve(l):o(s,a)}}},dl=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},rr=()=>new DOMException("","IndexSizeError"),Yh=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?rr():r}})(t.getChannelData)},Ow={numberOfChannels:1},Aw=(t,e,n,r,o,s,a,l)=>{let u=null;return class fy{constructor(d){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:g,numberOfChannels:_,sampleRate:E}={...Ow,...d};u===null&&(u=new o(1,1,44100));const b=r!==null&&e(s,s)?new r({length:g,numberOfChannels:_,sampleRate:E}):u.createBuffer(_,g,E);if(b.numberOfChannels===0)throw n();return typeof b.copyFromChannel!="function"?(a(b),Yh(b)):e(dl,()=>dl(b))||l(b),t.add(b),b}static[Symbol.hasInstance](d){return d!==null&&typeof d=="object"&&Object.getPrototypeOf(d)===fy.prototype||t.has(d)}}},rn=-34028234663852886e22,Yt=-rn,mr=t=>ys.has(t),Iw={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Pw=(t,e,n,r,o,s,a,l)=>class extends t{constructor(h,d){const g=s(h),_={...Iw,...d},E=o(g,_),b=a(g),N=b?e():null;super(h,!1,E,N),this._audioBufferSourceNodeRenderer=N,this._isBufferNullified=!1,this._isBufferSet=_.buffer!==null,this._nativeAudioBufferSourceNode=E,this._onended=null,this._playbackRate=n(this,b,E.playbackRate,Yt,rn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(h){if(this._nativeAudioBufferSourceNode.buffer=h,h!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(h){this._nativeAudioBufferSourceNode.loop=h}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(h){this._nativeAudioBufferSourceNode.loopEnd=h}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(h){this._nativeAudioBufferSourceNode.loopStart=h}get onended(){return this._onended}set onended(h){const d=typeof h=="function"?l(this,h):null;this._nativeAudioBufferSourceNode.onended=d;const g=this._nativeAudioBufferSourceNode.onended;this._onended=g!==null&&g===d?h:g}get playbackRate(){return this._playbackRate}start(h=0,d=0,g){if(this._nativeAudioBufferSourceNode.start(h,d,g),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=g===void 0?[h,d]:[h,d,g]),this.context.state!=="closed"){vs(this);const _=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",_),mr(this)&&Vi(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",_)}}stop(h=0){this._nativeAudioBufferSourceNode.stop(h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=h)}},Mw=(t,e,n,r,o)=>()=>{const s=new WeakMap;let a=null,l=null;const u=async(h,d)=>{let g=n(h);const _=$t(g,d);if(!_){const E={buffer:g.buffer,channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,loop:g.loop,loopEnd:g.loopEnd,loopStart:g.loopStart,playbackRate:g.playbackRate.value};g=e(d,E),a!==null&&g.start(...a),l!==null&&g.stop(l)}return s.set(d,g),_?await t(d,h.playbackRate,g.playbackRate):await r(d,h.playbackRate,g.playbackRate),await o(h,d,g),g};return{set start(h){a=h},set stop(h){l=h},render(h,d){const g=s.get(d);return g!==void 0?Promise.resolve(g):u(h,d)}}},Dw=t=>"playbackRate"in t,Rw=t=>"frequency"in t&&"gain"in t,jw=t=>"offset"in t,Lw=t=>!("frequency"in t)&&"gain"in t,Fw=t=>"detune"in t&&"frequency"in t&&!("gain"in t),Kw=t=>"pan"in t,Qt=t=>qn(ay,t),Bi=t=>qn(ly,t),zc=(t,e)=>{const{activeInputs:n}=Qt(t);n.forEach(o=>o.forEach(([s])=>{e.includes(t)||zc(s,[...e,t])}));const r=Dw(t)?[t.playbackRate]:dy(t)?Array.from(t.parameters.values()):Rw(t)?[t.Q,t.detune,t.frequency,t.gain]:jw(t)?[t.offset]:Lw(t)?[t.gain]:Fw(t)?[t.detune,t.frequency]:Kw(t)?[t.pan]:[];for(const o of r){const s=Bi(o);s!==void 0&&s.activeInputs.forEach(([a])=>zc(a,e))}mr(t)&&Vi(t)},py=t=>{zc(t.destination,[])},Vw=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),Bw=(t,e,n,r,o,s,a,l,u)=>class extends t{constructor(d={}){if(u===null)throw new Error("Missing the native AudioContext constructor.");let g;try{g=new u(d)}catch(b){throw b.code===12&&b.message==="sampleRate is not in range"?n():b}if(g===null)throw r();if(!Vw(d.latencyHint))throw new TypeError(`The provided value '${d.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(d.sampleRate!==void 0&&g.sampleRate!==d.sampleRate)throw n();super(g,2);const{latencyHint:_}=d,{sampleRate:E}=g;if(this._baseLatency=typeof g.baseLatency=="number"?g.baseLatency:_==="balanced"?512/E:_==="interactive"||_===void 0?256/E:_==="playback"?1024/E:Math.max(2,Math.min(128,Math.round(_*E/128)))*128/E,this._nativeAudioContext=g,u.name==="webkitAudioContext"?(this._nativeGainNode=g.createGain(),this._nativeOscillatorNode=g.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(g.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,g.state==="running"){this._state="suspended";const b=()=>{this._state==="suspended"&&(this._state=null),g.removeEventListener("statechange",b)};g.addEventListener("statechange",b)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),py(this)}))}createMediaElementSource(d){return new o(this,{mediaElement:d})}createMediaStreamDestination(){return new s(this)}createMediaStreamSource(d){return new a(this,{mediaStream:d})}createMediaStreamTrackSource(d){return new l(this,{mediaStreamTrack:d})}resume(){return this._state==="suspended"?new Promise((d,g)=>{const _=()=>{this._nativeAudioContext.removeEventListener("statechange",_),this._nativeAudioContext.state==="running"?d():this.resume().then(d,g)};this._nativeAudioContext.addEventListener("statechange",_)}):this._nativeAudioContext.resume().catch(d=>{throw d===void 0||d.code===15?e():d})}suspend(){return this._nativeAudioContext.suspend().catch(d=>{throw d===void 0?e():d})}},zw=(t,e,n,r,o,s,a,l)=>class extends t{constructor(h,d){const g=s(h),_=a(g),E=o(g,d,_),b=_?e(l):null;super(h,!1,E,b),this._isNodeOfNativeOfflineAudioContext=_,this._nativeAudioDestinationNode=E}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(h){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(h>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=h}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(h){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=h}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},Uw=t=>{const e=new WeakMap,n=async(r,o)=>{const s=o.destination;return e.set(o,s),await t(r,o,s),s};return{render(r,o){const s=e.get(o);return s!==void 0?Promise.resolve(s):n(r,o)}}},Ww=(t,e,n,r,o,s,a,l)=>(u,h)=>{const d=h.listener,g=()=>{const I=new Float32Array(1),L=e(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),z=a(h);let V=!1,te=[0,0,-1,0,1,0],H=[0,0,0];const re=()=>{if(V)return;V=!0;const Se=r(h,256,9,0);Se.onaudioprocess=({inputBuffer:ce})=>{const he=[s(ce,I,0),s(ce,I,1),s(ce,I,2),s(ce,I,3),s(ce,I,4),s(ce,I,5)];he.some((X,K)=>X!==te[K])&&(d.setOrientation(...he),te=he);const Q=[s(ce,I,6),s(ce,I,7),s(ce,I,8)];Q.some((X,K)=>X!==H[K])&&(d.setPosition(...Q),H=Q)},L.connect(Se)},ee=Se=>ce=>{ce!==te[Se]&&(te[Se]=ce,d.setOrientation(...te))},pe=Se=>ce=>{ce!==H[Se]&&(H[Se]=ce,d.setPosition(...H))},me=(Se,ce,he)=>{const Q=n(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ce});Q.connect(L,0,Se),Q.start(),Object.defineProperty(Q.offset,"defaultValue",{get(){return ce}});const X=t({context:u},z,Q.offset,Yt,rn);return l(X,"value",K=>()=>K.call(X),K=>P=>{try{K.call(X,P)}catch(W){if(W.code!==9)throw W}re(),z&&he(P)}),X.cancelAndHoldAtTime=(K=>z?()=>{throw o()}:(...P)=>{const W=K.apply(X,P);return re(),W})(X.cancelAndHoldAtTime),X.cancelScheduledValues=(K=>z?()=>{throw o()}:(...P)=>{const W=K.apply(X,P);return re(),W})(X.cancelScheduledValues),X.exponentialRampToValueAtTime=(K=>z?()=>{throw o()}:(...P)=>{const W=K.apply(X,P);return re(),W})(X.exponentialRampToValueAtTime),X.linearRampToValueAtTime=(K=>z?()=>{throw o()}:(...P)=>{const W=K.apply(X,P);return re(),W})(X.linearRampToValueAtTime),X.setTargetAtTime=(K=>z?()=>{throw o()}:(...P)=>{const W=K.apply(X,P);return re(),W})(X.setTargetAtTime),X.setValueAtTime=(K=>z?()=>{throw o()}:(...P)=>{const W=K.apply(X,P);return re(),W})(X.setValueAtTime),X.setValueCurveAtTime=(K=>z?()=>{throw o()}:(...P)=>{const W=K.apply(X,P);return re(),W})(X.setValueCurveAtTime),X};return{forwardX:me(0,0,ee(0)),forwardY:me(1,0,ee(1)),forwardZ:me(2,-1,ee(2)),positionX:me(6,0,pe(0)),positionY:me(7,0,pe(1)),positionZ:me(8,0,pe(2)),upX:me(3,0,ee(3)),upY:me(4,1,ee(4)),upZ:me(5,0,ee(5))}},{forwardX:_,forwardY:E,forwardZ:b,positionX:N,positionY:O,positionZ:w,upX:T,upY:A,upZ:R}=d.forwardX===void 0?g():d;return{get forwardX(){return _},get forwardY(){return E},get forwardZ(){return b},get positionX(){return N},get positionY(){return O},get positionZ(){return w},get upX(){return T},get upY(){return A},get upZ(){return R}}},fl=t=>"context"in t,zi=t=>fl(t[0]),Io=(t,e,n,r)=>{for(const o of t)if(n(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},yp=(t,e,[n,r],o)=>{Io(t,[e,n,r],s=>s[0]===e&&s[1]===n,o)},vp=(t,[e,n,r],o)=>{const s=t.get(e);s===void 0?t.set(e,new Set([[n,r]])):Io(s,[n,r],a=>a[0]===n,o)},As=t=>"inputs"in t,pl=(t,e,n,r)=>{if(As(e)){const o=e.inputs[r];return t.connect(o,n,0),[o,n,0]}return t.connect(e,n,r),[e,n,r]},my=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},$w=(t,e,n)=>Bl(t,r=>r[0]===e&&r[1]===n),gy=(t,e)=>{if(!Ki(t).delete(e))throw new Error("Missing the expected event listener.")},yy=(t,e,n)=>{const r=qn(t,e),o=Bl(r,s=>s[0]===n);return r.size===0&&t.delete(e),o},ml=(t,e,n,r)=>{As(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},ot=t=>qn(Hh,t),Ai=t=>qn(Gh,t),Eo=t=>Fc.has(t),Ra=t=>!ys.has(t),_p=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),o=t.createGain(),s=t.createBuffer(1,2,44100),a=s.getChannelData(0);a[0]=1,a[1]=1;const l=t.createBufferSource();l.buffer=s,l.loop=!0,l.connect(r).connect(t.destination),l.connect(o),l.disconnect(o),r.onaudioprocess=u=>{const h=u.inputBuffer.getChannelData(0);Array.prototype.some.call(h,d=>d===1)?n(!0):n(!1),l.stop(),r.onaudioprocess=null,l.disconnect(r),r.disconnect(t.destination)},l.start()}}),ju=(t,e)=>{const n=new Map;for(const r of t)for(const o of r){const s=n.get(o);n.set(o,s===void 0?1:s+1)}n.forEach((r,o)=>e(o,r))},gl=t=>"context"in t,qw=t=>{const e=new Map;t.connect=(n=>(r,o=0,s=0)=>{const a=gl(r)?n(r,o,s):n(r,o),l=e.get(r);return l===void 0?e.set(r,[{input:s,output:o}]):l.every(u=>u.input!==s||u.output!==o)&&l.push({input:s,output:o}),a})(t.connect.bind(t)),t.disconnect=(n=>(r,o,s)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[a,l]of e){const u=l.filter(h=>h.output!==r);u.length===0?e.delete(a):e.set(a,u)}else if(e.has(r))if(o===void 0)e.delete(r);else{const a=e.get(r);if(a!==void 0){const l=a.filter(u=>u.output!==o&&(u.input!==s||s===void 0));l.length===0?e.delete(r):e.set(r,l)}}for(const[a,l]of e)l.forEach(u=>{gl(a)?t.connect(a,u.output,u.input):t.connect(a,u.output)})})(t.disconnect)},Hw=(t,e,n,r)=>{const{activeInputs:o,passiveInputs:s}=Bi(e),{outputs:a}=Qt(t),l=Ki(t),u=h=>{const d=ot(t),g=Ai(e);if(h){const _=yy(s,t,n);yp(o,t,_,!1),!r&&!Eo(t)&&d.connect(g,n)}else{const _=$w(o,t,n);vp(s,_,!1),!r&&!Eo(t)&&d.disconnect(g,n)}};return Io(a,[e,n],h=>h[0]===e&&h[1]===n,!0)?(l.add(u),mr(t)?yp(o,t,[n,u],!0):vp(s,[t,n,u],!0),!0):!1},Gw=(t,e,n,r)=>{const{activeInputs:o,passiveInputs:s}=Qt(e),a=my(o[r],t,n);return a===null?[hy(s,t,n,r)[2],!1]:[a[2],!0]},Yw=(t,e,n)=>{const{activeInputs:r,passiveInputs:o}=Bi(e),s=my(r,t,n);return s===null?[yy(o,t,n)[1],!1]:[s[2],!0]},Qh=(t,e,n,r,o)=>{const[s,a]=Gw(t,n,r,o);if(s!==null&&(gy(t,s),a&&!e&&!Eo(t)&&ml(ot(t),ot(n),r,o)),mr(n)){const{activeInputs:l}=Qt(n);Bc(n,l)}},Xh=(t,e,n,r)=>{const[o,s]=Yw(t,n,r);o!==null&&(gy(t,o),s&&!e&&!Eo(t)&&ot(t).disconnect(Ai(n),r))},Qw=(t,e)=>{const n=Qt(t),r=[];for(const o of n.outputs)zi(o)?Qh(t,e,...o):Xh(t,e,...o),r.push(o[0]);return n.outputs.clear(),r},Xw=(t,e,n)=>{const r=Qt(t),o=[];for(const s of r.outputs)s[1]===n&&(zi(s)?Qh(t,e,...s):Xh(t,e,...s),o.push(s[0]),r.outputs.delete(s));return o},Zw=(t,e,n,r,o)=>{const s=Qt(t);return Array.from(s.outputs).filter(a=>a[0]===n&&(r===void 0||a[1]===r)&&(o===void 0||a[2]===o)).map(a=>(zi(a)?Qh(t,e,...a):Xh(t,e,...a),s.outputs.delete(a),a[0]))},Jw=(t,e,n,r,o,s,a,l,u,h,d,g,_,E,b,N)=>class extends h{constructor(w,T,A,R){super(A),this._context=w,this._nativeAudioNode=A;const I=d(w);g(I)&&n(_p,()=>_p(I,N))!==!0&&qw(A),Hh.set(this,A),uy.set(this,new Set),w.state!=="closed"&&T&&vs(this),t(this,R,A)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(w){this._nativeAudioNode.channelCount=w}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(w){this._nativeAudioNode.channelCountMode=w}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(w){this._nativeAudioNode.channelInterpretation=w}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(w,T=0,A=0){if(T<0||T>=this._nativeAudioNode.numberOfOutputs)throw o();const R=d(this._context),I=b(R);if(_(w)||E(w))throw s();if(fl(w)){const V=ot(w);try{const H=pl(this._nativeAudioNode,V,T,A),re=Ra(this);(I||re)&&this._nativeAudioNode.disconnect(...H),this.context.state!=="closed"&&!re&&Ra(w)&&vs(w)}catch(H){throw H.code===12?s():H}if(e(this,w,T,A,I)){const H=u([this],w);ju(H,r(I))}return w}const L=Ai(w);if(L.name==="playbackRate"&&L.maxValue===1024)throw a();try{this._nativeAudioNode.connect(L,T),(I||Ra(this))&&this._nativeAudioNode.disconnect(L,T)}catch(V){throw V.code===12?s():V}if(Hw(this,w,T,I)){const V=u([this],w);ju(V,r(I))}}disconnect(w,T,A){let R;const I=d(this._context),L=b(I);if(w===void 0)R=Qw(this,L);else if(typeof w=="number"){if(w<0||w>=this.numberOfOutputs)throw o();R=Xw(this,L,w)}else{if(T!==void 0&&(T<0||T>=this.numberOfOutputs)||fl(w)&&A!==void 0&&(A<0||A>=w.numberOfInputs))throw o();if(R=Zw(this,L,w,T,A),R.length===0)throw s()}for(const z of R){const V=u([this],z);ju(V,l)}}},eS=(t,e,n,r,o,s,a,l,u,h,d,g,_)=>(E,b,N,O=null,w=null)=>{const T=N.value,A=new cw(T),R=b?r(A):null,I={get defaultValue(){return T},get maxValue(){return O===null?N.maxValue:O},get minValue(){return w===null?N.minValue:w},get value(){return N.value},set value(L){N.value=L,I.setValueAtTime(L,E.context.currentTime)},cancelAndHoldAtTime(L){if(typeof N.cancelAndHoldAtTime=="function")R===null&&A.flush(E.context.currentTime),A.add(o(L)),N.cancelAndHoldAtTime(L);else{const z=Array.from(A).pop();R===null&&A.flush(E.context.currentTime),A.add(o(L));const V=Array.from(A).pop();N.cancelScheduledValues(L),z!==V&&V!==void 0&&(V.type==="exponentialRampToValue"?N.exponentialRampToValueAtTime(V.value,V.endTime):V.type==="linearRampToValue"?N.linearRampToValueAtTime(V.value,V.endTime):V.type==="setValue"?N.setValueAtTime(V.value,V.startTime):V.type==="setValueCurve"&&N.setValueCurveAtTime(V.values,V.startTime,V.duration))}return I},cancelScheduledValues(L){return R===null&&A.flush(E.context.currentTime),A.add(s(L)),N.cancelScheduledValues(L),I},exponentialRampToValueAtTime(L,z){if(L===0)throw new RangeError;if(!Number.isFinite(z)||z<0)throw new RangeError;const V=E.context.currentTime;return R===null&&A.flush(V),Array.from(A).length===0&&(A.add(h(T,V)),N.setValueAtTime(T,V)),A.add(a(L,z)),N.exponentialRampToValueAtTime(L,z),I},linearRampToValueAtTime(L,z){const V=E.context.currentTime;return R===null&&A.flush(V),Array.from(A).length===0&&(A.add(h(T,V)),N.setValueAtTime(T,V)),A.add(l(L,z)),N.linearRampToValueAtTime(L,z),I},setTargetAtTime(L,z,V){return R===null&&A.flush(E.context.currentTime),A.add(u(L,z,V)),N.setTargetAtTime(L,z,V),I},setValueAtTime(L,z){return R===null&&A.flush(E.context.currentTime),A.add(h(L,z)),N.setValueAtTime(L,z),I},setValueCurveAtTime(L,z,V){const te=L instanceof Float32Array?L:new Float32Array(L);if(g!==null&&g.name==="webkitAudioContext"){const H=z+V,re=E.context.sampleRate,ee=Math.ceil(z*re),pe=Math.floor(H*re),me=pe-ee,Se=new Float32Array(me);for(let he=0;he<me;he+=1){const Q=(te.length-1)/V*((ee+he)/re-z),X=Math.floor(Q),K=Math.ceil(Q);Se[he]=X===K?te[X]:(1-(Q-X))*te[X]+(1-(K-Q))*te[K]}R===null&&A.flush(E.context.currentTime),A.add(d(Se,z,V)),N.setValueCurveAtTime(Se,z,V);const ce=pe/re;ce<H&&_(I,Se[Se.length-1],ce),_(I,te[te.length-1],H)}else R===null&&A.flush(E.context.currentTime),A.add(d(te,z,V)),N.setValueCurveAtTime(te,z,V);return I}};return n.set(I,N),e.set(I,E),t(I,R),I},tS=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:o}=n;e.exponentialRampToValueAtTime(o,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:o}=n;e.linearRampToValueAtTime(o,r)}else if(n.type==="setTarget"){const{startTime:r,target:o,timeConstant:s}=n;e.setTargetAtTime(o,r,s)}else if(n.type==="setValue"){const{startTime:r,value:o}=n;e.setValueAtTime(o,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:o,values:s}=n;e.setValueCurveAtTime(s,o,r)}else throw new Error("Can't apply an unknown automation.")}});class vy{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,o)=>e.call(n,r,o,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const nS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},rS=(t,e,n,r,o,s,a,l,u,h,d,g,_,E)=>class extends e{constructor(N,O,w){var T;const A=l(N),R=u(A),I=d({...nS,...w});_(I);const L=Kc.get(A),z=L==null?void 0:L.get(O),V=R||A.state!=="closed"?A:(T=a(A))!==null&&T!==void 0?T:A,te=o(V,R?null:N.baseLatency,h,O,z,I),H=R?r(O,I,z):null;super(N,!0,te,H);const re=[];te.parameters.forEach((pe,me)=>{const Se=n(this,R,pe);re.push([me,Se])}),this._nativeAudioWorkletNode=te,this._onprocessorerror=null,this._parameters=new vy(re),R&&t(A,this);const{activeInputs:ee}=s(this);g(te,ee)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(N){const O=typeof N=="function"?E(this,N):null;this._nativeAudioWorkletNode.onprocessorerror=O;const w=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=w!==null&&w===O?N:w}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function yl(t,e,n,r,o){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,o);else{const s=t.getChannelData(r);if(e[n].byteLength===0)e[n]=s.slice(o,o+128);else{const a=new Float32Array(s.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(a)}}}const _y=(t,e,n,r,o)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,o):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],o)},vl=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const o=[],s=typeof e=="number"?e:e[r];for(let a=0;a<s;a+=1)o.push(new Float32Array(128));n.push(o)}return n},oS=(t,e)=>{const n=qn(Vc,t),r=ot(e);return qn(n,r)},sS=async(t,e,n,r,o,s,a)=>{const l=e===null?Math.ceil(t.context.length/128)*128:e.length,u=r.channelCount*r.numberOfInputs,h=o.reduce((O,w)=>O+w,0),d=h===0?null:n.createBuffer(h,l,n.sampleRate);if(s===void 0)throw new Error("Missing the processor constructor.");const g=Qt(t),_=await oS(n,t),E=vl(r.numberOfInputs,r.channelCount),b=vl(r.numberOfOutputs,o),N=Array.from(t.parameters.keys()).reduce((O,w)=>({...O,[w]:new Float32Array(128)}),{});for(let O=0;O<l;O+=128){if(r.numberOfInputs>0&&e!==null)for(let w=0;w<r.numberOfInputs;w+=1)for(let T=0;T<r.channelCount;T+=1)yl(e,E[w],T,T,O);s.parameterDescriptors!==void 0&&e!==null&&s.parameterDescriptors.forEach(({name:w},T)=>{yl(e,N,w,u+T,O)});for(let w=0;w<r.numberOfInputs;w+=1)for(let T=0;T<o[w];T+=1)b[w][T].byteLength===0&&(b[w][T]=new Float32Array(128));try{const w=E.map((A,R)=>g.activeInputs[R].size===0?[]:A),T=a(O/n.sampleRate,n.sampleRate,()=>_.process(w,b,N));if(d!==null)for(let A=0,R=0;A<r.numberOfOutputs;A+=1){for(let I=0;I<o[A];I+=1)_y(d,b[A],I,R+I,O);R+=o[A]}if(!T)break}catch(w){t.dispatchEvent(new ErrorEvent("processorerror",{colno:w.colno,filename:w.filename,lineno:w.lineno,message:w.message}));break}}return d},iS=(t,e,n,r,o,s,a,l,u,h,d,g,_,E,b,N)=>(O,w,T)=>{const A=new WeakMap;let R=null;const I=async(L,z)=>{let V=d(L),te=null;const H=$t(V,z),re=Array.isArray(w.outputChannelCount)?w.outputChannelCount:Array.from(w.outputChannelCount);if(g===null){const ee=re.reduce((ce,he)=>ce+he,0),pe=o(z,{channelCount:Math.max(1,ee),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,ee)}),me=[];for(let ce=0;ce<L.numberOfOutputs;ce+=1)me.push(r(z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:re[ce]}));const Se=a(z,{channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1});Se.connect=e.bind(null,me),Se.disconnect=u.bind(null,me),te=[pe,me,Se]}else H||(V=new g(z,O));if(A.set(z,te===null?V:te[2]),te!==null){if(R===null){if(T===void 0)throw new Error("Missing the processor constructor.");if(_===null)throw new Error("Missing the native OfflineAudioContext constructor.");const he=L.channelCount*L.numberOfInputs,Q=T.parameterDescriptors===void 0?0:T.parameterDescriptors.length,X=he+Q;R=sS(L,X===0?null:await(async()=>{const P=new _(X,Math.ceil(L.context.length/128)*128,z.sampleRate),W=[],G=[];for(let y=0;y<w.numberOfInputs;y+=1)W.push(a(P,{channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1})),G.push(o(P,{channelCount:w.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:w.channelCount}));const ae=await Promise.all(Array.from(L.parameters.values()).map(async y=>{const v=s(P,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:y.value});return await E(P,y,v.offset),v})),oe=r(P,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,he+Q)});for(let y=0;y<w.numberOfInputs;y+=1){W[y].connect(G[y]);for(let v=0;v<w.channelCount;v+=1)G[y].connect(oe,v,y*w.channelCount+v)}for(const[y,v]of ae.entries())v.connect(oe,0,he+y),v.start(0);return oe.connect(P.destination),await Promise.all(W.map(y=>b(L,P,y))),N(P)})(),z,w,re,T,h)}const ee=await R,pe=n(z,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[me,Se,ce]=te;ee!==null&&(pe.buffer=ee,pe.start(0)),pe.connect(me);for(let he=0,Q=0;he<L.numberOfOutputs;he+=1){const X=Se[he];for(let K=0;K<re[he];K+=1)me.connect(X,Q+K,K);Q+=re[he]}return ce}if(H)for(const[ee,pe]of L.parameters.entries())await t(z,pe,V.parameters.get(ee));else for(const[ee,pe]of L.parameters.entries())await E(z,pe,V.parameters.get(ee));return await b(L,z,V),V};return{render(L,z){l(z,L);const V=A.get(z);return V!==void 0?Promise.resolve(V):I(L,z)}}},aS=(t,e,n,r,o,s,a,l,u,h,d,g,_,E,b,N,O,w,T,A)=>class extends b{constructor(I,L){super(I,L),this._nativeContext=I,this._audioWorklet=t===void 0?void 0:{addModule:(z,V)=>t(this,z,V)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new o(this)}createBuffer(I,L,z){return new n({length:L,numberOfChannels:I,sampleRate:z})}createBufferSource(){return new r(this)}createChannelMerger(I=6){return new s(this,{numberOfInputs:I})}createChannelSplitter(I=6){return new a(this,{numberOfOutputs:I})}createConstantSource(){return new l(this)}createConvolver(){return new u(this)}createDelay(I=1){return new d(this,{maxDelayTime:I})}createDynamicsCompressor(){return new g(this)}createGain(){return new _(this)}createIIRFilter(I,L){return new E(this,{feedback:L,feedforward:I})}createOscillator(){return new N(this)}createPanner(){return new O(this)}createPeriodicWave(I,L,z={disableNormalization:!1}){return new w(this,{...z,imag:L,real:I})}createStereoPanner(){return new T(this)}createWaveShaper(){return new A(this)}decodeAudioData(I,L,z){return h(this._nativeContext,I).then(V=>(typeof L=="function"&&L(V),V),V=>{throw typeof z=="function"&&z(V),V})}},lS={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},uS=(t,e,n,r,o,s,a,l)=>class extends t{constructor(h,d){const g=s(h),_={...lS,...d},E=o(g,_),b=a(g),N=b?n():null;super(h,!1,E,N),this._Q=e(this,b,E.Q,Yt,rn),this._detune=e(this,b,E.detune,1200*Math.log2(Yt),-1200*Math.log2(Yt)),this._frequency=e(this,b,E.frequency,h.sampleRate/2,0),this._gain=e(this,b,E.gain,40*Math.log10(Yt),rn),this._nativeBiquadFilterNode=E,l(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(h){this._nativeBiquadFilterNode.type=h}getFrequencyResponse(h,d,g){try{this._nativeBiquadFilterNode.getFrequencyResponse(h,d,g)}catch(_){throw _.code===11?r():_}if(h.length!==d.length||d.length!==g.length)throw r()}},cS=(t,e,n,r,o)=>()=>{const s=new WeakMap,a=async(l,u)=>{let h=n(l);const d=$t(h,u);if(!d){const g={Q:h.Q.value,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,gain:h.gain.value,type:h.type};h=e(u,g)}return s.set(u,h),d?(await t(u,l.Q,h.Q),await t(u,l.detune,h.detune),await t(u,l.frequency,h.frequency),await t(u,l.gain,h.gain)):(await r(u,l.Q,h.Q),await r(u,l.detune,h.detune),await r(u,l.frequency,h.frequency),await r(u,l.gain,h.gain)),await o(l,u,h),h};return{render(l,u){const h=s.get(u);return h!==void 0?Promise.resolve(h):a(l,u)}}},hS=(t,e)=>(n,r)=>{const o=e.get(n);if(o!==void 0)return o;const s=t.get(n);if(s!==void 0)return s;try{const a=r();return a instanceof Promise?(t.set(n,a),a.catch(()=>!1).then(l=>(t.delete(n),e.set(n,l),l))):(e.set(n,a),a)}catch{return e.set(n,!1),!1}},dS={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},fS=(t,e,n,r,o)=>class extends t{constructor(a,l){const u=r(a),h={...dS,...l},d=n(u,h),g=o(u)?e():null;super(a,!1,d,g)}},pS=(t,e,n)=>()=>{const r=new WeakMap,o=async(s,a)=>{let l=e(s);if(!$t(l,a)){const h={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,numberOfInputs:l.numberOfInputs};l=t(a,h)}return r.set(a,l),await n(s,a,l),l};return{render(s,a){const l=r.get(a);return l!==void 0?Promise.resolve(l):o(s,a)}}},mS={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},gS=(t,e,n,r,o,s)=>class extends t{constructor(l,u){const h=r(l),d=s({...mS,...u}),g=n(h,d),_=o(h)?e():null;super(l,!1,g,_)}},yS=(t,e,n)=>()=>{const r=new WeakMap,o=async(s,a)=>{let l=e(s);if(!$t(l,a)){const h={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,numberOfOutputs:l.numberOfOutputs};l=t(a,h)}return r.set(a,l),await n(s,a,l),l};return{render(s,a){const l=r.get(a);return l!==void 0?Promise.resolve(l):o(s,a)}}},vS=t=>(e,n,r)=>t(n,e,r),_S=t=>(e,n,r=0,o=0)=>{const s=e[r];if(s===void 0)throw t();return gl(n)?s.connect(n,0,o):s.connect(n,0)},wS=t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=e.createBuffer(1,2,44100);return r.buffer=o,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},SS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},kS=(t,e,n,r,o,s,a)=>class extends t{constructor(u,h){const d=o(u),g={...SS,...h},_=r(d,g),E=s(d),b=E?n():null;super(u,!1,_,b),this._constantSourceNodeRenderer=b,this._nativeConstantSourceNode=_,this._offset=e(this,E,_.offset,Yt,rn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(u){const h=typeof u=="function"?a(this,u):null;this._nativeConstantSourceNode.onended=h;const d=this._nativeConstantSourceNode.onended;this._onended=d!==null&&d===h?u:d}start(u=0){if(this._nativeConstantSourceNode.start(u),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=u),this.context.state!=="closed"){vs(this);const h=()=>{this._nativeConstantSourceNode.removeEventListener("ended",h),mr(this)&&Vi(this)};this._nativeConstantSourceNode.addEventListener("ended",h)}}stop(u=0){this._nativeConstantSourceNode.stop(u),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=u)}},xS=(t,e,n,r,o)=>()=>{const s=new WeakMap;let a=null,l=null;const u=async(h,d)=>{let g=n(h);const _=$t(g,d);if(!_){const E={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,offset:g.offset.value};g=e(d,E),a!==null&&g.start(a),l!==null&&g.stop(l)}return s.set(d,g),_?await t(d,h.offset,g.offset):await r(d,h.offset,g.offset),await o(h,d,g),g};return{set start(h){a=h},set stop(h){l=h},render(h,d){const g=s.get(d);return g!==void 0?Promise.resolve(g):u(h,d)}}},CS=t=>e=>(t[0]=e,t[0]),TS={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},ES=(t,e,n,r,o,s)=>class extends t{constructor(l,u){const h=r(l),d={...TS,...u},g=n(h,d),E=o(h)?e():null;super(l,!1,g,E),this._isBufferNullified=!1,this._nativeConvolverNode=g,d.buffer!==null&&s(this,d.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(l){if(this._nativeConvolverNode.buffer=l,l===null&&this._nativeConvolverNode.buffer!==null){const u=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=u.createBuffer(1,1,u.sampleRate),this._isBufferNullified=!0,s(this,0)}else this._isBufferNullified=!1,s(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(l){this._nativeConvolverNode.normalize=l}},bS=(t,e,n)=>()=>{const r=new WeakMap,o=async(s,a)=>{let l=e(s);if(!$t(l,a)){const h={buffer:l.buffer,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,disableNormalization:!l.normalize};l=t(a,h)}return r.set(a,l),As(l)?await n(s,a,l.inputs[0]):await n(s,a,l),l};return{render(s,a){const l=r.get(a);return l!==void 0?Promise.resolve(l):o(s,a)}}},NS=(t,e)=>(n,r,o)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,o)}catch(s){throw s.name==="SyntaxError"?t():s}},OS=()=>new DOMException("","DataCloneError"),wp=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{const o=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>o();try{e.postMessage(t,[t])}catch{}finally{o()}})},AS=(t,e,n,r,o,s,a,l,u,h,d)=>(g,_)=>{const E=a(g)?g:s(g);if(o.has(_)){const b=n();return Promise.reject(b)}try{o.add(_)}catch{}return e(u,()=>u(E))?E.decodeAudioData(_).then(b=>(wp(_).catch(()=>{}),e(l,()=>l(b))||d(b),t.add(b),b)):new Promise((b,N)=>{const O=async()=>{try{await wp(_)}catch{}},w=T=>{N(T),O()};try{E.decodeAudioData(_,T=>{typeof T.copyFromChannel!="function"&&(h(T),Yh(T)),t.add(T),O().then(()=>b(T))},T=>{w(T===null?r():T)})}catch(T){w(T)}})},IS=(t,e,n,r,o,s,a,l)=>(u,h)=>{const d=e.get(u);if(d===void 0)throw new Error("Missing the expected cycle count.");const g=s(u.context),_=l(g);if(d===h){if(e.delete(u),!_&&a(u)){const E=r(u),{outputs:b}=n(u);for(const N of b)if(zi(N)){const O=r(N[0]);t(E,O,N[1],N[2])}else{const O=o(N[0]);E.connect(O,N[1])}}}else e.set(u,d-h)},PS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},MS=(t,e,n,r,o,s,a)=>class extends t{constructor(u,h){const d=o(u),g={...PS,...h},_=r(d,g),E=s(d),b=E?n(g.maxDelayTime):null;super(u,!1,_,b),this._delayTime=e(this,E,_.delayTime),a(this,g.maxDelayTime)}get delayTime(){return this._delayTime}},DS=(t,e,n,r,o)=>s=>{const a=new WeakMap,l=async(u,h)=>{let d=n(u);const g=$t(d,h);if(!g){const _={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,delayTime:d.delayTime.value,maxDelayTime:s};d=e(h,_)}return a.set(h,d),g?await t(h,u.delayTime,d.delayTime):await r(h,u.delayTime,d.delayTime),await o(u,h,d),d};return{render(u,h){const d=a.get(h);return d!==void 0?Promise.resolve(d):l(u,h)}}},RS=t=>(e,n,r,o)=>t(e[o],s=>s[0]===n&&s[1]===r),jS=t=>(e,n)=>{t(e).delete(n)},LS=t=>"delayTime"in t,FS=(t,e,n)=>function r(o,s){const a=fl(s)?s:n(t,s);if(LS(a))return[];if(o[0]===a)return[o];if(o.includes(a))return[];const{outputs:l}=e(a);return Array.from(l).map(u=>r([...o,a],u[0])).reduce((u,h)=>u.concat(h),[])},ya=(t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},KS=t=>(e,n=void 0,r=void 0,o=0)=>n===void 0?e.forEach(s=>s.disconnect()):typeof n=="number"?ya(t,e,n).disconnect():gl(n)?r===void 0?e.forEach(s=>s.disconnect(n)):o===void 0?ya(t,e,r).disconnect(n,0):ya(t,e,r).disconnect(n,0,o):r===void 0?e.forEach(s=>s.disconnect(n)):ya(t,e,r).disconnect(n,0),VS={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},BS=(t,e,n,r,o,s,a,l)=>class extends t{constructor(h,d){const g=s(h),_={...VS,...d},E=r(g,_),b=a(g),N=b?n():null;super(h,!1,E,N),this._attack=e(this,b,E.attack),this._knee=e(this,b,E.knee),this._nativeDynamicsCompressorNode=E,this._ratio=e(this,b,E.ratio),this._release=e(this,b,E.release),this._threshold=e(this,b,E.threshold),l(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(h){const d=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=h,h>2)throw this._nativeDynamicsCompressorNode.channelCount=d,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(h){const d=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=h,h==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=d,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},zS=(t,e,n,r,o)=>()=>{const s=new WeakMap,a=async(l,u)=>{let h=n(l);const d=$t(h,u);if(!d){const g={attack:h.attack.value,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,knee:h.knee.value,ratio:h.ratio.value,release:h.release.value,threshold:h.threshold.value};h=e(u,g)}return s.set(u,h),d?(await t(u,l.attack,h.attack),await t(u,l.knee,h.knee),await t(u,l.ratio,h.ratio),await t(u,l.release,h.release),await t(u,l.threshold,h.threshold)):(await r(u,l.attack,h.attack),await r(u,l.knee,h.knee),await r(u,l.ratio,h.ratio),await r(u,l.release,h.release),await r(u,l.threshold,h.threshold)),await o(l,u,h),h};return{render(l,u){const h=s.get(u);return h!==void 0?Promise.resolve(h):a(l,u)}}},US=()=>new DOMException("","EncodingError"),WS=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const o=t.document.head;if(o===null)r(new SyntaxError);else{const s=t.document.createElement("script"),a=new Blob([e],{type:"application/javascript"}),l=URL.createObjectURL(a),u=t.onerror,h=()=>{t.onerror=u,URL.revokeObjectURL(l)};t.onerror=(d,g,_,E,b)=>{if(g===l||g===t.location.href&&_===1&&E===1)return h(),r(b),!1;if(u!==null)return u(d,g,_,E,b)},s.onerror=()=>{h(),r(new SyntaxError)},s.onload=()=>{h(),n()},s.src=l,s.type="module",o.appendChild(s)}}),$S=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,o){if(r!==null){let s=this._listeners.get(r);s===void 0&&(s=t(this,r),typeof r=="function"&&this._listeners.set(r,s)),this._nativeEventTarget.addEventListener(n,s,o)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,o){const s=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,s===void 0?null:s,o)}},qS=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},HS=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},GS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},YS=(t,e,n,r,o,s)=>class extends t{constructor(l,u){const h=o(l),d={...GS,...u},g=r(h,d),_=s(h),E=_?n():null;super(l,!1,g,E),this._gain=e(this,_,g.gain,Yt,rn)}get gain(){return this._gain}},QS=(t,e,n,r,o)=>()=>{const s=new WeakMap,a=async(l,u)=>{let h=n(l);const d=$t(h,u);if(!d){const g={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,gain:h.gain.value};h=e(u,g)}return s.set(u,h),d?await t(u,l.gain,h.gain):await r(u,l.gain,h.gain),await o(l,u,h),h};return{render(l,u){const h=s.get(u);return h!==void 0?Promise.resolve(h):a(l,u)}}},XS=(t,e)=>n=>e(t,n),ZS=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},JS=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},ek=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},tk=t=>e=>t.get(e),It=()=>new DOMException("","InvalidStateError"),nk=t=>e=>{const n=t.get(e);if(n===void 0)throw It();return n},rk=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},ok=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},zl=()=>new DOMException("","InvalidAccessError"),sk=t=>{t.getFrequencyResponse=(e=>(n,r,o)=>{if(n.length!==r.length||r.length!==o.length)throw zl();return e.call(t,n,r,o)})(t.getFrequencyResponse)},ik={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},ak=(t,e,n,r,o,s)=>class extends t{constructor(l,u){const h=r(l),d=o(h),g={...ik,...u},_=e(h,d?null:l.baseLatency,g),E=d?n(g.feedback,g.feedforward):null;super(l,!1,_,E),sk(_),this._nativeIIRFilterNode=_,s(this,1)}getFrequencyResponse(l,u,h){return this._nativeIIRFilterNode.getFrequencyResponse(l,u,h)}},wy=(t,e,n,r,o,s,a,l,u,h,d)=>{const g=h.length;let _=l;for(let E=0;E<g;E+=1){let b=n[0]*h[E];for(let N=1;N<o;N+=1){const O=_-N&u-1;b+=n[N]*s[O],b-=t[N]*a[O]}for(let N=o;N<r;N+=1)b+=n[N]*s[_-N&u-1];for(let N=o;N<e;N+=1)b-=t[N]*a[_-N&u-1];s[_]=h[E],a[_]=b,_=_+1&u-1,d[E]=b}return _},lk=(t,e,n,r)=>{const o=n instanceof Float64Array?n:new Float64Array(n),s=r instanceof Float64Array?r:new Float64Array(r),a=o.length,l=s.length,u=Math.min(a,l);if(o[0]!==1){for(let b=0;b<a;b+=1)s[b]/=o[0];for(let b=1;b<l;b+=1)o[b]/=o[0]}const h=32,d=new Float32Array(h),g=new Float32Array(h),_=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),E=t.numberOfChannels;for(let b=0;b<E;b+=1){const N=t.getChannelData(b),O=_.getChannelData(b);d.fill(0),g.fill(0),wy(o,a,s,l,u,d,g,0,h,N,O)}return _},uk=(t,e,n,r,o)=>(s,a)=>{const l=new WeakMap;let u=null;const h=async(d,g)=>{let _=null,E=e(d);const b=$t(E,g);if(g.createIIRFilter===void 0?_=t(g,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):b||(E=g.createIIRFilter(a,s)),l.set(g,_===null?E:_),_!==null){if(u===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const O=new n(d.context.destination.channelCount,d.context.length,g.sampleRate);u=(async()=>{await r(d,O,O.destination);const w=await o(O);return lk(w,g,s,a)})()}const N=await u;return _.buffer=N,_.start(0),_}return await r(d,g,E),E};return{render(d,g){const _=l.get(g);return _!==void 0?Promise.resolve(_):h(d,g)}}},ck=(t,e,n,r,o,s)=>a=>(l,u)=>{const h=t.get(l);if(h===void 0){if(!a&&s(l)){const d=r(l),{outputs:g}=n(l);for(const _ of g)if(zi(_)){const E=r(_[0]);e(d,E,_[1],_[2])}else{const E=o(_[0]);d.disconnect(E,_[1])}}t.set(l,u)}else t.set(l,h+u)},hk=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},dk=(t,e)=>n=>t.has(n)||e(n),fk=(t,e)=>n=>t.has(n)||e(n),pk=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},mk=t=>e=>t!==null&&e instanceof t,gk=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,yk=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,vk=(t,e)=>n=>t(n)||e(n),_k=t=>e=>t!==null&&e instanceof t,wk=t=>t!==null&&t.isSecureContext,Sk=(t,e,n,r)=>class extends t{constructor(s,a){const l=n(s),u=e(l,a);if(r(l))throw TypeError();super(s,!0,u,null),this._nativeMediaElementAudioSourceNode=u}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},kk={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},xk=(t,e,n,r)=>class extends t{constructor(s,a){const l=n(s);if(r(l))throw new TypeError;const u={...kk,...a},h=e(l,u);super(s,!1,h,null),this._nativeMediaStreamAudioDestinationNode=h}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},Ck=(t,e,n,r)=>class extends t{constructor(s,a){const l=n(s),u=e(l,a);if(r(l))throw new TypeError;super(s,!0,u,null),this._nativeMediaStreamAudioSourceNode=u}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},Tk=(t,e,n)=>class extends t{constructor(o,s){const a=n(o),l=e(a,s);super(o,!0,l,null)}},Ek=(t,e,n,r,o,s)=>class extends n{constructor(l,u){super(l),this._nativeContext=l,Vl.set(this,l),r(l)&&o.set(l,new Set),this._destination=new t(this,u),this._listener=e(this,l),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(l){const u=typeof l=="function"?s(this,l):null;this._nativeContext.onstatechange=u;const h=this._nativeContext.onstatechange;this._onstatechange=h!==null&&h===u?l:h}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Ii=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},bk=(t,e)=>(n,r,o)=>{const s=new Set;return n.connect=(a=>(l,u=0,h=0)=>{const d=s.size===0;if(e(l))return a.call(n,l,u,h),t(s,[l,u,h],g=>g[0]===l&&g[1]===u&&g[2]===h,!0),d&&r(),l;a.call(n,l,u),t(s,[l,u],g=>g[0]===l&&g[1]===u,!0),d&&r()})(n.connect),n.disconnect=(a=>(l,u,h)=>{const d=s.size>0;if(l===void 0)a.apply(n),s.clear();else if(typeof l=="number"){a.call(n,l);for(const _ of s)_[1]===l&&s.delete(_)}else{e(l)?a.call(n,l,u,h):a.call(n,l,u);for(const _ of s)_[0]===l&&(u===void 0||_[1]===u)&&(h===void 0||_[2]===h)&&s.delete(_)}const g=s.size===0;d&&g&&o()})(n.disconnect),n},st=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},bt=(t,e)=>{st(t,e,"channelCount"),st(t,e,"channelCountMode"),st(t,e,"channelInterpretation")},Sp=t=>typeof t.getFloatTimeDomainData=="function",Nk=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let o=0;o<r;o+=1)e[o]=(n[o]-128)*.0078125;return e}},Ok=(t,e)=>(n,r)=>{const o=n.createAnalyser();if(bt(o,r),!(r.maxDecibels>r.minDecibels))throw e();return st(o,r,"fftSize"),st(o,r,"maxDecibels"),st(o,r,"minDecibels"),st(o,r,"smoothingTimeConstant"),t(Sp,()=>Sp(o))||Nk(o),o},Ak=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,pt=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},Ik=t=>{t.start=(e=>{let n=!1;return(r=0,o=0,s)=>{if(n)throw It();e.call(t,r,o,s),n=!0}})(t.start)},Zh=t=>{t.start=(e=>(n=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,o)})(t.start)},Jh=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},Pk=(t,e,n,r,o,s,a,l,u,h,d)=>(g,_)=>{const E=g.createBufferSource();return bt(E,_),pt(E,_,"playbackRate"),st(E,_,"buffer"),st(E,_,"loop"),st(E,_,"loopEnd"),st(E,_,"loopStart"),e(n,()=>n(g))||Ik(E),e(r,()=>r(g))||u(E),e(o,()=>o(g))||h(E,g),e(s,()=>s(g))||Zh(E),e(a,()=>a(g))||d(E,g),e(l,()=>l(g))||Jh(E),t(g,E),E},Mk=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,Dk=(t,e)=>(n,r,o)=>{const s=n.destination;if(s.channelCount!==r)try{s.channelCount=r}catch{}o&&s.channelCountMode!=="explicit"&&(s.channelCountMode="explicit"),s.maxChannelCount===0&&Object.defineProperty(s,"maxChannelCount",{value:r});const a=t(n,{channelCount:r,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return e(a,"channelCount",l=>()=>l.call(a),l=>u=>{l.call(a,u);try{s.channelCount=u}catch(h){if(u>s.maxChannelCount)throw h}}),e(a,"channelCountMode",l=>()=>l.call(a),l=>u=>{l.call(a,u),s.channelCountMode=u}),e(a,"channelInterpretation",l=>()=>l.call(a),l=>u=>{l.call(a,u),s.channelInterpretation=u}),Object.defineProperty(a,"maxChannelCount",{get:()=>s.maxChannelCount}),a.connect(s),a},Rk=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,jk=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},Lk=(t,e,n,r,o)=>(s,a,l,u,h,d)=>{if(l!==null)try{const g=new l(s,u,d),_=new Map;let E=null;if(Object.defineProperties(g,{channelCount:{get:()=>d.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>E,set:b=>{typeof E=="function"&&g.removeEventListener("processorerror",E),E=typeof b=="function"?b:null,typeof E=="function"&&g.addEventListener("processorerror",E)}}}),g.addEventListener=(b=>(...N)=>{if(N[0]==="processorerror"){const O=typeof N[1]=="function"?N[1]:typeof N[1]=="object"&&N[1]!==null&&typeof N[1].handleEvent=="function"?N[1].handleEvent:null;if(O!==null){const w=_.get(N[1]);w!==void 0?N[1]=w:(N[1]=T=>{T.type==="error"?(Object.defineProperties(T,{type:{value:"processorerror"}}),O(T)):O(new ErrorEvent(N[0],{...T}))},_.set(O,N[1]))}}return b.call(g,"error",N[1],N[2]),b.call(g,...N)})(g.addEventListener),g.removeEventListener=(b=>(...N)=>{if(N[0]==="processorerror"){const O=_.get(N[1]);O!==void 0&&(_.delete(N[1]),N[1]=O)}return b.call(g,"error",N[1],N[2]),b.call(g,N[0],N[1],N[2])})(g.removeEventListener),d.numberOfOutputs!==0){const b=n(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return g.connect(b).connect(s.destination),o(g,()=>b.disconnect(),()=>b.connect(s.destination))}return g}catch(g){throw g.code===11?r():g}if(h===void 0)throw r();return jk(d),e(s,a,h,d)},Sy=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),Fk=t=>new Promise((e,n)=>{const{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:s})=>{r.close(),o.close(),e(s)},r.onmessageerror=({data:s})=>{r.close(),o.close(),n(s)},o.postMessage(t)}),Kk=async(t,e)=>{const n=await Fk(e);return new t(n)},Vk=(t,e,n,r)=>{let o=Vc.get(t);o===void 0&&(o=new WeakMap,Vc.set(t,o));const s=Kk(n,r);return o.set(e,s),s},Bk=(t,e,n,r,o,s,a,l,u,h,d,g,_)=>(E,b,N,O)=>{if(O.numberOfInputs===0&&O.numberOfOutputs===0)throw u();const w=Array.isArray(O.outputChannelCount)?O.outputChannelCount:Array.from(O.outputChannelCount);if(w.some(S=>S<1))throw u();if(w.length!==O.numberOfOutputs)throw e();if(O.channelCountMode!=="explicit")throw u();const T=O.channelCount*O.numberOfInputs,A=w.reduce((S,x)=>S+x,0),R=N.parameterDescriptors===void 0?0:N.parameterDescriptors.length;if(T+R>6||A>6)throw u();const I=new MessageChannel,L=[],z=[];for(let S=0;S<O.numberOfInputs;S+=1)L.push(a(E,{channelCount:O.channelCount,channelCountMode:O.channelCountMode,channelInterpretation:O.channelInterpretation,gain:1})),z.push(o(E,{channelCount:O.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:O.channelCount}));const V=[];if(N.parameterDescriptors!==void 0)for(const{defaultValue:S,maxValue:x,minValue:D,name:F}of N.parameterDescriptors){const M=s(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:O.parameterData[F]!==void 0?O.parameterData[F]:S===void 0?0:S});Object.defineProperties(M.offset,{defaultValue:{get:()=>S===void 0?0:S},maxValue:{get:()=>x===void 0?Yt:x},minValue:{get:()=>D===void 0?rn:D}}),V.push(M)}const te=r(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,T+R)}),H=Sy(b,E.sampleRate),re=l(E,H,T+R,Math.max(1,A)),ee=o(E,{channelCount:Math.max(1,A),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,A)}),pe=[];for(let S=0;S<O.numberOfOutputs;S+=1)pe.push(r(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:w[S]}));for(let S=0;S<O.numberOfInputs;S+=1){L[S].connect(z[S]);for(let x=0;x<O.channelCount;x+=1)z[S].connect(te,x,S*O.channelCount+x)}const me=new vy(N.parameterDescriptors===void 0?[]:N.parameterDescriptors.map(({name:S},x)=>{const D=V[x];return D.connect(te,0,T+x),D.start(0),[S,D.offset]}));te.connect(re);let Se=O.channelInterpretation,ce=null;const he=O.numberOfOutputs===0?[re]:pe,Q={get bufferSize(){return H},get channelCount(){return O.channelCount},set channelCount(S){throw n()},get channelCountMode(){return O.channelCountMode},set channelCountMode(S){throw n()},get channelInterpretation(){return Se},set channelInterpretation(S){for(const x of L)x.channelInterpretation=S;Se=S},get context(){return re.context},get inputs(){return L},get numberOfInputs(){return O.numberOfInputs},get numberOfOutputs(){return O.numberOfOutputs},get onprocessorerror(){return ce},set onprocessorerror(S){typeof ce=="function"&&Q.removeEventListener("processorerror",ce),ce=typeof S=="function"?S:null,typeof ce=="function"&&Q.addEventListener("processorerror",ce)},get parameters(){return me},get port(){return I.port2},addEventListener(...S){return re.addEventListener(S[0],S[1],S[2])},connect:t.bind(null,he),disconnect:h.bind(null,he),dispatchEvent(...S){return re.dispatchEvent(S[0])},removeEventListener(...S){return re.removeEventListener(S[0],S[1],S[2])}},X=new Map;I.port1.addEventListener=(S=>(...x)=>{if(x[0]==="message"){const D=typeof x[1]=="function"?x[1]:typeof x[1]=="object"&&x[1]!==null&&typeof x[1].handleEvent=="function"?x[1].handleEvent:null;if(D!==null){const F=X.get(x[1]);F!==void 0?x[1]=F:(x[1]=M=>{d(E.currentTime,E.sampleRate,()=>D(M))},X.set(D,x[1]))}}return S.call(I.port1,x[0],x[1],x[2])})(I.port1.addEventListener),I.port1.removeEventListener=(S=>(...x)=>{if(x[0]==="message"){const D=X.get(x[1]);D!==void 0&&(X.delete(x[1]),x[1]=D)}return S.call(I.port1,x[0],x[1],x[2])})(I.port1.removeEventListener);let K=null;Object.defineProperty(I.port1,"onmessage",{get:()=>K,set:S=>{typeof K=="function"&&I.port1.removeEventListener("message",K),K=typeof S=="function"?S:null,typeof K=="function"&&(I.port1.addEventListener("message",K),I.port1.start())}}),N.prototype.port=I.port1;let P=null;Vk(E,Q,N,O).then(S=>P=S);const G=vl(O.numberOfInputs,O.channelCount),ae=vl(O.numberOfOutputs,w),oe=N.parameterDescriptors===void 0?[]:N.parameterDescriptors.reduce((S,{name:x})=>({...S,[x]:new Float32Array(128)}),{});let y=!0;const v=()=>{O.numberOfOutputs>0&&re.disconnect(ee);for(let S=0,x=0;S<O.numberOfOutputs;S+=1){const D=pe[S];for(let F=0;F<w[S];F+=1)ee.disconnect(D,x+F,F);x+=w[S]}},i=new Map;re.onaudioprocess=({inputBuffer:S,outputBuffer:x})=>{if(P!==null){const D=g(Q);for(let F=0;F<H;F+=128){for(let M=0;M<O.numberOfInputs;M+=1)for(let j=0;j<O.channelCount;j+=1)yl(S,G[M],j,j,F);N.parameterDescriptors!==void 0&&N.parameterDescriptors.forEach(({name:M},j)=>{yl(S,oe,M,T+j,F)});for(let M=0;M<O.numberOfInputs;M+=1)for(let j=0;j<w[M];j+=1)ae[M][j].byteLength===0&&(ae[M][j]=new Float32Array(128));try{const M=G.map((U,B)=>{if(D[B].size>0)return i.set(B,H/128),U;const q=i.get(B);return q===void 0?[]:(U.every(Z=>Z.every(ie=>ie===0))&&(q===1?i.delete(B):i.set(B,q-1)),U)});y=d(E.currentTime+F/E.sampleRate,E.sampleRate,()=>P.process(M,ae,oe));for(let U=0,B=0;U<O.numberOfOutputs;U+=1){for(let $=0;$<w[U];$+=1)_y(x,ae[U],$,B+$,F);B+=w[U]}}catch(M){y=!1,Q.dispatchEvent(new ErrorEvent("processorerror",{colno:M.colno,filename:M.filename,lineno:M.lineno,message:M.message}))}if(!y){for(let M=0;M<O.numberOfInputs;M+=1){L[M].disconnect(z[M]);for(let j=0;j<O.channelCount;j+=1)z[F].disconnect(te,j,M*O.channelCount+j)}if(N.parameterDescriptors!==void 0){const M=N.parameterDescriptors.length;for(let j=0;j<M;j+=1){const U=V[j];U.disconnect(te,0,T+j),U.stop()}}te.disconnect(re),re.onaudioprocess=null,c?v():m();break}}}};let c=!1;const f=a(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),p=()=>re.connect(f).connect(E.destination),m=()=>{re.disconnect(f),f.disconnect()},k=()=>{if(y){m(),O.numberOfOutputs>0&&re.connect(ee);for(let S=0,x=0;S<O.numberOfOutputs;S+=1){const D=pe[S];for(let F=0;F<w[S];F+=1)ee.connect(D,x+F,F);x+=w[S]}}c=!0},C=()=>{y&&(p(),v()),c=!1};return p(),_(Q,k,C)},ky=(t,e)=>{const n=t.createBiquadFilter();return bt(n,e),pt(n,e,"Q"),pt(n,e,"detune"),pt(n,e,"frequency"),pt(n,e,"gain"),st(n,e,"type"),n},zk=(t,e)=>(n,r)=>{const o=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,o),bt(o,r),o},Uk=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw It()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw It()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw It()}})},Ui=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return bt(n,e),Uk(n),n},Wk=(t,e,n,r,o)=>(s,a)=>{if(s.createConstantSource===void 0)return n(s,a);const l=s.createConstantSource();return bt(l,a),pt(l,a,"offset"),e(r,()=>r(s))||Zh(l),e(o,()=>o(s))||Jh(l),t(s,l),l},Is=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),$k=(t,e,n,r)=>(o,{offset:s,...a})=>{const l=o.createBuffer(1,2,44100),u=e(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),h=n(o,{...a,gain:s}),d=l.getChannelData(0);d[0]=1,d[1]=1,u.buffer=l,u.loop=!0;const g={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(b){h.channelCount=b},get channelCountMode(){return h.channelCountMode},set channelCountMode(b){h.channelCountMode=b},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(b){h.channelInterpretation=b},get context(){return h.context},get inputs(){return[]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get offset(){return h.gain},get onended(){return u.onended},set onended(b){u.onended=b},addEventListener(...b){return u.addEventListener(b[0],b[1],b[2])},dispatchEvent(...b){return u.dispatchEvent(b[0])},removeEventListener(...b){return u.removeEventListener(b[0],b[1],b[2])},start(b=0){u.start.call(u,b)},stop(b=0){u.stop.call(u,b)}},_=()=>u.connect(h),E=()=>u.disconnect(h);return t(o,u),r(Is(g,h),_,E)},qk=(t,e)=>(n,r)=>{const o=n.createConvolver();if(bt(o,r),r.disableNormalization===o.normalize&&(o.normalize=!r.disableNormalization),st(o,r,"buffer"),r.channelCount>2||(e(o,"channelCount",s=>()=>s.call(o),s=>a=>{if(a>2)throw t();return s.call(o,a)}),r.channelCountMode==="max"))throw t();return e(o,"channelCountMode",s=>()=>s.call(o),s=>a=>{if(a==="max")throw t();return s.call(o,a)}),o},xy=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return bt(n,e),pt(n,e,"delayTime"),n},Hk=t=>(e,n)=>{const r=e.createDynamicsCompressor();if(bt(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return pt(r,n,"attack"),pt(r,n,"knee"),pt(r,n,"ratio"),pt(r,n,"release"),pt(r,n,"threshold"),r},cn=(t,e)=>{const n=t.createGain();return bt(n,e),pt(n,e,"gain"),n},Gk=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);const o=e.createIIRFilter(r.feedforward,r.feedback);return bt(o,r),o};function Yk(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function Qk(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function kp(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=Qk(n,e),n[0]+=t[r];return n}const Xk=(t,e,n,r)=>(o,s,{channelCount:a,channelCountMode:l,channelInterpretation:u,feedback:h,feedforward:d})=>{const g=Sy(s,o.sampleRate),_=h instanceof Float64Array?h:new Float64Array(h),E=d instanceof Float64Array?d:new Float64Array(d),b=_.length,N=E.length,O=Math.min(b,N);if(b===0||b>20)throw r();if(_[0]===0)throw e();if(N===0||N>20)throw r();if(E[0]===0)throw e();if(_[0]!==1){for(let V=0;V<N;V+=1)E[V]/=_[0];for(let V=1;V<b;V+=1)_[V]/=_[0]}const w=n(o,g,a,a);w.channelCount=a,w.channelCountMode=l,w.channelInterpretation=u;const T=32,A=[],R=[],I=[];for(let V=0;V<a;V+=1){A.push(0);const te=new Float32Array(T),H=new Float32Array(T);te.fill(0),H.fill(0),R.push(te),I.push(H)}w.onaudioprocess=V=>{const te=V.inputBuffer,H=V.outputBuffer,re=te.numberOfChannels;for(let ee=0;ee<re;ee+=1){const pe=te.getChannelData(ee),me=H.getChannelData(ee);A[ee]=wy(_,b,E,N,O,R[ee],I[ee],A[ee],T,pe,me)}};const L=o.sampleRate/2;return Is({get bufferSize(){return g},get channelCount(){return w.channelCount},set channelCount(V){w.channelCount=V},get channelCountMode(){return w.channelCountMode},set channelCountMode(V){w.channelCountMode=V},get channelInterpretation(){return w.channelInterpretation},set channelInterpretation(V){w.channelInterpretation=V},get context(){return w.context},get inputs(){return[w]},get numberOfInputs(){return w.numberOfInputs},get numberOfOutputs(){return w.numberOfOutputs},addEventListener(...V){return w.addEventListener(V[0],V[1],V[2])},dispatchEvent(...V){return w.dispatchEvent(V[0])},getFrequencyResponse(V,te,H){if(V.length!==te.length||te.length!==H.length)throw t();const re=V.length;for(let ee=0;ee<re;ee+=1){const pe=-Math.PI*(V[ee]/L),me=[Math.cos(pe),Math.sin(pe)],Se=kp(E,me),ce=kp(_,me),he=Yk(Se,ce);te[ee]=Math.sqrt(he[0]*he[0]+he[1]*he[1]),H[ee]=Math.atan2(he[1],he[0])}},removeEventListener(...V){return w.removeEventListener(V[0],V[1],V[2])}},w)},Zk=(t,e)=>t.createMediaElementSource(e.mediaElement),Jk=(t,e)=>{const n=t.createMediaStreamDestination();return bt(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},ex=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((s,a)=>s.id<a.id?-1:s.id>a.id?1:0);const r=n.slice(0,1),o=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:e}),o},tx=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const o=new MediaStream([r]),s=n.createMediaStreamSource(o);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return s},nx=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,rx=(t,e,n,r,o,s)=>(a,l)=>{const u=a.createOscillator();return bt(u,l),pt(u,l,"detune"),pt(u,l,"frequency"),l.periodicWave!==void 0?u.setPeriodicWave(l.periodicWave):st(u,l,"type"),e(n,()=>n(a))||Zh(u),e(r,()=>r(a))||s(u,a),e(o,()=>o(a))||Jh(u),t(a,u),u},ox=t=>(e,n)=>{const r=e.createPanner();return r.orientationX===void 0?t(e,n):(bt(r,n),pt(r,n,"orientationX"),pt(r,n,"orientationY"),pt(r,n,"orientationZ"),pt(r,n,"positionX"),pt(r,n,"positionY"),pt(r,n,"positionZ"),st(r,n,"coneInnerAngle"),st(r,n,"coneOuterAngle"),st(r,n,"coneOuterGain"),st(r,n,"distanceModel"),st(r,n,"maxDistance"),st(r,n,"panningModel"),st(r,n,"refDistance"),st(r,n,"rolloffFactor"),r)},sx=(t,e,n,r,o,s,a,l,u,h)=>(d,{coneInnerAngle:g,coneOuterAngle:_,coneOuterGain:E,distanceModel:b,maxDistance:N,orientationX:O,orientationY:w,orientationZ:T,panningModel:A,positionX:R,positionY:I,positionZ:L,refDistance:z,rolloffFactor:V,...te})=>{const H=d.createPanner();if(te.channelCount>2||te.channelCountMode==="max")throw a();bt(H,te);const re={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},ee=n(d,{...re,channelInterpretation:"speakers",numberOfInputs:6}),pe=r(d,{...te,gain:1}),me=r(d,{...re,gain:1}),Se=r(d,{...re,gain:0}),ce=r(d,{...re,gain:0}),he=r(d,{...re,gain:0}),Q=r(d,{...re,gain:0}),X=r(d,{...re,gain:0}),K=o(d,256,6,1),P=s(d,{...re,curve:new Float32Array([1,1]),oversample:"none"});let W=[O,w,T],G=[R,I,L];const ae=new Float32Array(1);K.onaudioprocess=({inputBuffer:i})=>{const c=[u(i,ae,0),u(i,ae,1),u(i,ae,2)];c.some((p,m)=>p!==W[m])&&(H.setOrientation(...c),W=c);const f=[u(i,ae,3),u(i,ae,4),u(i,ae,5)];f.some((p,m)=>p!==G[m])&&(H.setPosition(...f),G=f)},Object.defineProperty(Se.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ce.gain,"defaultValue",{get:()=>0}),Object.defineProperty(he.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(X.gain,"defaultValue",{get:()=>0});const oe={get bufferSize(){},get channelCount(){return H.channelCount},set channelCount(i){if(i>2)throw a();pe.channelCount=i,H.channelCount=i},get channelCountMode(){return H.channelCountMode},set channelCountMode(i){if(i==="max")throw a();pe.channelCountMode=i,H.channelCountMode=i},get channelInterpretation(){return H.channelInterpretation},set channelInterpretation(i){pe.channelInterpretation=i,H.channelInterpretation=i},get coneInnerAngle(){return H.coneInnerAngle},set coneInnerAngle(i){H.coneInnerAngle=i},get coneOuterAngle(){return H.coneOuterAngle},set coneOuterAngle(i){H.coneOuterAngle=i},get coneOuterGain(){return H.coneOuterGain},set coneOuterGain(i){if(i<0||i>1)throw e();H.coneOuterGain=i},get context(){return H.context},get distanceModel(){return H.distanceModel},set distanceModel(i){H.distanceModel=i},get inputs(){return[pe]},get maxDistance(){return H.maxDistance},set maxDistance(i){if(i<0)throw new RangeError;H.maxDistance=i},get numberOfInputs(){return H.numberOfInputs},get numberOfOutputs(){return H.numberOfOutputs},get orientationX(){return me.gain},get orientationY(){return Se.gain},get orientationZ(){return ce.gain},get panningModel(){return H.panningModel},set panningModel(i){H.panningModel=i},get positionX(){return he.gain},get positionY(){return Q.gain},get positionZ(){return X.gain},get refDistance(){return H.refDistance},set refDistance(i){if(i<0)throw new RangeError;H.refDistance=i},get rolloffFactor(){return H.rolloffFactor},set rolloffFactor(i){if(i<0)throw new RangeError;H.rolloffFactor=i},addEventListener(...i){return pe.addEventListener(i[0],i[1],i[2])},dispatchEvent(...i){return pe.dispatchEvent(i[0])},removeEventListener(...i){return pe.removeEventListener(i[0],i[1],i[2])}};g!==oe.coneInnerAngle&&(oe.coneInnerAngle=g),_!==oe.coneOuterAngle&&(oe.coneOuterAngle=_),E!==oe.coneOuterGain&&(oe.coneOuterGain=E),b!==oe.distanceModel&&(oe.distanceModel=b),N!==oe.maxDistance&&(oe.maxDistance=N),O!==oe.orientationX.value&&(oe.orientationX.value=O),w!==oe.orientationY.value&&(oe.orientationY.value=w),T!==oe.orientationZ.value&&(oe.orientationZ.value=T),A!==oe.panningModel&&(oe.panningModel=A),R!==oe.positionX.value&&(oe.positionX.value=R),I!==oe.positionY.value&&(oe.positionY.value=I),L!==oe.positionZ.value&&(oe.positionZ.value=L),z!==oe.refDistance&&(oe.refDistance=z),V!==oe.rolloffFactor&&(oe.rolloffFactor=V),(W[0]!==1||W[1]!==0||W[2]!==0)&&H.setOrientation(...W),(G[0]!==0||G[1]!==0||G[2]!==0)&&H.setPosition(...G);const y=()=>{pe.connect(H),t(pe,P,0,0),P.connect(me).connect(ee,0,0),P.connect(Se).connect(ee,0,1),P.connect(ce).connect(ee,0,2),P.connect(he).connect(ee,0,3),P.connect(Q).connect(ee,0,4),P.connect(X).connect(ee,0,5),ee.connect(K).connect(d.destination)},v=()=>{pe.disconnect(H),l(pe,P,0,0),P.disconnect(me),me.disconnect(ee),P.disconnect(Se),Se.disconnect(ee),P.disconnect(ce),ce.disconnect(ee),P.disconnect(he),he.disconnect(ee),P.disconnect(Q),Q.disconnect(ee),P.disconnect(X),X.disconnect(ee),ee.disconnect(K),K.disconnect(d.destination)};return h(Is(oe,H),y,v)},ix=t=>(e,{disableNormalization:n,imag:r,real:o})=>{const s=r instanceof Float32Array?r:new Float32Array(r),a=o instanceof Float32Array?o:new Float32Array(o),l=e.createPeriodicWave(a,s,{disableNormalization:n});if(Array.from(r).length<2)throw t();return l},Wi=(t,e,n,r)=>t.createScriptProcessor(e,n,r),ax=(t,e)=>(n,r)=>{const o=r.channelCountMode;if(o==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);const s=n.createStereoPanner();return bt(s,r),pt(s,r,"pan"),Object.defineProperty(s,"channelCountMode",{get:()=>o,set:a=>{if(a!==o)throw e()}}),s},lx=(t,e,n,r,o,s)=>{const l=new Float32Array([1,1]),u=Math.PI/2,h={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},d={...h,oversample:"none"},g=(b,N,O,w)=>{const T=new Float32Array(16385),A=new Float32Array(16385);for(let te=0;te<16385;te+=1){const H=te/16384*u;T[te]=Math.cos(H),A[te]=Math.sin(H)}const R=n(b,{...h,gain:0}),I=r(b,{...d,curve:T}),L=r(b,{...d,curve:l}),z=n(b,{...h,gain:0}),V=r(b,{...d,curve:A});return{connectGraph(){N.connect(R),N.connect(L.inputs===void 0?L:L.inputs[0]),N.connect(z),L.connect(O),O.connect(I.inputs===void 0?I:I.inputs[0]),O.connect(V.inputs===void 0?V:V.inputs[0]),I.connect(R.gain),V.connect(z.gain),R.connect(w,0,0),z.connect(w,0,1)},disconnectGraph(){N.disconnect(R),N.disconnect(L.inputs===void 0?L:L.inputs[0]),N.disconnect(z),L.disconnect(O),O.disconnect(I.inputs===void 0?I:I.inputs[0]),O.disconnect(V.inputs===void 0?V:V.inputs[0]),I.disconnect(R.gain),V.disconnect(z.gain),R.disconnect(w,0,0),z.disconnect(w,0,1)}}},_=(b,N,O,w)=>{const T=new Float32Array(16385),A=new Float32Array(16385),R=new Float32Array(16385),I=new Float32Array(16385),L=Math.floor(16385/2);for(let he=0;he<16385;he+=1)if(he>L){const Q=(he-L)/(16384-L)*u;T[he]=Math.cos(Q),A[he]=Math.sin(Q),R[he]=0,I[he]=1}else{const Q=he/(16384-L)*u;T[he]=1,A[he]=0,R[he]=Math.cos(Q),I[he]=Math.sin(Q)}const z=e(b,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),V=n(b,{...h,gain:0}),te=r(b,{...d,curve:T}),H=n(b,{...h,gain:0}),re=r(b,{...d,curve:A}),ee=r(b,{...d,curve:l}),pe=n(b,{...h,gain:0}),me=r(b,{...d,curve:R}),Se=n(b,{...h,gain:0}),ce=r(b,{...d,curve:I});return{connectGraph(){N.connect(z),N.connect(ee.inputs===void 0?ee:ee.inputs[0]),z.connect(V,0),z.connect(H,0),z.connect(pe,1),z.connect(Se,1),ee.connect(O),O.connect(te.inputs===void 0?te:te.inputs[0]),O.connect(re.inputs===void 0?re:re.inputs[0]),O.connect(me.inputs===void 0?me:me.inputs[0]),O.connect(ce.inputs===void 0?ce:ce.inputs[0]),te.connect(V.gain),re.connect(H.gain),me.connect(pe.gain),ce.connect(Se.gain),V.connect(w,0,0),pe.connect(w,0,0),H.connect(w,0,1),Se.connect(w,0,1)},disconnectGraph(){N.disconnect(z),N.disconnect(ee.inputs===void 0?ee:ee.inputs[0]),z.disconnect(V,0),z.disconnect(H,0),z.disconnect(pe,1),z.disconnect(Se,1),ee.disconnect(O),O.disconnect(te.inputs===void 0?te:te.inputs[0]),O.disconnect(re.inputs===void 0?re:re.inputs[0]),O.disconnect(me.inputs===void 0?me:me.inputs[0]),O.disconnect(ce.inputs===void 0?ce:ce.inputs[0]),te.disconnect(V.gain),re.disconnect(H.gain),me.disconnect(pe.gain),ce.disconnect(Se.gain),V.disconnect(w,0,0),pe.disconnect(w,0,0),H.disconnect(w,0,1),Se.disconnect(w,0,1)}}},E=(b,N,O,w,T)=>{if(N===1)return g(b,O,w,T);if(N===2)return _(b,O,w,T);throw o()};return(b,{channelCount:N,channelCountMode:O,pan:w,...T})=>{if(O==="max")throw o();const A=t(b,{...T,channelCount:1,channelCountMode:O,numberOfInputs:2}),R=n(b,{...T,channelCount:N,channelCountMode:O,gain:1}),I=n(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:w});let{connectGraph:L,disconnectGraph:z}=E(b,N,R,I,A);Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"maxValue",{get:()=>1}),Object.defineProperty(I.gain,"minValue",{get:()=>-1});const V={get bufferSize(){},get channelCount(){return R.channelCount},set channelCount(ee){R.channelCount!==ee&&(te&&z(),{connectGraph:L,disconnectGraph:z}=E(b,ee,R,I,A),te&&L()),R.channelCount=ee},get channelCountMode(){return R.channelCountMode},set channelCountMode(ee){if(ee==="clamped-max"||ee==="max")throw o();R.channelCountMode=ee},get channelInterpretation(){return R.channelInterpretation},set channelInterpretation(ee){R.channelInterpretation=ee},get context(){return R.context},get inputs(){return[R]},get numberOfInputs(){return R.numberOfInputs},get numberOfOutputs(){return R.numberOfOutputs},get pan(){return I.gain},addEventListener(...ee){return R.addEventListener(ee[0],ee[1],ee[2])},dispatchEvent(...ee){return R.dispatchEvent(ee[0])},removeEventListener(...ee){return R.removeEventListener(ee[0],ee[1],ee[2])}};let te=!1;const H=()=>{L(),te=!0},re=()=>{z(),te=!1};return s(Is(V,A),H,re)}},ux=(t,e,n,r,o,s,a)=>(l,u)=>{const h=l.createWaveShaper();if(s!==null&&s.name==="webkitAudioContext"&&l.createGain().gain.automationRate===void 0)return n(l,u);bt(h,u);const d=u.curve===null||u.curve instanceof Float32Array?u.curve:new Float32Array(u.curve);if(d!==null&&d.length<2)throw e();st(h,{curve:d},"curve"),st(h,u,"oversample");let g=null,_=!1;return a(h,"curve",N=>()=>N.call(h),N=>O=>(N.call(h,O),_&&(r(O)&&g===null?g=t(l,h):!r(O)&&g!==null&&(g(),g=null)),O)),o(h,()=>{_=!0,r(h.curve)&&(g=t(l,h))},()=>{_=!1,g!==null&&(g(),g=null)})},cx=(t,e,n,r,o)=>(s,{curve:a,oversample:l,...u})=>{const h=s.createWaveShaper(),d=s.createWaveShaper();bt(h,u),bt(d,u);const g=n(s,{...u,gain:1}),_=n(s,{...u,gain:-1}),E=n(s,{...u,gain:1}),b=n(s,{...u,gain:-1});let N=null,O=!1,w=null;const T={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(I){g.channelCount=I,_.channelCount=I,h.channelCount=I,E.channelCount=I,d.channelCount=I,b.channelCount=I},get channelCountMode(){return h.channelCountMode},set channelCountMode(I){g.channelCountMode=I,_.channelCountMode=I,h.channelCountMode=I,E.channelCountMode=I,d.channelCountMode=I,b.channelCountMode=I},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(I){g.channelInterpretation=I,_.channelInterpretation=I,h.channelInterpretation=I,E.channelInterpretation=I,d.channelInterpretation=I,b.channelInterpretation=I},get context(){return h.context},get curve(){return w},set curve(I){if(I!==null&&I.length<2)throw e();if(I===null)h.curve=I,d.curve=I;else{const L=I.length,z=new Float32Array(L+2-L%2),V=new Float32Array(L+2-L%2);z[0]=I[0],V[0]=-I[L-1];const te=Math.ceil((L+1)/2),H=(L+1)/2-1;for(let re=1;re<te;re+=1){const ee=re/te*H,pe=Math.floor(ee),me=Math.ceil(ee);z[re]=pe===me?I[pe]:(1-(ee-pe))*I[pe]+(1-(me-ee))*I[me],V[re]=pe===me?-I[L-1-pe]:-((1-(ee-pe))*I[L-1-pe])-(1-(me-ee))*I[L-1-me]}z[te]=L%2===1?I[te-1]:(I[te-2]+I[te-1])/2,h.curve=z,d.curve=V}w=I,O&&(r(w)&&N===null?N=t(s,g):N!==null&&(N(),N=null))},get inputs(){return[g]},get numberOfInputs(){return h.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get oversample(){return h.oversample},set oversample(I){h.oversample=I,d.oversample=I},addEventListener(...I){return g.addEventListener(I[0],I[1],I[2])},dispatchEvent(...I){return g.dispatchEvent(I[0])},removeEventListener(...I){return g.removeEventListener(I[0],I[1],I[2])}};a!==null&&(T.curve=a instanceof Float32Array?a:new Float32Array(a)),l!==T.oversample&&(T.oversample=l);const A=()=>{g.connect(h).connect(E),g.connect(_).connect(d).connect(b).connect(E),O=!0,r(w)&&(N=t(s,g))},R=()=>{g.disconnect(h),h.disconnect(E),g.disconnect(_),_.disconnect(d),d.disconnect(b),b.disconnect(E),O=!1,N!==null&&(N(),N=null)};return o(Is(T,E),A,R)},tn=()=>new DOMException("","NotSupportedError"),hx={numberOfChannels:1},dx=(t,e,n,r,o)=>class extends t{constructor(a,l,u){let h;if(typeof a=="number"&&l!==void 0&&u!==void 0)h={length:l,numberOfChannels:a,sampleRate:u};else if(typeof a=="object")h=a;else throw new Error("The given parameters are not valid.");const{length:d,numberOfChannels:g,sampleRate:_}={...hx,...h},E=r(g,d,_);e(Ii,()=>Ii(E))||E.addEventListener("statechange",(()=>{let b=0;const N=O=>{this._state==="running"&&(b>0?(E.removeEventListener("statechange",N),O.stopImmediatePropagation(),this._waitForThePromiseToSettle(O)):b+=1)};return N})()),super(E,g),this._length=d,this._nativeOfflineAudioContext=E,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,py(this)}))}_waitForThePromiseToSettle(a){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(a):setTimeout(()=>this._waitForThePromiseToSettle(a))}},fx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},px=(t,e,n,r,o,s,a)=>class extends t{constructor(u,h){const d=o(u),g={...fx,...h},_=n(d,g),E=s(d),b=E?r():null,N=u.sampleRate/2;super(u,!1,_,b),this._detune=e(this,E,_.detune,153600,-153600),this._frequency=e(this,E,_.frequency,N,-N),this._nativeOscillatorNode=_,this._onended=null,this._oscillatorNodeRenderer=b,this._oscillatorNodeRenderer!==null&&g.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=g.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(u){const h=typeof u=="function"?a(this,u):null;this._nativeOscillatorNode.onended=h;const d=this._nativeOscillatorNode.onended;this._onended=d!==null&&d===h?u:d}get type(){return this._nativeOscillatorNode.type}set type(u){this._nativeOscillatorNode.type=u,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(u){this._nativeOscillatorNode.setPeriodicWave(u),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=u)}start(u=0){if(this._nativeOscillatorNode.start(u),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=u),this.context.state!=="closed"){vs(this);const h=()=>{this._nativeOscillatorNode.removeEventListener("ended",h),mr(this)&&Vi(this)};this._nativeOscillatorNode.addEventListener("ended",h)}}stop(u=0){this._nativeOscillatorNode.stop(u),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=u)}},mx=(t,e,n,r,o)=>()=>{const s=new WeakMap;let a=null,l=null,u=null;const h=async(d,g)=>{let _=n(d);const E=$t(_,g);if(!E){const b={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,detune:_.detune.value,frequency:_.frequency.value,periodicWave:a===null?void 0:a,type:_.type};_=e(g,b),l!==null&&_.start(l),u!==null&&_.stop(u)}return s.set(g,_),E?(await t(g,d.detune,_.detune),await t(g,d.frequency,_.frequency)):(await r(g,d.detune,_.detune),await r(g,d.frequency,_.frequency)),await o(d,g,_),_};return{set periodicWave(d){a=d},set start(d){l=d},set stop(d){u=d},render(d,g){const _=s.get(g);return _!==void 0?Promise.resolve(_):h(d,g)}}},gx={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},yx=(t,e,n,r,o,s,a)=>class extends t{constructor(u,h){const d=o(u),g={...gx,...h},_=n(d,g),E=s(d),b=E?r():null;super(u,!1,_,b),this._nativePannerNode=_,this._orientationX=e(this,E,_.orientationX,Yt,rn),this._orientationY=e(this,E,_.orientationY,Yt,rn),this._orientationZ=e(this,E,_.orientationZ,Yt,rn),this._positionX=e(this,E,_.positionX,Yt,rn),this._positionY=e(this,E,_.positionY,Yt,rn),this._positionZ=e(this,E,_.positionZ,Yt,rn),a(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(u){this._nativePannerNode.coneInnerAngle=u}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(u){this._nativePannerNode.coneOuterAngle=u}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(u){this._nativePannerNode.coneOuterGain=u}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(u){this._nativePannerNode.distanceModel=u}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(u){this._nativePannerNode.maxDistance=u}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(u){this._nativePannerNode.panningModel=u}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(u){this._nativePannerNode.refDistance=u}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(u){this._nativePannerNode.rolloffFactor=u}},vx=(t,e,n,r,o,s,a,l,u,h)=>()=>{const d=new WeakMap;let g=null;const _=async(E,b)=>{let N=null,O=s(E);const w={channelCount:O.channelCount,channelCountMode:O.channelCountMode,channelInterpretation:O.channelInterpretation},T={...w,coneInnerAngle:O.coneInnerAngle,coneOuterAngle:O.coneOuterAngle,coneOuterGain:O.coneOuterGain,distanceModel:O.distanceModel,maxDistance:O.maxDistance,panningModel:O.panningModel,refDistance:O.refDistance,rolloffFactor:O.rolloffFactor},A=$t(O,b);if("bufferSize"in O)N=r(b,{...w,gain:1});else if(!A){const R={...T,orientationX:O.orientationX.value,orientationY:O.orientationY.value,orientationZ:O.orientationZ.value,positionX:O.positionX.value,positionY:O.positionY.value,positionZ:O.positionZ.value};O=o(b,R)}if(d.set(b,N===null?O:N),N!==null){if(g===null){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const re=new a(6,E.context.length,b.sampleRate),ee=e(re,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});ee.connect(re.destination),g=(async()=>{const pe=await Promise.all([E.orientationX,E.orientationY,E.orientationZ,E.positionX,E.positionY,E.positionZ].map(async(me,Se)=>{const ce=n(re,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Se===0?1:0});return await l(re,me,ce.offset),ce}));for(let me=0;me<6;me+=1)pe[me].connect(ee,0,me),pe[me].start(0);return h(re)})()}const R=await g,I=r(b,{...w,gain:1});await u(E,b,I);const L=[];for(let re=0;re<R.numberOfChannels;re+=1)L.push(R.getChannelData(re));let z=[L[0][0],L[1][0],L[2][0]],V=[L[3][0],L[4][0],L[5][0]],te=r(b,{...w,gain:1}),H=o(b,{...T,orientationX:z[0],orientationY:z[1],orientationZ:z[2],positionX:V[0],positionY:V[1],positionZ:V[2]});I.connect(te).connect(H.inputs[0]),H.connect(N);for(let re=128;re<R.length;re+=128){const ee=[L[0][re],L[1][re],L[2][re]],pe=[L[3][re],L[4][re],L[5][re]];if(ee.some((me,Se)=>me!==z[Se])||pe.some((me,Se)=>me!==V[Se])){z=ee,V=pe;const me=re/b.sampleRate;te.gain.setValueAtTime(0,me),te=r(b,{...w,gain:0}),H=o(b,{...T,orientationX:z[0],orientationY:z[1],orientationZ:z[2],positionX:V[0],positionY:V[1],positionZ:V[2]}),te.gain.setValueAtTime(1,me),I.connect(te).connect(H.inputs[0]),H.connect(N)}}return N}return A?(await t(b,E.orientationX,O.orientationX),await t(b,E.orientationY,O.orientationY),await t(b,E.orientationZ,O.orientationZ),await t(b,E.positionX,O.positionX),await t(b,E.positionY,O.positionY),await t(b,E.positionZ,O.positionZ)):(await l(b,E.orientationX,O.orientationX),await l(b,E.orientationY,O.orientationY),await l(b,E.orientationZ,O.orientationZ),await l(b,E.positionX,O.positionX),await l(b,E.positionY,O.positionY),await l(b,E.positionZ,O.positionZ)),As(O)?await u(E,b,O.inputs[0]):await u(E,b,O),O};return{render(E,b){const N=d.get(b);return N!==void 0?Promise.resolve(N):_(E,b)}}},_x={disableNormalization:!1},wx=(t,e,n,r)=>class Cy{constructor(s,a){const l=e(s),u=r({..._x,...a}),h=t(l,u);return n.add(h),h}static[Symbol.hasInstance](s){return s!==null&&typeof s=="object"&&Object.getPrototypeOf(s)===Cy.prototype||n.has(s)}},Sx=(t,e)=>(n,r,o)=>(t(r).replay(o),e(r,n,o)),kx=(t,e,n)=>async(r,o,s)=>{const a=t(r);await Promise.all(a.activeInputs.map((l,u)=>Array.from(l).map(async([h,d])=>{const _=await e(h).render(h,o),E=r.context.destination;!n(h)&&(r!==E||!n(r))&&_.connect(s,d,u)})).reduce((l,u)=>[...l,...u],[]))},xx=(t,e,n)=>async(r,o,s)=>{const a=e(r);await Promise.all(Array.from(a.activeInputs).map(async([l,u])=>{const d=await t(l).render(l,o);n(l)||d.connect(s,u)}))},Cx=(t,e,n,r)=>o=>t(Ii,()=>Ii(o))?Promise.resolve(t(r,r)).then(s=>{if(!s){const a=n(o,512,0,1);o.oncomplete=()=>{a.onaudioprocess=null,a.disconnect()},a.onaudioprocess=()=>o.currentTime,a.connect(o.destination)}return o.startRendering()}):new Promise(s=>{const a=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=l=>{a.disconnect(),s(l.renderedBuffer)},a.connect(o.destination),o.startRendering()}),Tx=t=>(e,n)=>{t.set(e,n)},Ex=t=>(e,n)=>t.set(e,n),bx=(t,e,n,r,o,s,a,l)=>(u,h)=>n(u).render(u,h).then(()=>Promise.all(Array.from(r(h)).map(d=>n(d).render(d,h)))).then(()=>o(h)).then(d=>(typeof d.copyFromChannel!="function"?(a(d),Yh(d)):e(s,()=>s(d))||l(d),t.add(d),d)),Nx={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Ox=(t,e,n,r,o,s)=>class extends t{constructor(l,u){const h=o(l),d={...Nx,...u},g=n(h,d),_=s(h),E=_?r():null;super(l,!1,g,E),this._pan=e(this,_,g.pan)}get pan(){return this._pan}},Ax=(t,e,n,r,o)=>()=>{const s=new WeakMap,a=async(l,u)=>{let h=n(l);const d=$t(h,u);if(!d){const g={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,pan:h.pan.value};h=e(u,g)}return s.set(u,h),d?await t(u,l.pan,h.pan):await r(u,l.pan,h.pan),As(h)?await o(l,u,h.inputs[0]):await o(l,u,h),h};return{render(l,u){const h=s.get(u);return h!==void 0?Promise.resolve(h):a(l,u)}}},Ix=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},Px=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),o=URL.createObjectURL(n);let s=!1,a=!1;try{await r.audioWorklet.addModule(o);const l=new t(r,"a",{numberOfOutputs:0}),u=r.createOscillator();l.port.onmessage=()=>s=!0,l.onprocessorerror=()=>a=!0,u.connect(l),u.start(0),await r.startRendering(),await new Promise(h=>setTimeout(h))}catch{}finally{URL.revokeObjectURL(o)}return s&&!a},Mx=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{n.oncomplete=()=>{r.disconnect(),o(n.currentTime!==0)},n.startRendering()})},Dx=()=>new DOMException("","UnknownError"),Rx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},jx=(t,e,n,r,o,s,a)=>class extends t{constructor(u,h){const d=o(u),g={...Rx,...h},_=n(d,g),b=s(d)?r():null;super(u,!0,_,b),this._isCurveNullified=!1,this._nativeWaveShaperNode=_,a(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(u){if(u===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(u.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=u}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(u){this._nativeWaveShaperNode.oversample=u}},Lx=(t,e,n)=>()=>{const r=new WeakMap,o=async(s,a)=>{let l=e(s);if(!$t(l,a)){const h={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,curve:l.curve,oversample:l.oversample};l=t(a,h)}return r.set(a,l),As(l)?await n(s,a,l.inputs[0]):await n(s,a,l),l};return{render(s,a){const l=r.get(a);return l!==void 0?Promise.resolve(l):o(s,a)}}},Fx=()=>typeof window>"u"?null:window,Kx=(t,e)=>n=>{n.copyFromChannel=(r,o,s=0)=>{const a=t(s),l=t(o);if(l>=n.numberOfChannels)throw e();const u=n.length,h=n.getChannelData(l),d=r.length;for(let g=a<0?-a:0;g+a<u&&g<d;g+=1)r[g]=h[g+a]},n.copyToChannel=(r,o,s=0)=>{const a=t(s),l=t(o);if(l>=n.numberOfChannels)throw e();const u=n.length,h=n.getChannelData(l),d=r.length;for(let g=a<0?-a:0;g+a<u&&g<d;g+=1)h[g+a]=r[g]}},Vx=t=>e=>{e.copyFromChannel=(n=>(r,o,s=0)=>{const a=t(s),l=t(o);if(a<e.length)return n.call(e,r,l,a)})(e.copyFromChannel),e.copyToChannel=(n=>(r,o,s=0)=>{const a=t(s),l=t(o);if(a<e.length)return n.call(e,r,l,a)})(e.copyToChannel)},Bx=t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",o=>()=>{const s=o.call(e);return s===r?null:s},o=>s=>o.call(e,s===null?r:s))},zx=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const o=n.createBufferSource();e(r,()=>{const l=r.numberOfInputs;for(let u=0;u<l;u+=1)o.connect(r,0,u)},()=>o.disconnect(r))},Ty=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),Ey=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},$i=(t,e,n,r)=>{let o=t;for(;!o.hasOwnProperty(e);)o=Object.getPrototypeOf(o);const{get:s,set:a}=Object.getOwnPropertyDescriptor(o,e);Object.defineProperty(t,e,{get:n(s),set:r(a)})},Ux=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),Wx=t=>({...t,channelCount:t.numberOfOutputs}),$x=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},by=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;by(t,e,n+1e-7)}},qx=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},Hx=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},Gx=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},ed=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},Ny=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},td=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},Yx=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},Qx=t=>{t.start=(e=>(n=0,r=0,o)=>{const s=t.buffer,a=s===null?r:Math.min(s.duration,r);s!==null&&a>s.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,a,o)})(t.start)},Oy=(t,e)=>{const n=e.createGain();t.connect(n);const r=(o=>()=>{o.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),Is(t,n),t.stop=(o=>{let s=!1;return(a=0)=>{if(s)try{o.call(t,a)}catch{n.gain.setValueAtTime(0,a)}else o.call(t,a),s=!0}})(t.stop)},Ps=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},Xx=yw(Io),Zx=xw(Io),Jx=RS(Bl),Ay=new WeakMap,eC=JS(Ay),Hn=hS(new Map,new WeakMap),nr=Fx(),Iy=Ok(Hn,rr),nd=ZS(Qt),Ft=kx(Qt,nd,Eo),tC=Nw(Iy,ot,Ft),et=nk(Vl),xr=nx(nr),Xe=_k(xr),Py=new WeakMap,My=$S(Ps),qi=Mk(nr),rd=mk(qi),od=gk(nr),Dy=yk(nr),Pi=Rk(nr),vt=Jw(vw(ay),kw(Xx,Zx,pl,Jx,ml,Qt,eC,Ki,ot,Io,mr,Eo,Ra),Hn,ck(Fc,ml,Qt,ot,Ai,mr),rr,zl,tn,IS(pl,Fc,Qt,ot,Ai,et,mr,Xe),FS(Py,Qt,qn),My,et,rd,od,Dy,Xe,Pi),nC=bw(vt,tC,rr,Iy,et,Xe),sd=new WeakSet,xp=Ak(nr),Ry=CS(new Uint32Array(1)),id=Kx(Ry,rr),ad=Vx(Ry),jy=Aw(sd,Hn,tn,xp,xr,Ix(xp),id,ad),Ul=Cw(cn),Ly=xx(nd,Bi,Eo),or=vS(Ly),Ms=Pk(Ul,Hn,qx,Hx,Gx,ed,Ny,td,Qx,Bx($i),Oy),sr=Sx(ek(Bi),Ly),rC=Mw(or,Ms,ot,sr,Ft),Gn=eS(_w(ly),Py,Gh,tS,hw,dw,fw,pw,mw,Rc,sy,qi,by),oC=Pw(vt,rC,Gn,It,Ms,et,Xe,Ps),sC=zw(vt,Uw,rr,It,Dk(cn,$i),et,Xe,Ft),iC=cS(or,ky,ot,sr,Ft),Po=Ex(Ay),aC=uS(vt,Gn,iC,zl,ky,et,Xe,Po),so=bk(Io,od),lC=zx(It,so),io=zk(qi,lC),uC=pS(io,ot,Ft),cC=fS(vt,uC,io,et,Xe),hC=yS(Ui,ot,Ft),dC=gS(vt,hC,Ui,et,Xe,Wx),fC=$k(Ul,Ms,cn,so),Ds=Wk(Ul,Hn,fC,ed,td),pC=xS(or,Ds,ot,sr,Ft),mC=kS(vt,Gn,pC,Ds,et,Xe,Ps),Fy=qk(tn,$i),gC=bS(Fy,ot,Ft),yC=ES(vt,gC,Fy,et,Xe,Po),vC=DS(or,xy,ot,sr,Ft),_C=MS(vt,Gn,vC,xy,et,Xe,Po),Ky=Hk(tn),wC=zS(or,Ky,ot,sr,Ft),SC=BS(vt,Gn,wC,Ky,tn,et,Xe,Po),kC=QS(or,cn,ot,sr,Ft),xC=YS(vt,Gn,kC,cn,et,Xe),CC=Xk(zl,It,Wi,tn),Wl=Cx(Hn,cn,Wi,Mx(cn,xr)),TC=uk(Ms,ot,xr,Ft,Wl),EC=Gk(CC),bC=ak(vt,EC,TC,et,Xe,Po),NC=Ww(Gn,io,Ds,Wi,tn,Ty,Xe,$i),Vy=new WeakMap,OC=Ek(sC,NC,My,Xe,Vy,Ps),By=rx(Ul,Hn,ed,Ny,td,Oy),AC=mx(or,By,ot,sr,Ft),IC=px(vt,Gn,By,AC,et,Xe,Ps),zy=wS(Ms),PC=cx(zy,It,cn,Ey,so),$l=ux(zy,It,PC,Ey,so,qi,$i),MC=sx(pl,It,io,cn,Wi,$l,tn,ml,Ty,so),Uy=ox(MC),DC=vx(or,io,Ds,cn,Uy,ot,xr,sr,Ft,Wl),RC=yx(vt,Gn,Uy,DC,et,Xe,Po),jC=ix(rr),LC=wx(jC,et,new WeakSet,$x),FC=lx(io,Ui,cn,$l,tn,so),Wy=ax(FC,tn),KC=Ax(or,Wy,ot,sr,Ft),VC=Ox(vt,Gn,Wy,KC,et,Xe),BC=Lx($l,ot,Ft),zC=jx(vt,It,$l,BC,et,Xe,Po),$y=wk(nr),ld=qS(nr),qy=new WeakMap,UC=rk(qy,xr),WC=$y?Sw(Hn,tn,WS(nr),ld,HS(gw),et,UC,Xe,Pi,new WeakMap,new WeakMap,Px(Pi,xr),nr):void 0,$C=vk(rd,Xe),qC=AS(sd,Hn,OS,US,new WeakSet,et,$C,dl,Ii,id,ad),Hy=aS(WC,nC,jy,oC,aC,cC,dC,mC,yC,qC,_C,SC,xC,bC,OC,IC,RC,LC,VC,zC),HC=Sk(vt,Zk,et,Xe),GC=xk(vt,Jk,et,Xe),YC=Ck(vt,ex,et,Xe),QC=tx(It,Xe),XC=Tk(vt,QC,et),ZC=Bw(Hy,It,tn,Dx,HC,GC,YC,XC,qi),ud=ok(Vy),JC=Tw(ud),Gy=_S(rr),eT=jS(ud),Yy=KS(rr),Qy=new WeakMap,tT=XS(Qy,qn),nT=Bk(Gy,rr,It,io,Ui,Ds,cn,Wi,tn,Yy,ld,tT,so),rT=Lk(It,nT,cn,tn,so),oT=iS(or,Gy,Ms,io,Ui,Ds,cn,eT,Yy,ld,ot,Pi,xr,sr,Ft,Wl),sT=tk(qy),iT=Tx(Qy),Cp=$y?rS(JC,vt,Gn,oT,rT,Qt,sT,et,Xe,Pi,Ux,iT,Yx,Ps):void 0,aT=NS(tn,xr),lT=bx(sd,Hn,nd,ud,Wl,dl,id,ad),uT=dx(Hy,Hn,It,aT,lT),cT=hk(Vl,rd),hT=dk(Hh,od),dT=fk(Gh,Dy),fT=pk(Vl,Xe);function On(t){return t===void 0}function ze(t){return t!==void 0}function pT(t){return typeof t=="function"}function bo(t){return typeof t=="number"}function wo(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function mT(t){return typeof t=="boolean"}function Wn(t){return Array.isArray(t)}function wr(t){return typeof t=="string"}function va(t){return wr(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function je(t,e){if(!t)throw new Error(e)}function Zr(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Xy(t){!t.isOffline&&t.state!=="running"&&cd('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Zy=!1,Tp=!1;function Ep(t){Zy=t}function gT(t){On(t)&&Zy&&!Tp&&(Tp=!0,cd("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Jy=console;function yT(...t){Jy.log(...t)}function cd(...t){Jy.warn(...t)}function vT(t){return new ZC(t)}function _T(t,e,n){return new uT(t,e,n)}const mn=typeof self=="object"?self:null,wT=mn&&(mn.hasOwnProperty("AudioContext")||mn.hasOwnProperty("webkitAudioContext"));function ST(t,e,n){return je(ze(Cp),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof(mn==null?void 0:mn.BaseAudioContext)?mn==null?void 0:mn.AudioWorkletNode:Cp)(t,e,n)}function Yn(t,e,n,r){var o=arguments.length,s=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(s=(o<3?a(s):o>3?a(e,n,s):a(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function xt(t,e,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{h(r.next(d))}catch(g){a(g)}}function u(d){try{h(r.throw(d))}catch(g){a(g)}}function h(d){d.done?s(d.value):o(d.value).then(l,u)}h((r=r.apply(t,e||[])).next())})}class kT{constructor(e,n,r,o){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(o||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function No(t){return dT(t)}function Yr(t){return hT(t)}function ja(t){return fT(t)}function Vo(t){return cT(t)}function xT(t){return t instanceof jy}function CT(t,e){return t==="value"||No(e)||Yr(e)||xT(e)}function ls(t,...e){if(!e.length)return t;const n=e.shift();if(wo(t)&&wo(n))for(const r in n)CT(r,n[r])?t[r]=n[r]:wo(n[r])?(t[r]||Object.assign(t,{[r]:{}}),ls(t[r],n[r])):Object.assign(t,{[r]:n[r]});return ls(t,...e)}function TT(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function De(t,e,n=[],r){const o={},s=Array.from(e);if(wo(s[0])&&r&&!Reflect.has(s[0],r)&&(Object.keys(s[0]).some(l=>Reflect.has(t,l))||(ls(o,{[r]:s[0]}),n.splice(n.indexOf(r),1),s.shift())),s.length===1&&wo(s[0]))ls(o,s[0]);else for(let a=0;a<n.length;a++)ze(s[a])&&(o[n[a]]=s[a]);return ls(t,o)}function ET(t){return t.constructor.getDefaults()}function us(t,e){return On(t)?e:t}function bp(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Cr{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||mn&&this.toString()===mn.TONE_DEBUG_CLASS)&&yT(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Cr.version=oy;const hd=1e-6;function _s(t,e){return t>e+hd}function Uc(t,e){return _s(t,e)||Vn(t,e)}function _l(t,e){return t+hd<e}function Vn(t,e){return Math.abs(t-e)<hd}function bT(t,e,n){return Math.max(Math.min(t,n),e)}class An extends Cr{constructor(){super(),this.name="Timeline",this._timeline=[];const e=De(An.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(je(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];je(Uc(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Vn(this._timeline[n].time,e)){for(let r=n;r>=0&&Vn(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Uc(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0;const o=this._timeline.length;let s=o;if(o>0&&this._timeline[o-1][n]<=e)return o-1;for(;r<s;){let a=Math.floor(r+(s-r)/2);const l=this._timeline[a],u=this._timeline[a+1];if(Vn(l[n],e)){for(let h=a;h<this._timeline.length;h++){const d=this._timeline[h];if(Vn(d[n],e))a=h;else break}return a}else{if(_l(l[n],e)&&_s(u[n],e))return a;_s(l[n],e)?s=a:r=a+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){const r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let o=this._search(e),s=this._search(n);return o!==-1&&s!==-1?(this._timeline[o].time!==e&&(o+=1),this._timeline[s].time===n&&(s-=1),this._iterate(r,o,s)):o===-1&&this._iterate(r,0,s),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){const r=this._search(e);if(r!==-1&&Vn(this._timeline[r].time,e)){let o=r;for(let s=r;s>=0&&Vn(this._timeline[s].time,e);s--)o=s;this._iterate(s=>{n(s)},o,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const ev=[];function ql(t){ev.push(t)}function NT(t){ev.forEach(e=>e(t))}const tv=[];function Hl(t){tv.push(t)}function OT(t){tv.forEach(e=>e(t))}class Hi extends Cr{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(o=>{On(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(n)}),this}once(e,n){const r=(...o)=>{n(...o),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(o=>{if(On(this._events)&&(this._events={}),this._events.hasOwnProperty(o))if(On(n))this._events[o]=[];else{const s=this._events[o];for(let a=s.length-1;a>=0;a--)s[a]===n&&s.splice(a,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let o=0,s=r.length;o<s;o++)r[o].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const r=Object.getOwnPropertyDescriptor(Hi.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class nv extends Hi{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Gi extends nv{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new An,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=De(Gi.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=vT({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new kT(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(NT(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return je(Vo(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return je(Vo(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return je(Vo(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){je(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){je(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){je(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){je(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return ST(this.rawContext,e,n)}addAudioWorkletModule(e){return xt(this,void 0,void 0,function*(){je(ze(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return xt(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Vo(this._context)?this._context.resume():Promise.resolve()}close(){return xt(this,void 0,void 0,function*(){Vo(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&OT(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let s=0;s<r.length;s++)r[s]=e;const o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=n,o.loop=!0,o.start(0),this._constants.set(e,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const r=++this._timeoutIds,o=()=>{const s=this.now();this._timeouts.add({callback:()=>{e(),o()},id:r,time:s+n})};return o(),r}}class AT extends nv{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return xt(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function mt(t,e){Wn(e)?e.forEach(n=>mt(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function rv(t,e){Wn(e)?e.forEach(n=>rv(t,n)):Object.defineProperty(t,e,{writable:!0})}const Qe=()=>{};class nt extends Cr{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Qe;const e=De(nt.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,wr(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Qe,onload:Qe,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Xt().sampleRate}set(e){return e instanceof nt?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return xt(this,void 0,void 0,function*(){const n=nt.load(e).then(r=>{this.set(r),this.onload(this)});nt.downloads.push(n);try{yield n}finally{const r=nt.downloads.indexOf(n);nt.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=Wn(e)&&e[0].length>0,r=n?e.length:1,o=n?e[0].length:e.length,s=Xt(),a=s.createBuffer(r,o,s.sampleRate),l=!n&&r===1?[e]:e;for(let u=0;u<r;u++)a.copyToChannel(l[u],u);return this._buffer=a,this}toMono(e){if(bo(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const r=this.numberOfChannels;for(let o=0;o<r;o++){const s=this.toArray(o);for(let a=0;a<s.length;a++)n[a]+=s[a]}n=n.map(o=>o/r),this.fromArray(n)}return this}toArray(e){if(bo(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let r=0;r<this.numberOfChannels;r++)n[r]=this.getChannelData(r);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){je(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),o=Math.floor(n*this.sampleRate);je(r<o,"The start time must be less than the end time");const s=o-r,a=Xt().createBuffer(this.numberOfChannels,s,this.sampleRate);for(let l=0;l<this.numberOfChannels;l++)a.copyToChannel(this.getChannelData(l).subarray(r,o),l);return new nt(a)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new nt().fromArray(e)}static fromUrl(e){return xt(this,void 0,void 0,function*(){return yield new nt().load(e)})}static load(e){return xt(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const u=n[1].split("|");let h=u[0];for(const d of u)if(nt.supportsType(d)){h=d;break}e=e.replace(n[0],h)}const r=nt.baseUrl===""||nt.baseUrl.endsWith("/")?nt.baseUrl:nt.baseUrl+"/",o=document.createElement("a");o.href=r+e,o.pathname=(o.pathname+o.hash).split("/").map(encodeURIComponent).join("/");const s=yield fetch(o.href);if(!s.ok)throw new Error(`could not load url: ${e}`);const a=yield s.arrayBuffer();return yield Xt().decodeAudioData(a)})}static supportsType(e){const n=e.split("."),r=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return xt(this,void 0,void 0,function*(){for(yield Promise.resolve();nt.downloads.length;)yield nt.downloads[0]})}}nt.baseUrl="";nt.downloads=[];class dd extends Gi{constructor(){super({clockSource:"offline",context:ja(arguments[0])?arguments[0]:_T(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:ja(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=ja(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return xt(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(){return xt(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new nt(n)})}close(){return Promise.resolve()}}const ov=new AT;let yo=ov;function Xt(){return yo===ov&&wT&&IT(new Gi),yo}function IT(t,e=!1){e&&yo.dispose(),Vo(t)?yo=new Gi(t):ja(t)?yo=new dd(t):yo=t}function PT(){return yo.resume()}if(mn&&!mn.TONE_SILENCE_LOGGING){const e=` * Tone.js v${oy} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function MT(t){return Math.pow(10,t/20)}function DT(t){return 20*(Math.log(t)/Math.LN10)}function sv(t){return Math.pow(2,t/12)}let Gl=440;function RT(){return Gl}function jT(t){Gl=t}function Wc(t){return Math.round(iv(t))}function iv(t){return 69+12*Math.log2(t/Gl)}function LT(t){return Gl*Math.pow(2,(t-69)/12)}class fd extends Cr{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const r=parseInt(e,10),o=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/r)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let o=0;return e&&e!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(o+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(o+=this._beatsToUnits(parseFloat(r)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof fd&&this.fromType(this._val),On(this._val))return this._noArg();if(wr(this._val)&&On(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(wo(this._val)){let e=0;for(const n in this._val)if(ze(this._val[n])){const r=this._val[n],o=new this.constructor(this.context,n).valueOf()*r;e+=o}return e}if(ze(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return wr(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Bn extends fd{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new Bn(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const r=new this.constructor(this.context,e).valueOf(),o=this.valueOf(),l=Math.round(o/r)*r-o;return o+l*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let s=1;s<9;s++){const a=Math.pow(2,s);n.push(a+"n."),n.push(a+"n"),n.push(a+"t")}n.push("0");let r=n[0],o=new Bn(this.context,n[0]).toSeconds();return n.forEach(s=>{const a=new Bn(this.context,s).toSeconds();Math.abs(a-e)<Math.abs(o-e)&&(r=s,o=a)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const r=Math.floor(n/this._getTimeSignature());let o=n%1*4;n=Math.floor(n)%this._getTimeSignature();const s=o.toString();return s.length>3&&(o=parseFloat(parseFloat(s).toFixed(3))),[r,n,o].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Wc(this.toFrequency())}_now(){return this.context.now()}}class bn extends Bn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return RT()}static set A4(e){jT(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:bn.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const o=FT[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?o:bn.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let o=1;return e&&e!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(o*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(o*=this._beatsToUnits(parseFloat(r)/4)),o}}})}transpose(e){return new bn(this.context,this.valueOf()*sv(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return Wc(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/bn.A4);let r=Math.round(12*n)+57;const o=Math.floor(r/12);return o<0&&(r+=-12*o),KT[r%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return LT(e)}static ftom(e){return Wc(e)}}const FT={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},KT=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class ci extends Bn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class un extends Cr{constructor(){super();const e=De(un.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Xt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return gT(e),new Bn(this.context,e).toSeconds()}toFrequency(e){return new bn(this.context,e).toFrequency()}toTicks(e){return new ci(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(r=>{On(e[r])&&delete n[r]}),n}get(){const e=ET(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const r=this[n];ze(r)&&ze(r.value)&&ze(r.setValueAtTime)?e[n]=r.value:r instanceof un?e[n]=r._getPartialProperties(e[n]):Wn(r)||bo(r)||wr(r)||mT(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&ze(this[n])&&(this[n]&&ze(this[n].value)&&ze(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof un?this[n].set(e[n]):this[n]=e[n])}),this}}class pd extends An{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return Zr(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){const r=this._search(n);for(let o=r;o>=0;o--){const s=this._timeline[o];if(s.state===e)return s}}getNextState(e,n){const r=this._search(n);if(r!==-1)for(let o=r;o<this._timeline.length;o++){const s=this._timeline[o];if(s.state===e)return s}}}class at extends un{constructor(){const e=De(at.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,je(ze(e.param)&&(No(e.param)||e.param instanceof at),"param must be an AudioParam");!No(e.param);)e.param=e.param._param;this._swappable=ze(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new An(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,ze(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(un.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return ze(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return ze(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return ze(this.maxValue)&&ze(this.minValue)&&Zr(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?MT(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?DT(e):e}setValueAtTime(e,n){const r=this.toSeconds(n),o=this._fromType(e);return je(isFinite(o)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,r),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),o=this._events.get(n);let s=this._initialValue;if(o===null)s=this._initialValue;else if(o.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const a=this._events.getBefore(o.time);let l;a===null?l=this._initialValue:l=a.value,o.type==="setTargetAtTime"&&(s=this._exponentialApproach(o.time,l,o.value,o.constant,n))}else if(r===null)s=o.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let a=o.value;if(o.type==="setTargetAtTime"){const l=this._events.getBefore(o.time);l===null?a=this._initialValue:a=l.value}r.type==="linearRampToValueAtTime"?s=this._linearInterpolate(o.time,a,r.time,r.value,n):s=this._exponentialInterpolate(o.time,a,r.time,r.value,n)}else s=o.value;return this._toType(s)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const r=this._fromType(e),o=this.toSeconds(n);return je(isFinite(r)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:o,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,o),this._param.linearRampToValueAtTime(r,o),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=Vn(r,0)?this._minOutput:r,this._assertRange(r);const o=this.toSeconds(n);return je(isFinite(r)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,o),this._param.exponentialRampToValueAtTime(r,o),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);const o=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,o),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){const o=this._fromType(e);je(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const s=this.toSeconds(n);return this._assertRange(o),je(isFinite(o)&&isFinite(s),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:s,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",e,s,r),this._param.setTargetAtTime(o,s,r),this}setValueCurveAtTime(e,n,r,o=1){r=this.toSeconds(r),n=this.toSeconds(n);const s=this._fromType(e[0])*o;this.setValueAtTime(this._toType(s),n);const a=r/(e.length-1);for(let l=1;l<e.length;l++){const u=this._fromType(e[l])*o;this.linearRampToValueAtTime(this._toType(u),n+l*a)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return je(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));je(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);const o=this._events.get(n),s=this._events.getAfter(n);return o&&Vn(o.time,n)?s?(this._param.cancelScheduledValues(s.time),this._events.cancel(s.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):s&&(this._param.cancelScheduledValues(s.time),this._events.cancel(s.time),s.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):s.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){const o=this._events.getAfter(r.time),s=o?o.time:n+2,a=(s-n)/10;for(let l=n;l<s;l+=a)e.linearRampToValueAtTime(this.getValueAtTime(l),l)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?e.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?e.setTargetAtTime(o.value,o.time,o.constant):e[o.type](o.value,o.time)}),this}setParam(e){je(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,o,s){return r+(n-r)*Math.exp(-(s-e)/o)}_linearInterpolate(e,n,r,o,s){return n+(o-n)*((s-e)/(r-e))}_exponentialInterpolate(e,n,r,o,s){return n*Math.pow(o/n,(s-e)/(r-e))}}class Ke extends un{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return ze(this.input)?No(this.input)||this.input instanceof at?1:this.input.numberOfInputs:0}get numberOfOutputs(){return ze(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return ze(e)&&(e instanceof Ke||Yr(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();je(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return Rs(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return cd("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return VT(this,e,n,r),this}chain(...e){return $c(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),ze(this.input)&&(this.input instanceof Ke?this.input.dispose():Yr(this.input)&&this.input.disconnect()),ze(this.output)&&(this.output instanceof Ke?this.output.dispose():Yr(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function $c(...t){const e=t.shift();t.reduce((n,r)=>(n instanceof Ke?n.connect(r):Yr(n)&&Rs(n,r),r),e)}function Rs(t,e,n=0,r=0){for(je(ze(t),"Cannot connect from undefined node"),je(ze(e),"Cannot connect to undefined node"),(e instanceof Ke||Yr(e))&&je(e.numberOfInputs>0,"Cannot connect to node with no inputs"),je(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Ke||e instanceof at;)ze(e.input)&&(e=e.input);for(;t instanceof Ke;)ze(t.output)&&(t=t.output);No(e)?t.connect(e,n):t.connect(e,n,r)}function VT(t,e,n=0,r=0){if(ze(e))for(;e instanceof Ke;)e=e.input;for(;!Yr(t);)ze(t.output)&&(t=t.output);No(e)?t.disconnect(e,n):Yr(e)?t.disconnect(e,n,r):t.disconnect()}class Ut extends Ke{constructor(){const e=De(Ut.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new at({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),mt(this,"gain")}static getDefaults(){return Object.assign(Ke.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class ws extends Ke{constructor(e){super(e),this.onended=Qe,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Ut({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Ke.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Qe})}_startGain(e,n=1){je(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){je(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Qe&&(this.onended(this),this.onended=Qe,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),je(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Qe,this}}class md extends ws{constructor(){const e=De(md.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Rs(this._source,this._gainNode),this.offset=new at({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(ws.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Pt extends Ke{constructor(){const e=De(Pt.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new md({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Ke.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return gd(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,o){return this._param.setValueCurveAtTime(e,n,r,o),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function gd(t,e,n,r){(e instanceof at||No(e)||e instanceof Pt&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Pt&&(e.overridden=!0)),Rs(t,e,n,r)}class yd extends at{constructor(){const e=De(yd.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new An(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(at.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);const o=this._fromType(e),s=this._events.get(n),a=Math.round(Math.max(1/r,1));for(let l=0;l<=a;l++){const u=r*l+n,h=this._exponentialApproach(s.time,s.value,o,r,u);this.linearRampToValueAtTime(this._toType(h),u)}return this}setValueAtTime(e,n){const r=this.toSeconds(n);super.setValueAtTime(e,n);const o=this._events.get(r),s=this._events.previousEvent(o),a=this._getTicksUntilEvent(s,r);return o.ticks=Math.max(a,0),this}linearRampToValueAtTime(e,n){const r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const o=this._events.get(r),s=this._events.previousEvent(o),a=this._getTicksUntilEvent(s,r);return o.ticks=Math.max(a,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const r=this._fromType(e),o=this._events.get(n),s=Math.round(Math.max((n-o.time)*10,1)),a=(n-o.time)/s;for(let l=0;l<=s;l++){const u=a*l+o.time,h=this._exponentialInterpolate(o.time,o.value,n,r,u);this.linearRampToValueAtTime(this._toType(h),u)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(On(e.ticks)){const a=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(a,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let o=this._fromType(this.getValueAtTime(n));const s=this._events.get(n);return s&&s.time===n&&s.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+o)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){const r=this.toSeconds(n),o=this.getTicksAtTime(n);return this.getTimeOfTick(o+e)-r}getTimeOfTick(e){const n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){const o=this._fromType(this.getValueAtTime(n.time)),a=(this._fromType(this.getValueAtTime(r.time))-o)/(r.time-n.time),l=Math.sqrt(Math.pow(o,2)-2*a*(n.ticks-e)),u=(-o+l)/a,h=(-o-l)/a;return(u>0?u:h)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const r=this.toSeconds(n),o=this.toSeconds(e),s=this.getTicksAtTime(r);return this.getTicksAtTime(r+o)-s}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class vd extends Pt{constructor(){const e=De(vd.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new yd({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Pt.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class _d extends un{constructor(){const e=De(_d.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new pd,this._tickOffset=new An,this._ticksAtTime=new An,this._secondsAtTime=new An,this.frequency=new vd({context:this.context,units:e.units,value:e.frequency}),mt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},un.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),ze(n)&&this.setTicksAtTime(n,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),r=this._state.getLastState("stopped",n),o=this._ticksAtTime.get(n),s={state:"paused",time:n};this._state.add(s);let a=o||r,l=o?o.ticks:0,u=null;return this._state.forEachBetween(a.time,n+this.sampleTime,h=>{let d=a.time;const g=this._tickOffset.get(h.time);g&&g.time>=a.time&&(l=g.ticks,d=g.time),a.state==="started"&&h.state!=="started"&&(l+=this.frequency.getTicksAtTime(h.time)-this.frequency.getTicksAtTime(d),h.time!==s.time&&(u={state:h.state,time:h.time,ticks:l})),a=h}),this._state.remove(s),u&&this._ticksAtTime.add(u),l}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const o=this._secondsAtTime.get(e);let s=o||n,a=o?o.seconds:0,l=null;return this._state.forEachBetween(s.time,e+this.sampleTime,u=>{let h=s.time;const d=this._tickOffset.get(u.time);d&&d.time>=s.time&&(a=d.seconds,h=d.time),s.state==="started"&&u.state!=="started"&&(a+=u.time-h,u.time!==r.time&&(l={state:u.state,time:u.time,seconds:a})),s=u}),this._state.remove(r),l&&this._secondsAtTime.add(l),a}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const r=this._tickOffset.get(n),o=this._state.get(n),s=Math.max(r.time,o.time),a=this.frequency.getTicksAtTime(s)+e-r.ticks;return this.frequency.getTimeOfTick(a)}forEachTickBetween(e,n,r){let o=this._state.get(e);this._state.forEachBetween(e,n,a=>{o&&o.state==="started"&&a.state!=="started"&&this.forEachTickBetween(Math.max(o.time,e),a.time-this.sampleTime,r),o=a});let s=null;if(o&&o.state==="started"){const a=Math.max(o.time,e),l=this.frequency.getTicksAtTime(a),u=this.frequency.getTicksAtTime(o.time),h=l-u;let d=Math.ceil(h)-h;d=Vn(d,1)?0:d;let g=this.frequency.getTimeOfTick(l+d);for(;g<n;){try{r(g,Math.round(this.getTicksAtTime(g)))}catch(_){s=_;break}g+=this.frequency.getDurationOfTicks(1,g)}}if(s)throw s;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Yl extends un{constructor(){const e=De(Yl.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=Qe,this._lastUpdate=0,this._state=new pd("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new _d({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,mt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(un.getDefaults(),{callback:Qe,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){Xy(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const r=this.toSeconds(n),o=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(o+e,r)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":const o=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,o);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,o)=>{this.callback(r,o)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Hi.mixin(Yl);class js extends Ke{constructor(){const e=De(js.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new Ut({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,mt(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Ke.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class wd extends Ke{constructor(){const e=De(wd.getDefaults(),arguments);super(e),this.name="Destination",this.input=new js({context:this.context}),this.output=new Ut({context:this.context}),this.volume=this.input.volume,$c(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Ke.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),$c(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}ql(t=>{t.destination=new wd({context:t})});Hl(t=>{t.destination.dispose()});class BT extends Ke{constructor(){super(...arguments),this.name="Listener",this.positionX=new at({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new at({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new at({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new at({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new at({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new at({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new at({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new at({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new at({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Ke.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}ql(t=>{t.listener=new BT({context:t})});Hl(t=>{t.listener.dispose()});class Sd extends Cr{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=De(Sd.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Qe,onload:Qe,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return je(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=Qe,o=Qe){return wr(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new nt(this.baseUrl+n,r,o))):this._buffers.set(e.toString(),new nt(n,r,o)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class es extends ci{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class zT extends un{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new An,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}ql(t=>{t.draw=new zT({context:t})});Hl(t=>{t.draw.dispose()});class UT extends Cr{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){je(ze(e.time),"Events must have a time property"),je(ze(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new WT(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let r,o=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,o=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,o=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,o=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,o=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),o&&this._rebalance(o)}e.dispose()}_rotateLeft(e){const n=e.parent,r=e.isLeftChild(),o=e.right;o&&(e.right=o.left,o.left=e),n!==null?r?n.left=o:n.right=o:this._setRoot(o)}_rotateRight(e){const n=e.parent,r=e.isLeftChild(),o=e.left;o&&(e.left=o.right,o.right=e),n!==null?r?n.left=o:n.right=o:this._setRoot(o)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let o=1;o<n.length;o++)n[o].low>r.low&&(r=n[o]);return r.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(o=>{o.event&&n(o.event)})}return this}forEachFrom(e,n){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(o=>{o.event&&n(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class WT{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class $T extends Cr{constructor(e){super(),this.name="TimelineValue",this._timeline=new An({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class Ss extends Ke{constructor(){super(De(Ss.getDefaults(),arguments,["context"]))}connect(e,n=0,r=0){return gd(this,e,n,r),this}}class Yi extends Ss{constructor(){const e=De(Yi.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Wn(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):pT(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Pt.getDefaults(),{length:1024})}setMap(e,n=1024){const r=new Float32Array(n);for(let o=0,s=n;o<s;o++){const a=o/(s-1)*2-1;r[o]=e(a,o)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(r=>r.includes(e));je(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class kd extends Ss{constructor(){const e=De(kd.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new Yi({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Ss.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Jr{constructor(e,n){this.id=Jr._eventId++,this._remainderTime=0;const r=Object.assign(Jr.getDefaults(),n);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:Qe,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Jr._eventId=0;class xd extends Jr{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(xd.getDefaults(),n);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Jr.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return _l(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new es(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){_l(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new es(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);_s(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Ql extends un{constructor(){const e=De(Ql.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new $T(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new An,this._repeatedEvents=new UT,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Yl({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),mt(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(un.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const r=n%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(r*Math.PI)*this._swingAmount;e+=new es(this.context,this._swingTicks*2/3).toSeconds()*o}Ep(!0),this._timeline.forEachAtTime(n,r=>r.invoke(e)),Ep(!1)}schedule(e,n){const r=new Jr(this,{callback:e,time:new ci(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,o=1/0){const s=new xd(this,{callback:e,duration:new Bn(this.context,o).toTicks(),interval:new Bn(this.context,n).toTicks(),time:new ci(this.context,r).toTicks()});return this._addEvent(s,this._repeatedEvents)}scheduleOnce(e,n){const r=new Jr(this,{callback:e,once:!0,time:new ci(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new es(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let r;return ze(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Wn(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Bn(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Bn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new es(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new es(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(n),o=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),s=n+o;this.emit("stop",s),this._clock.setTicksAtTime(e,s),this.emit("start",s,this._clock.getSecondsAtTime(s))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),r=this.getTicksAtTime(n),o=e-r%e;return this._clock.nextTickTime(o,n)}}syncSignal(e,n){const r=this.now();let o=this.bpm,s=1/(60/o.getValueAtTime(r)/this.PPQ),a=[];if(e.units==="time"){const u=.015625/s,h=new Ut(u),d=new kd(-1),g=new Ut(u);o.chain(h,d,g),o=g,s=1/s,a=[h,d,g]}n||(e.getValueAtTime(r)!==0?n=e.getValueAtTime(r)/s:n=0);const l=new Ut(n);return o.connect(l),l.connect(e._param),a.push(l),this._syncedSignals.push({initial:e.value,nodes:a,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const r=this._syncedSignals[n];r.signal===e&&(r.nodes.forEach(o=>o.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),rv(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Hi.mixin(Ql);ql(t=>{t.transport=new Ql({context:t})});Hl(t=>{t.transport.dispose()});class _n extends Ke{constructor(e){super(e),this.input=void 0,this._state=new pd("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Qe,this._syncedStop=Qe,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new js({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,mt(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Ke.getDefaults(),{mute:!1,onstop:Qe,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let o=On(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")je(_s(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,n,r);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){const s=this._state.get(o);s&&(s.offset=this.toSeconds(us(n,0)),s.duration=r?this.toSeconds(r):void 0);const a=this.context.transport.schedule(l=>{this._start(l,n,r)},o);this._scheduled.push(a),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else Xy(this.context),this._start(o,n,r);return this}stop(e){let n=On(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||ze(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(_s(n,0)){const r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){const o=n-this.toSeconds(r.time);let s;r.duration&&(s=this.toSeconds(r.duration)-o),this._start(e,this.toSeconds(r.offset)+o,s)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Qe,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Xl extends ws{constructor(){const e=De(Xl.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Rs(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new at({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new nt(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(ws.getDefaults(),{url:new nt,loop:!1,loopEnd:0,loopStart:0,onload:Qe,onerror:Qe,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,o=1){je(this.buffer.loaded,"buffer is either not set or not loaded");const s=this.toSeconds(e);this._startGain(s,o),this.loop?n=us(n,this.loopStart):n=us(n,0);let a=Math.max(this.toSeconds(n),0);if(this.loop){const l=this.toSeconds(this.loopEnd)||this.buffer.duration,u=this.toSeconds(this.loopStart),h=l-u;Uc(a,l)&&(a=(a-u)%h+u),Vn(a,this.buffer.duration)&&(a=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,_l(a,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(s,a)),ze(r)){let l=this.toSeconds(r);l=Math.max(l,0),this.stop(s+l)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Mo(t,e){return xt(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,r=new dd(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Cd extends ws{constructor(){const e=De(Cd.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Rs(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new at({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new at({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),mt(this,["frequency","detune"])}static getDefaults(){return Object.assign(ws.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class St extends _n{constructor(){const e=De(St.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new Pt({context:this.context,units:"frequency",value:e.frequency}),mt(this,"frequency"),this.detune=new Pt({context:this.context,units:"cents",value:e.detune}),mt(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(_n.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),r=new Cd({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return St._periodicWaveCache.find(n=>n.phase===this._phase&&TT(n.partials,this._partials));{const e=St._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(ze(r)){const{partials:o,wave:s}=r;this._wave=s,this._partials=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[o,s]=this._getRealImaginary(e,this._phase),a=this.context.createPeriodicWave(o,s);this._wave=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),St._periodicWaveCache.push({imag:s,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:o,type:this._type,wave:this._wave}),St._periodicWaveCache.length>100&&St._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Zr(e,0);let n=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(n=r[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const o=new Float32Array(e);this._partials.forEach((s,a)=>o[a]=s),this._partials=Array.from(o),this.type=this._type}}_getRealImaginary(e,n){let o=2048;const s=new Float32Array(o),a=new Float32Array(o);let l=1;if(e==="custom"){if(l=this._partials.length+1,this._partialCount=this._partials.length,o=l,this._partials.length===0)return[s,a]}else{const u=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);u?(l=parseInt(u[2],10)+1,this._partialCount=parseInt(u[2],10),e=u[1],l=Math.max(l,2),o=l):this._partialCount=0,this._partials=[]}for(let u=1;u<o;++u){const h=2/(u*Math.PI);let d;switch(e){case"sine":d=u<=l?1:0,this._partials[u-1]=d;break;case"square":d=u&1?2*h:0,this._partials[u-1]=d;break;case"sawtooth":d=h*(u&1?1:-1),this._partials[u-1]=d;break;case"triangle":u&1?d=2*(h*h)*(u-1>>1&1?-1:1):d=0,this._partials[u-1]=d;break;case"custom":d=this._partials[u-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}d!==0?(s[u]=-d*Math.sin(n*u),a[u]=d*Math.cos(n*u)):(s[u]=0,a[u]=0)}return[s,a]}_inverseFFT(e,n,r){let o=0;const s=e.length;for(let a=0;a<s;a++)o+=e[a]*Math.cos(a*r)+n[a]*Math.sin(a*r);return o}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let r=0;const o=Math.PI*2,s=32;for(let a=0;a<s;a++)r=Math.max(this._inverseFFT(e,n,a/s*o),r);return bT(-this._inverseFFT(e,n,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return xt(this,arguments,void 0,function*(e=1024){return Mo(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}St._periodicWaveCache=[];class qT extends Ss{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Yi({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class ks extends Pt{constructor(){const e=De(ks.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Ut({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Pt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Zl extends _n{constructor(){const e=De(Zl.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new qT({context:this.context}),this._modulationNode=new Ut({context:this.context}),this._carrier=new St({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new St({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new ks({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),mt(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(St.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return xt(this,arguments,void 0,function*(e=1024){return Mo(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Jl extends _n{constructor(){const e=De(Jl.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new Ut({context:this.context,gain:0}),this._carrier=new St({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Pt({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new St({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new ks({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new ks({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),mt(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(St.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return xt(this,arguments,void 0,function*(e=1024){return Mo(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Qi extends _n{constructor(){const e=De(Qi.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new Ut({context:this.context,gain:0}),this._thresh=new Yi({context:this.context,mapping:n=>n<=0?-1:1}),this.width=new Pt({context:this.context,units:"audioRange",value:e.width}),this._triangle=new St({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),mt(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(_n.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return xt(this,arguments,void 0,function*(e=1024){return Mo(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class eu extends _n{constructor(){const e=De(eu.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new Pt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Pt({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,mt(this,["frequency","detune"])}static getDefaults(){return Object.assign(St.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,r=e/(this._oscillators.length-1);this._forEach((o,s)=>o.detune.value=n+r*s)}}get count(){return this._oscillators.length}set count(e){if(Zr(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const r=new St({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):Qe});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(){return xt(this,arguments,void 0,function*(e=1024){return Mo(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class tu extends _n{constructor(){const e=De(tu.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new ks({context:this.context,value:2}),this._pulse=new Qi({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new St({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),mt(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(_n.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return xt(this,arguments,void 0,function*(e=1024){return Mo(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Np={am:Zl,fat:eu,fm:Jl,oscillator:St,pulse:Qi,pwm:tu};class wl extends _n{constructor(){const e=De(wl.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new Pt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Pt({context:this.context,units:"cents",value:e.detune}),mt(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(St.getDefaults(),Jl.getDefaults(),Zl.getDefaults(),eu.getDefaults(),Qi.getDefaults(),tu.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=Np[e],r=this.now();if(this._oscillator){const o=this._oscillator;o.stop(r),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof Np[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&bo(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&bo(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&wr(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return xt(this,arguments,void 0,function*(e=1024){return Mo(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function av(t,e=1/0){const n=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){Zr(s,t,e),n.set(this,s)}})}}function Tr(t,e=1/0){const n=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){Zr(this.toSeconds(s),t,e),n.set(this,s)}})}}class nu extends _n{constructor(){const e=De(nu.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new nt({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(_n.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Qe,onerror:Qe,playbackRate:1,reverse:!1})}load(e){return xt(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Qe){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=us(n,this._loopStart):n=us(n,0);const o=this.toSeconds(n),s=r;r=us(r,Math.max(this._buffer.duration-o,0));let a=this.toSeconds(r);a=a/this._playbackRate,e=this.toSeconds(e);const l=new Xl({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+a),this._state.setStateAtTime("stopped",e+a,{implicitEnd:!0})),this._activeSources.add(l),this._loop&&On(s)?l.start(e,o):l.start(e,o,a-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){var o;(o=[...this._activeSources].pop())===null||o===void 0||o.stop(e),this._start(e,n,r)}seek(e,n){const r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){const o=this.toSeconds(e);this._stop(r),this._start(r,o)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Zr(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Zr(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Yn([Tr(0)],nu.prototype,"fadeIn",void 0);Yn([Tr(0)],nu.prototype,"fadeOut",void 0);class ao extends Ke{constructor(){const e=De(ao.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new Pt({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Ke.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(wr(e))return e;{let r;for(r in _a)if(_a[r][n]===e)return r;return e}}_setCurve(e,n,r){if(wr(r)&&Reflect.has(_a,r)){const o=_a[r];wo(o)?e!=="_decayCurve"&&(this[e]=o[n]):this[e]=o}else if(Wn(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let o=this.toSeconds(this.attack);const s=this.toSeconds(this.decay),a=this.getValueAtTime(e);if(a>0){const l=1/o;o=(1-a)/l}if(o<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,o,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,o,e);else{this._sig.cancelAndHoldAtTime(e);let l=this._attackCurve;for(let u=1;u<l.length;u++)if(l[u-1]<=a&&a<=l[u]){l=this._attackCurve.slice(u),l[0]=a;break}this._sig.setValueCurveAtTime(l,e,o,n)}if(s&&this.sustain<1){const l=n*this.sustain,u=e+o;this.log("decay",u),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(l,s+u):this._sig.exponentialApproachValueAtTime(l,u,s)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(je(Wn(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return gd(this,e,n,r),this}asArray(){return xt(this,arguments,void 0,function*(e=1024){const n=e/this.context.sampleRate,r=new dd(1,n,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),s=o+this.toSeconds(this.release),a=s*.1,l=s+a,u=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/l,decay:n*this.toSeconds(this.decay)/l,release:n*this.toSeconds(this.release)/l,context:r}));return u._sig.toDestination(),u.triggerAttackRelease(n*(o+a)/l,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Yn([Tr(0)],ao.prototype,"attack",void 0);Yn([Tr(0)],ao.prototype,"decay",void 0);Yn([av(0,1)],ao.prototype,"sustain",void 0);Yn([Tr(0)],ao.prototype,"release",void 0);const _a=(()=>{let e,n;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const o=[],s=6.4;for(e=0;e<127;e++){n=e/127;const _=Math.sin(n*(Math.PI*2)*s-Math.PI/2)+1;o[e]=_/10+n*.83}o[127]=1;const a=[],l=5;for(e=0;e<128;e++)a[e]=Math.ceil(e/127*l)/l;const u=[];for(e=0;e<128;e++)n=e/127,u[e]=.5*(1-Math.cos(Math.PI*n));const h=[];for(e=0;e<128;e++){n=e/127;const _=Math.pow(n,3)*4+.2,E=Math.cos(_*Math.PI*2*n);h[e]=Math.abs(E*(1-n))}function d(_){const E=new Array(_.length);for(let b=0;b<_.length;b++)E[b]=1-_[b];return E}function g(_){return _.slice(0).reverse()}return{bounce:{In:d(h),Out:h},cosine:{In:r,Out:g(r)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:d(o)},sine:{In:u,Out:d(u)},step:{In:a,Out:d(a)}}})();class xs extends Ke{constructor(){const e=De(xs.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n),this._volume=this.output=new js({context:this.context,volume:e.volume}),this.volume=this._volume.volume,mt(this,"volume")}static getDefaults(){return Object.assign(Ke.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const r=this["_original_"+e]=this[e];this[e]=(...o)=>{const s=o[n],a=this.context.transport.schedule(l=>{o[n]=l,r.apply(this,o)},s);this._scheduledEvents.push(a)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,r,o){const s=this.toSeconds(r),a=this.toSeconds(n);return this.triggerAttack(e,s,o),this.triggerRelease(s+a),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Cs extends xs{constructor(){const e=De(Cs.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(xs.getDefaults(),{detune:0,onsilence:Qe,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);const o=this.toSeconds(n);return this._triggerEnvelopeAttack(o,r),this.setNote(e,o),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const r=this.toSeconds(n),o=e instanceof bn?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const s=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,s,r)}else this.frequency.setValueAtTime(o,r);return this}}Yn([Tr(0)],Cs.prototype,"portamento",void 0);class Td extends ao{constructor(){super(De(Td.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Ut({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Sl extends Cs{constructor(){const e=De(Sl.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new wl(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Td(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),mt(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Cs.getDefaults(),{envelope:Object.assign(bp(ao.getDefaults(),Object.keys(Ke.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(bp(wl.getDefaults(),[...Object.keys(_n.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+o)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class ru extends Sl{constructor(){const e=De(ru.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,mt(this,["oscillator","envelope"])}static getDefaults(){return ls(Cs.getDefaults(),Sl.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const r=this.toSeconds(n),o=this.toFrequency(e instanceof bn?e.toFrequency():e),s=o*this.octaves;return this.oscillator.frequency.setValueAtTime(s,r),this.oscillator.frequency.exponentialRampToValueAtTime(o,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Yn([av(0)],ru.prototype,"octaves",void 0);Yn([Tr(0)],ru.prototype,"pitchDecay",void 0);const lv=new Set;function Ed(t){lv.add(t)}function uv(t,e){const n=`registerProcessor("${t}", ${e})`;lv.add(n)}const HT=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Ed(HT);const GT=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Ed(GT);const YT=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Ed(YT);const QT="feedback-comb-filter",XT=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;uv(QT,XT);class Xi extends xs{constructor(){const e=De(Xi.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const n={};Object.keys(e.urls).forEach(r=>{const o=parseInt(r,10);if(je(va(r)||bo(o)&&isFinite(o),`url key is neither a note or midi pitch: ${r}`),va(r)){const s=new bn(this.context,r).toMidi();n[s]=e.urls[r]}else bo(o)&&isFinite(o)&&(n[o]=e.urls[o])}),this._buffers=new Sd({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(xs.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Qe,onerror:Qe,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(o=>{const s=iv(new bn(this.context,o).toFrequency()),a=Math.round(s),l=s-a,u=this._findClosest(a),h=a-u,d=this._buffers.get(h),g=sv(u+l),_=new Xl({url:d,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:g}).connect(this.output);_.start(n,0,d.duration/g,r),Wn(this._activeSources.get(a))||this._activeSources.set(a,[]),this._activeSources.get(a).push(_),_.onended=()=>{if(this._activeSources&&this._activeSources.has(a)){const E=this._activeSources.get(a),b=E.indexOf(_);b!==-1&&E.splice(b,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const o=new bn(this.context,r).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){const s=this._activeSources.get(o);n=this.toSeconds(n),s.forEach(a=>{a.stop(n)}),this._activeSources.set(o,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,o=1){const s=this.toSeconds(r);return this.triggerAttack(e,s,o),Wn(n)?(je(Wn(e),"notes must be an array when duration is array"),e.forEach((a,l)=>{const u=n[Math.min(l,n.length-1)];this.triggerRelease(a,s+this.toSeconds(u))})):this.triggerRelease(e,s+this.toSeconds(n)),this}add(e,n,r){if(je(va(e)||isFinite(e),`note must be a pitch or midi: ${e}`),va(e)){const o=new bn(this.context,e).toMidi();this._buffers.add(o,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}Yn([Tr(0)],Xi.prototype,"attack",void 0);Yn([Tr(0)],Xi.prototype,"release",void 0);class bd extends Ke{constructor(){const e=De(bd.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new at({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",mt(this,"pan")}static getDefaults(){return Object.assign(Ke.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const ZT="bit-crusher",JT=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;uv(ZT,JT);class wt extends Ke{constructor(){const e=De(wt.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new Ut({context:this.context}),wt._allSolos.has(this.context)||wt._allSolos.set(this.context,new Set),wt._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Ke.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),wt._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){wt._soloed.has(this.context)||wt._soloed.set(this.context,new Set),wt._soloed.get(this.context).add(this)}_removeSolo(){wt._soloed.has(this.context)&&wt._soloed.get(this.context).delete(this)}_isSoloed(){return wt._soloed.has(this.context)&&wt._soloed.get(this.context).has(this)}_noSolos(){return!wt._soloed.has(this.context)||wt._soloed.has(this.context)&&wt._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),wt._allSolos.get(this.context).delete(this),this._removeSolo(),this}}wt._allSolos=new Map;wt._soloed=new Map;class Nd extends Ke{constructor(){const e=De(Nd.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new bd({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new js({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,mt(this,["pan","volume"])}static getDefaults(){return Object.assign(Ke.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class ts extends Ke{constructor(){const e=De(ts.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new wt({solo:e.solo,context:this.context}),this._panVol=this.output=new Nd({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),mt(this,["pan","volume"])}static getDefaults(){return Object.assign(Ke.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return ts.buses.has(e)||ts.buses.set(e,new Ut({context:this.context})),ts.buses.get(e)}send(e,n=0){const r=this._getBus(e),o=new Ut({context:this.context,units:"decibels",gain:n});return this.connect(o),o.connect(r),o}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}ts.buses=new Map;function eE(){return Xt().immediate()}Xt().transport;Xt().destination;Xt().destination;Xt().listener;Xt().draw;Xt();const tE="/p2/assets/C2-jU7EKGGL.mp3",nE="/p2/assets/Ds2-DnKp1gy3.mp3",rE="/p2/assets/Fs2-9vY2UuIH.mp3",oE="/p2/assets/A2-CQJ11jEF.mp3",sE="/p2/assets/C3-Dn0rSXes.mp3",iE="/p2/assets/Ds3-B9q8pZT4.mp3",aE="/p2/assets/Fs3-DDdR4ek0.mp3",lE="/p2/assets/A3-B899Ep8C.mp3",uE="/p2/assets/C4-B2DzZQ9W.mp3",cE="/p2/assets/Ds4-ZpjA_cOI.mp3",hE="/p2/assets/Fs4-XuYqV_uK.mp3",dE="/p2/assets/A4-DOvdn91G.mp3",fE="/p2/assets/C5-C2EPYtUj.mp3",pE="/p2/assets/Ds5-rz2hEMxW.mp3",mE="/p2/assets/Fs5-bI3vcOCZ.mp3",gE="/p2/assets/A5-CM9sZMm0.mp3";let La=!1,wa=null;const eo=new Xi({urls:{C2:tE,"D#2":nE,"F#2":rE,A2:oE,C3:sE,"D#3":iE,"F#3":aE,A3:lE,C4:uE,"D#4":cE,"F#4":hE,A4:dE,C5:fE,"D#5":pE,"F#5":mE,A5:gE},onload:()=>{console.log("Sampler loaded"),console.log("Audio Context State:",Xt().state),La=!0}}).toDestination(),yE=eo.triggerAttack;eo.triggerAttack=function(...t){return console.log("Audio Context State:",Xt().state),yE.apply(this,t)};const vE=eo.triggerRelease;eo.triggerRelease=function(...t){return console.log("Audio Context State:",Xt().state),vE.apply(this,t)};const _E=async()=>{if(!La){if(wa)return wa;wa=new Promise(t=>{if(eo.loaded){console.log("Sampler already loaded"),La=!0,t();return}const e=()=>{eo.loaded?(console.log("Sampler loaded successfully"),La=!0,t()):setTimeout(e,100)};e()}),await wa,await PT(),console.log("Audio context started")}};function wE({title:t,titleId:e,...n},r){return J.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?J.createElement("title",{id:e},t):null,J.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Op=J.forwardRef(wE),fr="/p2";var Zi={};(function t(e,n,r,o){var s=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),a=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!e.OffscreenCanvas)return!1;var K=new OffscreenCanvas(1,1),P=K.getContext("2d");P.fillRect(0,0,1,1);var W=K.transferToImageBitmap();try{P.createPattern(W,"no-repeat")}catch{return!1}return!0}();function u(){}function h(K){var P=n.exports.Promise,W=P!==void 0?P:e.Promise;return typeof W=="function"?new W(K):(K(u,u),null)}var d=function(K,P){return{transform:function(W){if(K)return W;if(P.has(W))return P.get(W);var G=new OffscreenCanvas(W.width,W.height),ae=G.getContext("2d");return ae.drawImage(W,0,0),P.set(W,G),G},clear:function(){P.clear()}}}(l,new Map),g=function(){var K=Math.floor(16.666666666666668),P,W,G={},ae=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(P=function(oe){var y=Math.random();return G[y]=requestAnimationFrame(function v(i){ae===i||ae+K-1<i?(ae=i,delete G[y],oe()):G[y]=requestAnimationFrame(v)}),y},W=function(oe){G[oe]&&cancelAnimationFrame(G[oe])}):(P=function(oe){return setTimeout(oe,K)},W=function(oe){return clearTimeout(oe)}),{frame:P,cancel:W}}(),_=function(){var K,P,W={};function G(ae){function oe(y,v){ae.postMessage({options:y||{},callback:v})}ae.init=function(v){var i=v.transferControlToOffscreen();ae.postMessage({canvas:i},[i])},ae.fire=function(v,i,c){if(P)return oe(v,null),P;var f=Math.random().toString(36).slice(2);return P=h(function(p){function m(k){k.data.callback===f&&(delete W[f],ae.removeEventListener("message",m),P=null,d.clear(),c(),p())}ae.addEventListener("message",m),oe(v,f),W[f]=m.bind(null,{data:{callback:f}})}),P},ae.reset=function(){ae.postMessage({reset:!0});for(var v in W)W[v](),delete W[v]}}return function(){if(K)return K;if(!r&&s){var ae=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{K=new Worker(URL.createObjectURL(new Blob([ae])))}catch(oe){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",oe),null}G(K)}return K}}(),E={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function b(K,P){return P?P(K):K}function N(K){return K!=null}function O(K,P,W){return b(K&&N(K[P])?K[P]:E[P],W)}function w(K){return K<0?0:Math.floor(K)}function T(K,P){return Math.floor(Math.random()*(P-K))+K}function A(K){return parseInt(K,16)}function R(K){return K.map(I)}function I(K){var P=String(K).replace(/[^0-9a-f]/gi,"");return P.length<6&&(P=P[0]+P[0]+P[1]+P[1]+P[2]+P[2]),{r:A(P.substring(0,2)),g:A(P.substring(2,4)),b:A(P.substring(4,6))}}function L(K){var P=O(K,"origin",Object);return P.x=O(P,"x",Number),P.y=O(P,"y",Number),P}function z(K){K.width=document.documentElement.clientWidth,K.height=document.documentElement.clientHeight}function V(K){var P=K.getBoundingClientRect();K.width=P.width,K.height=P.height}function te(K){var P=document.createElement("canvas");return P.style.position="fixed",P.style.top="0px",P.style.left="0px",P.style.pointerEvents="none",P.style.zIndex=K,P}function H(K,P,W,G,ae,oe,y,v,i){K.save(),K.translate(P,W),K.rotate(oe),K.scale(G,ae),K.arc(0,0,1,y,v,i),K.restore()}function re(K){var P=K.angle*(Math.PI/180),W=K.spread*(Math.PI/180);return{x:K.x,y:K.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:K.startVelocity*.5+Math.random()*K.startVelocity,angle2D:-P+(.5*W-Math.random()*W),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:K.color,shape:K.shape,tick:0,totalTicks:K.ticks,decay:K.decay,drift:K.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:K.gravity*3,ovalScalar:.6,scalar:K.scalar,flat:K.flat}}function ee(K,P){P.x+=Math.cos(P.angle2D)*P.velocity+P.drift,P.y+=Math.sin(P.angle2D)*P.velocity+P.gravity,P.velocity*=P.decay,P.flat?(P.wobble=0,P.wobbleX=P.x+10*P.scalar,P.wobbleY=P.y+10*P.scalar,P.tiltSin=0,P.tiltCos=0,P.random=1):(P.wobble+=P.wobbleSpeed,P.wobbleX=P.x+10*P.scalar*Math.cos(P.wobble),P.wobbleY=P.y+10*P.scalar*Math.sin(P.wobble),P.tiltAngle+=.1,P.tiltSin=Math.sin(P.tiltAngle),P.tiltCos=Math.cos(P.tiltAngle),P.random=Math.random()+2);var W=P.tick++/P.totalTicks,G=P.x+P.random*P.tiltCos,ae=P.y+P.random*P.tiltSin,oe=P.wobbleX+P.random*P.tiltCos,y=P.wobbleY+P.random*P.tiltSin;if(K.fillStyle="rgba("+P.color.r+", "+P.color.g+", "+P.color.b+", "+(1-W)+")",K.beginPath(),a&&P.shape.type==="path"&&typeof P.shape.path=="string"&&Array.isArray(P.shape.matrix))K.fill(he(P.shape.path,P.shape.matrix,P.x,P.y,Math.abs(oe-G)*.1,Math.abs(y-ae)*.1,Math.PI/10*P.wobble));else if(P.shape.type==="bitmap"){var v=Math.PI/10*P.wobble,i=Math.abs(oe-G)*.1,c=Math.abs(y-ae)*.1,f=P.shape.bitmap.width*P.scalar,p=P.shape.bitmap.height*P.scalar,m=new DOMMatrix([Math.cos(v)*i,Math.sin(v)*i,-Math.sin(v)*c,Math.cos(v)*c,P.x,P.y]);m.multiplySelf(new DOMMatrix(P.shape.matrix));var k=K.createPattern(d.transform(P.shape.bitmap),"no-repeat");k.setTransform(m),K.globalAlpha=1-W,K.fillStyle=k,K.fillRect(P.x-f/2,P.y-p/2,f,p),K.globalAlpha=1}else if(P.shape==="circle")K.ellipse?K.ellipse(P.x,P.y,Math.abs(oe-G)*P.ovalScalar,Math.abs(y-ae)*P.ovalScalar,Math.PI/10*P.wobble,0,2*Math.PI):H(K,P.x,P.y,Math.abs(oe-G)*P.ovalScalar,Math.abs(y-ae)*P.ovalScalar,Math.PI/10*P.wobble,0,2*Math.PI);else if(P.shape==="star")for(var C=Math.PI/2*3,S=4*P.scalar,x=8*P.scalar,D=P.x,F=P.y,M=5,j=Math.PI/M;M--;)D=P.x+Math.cos(C)*x,F=P.y+Math.sin(C)*x,K.lineTo(D,F),C+=j,D=P.x+Math.cos(C)*S,F=P.y+Math.sin(C)*S,K.lineTo(D,F),C+=j;else K.moveTo(Math.floor(P.x),Math.floor(P.y)),K.lineTo(Math.floor(P.wobbleX),Math.floor(ae)),K.lineTo(Math.floor(oe),Math.floor(y)),K.lineTo(Math.floor(G),Math.floor(P.wobbleY));return K.closePath(),K.fill(),P.tick<P.totalTicks}function pe(K,P,W,G,ae){var oe=P.slice(),y=K.getContext("2d"),v,i,c=h(function(f){function p(){v=i=null,y.clearRect(0,0,G.width,G.height),d.clear(),ae(),f()}function m(){r&&!(G.width===o.width&&G.height===o.height)&&(G.width=K.width=o.width,G.height=K.height=o.height),!G.width&&!G.height&&(W(K),G.width=K.width,G.height=K.height),y.clearRect(0,0,G.width,G.height),oe=oe.filter(function(k){return ee(y,k)}),oe.length?v=g.frame(m):p()}v=g.frame(m),i=p});return{addFettis:function(f){return oe=oe.concat(f),c},canvas:K,promise:c,reset:function(){v&&g.cancel(v),i&&i()}}}function me(K,P){var W=!K,G=!!O(P||{},"resize"),ae=!1,oe=O(P,"disableForReducedMotion",Boolean),y=s&&!!O(P||{},"useWorker"),v=y?_():null,i=W?z:V,c=K&&v?!!K.__confetti_initialized:!1,f=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,p;function m(C,S,x){for(var D=O(C,"particleCount",w),F=O(C,"angle",Number),M=O(C,"spread",Number),j=O(C,"startVelocity",Number),U=O(C,"decay",Number),B=O(C,"gravity",Number),$=O(C,"drift",Number),q=O(C,"colors",R),Z=O(C,"ticks",Number),ie=O(C,"shapes"),ne=O(C,"scalar"),de=!!O(C,"flat"),le=L(C),se=D,ge=[],ye=K.width*le.x,ue=K.height*le.y;se--;)ge.push(re({x:ye,y:ue,angle:F,spread:M,startVelocity:j,color:q[se%q.length],shape:ie[T(0,ie.length)],ticks:Z,decay:U,gravity:B,drift:$,scalar:ne,flat:de}));return p?p.addFettis(ge):(p=pe(K,ge,i,S,x),p.promise)}function k(C){var S=oe||O(C,"disableForReducedMotion",Boolean),x=O(C,"zIndex",Number);if(S&&f)return h(function(j){j()});W&&p?K=p.canvas:W&&!K&&(K=te(x),document.body.appendChild(K)),G&&!c&&i(K);var D={width:K.width,height:K.height};v&&!c&&v.init(K),c=!0,v&&(K.__confetti_initialized=!0);function F(){if(v){var j={getBoundingClientRect:function(){if(!W)return K.getBoundingClientRect()}};i(j),v.postMessage({resize:{width:j.width,height:j.height}});return}D.width=D.height=null}function M(){p=null,G&&(ae=!1,e.removeEventListener("resize",F)),W&&K&&(document.body.contains(K)&&document.body.removeChild(K),K=null,c=!1)}return G&&!ae&&(ae=!0,e.addEventListener("resize",F,!1)),v?v.fire(C,D,M):m(C,D,M)}return k.reset=function(){v&&v.reset(),p&&p.reset()},k}var Se;function ce(){return Se||(Se=me(null,{useWorker:!0,resize:!0})),Se}function he(K,P,W,G,ae,oe,y){var v=new Path2D(K),i=new Path2D;i.addPath(v,new DOMMatrix(P));var c=new Path2D;return c.addPath(i,new DOMMatrix([Math.cos(y)*ae,Math.sin(y)*ae,-Math.sin(y)*oe,Math.cos(y)*oe,W,G])),c}function Q(K){if(!a)throw new Error("path confetti are not supported in this browser");var P,W;typeof K=="string"?P=K:(P=K.path,W=K.matrix);var G=new Path2D(P),ae=document.createElement("canvas"),oe=ae.getContext("2d");if(!W){for(var y=1e3,v=y,i=y,c=0,f=0,p,m,k=0;k<y;k+=2)for(var C=0;C<y;C+=2)oe.isPointInPath(G,k,C,"nonzero")&&(v=Math.min(v,k),i=Math.min(i,C),c=Math.max(c,k),f=Math.max(f,C));p=c-v,m=f-i;var S=10,x=Math.min(S/p,S/m);W=[x,0,0,x,-Math.round(p/2+v)*x,-Math.round(m/2+i)*x]}return{type:"path",path:P,matrix:W}}function X(K){var P,W=1,G="#000000",ae='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof K=="string"?P=K:(P=K.text,W="scalar"in K?K.scalar:W,ae="fontFamily"in K?K.fontFamily:ae,G="color"in K?K.color:G);var oe=10*W,y=""+oe+"px "+ae,v=new OffscreenCanvas(oe,oe),i=v.getContext("2d");i.font=y;var c=i.measureText(P),f=Math.ceil(c.actualBoundingBoxRight+c.actualBoundingBoxLeft),p=Math.ceil(c.actualBoundingBoxAscent+c.actualBoundingBoxDescent),m=2,k=c.actualBoundingBoxLeft+m,C=c.actualBoundingBoxAscent+m;f+=m+m,p+=m+m,v=new OffscreenCanvas(f,p),i=v.getContext("2d"),i.font=y,i.fillStyle=G,i.fillText(P,k,C);var S=1/W;return{type:"bitmap",bitmap:v.transferToImageBitmap(),matrix:[S,0,0,S,-f*S/2,-p*S/2]}}n.exports=function(){return ce().apply(this,arguments)},n.exports.reset=function(){ce().reset()},n.exports.create=me,n.exports.shapeFromPath=Q,n.exports.shapeFromText=X})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Zi,!1);const SE=Zi.exports;Zi.exports.create;const kE=({taskConfig:t,progress:e=0,status:n="active",isActive:r=!1,onActivate:o,previousTaskCompleted:s=!0,onSkip:a})=>{const{total:l,description:u}=t,h=n==="completed",d=Math.min(e/l*100,100);return fo.useEffect(()=>{n==="active"&&e>=l&&SE({particleCount:1e3,spread:200,origin:{y:.8}})},[e,l,n]),!s&&!h&&!r?null:Y.jsxs("div",{className:`my-4 p-4 bg-gray-800 rounded-lg transition-all duration-300 ${r?"ring-2 ring-blue-500 ring-opacity-50 shadow-lg shadow-blue-500/50":""} ${o?"cursor-pointer hover:bg-gray-700":""}`,onClick:o,children:[Y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Y.jsx("div",{className:"text-white",children:h?Y.jsxs("span",{className:"flex items-center gap-2",children:[Y.jsx("span",{className:"text-green-400",children:"✓"}),u]}):u}),Y.jsxs("div",{className:"flex items-center gap-4",children:[!h&&a&&Y.jsx("button",{onClick:g=>{g.stopPropagation(),a(t.id)},className:"px-2 py-1 text-sm bg-gray-700 hover:bg-gray-600 rounded text-gray-300",children:"Skip"}),!h&&Y.jsx("div",{className:"text-gray-400",children:`${e}/${l}`})]})]}),Y.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:Y.jsx("div",{className:`h-full transition-all duration-300 ease-out ${h?"bg-green-400":"bg-green-500"}`,style:{width:`${d}%`}})})]})};var cv={exports:{}};/*!
 * 
 *   react-simple-keyboard v3.8.22
 *   https://github.com/hodgef/react-simple-keyboard
 *
 *   Copyright (c) Francisco Hodge (https://github.com/hodgef) and project contributors.
 *
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */(function(t,e){(function(n,r){t.exports=r(J)})(fv,function(n){return function(){var r={981:function(){typeof Element>"u"||"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),typeof self<"u"&&"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(l){if("Element"in l){var u="classList",h="prototype",d=l.Element[h],g=Object,_=String[h].trim||function(){return this.replace(/^\s+|\s+$/g,"")},E=Array[h].indexOf||function(R){for(var I=0,L=this.length;I<L;I++)if(I in this&&this[I]===R)return I;return-1},b=function(R,I){this.name=R,this.code=DOMException[R],this.message=I},N=function(R,I){if(I==="")throw new b("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(I))throw new b("INVALID_CHARACTER_ERR","The token must not contain space characters.");return E.call(R,I)},O=function(R){for(var I=_.call(R.getAttribute("class")||""),L=I?I.split(/\s+/):[],z=0,V=L.length;z<V;z++)this.push(L[z]);this._updateClassName=function(){R.setAttribute("class",this.toString())}},w=O[h]=[],T=function(){return new O(this)};if(b[h]=Error[h],w.item=function(R){return this[R]||null},w.contains=function(R){return~N(this,R+"")},w.add=function(){var R,I=arguments,L=0,z=I.length,V=!1;do~N(this,R=I[L]+"")||(this.push(R),V=!0);while(++L<z);V&&this._updateClassName()},w.remove=function(){var R,I,L=arguments,z=0,V=L.length,te=!1;do for(I=N(this,R=L[z]+"");~I;)this.splice(I,1),te=!0,I=N(this,R);while(++z<V);te&&this._updateClassName()},w.toggle=function(R,I){var L=this.contains(R),z=L?I!==!0&&"remove":I!==!1&&"add";return z&&this[z](R),I===!0||I===!1?I:!L},w.replace=function(R,I){var L=N(R+"");~L&&(this.splice(L,1,I),this._updateClassName())},w.toString=function(){return this.join(" ")},g.defineProperty){var A={get:T,enumerable:!0,configurable:!0};try{g.defineProperty(d,u,A)}catch(R){R.number!==void 0&&R.number!==-2146823252||(A.enumerable=!1,g.defineProperty(d,u,A))}}else g[h].__defineGetter__&&d.__defineGetter__(u,T)}}(self),function(){var l=document.createElement("_");if(l.classList.add("c1","c2"),!l.classList.contains("c2")){var u=function(d){var g=DOMTokenList.prototype[d];DOMTokenList.prototype[d]=function(_){var E,b=arguments.length;for(E=0;E<b;E++)_=arguments[E],g.call(this,_)}};u("add"),u("remove")}if(l.classList.toggle("c3",!1),l.classList.contains("c3")){var h=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(d,g){return 1 in arguments&&!this.contains(d)==!g?g:h.call(this,d)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(d,g){var _=this.toString().split(" "),E=_.indexOf(d+"");~E&&(_=_.slice(E),this.remove.apply(this,_),this.add(g),this.add.apply(this,_.slice(1)))}),l=null}())},548:function(l){l.exports=function(){var u={9306:function(y,v,i){var c=i(4901),f=i(6823),p=TypeError;y.exports=function(m){if(c(m))return m;throw new p(f(m)+" is not a function")}},5548:function(y,v,i){var c=i(3517),f=i(6823),p=TypeError;y.exports=function(m){if(c(m))return m;throw new p(f(m)+" is not a constructor")}},3506:function(y,v,i){var c=i(3925),f=String,p=TypeError;y.exports=function(m){if(c(m))return m;throw new p("Can't set "+f(m)+" as a prototype")}},6469:function(y,v,i){var c=i(8227),f=i(2360),p=i(4913).f,m=c("unscopables"),k=Array.prototype;k[m]===void 0&&p(k,m,{configurable:!0,value:f(null)}),y.exports=function(C){k[m][C]=!0}},7829:function(y,v,i){var c=i(8183).charAt;y.exports=function(f,p,m){return p+(m?c(f,p).length:1)}},8551:function(y,v,i){var c=i(34),f=String,p=TypeError;y.exports=function(m){if(c(m))return m;throw new p(f(m)+" is not an object")}},235:function(y,v,i){var c=i(9213).forEach,f=i(4598)("forEach");y.exports=f?[].forEach:function(p){return c(this,p,arguments.length>1?arguments[1]:void 0)}},7916:function(y,v,i){var c=i(6080),f=i(9565),p=i(8981),m=i(6319),k=i(4209),C=i(3517),S=i(6198),x=i(4659),D=i(81),F=i(851),M=Array;y.exports=function(j){var U=p(j),B=C(this),$=arguments.length,q=$>1?arguments[1]:void 0,Z=q!==void 0;Z&&(q=c(q,$>2?arguments[2]:void 0));var ie,ne,de,le,se,ge,ye=F(U),ue=0;if(!ye||this===M&&k(ye))for(ie=S(U),ne=B?new this(ie):M(ie);ie>ue;ue++)ge=Z?q(U[ue],ue):U[ue],x(ne,ue,ge);else for(ne=B?new this:[],se=(le=D(U,ye)).next;!(de=f(se,le)).done;ue++)ge=Z?m(le,q,[de.value,ue],!0):de.value,x(ne,ue,ge);return ne.length=ue,ne}},9617:function(y,v,i){var c=i(5397),f=i(5610),p=i(6198),m=function(k){return function(C,S,x){var D=c(C),F=p(D);if(F===0)return!k&&-1;var M,j=f(x,F);if(k&&S!=S){for(;F>j;)if((M=D[j++])!=M)return!0}else for(;F>j;j++)if((k||j in D)&&D[j]===S)return k||j||0;return!k&&-1}};y.exports={includes:m(!0),indexOf:m(!1)}},9213:function(y,v,i){var c=i(6080),f=i(9504),p=i(7055),m=i(8981),k=i(6198),C=i(1469),S=f([].push),x=function(D){var F=D===1,M=D===2,j=D===3,U=D===4,B=D===6,$=D===7,q=D===5||B;return function(Z,ie,ne,de){for(var le,se,ge=m(Z),ye=p(ge),ue=k(ye),Te=c(ie,ne),ve=0,ke=de||C,Fe=F?ke(Z,ue):M||$?ke(Z,0):void 0;ue>ve;ve++)if((q||ve in ye)&&(se=Te(le=ye[ve],ve,ge),D))if(F)Fe[ve]=se;else if(se)switch(D){case 3:return!0;case 5:return le;case 6:return ve;case 2:S(Fe,le)}else switch(D){case 4:return!1;case 7:S(Fe,le)}return B?-1:j||U?U:Fe}};y.exports={forEach:x(0),map:x(1),filter:x(2),some:x(3),every:x(4),find:x(5),findIndex:x(6),filterReject:x(7)}},597:function(y,v,i){var c=i(9039),f=i(8227),p=i(9519),m=f("species");y.exports=function(k){return p>=51||!c(function(){var C=[];return(C.constructor={})[m]=function(){return{foo:1}},C[k](Boolean).foo!==1})}},4598:function(y,v,i){var c=i(9039);y.exports=function(f,p){var m=[][f];return!!m&&c(function(){m.call(null,p||function(){return 1},1)})}},926:function(y,v,i){var c=i(9306),f=i(8981),p=i(7055),m=i(6198),k=TypeError,C="Reduce of empty array with no initial value",S=function(x){return function(D,F,M,j){var U=f(D),B=p(U),$=m(U);if(c(F),$===0&&M<2)throw new k(C);var q=x?$-1:0,Z=x?-1:1;if(M<2)for(;;){if(q in B){j=B[q],q+=Z;break}if(q+=Z,x?q<0:$<=q)throw new k(C)}for(;x?q>=0:$>q;q+=Z)q in B&&(j=F(j,B[q],q,U));return j}};y.exports={left:S(!1),right:S(!0)}},4527:function(y,v,i){var c=i(3724),f=i(4376),p=TypeError,m=Object.getOwnPropertyDescriptor,k=c&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(C){return C instanceof TypeError}}();y.exports=k?function(C,S){if(f(C)&&!m(C,"length").writable)throw new p("Cannot set read only .length");return C.length=S}:function(C,S){return C.length=S}},7680:function(y,v,i){var c=i(9504);y.exports=c([].slice)},4488:function(y,v,i){var c=i(7680),f=Math.floor,p=function(m,k){var C=m.length;if(C<8)for(var S,x,D=1;D<C;){for(x=D,S=m[D];x&&k(m[x-1],S)>0;)m[x]=m[--x];x!==D++&&(m[x]=S)}else for(var F=f(C/2),M=p(c(m,0,F),k),j=p(c(m,F),k),U=M.length,B=j.length,$=0,q=0;$<U||q<B;)m[$+q]=$<U&&q<B?k(M[$],j[q])<=0?M[$++]:j[q++]:$<U?M[$++]:j[q++];return m};y.exports=p},7433:function(y,v,i){var c=i(4376),f=i(3517),p=i(34),m=i(8227)("species"),k=Array;y.exports=function(C){var S;return c(C)&&(S=C.constructor,(f(S)&&(S===k||c(S.prototype))||p(S)&&(S=S[m])===null)&&(S=void 0)),S===void 0?k:S}},1469:function(y,v,i){var c=i(7433);y.exports=function(f,p){return new(c(f))(p===0?0:p)}},6319:function(y,v,i){var c=i(8551),f=i(9539);y.exports=function(p,m,k,C){try{return C?m(c(k)[0],k[1]):m(k)}catch(S){f(p,"throw",S)}}},4428:function(y,v,i){var c=i(8227)("iterator"),f=!1;try{var p=0,m={next:function(){return{done:!!p++}},return:function(){f=!0}};m[c]=function(){return this},Array.from(m,function(){throw 2})}catch{}y.exports=function(k,C){try{if(!C&&!f)return!1}catch{return!1}var S=!1;try{var x={};x[c]=function(){return{next:function(){return{done:S=!0}}}},k(x)}catch{}return S}},2195:function(y,v,i){var c=i(9504),f=c({}.toString),p=c("".slice);y.exports=function(m){return p(f(m),8,-1)}},6955:function(y,v,i){var c=i(2140),f=i(4901),p=i(2195),m=i(8227)("toStringTag"),k=Object,C=p(function(){return arguments}())==="Arguments";y.exports=c?p:function(S){var x,D,F;return S===void 0?"Undefined":S===null?"Null":typeof(D=function(M,j){try{return M[j]}catch{}}(x=k(S),m))=="string"?D:C?p(x):(F=p(x))==="Object"&&f(x.callee)?"Arguments":F}},7740:function(y,v,i){var c=i(9297),f=i(5031),p=i(7347),m=i(4913);y.exports=function(k,C,S){for(var x=f(C),D=m.f,F=p.f,M=0;M<x.length;M++){var j=x[M];c(k,j)||S&&c(S,j)||D(k,j,F(C,j))}}},1436:function(y,v,i){var c=i(8227)("match");y.exports=function(f){var p=/./;try{"/./"[f](p)}catch{try{return p[c]=!1,"/./"[f](p)}catch{}}return!1}},2211:function(y,v,i){var c=i(9039);y.exports=!c(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},2529:function(y){y.exports=function(v,i){return{value:v,done:i}}},6699:function(y,v,i){var c=i(3724),f=i(4913),p=i(6980);y.exports=c?function(m,k,C){return f.f(m,k,p(1,C))}:function(m,k,C){return m[k]=C,m}},6980:function(y){y.exports=function(v,i){return{enumerable:!(1&v),configurable:!(2&v),writable:!(4&v),value:i}}},4659:function(y,v,i){var c=i(3724),f=i(4913),p=i(6980);y.exports=function(m,k,C){c?f.f(m,k,p(0,C)):m[k]=C}},3640:function(y,v,i){var c=i(8551),f=i(4270),p=TypeError;y.exports=function(m){if(c(this),m==="string"||m==="default")m="string";else if(m!=="number")throw new p("Incorrect hint");return f(this,m)}},2106:function(y,v,i){var c=i(283),f=i(4913);y.exports=function(p,m,k){return k.get&&c(k.get,m,{getter:!0}),k.set&&c(k.set,m,{setter:!0}),f.f(p,m,k)}},6840:function(y,v,i){var c=i(4901),f=i(4913),p=i(283),m=i(9433);y.exports=function(k,C,S,x){x||(x={});var D=x.enumerable,F=x.name!==void 0?x.name:C;if(c(S)&&p(S,F,x),x.global)D?k[C]=S:m(C,S);else{try{x.unsafe?k[C]&&(D=!0):delete k[C]}catch{}D?k[C]=S:f.f(k,C,{value:S,enumerable:!1,configurable:!x.nonConfigurable,writable:!x.nonWritable})}return k}},9433:function(y,v,i){var c=i(4576),f=Object.defineProperty;y.exports=function(p,m){try{f(c,p,{value:m,configurable:!0,writable:!0})}catch{c[p]=m}return m}},4606:function(y,v,i){var c=i(6823),f=TypeError;y.exports=function(p,m){if(!delete p[m])throw new f("Cannot delete property "+c(m)+" of "+c(p))}},3724:function(y,v,i){var c=i(9039);y.exports=!c(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},4055:function(y,v,i){var c=i(4576),f=i(34),p=c.document,m=f(p)&&f(p.createElement);y.exports=function(k){return m?p.createElement(k):{}}},6837:function(y){var v=TypeError;y.exports=function(i){if(i>9007199254740991)throw v("Maximum allowed index exceeded");return i}},7400:function(y){y.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9296:function(y,v,i){var c=i(4055)("span").classList,f=c&&c.constructor&&c.constructor.prototype;y.exports=f===Object.prototype?void 0:f},8727:function(y){y.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3709:function(y,v,i){var c=i(2839).match(/firefox\/(\d+)/i);y.exports=!!c&&+c[1]},3763:function(y,v,i){var c=i(2839);y.exports=/MSIE|Trident/.test(c)},6193:function(y,v,i){var c=i(4215);y.exports=c==="NODE"},2839:function(y,v,i){var c=i(4576).navigator,f=c&&c.userAgent;y.exports=f?String(f):""},9519:function(y,v,i){var c,f,p=i(4576),m=i(2839),k=p.process,C=p.Deno,S=k&&k.versions||C&&C.version,x=S&&S.v8;x&&(f=(c=x.split("."))[0]>0&&c[0]<4?1:+(c[0]+c[1])),!f&&m&&(!(c=m.match(/Edge\/(\d+)/))||c[1]>=74)&&(c=m.match(/Chrome\/(\d+)/))&&(f=+c[1]),y.exports=f},3607:function(y,v,i){var c=i(2839).match(/AppleWebKit\/(\d+)\./);y.exports=!!c&&+c[1]},4215:function(y,v,i){var c=i(4576),f=i(2839),p=i(2195),m=function(k){return f.slice(0,k.length)===k};y.exports=m("Bun/")?"BUN":m("Cloudflare-Workers")?"CLOUDFLARE":m("Deno/")?"DENO":m("Node.js/")?"NODE":c.Bun&&typeof Bun.version=="string"?"BUN":c.Deno&&typeof Deno.version=="object"?"DENO":p(c.process)==="process"?"NODE":c.window&&c.document?"BROWSER":"REST"},6518:function(y,v,i){var c=i(4576),f=i(7347).f,p=i(6699),m=i(6840),k=i(9433),C=i(7740),S=i(2796);y.exports=function(x,D){var F,M,j,U,B,$=x.target,q=x.global,Z=x.stat;if(F=q?c:Z?c[$]||k($,{}):c[$]&&c[$].prototype)for(M in D){if(U=D[M],j=x.dontCallGetSet?(B=f(F,M))&&B.value:F[M],!S(q?M:$+(Z?".":"#")+M,x.forced)&&j!==void 0){if(typeof U==typeof j)continue;C(U,j)}(x.sham||j&&j.sham)&&p(U,"sham",!0),m(F,M,U,x)}}},9039:function(y){y.exports=function(v){try{return!!v()}catch{return!0}}},9228:function(y,v,i){i(7495);var c=i(9565),f=i(6840),p=i(7323),m=i(9039),k=i(8227),C=i(6699),S=k("species"),x=RegExp.prototype;y.exports=function(D,F,M,j){var U=k(D),B=!m(function(){var ie={};return ie[U]=function(){return 7},""[D](ie)!==7}),$=B&&!m(function(){var ie=!1,ne=/a/;return D==="split"&&((ne={}).constructor={},ne.constructor[S]=function(){return ne},ne.flags="",ne[U]=/./[U]),ne.exec=function(){return ie=!0,null},ne[U](""),!ie});if(!B||!$||M){var q=/./[U],Z=F(U,""[D],function(ie,ne,de,le,se){var ge=ne.exec;return ge===p||ge===x.exec?B&&!se?{done:!0,value:c(q,ne,de,le)}:{done:!0,value:c(ie,de,ne,le)}:{done:!1}});f(String.prototype,D,Z[0]),f(x,U,Z[1])}j&&C(x[U],"sham",!0)}},8745:function(y,v,i){var c=i(616),f=Function.prototype,p=f.apply,m=f.call;y.exports=typeof Reflect=="object"&&Reflect.apply||(c?m.bind(p):function(){return m.apply(p,arguments)})},6080:function(y,v,i){var c=i(7476),f=i(9306),p=i(616),m=c(c.bind);y.exports=function(k,C){return f(k),C===void 0?k:p?m(k,C):function(){return k.apply(C,arguments)}}},616:function(y,v,i){var c=i(9039);y.exports=!c(function(){var f=(function(){}).bind();return typeof f!="function"||f.hasOwnProperty("prototype")})},9565:function(y,v,i){var c=i(616),f=Function.prototype.call;y.exports=c?f.bind(f):function(){return f.apply(f,arguments)}},350:function(y,v,i){var c=i(3724),f=i(9297),p=Function.prototype,m=c&&Object.getOwnPropertyDescriptor,k=f(p,"name"),C=k&&(function(){}).name==="something",S=k&&(!c||c&&m(p,"name").configurable);y.exports={EXISTS:k,PROPER:C,CONFIGURABLE:S}},6706:function(y,v,i){var c=i(9504),f=i(9306);y.exports=function(p,m,k){try{return c(f(Object.getOwnPropertyDescriptor(p,m)[k]))}catch{}}},7476:function(y,v,i){var c=i(2195),f=i(9504);y.exports=function(p){if(c(p)==="Function")return f(p)}},9504:function(y,v,i){var c=i(616),f=Function.prototype,p=f.call,m=c&&f.bind.bind(p,p);y.exports=c?m:function(k){return function(){return p.apply(k,arguments)}}},7751:function(y,v,i){var c=i(4576),f=i(4901);y.exports=function(p,m){return arguments.length<2?(k=c[p],f(k)?k:void 0):c[p]&&c[p][m];var k}},851:function(y,v,i){var c=i(6955),f=i(5966),p=i(4117),m=i(6269),k=i(8227)("iterator");y.exports=function(C){if(!p(C))return f(C,k)||f(C,"@@iterator")||m[c(C)]}},81:function(y,v,i){var c=i(9565),f=i(9306),p=i(8551),m=i(6823),k=i(851),C=TypeError;y.exports=function(S,x){var D=arguments.length<2?k(S):x;if(f(D))return p(c(D,S));throw new C(m(S)+" is not iterable")}},6933:function(y,v,i){var c=i(9504),f=i(4376),p=i(4901),m=i(2195),k=i(655),C=c([].push);y.exports=function(S){if(p(S))return S;if(f(S)){for(var x=S.length,D=[],F=0;F<x;F++){var M=S[F];typeof M=="string"?C(D,M):typeof M!="number"&&m(M)!=="Number"&&m(M)!=="String"||C(D,k(M))}var j=D.length,U=!0;return function(B,$){if(U)return U=!1,$;if(f(this))return $;for(var q=0;q<j;q++)if(D[q]===B)return $}}}},5966:function(y,v,i){var c=i(9306),f=i(4117);y.exports=function(p,m){var k=p[m];return f(k)?void 0:c(k)}},2478:function(y,v,i){var c=i(9504),f=i(8981),p=Math.floor,m=c("".charAt),k=c("".replace),C=c("".slice),S=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,x=/\$([$&'`]|\d{1,2})/g;y.exports=function(D,F,M,j,U,B){var $=M+D.length,q=j.length,Z=x;return U!==void 0&&(U=f(U),Z=S),k(B,Z,function(ie,ne){var de;switch(m(ne,0)){case"$":return"$";case"&":return D;case"`":return C(F,0,M);case"'":return C(F,$);case"<":de=U[C(ne,1,-1)];break;default:var le=+ne;if(le===0)return ie;if(le>q){var se=p(le/10);return se===0?ie:se<=q?j[se-1]===void 0?m(ne,1):j[se-1]+m(ne,1):ie}de=j[le-1]}return de===void 0?"":de})}},4576:function(y,v,i){var c=function(f){return f&&f.Math===Math&&f};y.exports=c(typeof globalThis=="object"&&globalThis)||c(typeof window=="object"&&window)||c(typeof self=="object"&&self)||c(typeof i.g=="object"&&i.g)||c(typeof this=="object"&&this)||function(){return this}()||Function("return this")()},9297:function(y,v,i){var c=i(9504),f=i(8981),p=c({}.hasOwnProperty);y.exports=Object.hasOwn||function(m,k){return p(f(m),k)}},421:function(y){y.exports={}},397:function(y,v,i){var c=i(7751);y.exports=c("document","documentElement")},5917:function(y,v,i){var c=i(3724),f=i(9039),p=i(4055);y.exports=!c&&!f(function(){return Object.defineProperty(p("div"),"a",{get:function(){return 7}}).a!==7})},7055:function(y,v,i){var c=i(9504),f=i(9039),p=i(2195),m=Object,k=c("".split);y.exports=f(function(){return!m("z").propertyIsEnumerable(0)})?function(C){return p(C)==="String"?k(C,""):m(C)}:m},3167:function(y,v,i){var c=i(4901),f=i(34),p=i(2967);y.exports=function(m,k,C){var S,x;return p&&c(S=k.constructor)&&S!==C&&f(x=S.prototype)&&x!==C.prototype&&p(m,x),m}},3706:function(y,v,i){var c=i(9504),f=i(4901),p=i(7629),m=c(Function.toString);f(p.inspectSource)||(p.inspectSource=function(k){return m(k)}),y.exports=p.inspectSource},1181:function(y,v,i){var c,f,p,m=i(8622),k=i(4576),C=i(34),S=i(6699),x=i(9297),D=i(7629),F=i(6119),M=i(421),j="Object already initialized",U=k.TypeError,B=k.WeakMap;if(m||D.state){var $=D.state||(D.state=new B);$.get=$.get,$.has=$.has,$.set=$.set,c=function(Z,ie){if($.has(Z))throw new U(j);return ie.facade=Z,$.set(Z,ie),ie},f=function(Z){return $.get(Z)||{}},p=function(Z){return $.has(Z)}}else{var q=F("state");M[q]=!0,c=function(Z,ie){if(x(Z,q))throw new U(j);return ie.facade=Z,S(Z,q,ie),ie},f=function(Z){return x(Z,q)?Z[q]:{}},p=function(Z){return x(Z,q)}}y.exports={set:c,get:f,has:p,enforce:function(Z){return p(Z)?f(Z):c(Z,{})},getterFor:function(Z){return function(ie){var ne;if(!C(ie)||(ne=f(ie)).type!==Z)throw new U("Incompatible receiver, "+Z+" required");return ne}}}},4209:function(y,v,i){var c=i(8227),f=i(6269),p=c("iterator"),m=Array.prototype;y.exports=function(k){return k!==void 0&&(f.Array===k||m[p]===k)}},4376:function(y,v,i){var c=i(2195);y.exports=Array.isArray||function(f){return c(f)==="Array"}},4901:function(y){var v=typeof document=="object"&&document.all;y.exports=v===void 0&&v!==void 0?function(i){return typeof i=="function"||i===v}:function(i){return typeof i=="function"}},3517:function(y,v,i){var c=i(9504),f=i(9039),p=i(4901),m=i(6955),k=i(7751),C=i(3706),S=function(){},x=k("Reflect","construct"),D=/^\s*(?:class|function)\b/,F=c(D.exec),M=!D.test(S),j=function(B){if(!p(B))return!1;try{return x(S,[],B),!0}catch{return!1}},U=function(B){if(!p(B))return!1;switch(m(B)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return M||!!F(D,C(B))}catch{return!0}};U.sham=!0,y.exports=!x||f(function(){var B;return j(j.call)||!j(Object)||!j(function(){B=!0})||B})?U:j},2796:function(y,v,i){var c=i(9039),f=i(4901),p=/#|\.prototype\./,m=function(D,F){var M=C[k(D)];return M===x||M!==S&&(f(F)?c(F):!!F)},k=m.normalize=function(D){return String(D).replace(p,".").toLowerCase()},C=m.data={},S=m.NATIVE="N",x=m.POLYFILL="P";y.exports=m},2087:function(y,v,i){var c=i(34),f=Math.floor;y.exports=Number.isInteger||function(p){return!c(p)&&isFinite(p)&&f(p)===p}},4117:function(y){y.exports=function(v){return v==null}},34:function(y,v,i){var c=i(4901);y.exports=function(f){return typeof f=="object"?f!==null:c(f)}},3925:function(y,v,i){var c=i(34);y.exports=function(f){return c(f)||f===null}},6395:function(y){y.exports=!1},788:function(y,v,i){var c=i(34),f=i(2195),p=i(8227)("match");y.exports=function(m){var k;return c(m)&&((k=m[p])!==void 0?!!k:f(m)==="RegExp")}},757:function(y,v,i){var c=i(7751),f=i(4901),p=i(1625),m=i(7040),k=Object;y.exports=m?function(C){return typeof C=="symbol"}:function(C){var S=c("Symbol");return f(S)&&p(S.prototype,k(C))}},9539:function(y,v,i){var c=i(9565),f=i(8551),p=i(5966);y.exports=function(m,k,C){var S,x;f(m);try{if(!(S=p(m,"return"))){if(k==="throw")throw C;return C}S=c(S,m)}catch(D){x=!0,S=D}if(k==="throw")throw C;if(x)throw S;return f(S),C}},3994:function(y,v,i){var c=i(7657).IteratorPrototype,f=i(2360),p=i(6980),m=i(687),k=i(6269),C=function(){return this};y.exports=function(S,x,D,F){var M=x+" Iterator";return S.prototype=f(c,{next:p(+!F,D)}),m(S,M,!1,!0),k[M]=C,S}},1088:function(y,v,i){var c=i(6518),f=i(9565),p=i(6395),m=i(350),k=i(4901),C=i(3994),S=i(2787),x=i(2967),D=i(687),F=i(6699),M=i(6840),j=i(8227),U=i(6269),B=i(7657),$=m.PROPER,q=m.CONFIGURABLE,Z=B.IteratorPrototype,ie=B.BUGGY_SAFARI_ITERATORS,ne=j("iterator"),de="keys",le="values",se="entries",ge=function(){return this};y.exports=function(ye,ue,Te,ve,ke,Fe,Ie){C(Te,ue,ve);var _e,Re,Ne,Le=function(He){if(He===ke&&be)return be;if(!ie&&He&&He in Ee)return Ee[He];switch(He){case de:case le:case se:return function(){return new Te(this,He)}}return function(){return new Te(this)}},Ae=ue+" Iterator",Me=!1,Ee=ye.prototype,xe=Ee[ne]||Ee["@@iterator"]||ke&&Ee[ke],be=!ie&&xe||Le(ke),qe=ue==="Array"&&Ee.entries||xe;if(qe&&(_e=S(qe.call(new ye)))!==Object.prototype&&_e.next&&(p||S(_e)===Z||(x?x(_e,Z):k(_e[ne])||M(_e,ne,ge)),D(_e,Ae,!0,!0),p&&(U[Ae]=ge)),$&&ke===le&&xe&&xe.name!==le&&(!p&&q?F(Ee,"name",le):(Me=!0,be=function(){return f(xe,this)})),ke)if(Re={values:Le(le),keys:Fe?be:Le(de),entries:Le(se)},Ie)for(Ne in Re)(ie||Me||!(Ne in Ee))&&M(Ee,Ne,Re[Ne]);else c({target:ue,proto:!0,forced:ie||Me},Re);return p&&!Ie||Ee[ne]===be||M(Ee,ne,be,{name:ke}),U[ue]=be,Re}},7657:function(y,v,i){var c,f,p,m=i(9039),k=i(4901),C=i(34),S=i(2360),x=i(2787),D=i(6840),F=i(8227),M=i(6395),j=F("iterator"),U=!1;[].keys&&("next"in(p=[].keys())?(f=x(x(p)))!==Object.prototype&&(c=f):U=!0),!C(c)||m(function(){var B={};return c[j].call(B)!==B})?c={}:M&&(c=S(c)),k(c[j])||D(c,j,function(){return this}),y.exports={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:U}},6269:function(y){y.exports={}},6198:function(y,v,i){var c=i(8014);y.exports=function(f){return c(f.length)}},283:function(y,v,i){var c=i(9504),f=i(9039),p=i(4901),m=i(9297),k=i(3724),C=i(350).CONFIGURABLE,S=i(3706),x=i(1181),D=x.enforce,F=x.get,M=String,j=Object.defineProperty,U=c("".slice),B=c("".replace),$=c([].join),q=k&&!f(function(){return j(function(){},"length",{value:8}).length!==8}),Z=String(String).split("String"),ie=y.exports=function(ne,de,le){U(M(de),0,7)==="Symbol("&&(de="["+B(M(de),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),le&&le.getter&&(de="get "+de),le&&le.setter&&(de="set "+de),(!m(ne,"name")||C&&ne.name!==de)&&(k?j(ne,"name",{value:de,configurable:!0}):ne.name=de),q&&le&&m(le,"arity")&&ne.length!==le.arity&&j(ne,"length",{value:le.arity});try{le&&m(le,"constructor")&&le.constructor?k&&j(ne,"prototype",{writable:!1}):ne.prototype&&(ne.prototype=void 0)}catch{}var se=D(ne);return m(se,"source")||(se.source=$(Z,typeof de=="string"?de:"")),ne};Function.prototype.toString=ie(function(){return p(this)&&F(this).source||S(this)},"toString")},741:function(y){var v=Math.ceil,i=Math.floor;y.exports=Math.trunc||function(c){var f=+c;return(f>0?i:v)(f)}},5749:function(y,v,i){var c=i(788),f=TypeError;y.exports=function(p){if(c(p))throw new f("The method doesn't accept regular expressions");return p}},4213:function(y,v,i){var c=i(3724),f=i(9504),p=i(9565),m=i(9039),k=i(1072),C=i(3717),S=i(8773),x=i(8981),D=i(7055),F=Object.assign,M=Object.defineProperty,j=f([].concat);y.exports=!F||m(function(){if(c&&F({b:1},F(M({},"a",{enumerable:!0,get:function(){M(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var U={},B={},$=Symbol("assign detection"),q="abcdefghijklmnopqrst";return U[$]=7,q.split("").forEach(function(Z){B[Z]=Z}),F({},U)[$]!==7||k(F({},B)).join("")!==q})?function(U,B){for(var $=x(U),q=arguments.length,Z=1,ie=C.f,ne=S.f;q>Z;)for(var de,le=D(arguments[Z++]),se=ie?j(k(le),ie(le)):k(le),ge=se.length,ye=0;ge>ye;)de=se[ye++],c&&!p(ne,le,de)||($[de]=le[de]);return $}:F},2360:function(y,v,i){var c,f=i(8551),p=i(6801),m=i(8727),k=i(421),C=i(397),S=i(4055),x=i(6119),D="prototype",F="script",M=x("IE_PROTO"),j=function(){},U=function(q){return"<"+F+">"+q+"</"+F+">"},B=function(q){q.write(U("")),q.close();var Z=q.parentWindow.Object;return q=null,Z},$=function(){try{c=new ActiveXObject("htmlfile")}catch{}var q,Z,ie;$=typeof document<"u"?document.domain&&c?B(c):(Z=S("iframe"),ie="java"+F+":",Z.style.display="none",C.appendChild(Z),Z.src=String(ie),(q=Z.contentWindow.document).open(),q.write(U("document.F=Object")),q.close(),q.F):B(c);for(var ne=m.length;ne--;)delete $[D][m[ne]];return $()};k[M]=!0,y.exports=Object.create||function(q,Z){var ie;return q!==null?(j[D]=f(q),ie=new j,j[D]=null,ie[M]=q):ie=$(),Z===void 0?ie:p.f(ie,Z)}},6801:function(y,v,i){var c=i(3724),f=i(8686),p=i(4913),m=i(8551),k=i(5397),C=i(1072);v.f=c&&!f?Object.defineProperties:function(S,x){m(S);for(var D,F=k(x),M=C(x),j=M.length,U=0;j>U;)p.f(S,D=M[U++],F[D]);return S}},4913:function(y,v,i){var c=i(3724),f=i(5917),p=i(8686),m=i(8551),k=i(6969),C=TypeError,S=Object.defineProperty,x=Object.getOwnPropertyDescriptor,D="enumerable",F="configurable",M="writable";v.f=c?p?function(j,U,B){if(m(j),U=k(U),m(B),typeof j=="function"&&U==="prototype"&&"value"in B&&M in B&&!B[M]){var $=x(j,U);$&&$[M]&&(j[U]=B.value,B={configurable:F in B?B[F]:$[F],enumerable:D in B?B[D]:$[D],writable:!1})}return S(j,U,B)}:S:function(j,U,B){if(m(j),U=k(U),m(B),f)try{return S(j,U,B)}catch{}if("get"in B||"set"in B)throw new C("Accessors not supported");return"value"in B&&(j[U]=B.value),j}},7347:function(y,v,i){var c=i(3724),f=i(9565),p=i(8773),m=i(6980),k=i(5397),C=i(6969),S=i(9297),x=i(5917),D=Object.getOwnPropertyDescriptor;v.f=c?D:function(F,M){if(F=k(F),M=C(M),x)try{return D(F,M)}catch{}if(S(F,M))return m(!f(p.f,F,M),F[M])}},298:function(y,v,i){var c=i(2195),f=i(5397),p=i(8480).f,m=i(7680),k=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];y.exports.f=function(C){return k&&c(C)==="Window"?function(S){try{return p(S)}catch{return m(k)}}(C):p(f(C))}},8480:function(y,v,i){var c=i(1828),f=i(8727).concat("length","prototype");v.f=Object.getOwnPropertyNames||function(p){return c(p,f)}},3717:function(y,v){v.f=Object.getOwnPropertySymbols},2787:function(y,v,i){var c=i(9297),f=i(4901),p=i(8981),m=i(6119),k=i(2211),C=m("IE_PROTO"),S=Object,x=S.prototype;y.exports=k?S.getPrototypeOf:function(D){var F=p(D);if(c(F,C))return F[C];var M=F.constructor;return f(M)&&F instanceof M?M.prototype:F instanceof S?x:null}},1625:function(y,v,i){var c=i(9504);y.exports=c({}.isPrototypeOf)},1828:function(y,v,i){var c=i(9504),f=i(9297),p=i(5397),m=i(9617).indexOf,k=i(421),C=c([].push);y.exports=function(S,x){var D,F=p(S),M=0,j=[];for(D in F)!f(k,D)&&f(F,D)&&C(j,D);for(;x.length>M;)f(F,D=x[M++])&&(~m(j,D)||C(j,D));return j}},1072:function(y,v,i){var c=i(1828),f=i(8727);y.exports=Object.keys||function(p){return c(p,f)}},8773:function(y,v){var i={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,f=c&&!i.call({1:2},1);v.f=f?function(p){var m=c(this,p);return!!m&&m.enumerable}:i},2551:function(y,v,i){var c=i(6395),f=i(4576),p=i(9039),m=i(3607);y.exports=c||!p(function(){if(!(m&&m<535)){var k=Math.random();__defineSetter__.call(null,k,function(){}),delete f[k]}})},2967:function(y,v,i){var c=i(6706),f=i(34),p=i(7750),m=i(3506);y.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var k,C=!1,S={};try{(k=c(Object.prototype,"__proto__","set"))(S,[]),C=S instanceof Array}catch{}return function(x,D){return p(x),m(D),f(x)&&(C?k(x,D):x.__proto__=D),x}}():void 0)},3179:function(y,v,i){var c=i(2140),f=i(6955);y.exports=c?{}.toString:function(){return"[object "+f(this)+"]"}},4270:function(y,v,i){var c=i(9565),f=i(4901),p=i(34),m=TypeError;y.exports=function(k,C){var S,x;if(C==="string"&&f(S=k.toString)&&!p(x=c(S,k))||f(S=k.valueOf)&&!p(x=c(S,k))||C!=="string"&&f(S=k.toString)&&!p(x=c(S,k)))return x;throw new m("Can't convert object to primitive value")}},5031:function(y,v,i){var c=i(7751),f=i(9504),p=i(8480),m=i(3717),k=i(8551),C=f([].concat);y.exports=c("Reflect","ownKeys")||function(S){var x=p.f(k(S)),D=m.f;return D?C(x,D(S)):x}},9167:function(y,v,i){var c=i(4576);y.exports=c},1056:function(y,v,i){var c=i(4913).f;y.exports=function(f,p,m){m in f||c(f,m,{configurable:!0,get:function(){return p[m]},set:function(k){p[m]=k}})}},6682:function(y,v,i){var c=i(9565),f=i(8551),p=i(4901),m=i(2195),k=i(7323),C=TypeError;y.exports=function(S,x){var D=S.exec;if(p(D)){var F=c(D,S,x);return F!==null&&f(F),F}if(m(S)==="RegExp")return c(k,S,x);throw new C("RegExp#exec called on incompatible receiver")}},7323:function(y,v,i){var c,f,p=i(9565),m=i(9504),k=i(655),C=i(7979),S=i(8429),x=i(5745),D=i(2360),F=i(1181).get,M=i(3635),j=i(8814),U=x("native-string-replace",String.prototype.replace),B=RegExp.prototype.exec,$=B,q=m("".charAt),Z=m("".indexOf),ie=m("".replace),ne=m("".slice),de=(f=/b*/g,p(B,c=/a/,"a"),p(B,f,"a"),c.lastIndex!==0||f.lastIndex!==0),le=S.BROKEN_CARET,se=/()??/.exec("")[1]!==void 0;(de||se||le||M||j)&&($=function(ge){var ye,ue,Te,ve,ke,Fe,Ie,_e=this,Re=F(_e),Ne=k(ge),Le=Re.raw;if(Le)return Le.lastIndex=_e.lastIndex,ye=p($,Le,Ne),_e.lastIndex=Le.lastIndex,ye;var Ae=Re.groups,Me=le&&_e.sticky,Ee=p(C,_e),xe=_e.source,be=0,qe=Ne;if(Me&&(Ee=ie(Ee,"y",""),Z(Ee,"g")===-1&&(Ee+="g"),qe=ne(Ne,_e.lastIndex),_e.lastIndex>0&&(!_e.multiline||_e.multiline&&q(Ne,_e.lastIndex-1)!==`
`)&&(xe="(?: "+xe+")",qe=" "+qe,be++),ue=new RegExp("^(?:"+xe+")",Ee)),se&&(ue=new RegExp("^"+xe+"$(?!\\s)",Ee)),de&&(Te=_e.lastIndex),ve=p(B,Me?ue:_e,qe),Me?ve?(ve.input=ne(ve.input,be),ve[0]=ne(ve[0],be),ve.index=_e.lastIndex,_e.lastIndex+=ve[0].length):_e.lastIndex=0:de&&ve&&(_e.lastIndex=_e.global?ve.index+ve[0].length:Te),se&&ve&&ve.length>1&&p(U,ve[0],ue,function(){for(ke=1;ke<arguments.length-2;ke++)arguments[ke]===void 0&&(ve[ke]=void 0)}),ve&&Ae)for(ve.groups=Fe=D(null),ke=0;ke<Ae.length;ke++)Fe[(Ie=Ae[ke])[0]]=ve[Ie[1]];return ve}),y.exports=$},7979:function(y,v,i){var c=i(8551);y.exports=function(){var f=c(this),p="";return f.hasIndices&&(p+="d"),f.global&&(p+="g"),f.ignoreCase&&(p+="i"),f.multiline&&(p+="m"),f.dotAll&&(p+="s"),f.unicode&&(p+="u"),f.unicodeSets&&(p+="v"),f.sticky&&(p+="y"),p}},1034:function(y,v,i){var c=i(9565),f=i(9297),p=i(1625),m=i(7979),k=RegExp.prototype;y.exports=function(C){var S=C.flags;return S!==void 0||"flags"in k||f(C,"flags")||!p(k,C)?S:c(m,C)}},8429:function(y,v,i){var c=i(9039),f=i(4576).RegExp,p=c(function(){var C=f("a","y");return C.lastIndex=2,C.exec("abcd")!==null}),m=p||c(function(){return!f("a","y").sticky}),k=p||c(function(){var C=f("^r","gy");return C.lastIndex=2,C.exec("str")!==null});y.exports={BROKEN_CARET:k,MISSED_STICKY:m,UNSUPPORTED_Y:p}},3635:function(y,v,i){var c=i(9039),f=i(4576).RegExp;y.exports=c(function(){var p=f(".","s");return!(p.dotAll&&p.test(`
`)&&p.flags==="s")})},8814:function(y,v,i){var c=i(9039),f=i(4576).RegExp;y.exports=c(function(){var p=f("(?<a>b)","g");return p.exec("b").groups.a!=="b"||"b".replace(p,"$<a>c")!=="bc"})},7750:function(y,v,i){var c=i(4117),f=TypeError;y.exports=function(p){if(c(p))throw new f("Can't call method on "+p);return p}},7633:function(y,v,i){var c=i(7751),f=i(2106),p=i(8227),m=i(3724),k=p("species");y.exports=function(C){var S=c(C);m&&S&&!S[k]&&f(S,k,{configurable:!0,get:function(){return this}})}},687:function(y,v,i){var c=i(4913).f,f=i(9297),p=i(8227)("toStringTag");y.exports=function(m,k,C){m&&!C&&(m=m.prototype),m&&!f(m,p)&&c(m,p,{configurable:!0,value:k})}},6119:function(y,v,i){var c=i(5745),f=i(3392),p=c("keys");y.exports=function(m){return p[m]||(p[m]=f(m))}},7629:function(y,v,i){var c=i(6395),f=i(4576),p=i(9433),m="__core-js_shared__",k=y.exports=f[m]||p(m,{});(k.versions||(k.versions=[])).push({version:"3.39.0",mode:c?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(y,v,i){var c=i(7629);y.exports=function(f,p){return c[f]||(c[f]=p||{})}},2293:function(y,v,i){var c=i(8551),f=i(5548),p=i(4117),m=i(8227)("species");y.exports=function(k,C){var S,x=c(k).constructor;return x===void 0||p(S=c(x)[m])?C:f(S)}},8183:function(y,v,i){var c=i(9504),f=i(1291),p=i(655),m=i(7750),k=c("".charAt),C=c("".charCodeAt),S=c("".slice),x=function(D){return function(F,M){var j,U,B=p(m(F)),$=f(M),q=B.length;return $<0||$>=q?D?"":void 0:(j=C(B,$))<55296||j>56319||$+1===q||(U=C(B,$+1))<56320||U>57343?D?k(B,$):j:D?S(B,$,$+2):U-56320+(j-55296<<10)+65536}};y.exports={codeAt:x(!1),charAt:x(!0)}},706:function(y,v,i){var c=i(350).PROPER,f=i(9039),p=i(7452);y.exports=function(m){return f(function(){return!!p[m]()||"​᠎"[m]()!=="​᠎"||c&&p[m].name!==m})}},3802:function(y,v,i){var c=i(9504),f=i(7750),p=i(655),m=i(7452),k=c("".replace),C=RegExp("^["+m+"]+"),S=RegExp("(^|[^"+m+"])["+m+"]+$"),x=function(D){return function(F){var M=p(f(F));return 1&D&&(M=k(M,C,"")),2&D&&(M=k(M,S,"$1")),M}};y.exports={start:x(1),end:x(2),trim:x(3)}},4495:function(y,v,i){var c=i(9519),f=i(9039),p=i(4576).String;y.exports=!!Object.getOwnPropertySymbols&&!f(function(){var m=Symbol("symbol detection");return!p(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&c&&c<41})},8242:function(y,v,i){var c=i(9565),f=i(7751),p=i(8227),m=i(6840);y.exports=function(){var k=f("Symbol"),C=k&&k.prototype,S=C&&C.valueOf,x=p("toPrimitive");C&&!C[x]&&m(C,x,function(D){return c(S,this)},{arity:1})}},1296:function(y,v,i){var c=i(4495);y.exports=c&&!!Symbol.for&&!!Symbol.keyFor},1240:function(y,v,i){var c=i(9504);y.exports=c(1 .valueOf)},5610:function(y,v,i){var c=i(1291),f=Math.max,p=Math.min;y.exports=function(m,k){var C=c(m);return C<0?f(C+k,0):p(C,k)}},5397:function(y,v,i){var c=i(7055),f=i(7750);y.exports=function(p){return c(f(p))}},1291:function(y,v,i){var c=i(741);y.exports=function(f){var p=+f;return p!=p||p===0?0:c(p)}},8014:function(y,v,i){var c=i(1291),f=Math.min;y.exports=function(p){var m=c(p);return m>0?f(m,9007199254740991):0}},8981:function(y,v,i){var c=i(7750),f=Object;y.exports=function(p){return f(c(p))}},2777:function(y,v,i){var c=i(9565),f=i(34),p=i(757),m=i(5966),k=i(4270),C=i(8227),S=TypeError,x=C("toPrimitive");y.exports=function(D,F){if(!f(D)||p(D))return D;var M,j=m(D,x);if(j){if(F===void 0&&(F="default"),M=c(j,D,F),!f(M)||p(M))return M;throw new S("Can't convert object to primitive value")}return F===void 0&&(F="number"),k(D,F)}},6969:function(y,v,i){var c=i(2777),f=i(757);y.exports=function(p){var m=c(p,"string");return f(m)?m:m+""}},2140:function(y,v,i){var c={};c[i(8227)("toStringTag")]="z",y.exports=String(c)==="[object z]"},655:function(y,v,i){var c=i(6955),f=String;y.exports=function(p){if(c(p)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return f(p)}},6823:function(y){var v=String;y.exports=function(i){try{return v(i)}catch{return"Object"}}},3392:function(y,v,i){var c=i(9504),f=0,p=Math.random(),m=c(1 .toString);y.exports=function(k){return"Symbol("+(k===void 0?"":k)+")_"+m(++f+p,36)}},7040:function(y,v,i){var c=i(4495);y.exports=c&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},8686:function(y,v,i){var c=i(3724),f=i(9039);y.exports=c&&f(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},8622:function(y,v,i){var c=i(4576),f=i(4901),p=c.WeakMap;y.exports=f(p)&&/native code/.test(String(p))},511:function(y,v,i){var c=i(9167),f=i(9297),p=i(1951),m=i(4913).f;y.exports=function(k){var C=c.Symbol||(c.Symbol={});f(C,k)||m(C,k,{value:p.f(k)})}},1951:function(y,v,i){var c=i(8227);v.f=c},8227:function(y,v,i){var c=i(4576),f=i(5745),p=i(9297),m=i(3392),k=i(4495),C=i(7040),S=c.Symbol,x=f("wks"),D=C?S.for||S:S&&S.withoutSetter||m;y.exports=function(F){return p(x,F)||(x[F]=k&&p(S,F)?S[F]:D("Symbol."+F)),x[F]}},7452:function(y){y.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},8706:function(y,v,i){var c=i(6518),f=i(9039),p=i(4376),m=i(34),k=i(8981),C=i(6198),S=i(6837),x=i(4659),D=i(1469),F=i(597),M=i(8227),j=i(9519),U=M("isConcatSpreadable"),B=j>=51||!f(function(){var q=[];return q[U]=!1,q.concat()[0]!==q}),$=function(q){if(!m(q))return!1;var Z=q[U];return Z!==void 0?!!Z:p(q)};c({target:"Array",proto:!0,arity:1,forced:!B||!F("concat")},{concat:function(q){var Z,ie,ne,de,le,se=k(this),ge=D(se,0),ye=0;for(Z=-1,ne=arguments.length;Z<ne;Z++)if($(le=Z===-1?se:arguments[Z]))for(de=C(le),S(ye+de),ie=0;ie<de;ie++,ye++)ie in le&&x(ge,ye,le[ie]);else S(ye+1),x(ge,ye++,le);return ge.length=ye,ge}})},2008:function(y,v,i){var c=i(6518),f=i(9213).filter;c({target:"Array",proto:!0,forced:!i(597)("filter")},{filter:function(p){return f(this,p,arguments.length>1?arguments[1]:void 0)}})},3418:function(y,v,i){var c=i(6518),f=i(7916);c({target:"Array",stat:!0,forced:!i(4428)(function(p){Array.from(p)})},{from:f})},4423:function(y,v,i){var c=i(6518),f=i(9617).includes,p=i(9039),m=i(6469);c({target:"Array",proto:!0,forced:p(function(){return!Array(1).includes()})},{includes:function(k){return f(this,k,arguments.length>1?arguments[1]:void 0)}}),m("includes")},5276:function(y,v,i){var c=i(6518),f=i(7476),p=i(9617).indexOf,m=i(4598),k=f([].indexOf),C=!!k&&1/k([1],1,-0)<0;c({target:"Array",proto:!0,forced:C||!m("indexOf")},{indexOf:function(S){var x=arguments.length>1?arguments[1]:void 0;return C?k(this,S,x)||0:p(this,S,x)}})},3792:function(y,v,i){var c=i(5397),f=i(6469),p=i(6269),m=i(1181),k=i(4913).f,C=i(1088),S=i(2529),x=i(6395),D=i(3724),F="Array Iterator",M=m.set,j=m.getterFor(F);y.exports=C(Array,"Array",function(B,$){M(this,{type:F,target:c(B),index:0,kind:$})},function(){var B=j(this),$=B.target,q=B.index++;if(!$||q>=$.length)return B.target=null,S(void 0,!0);switch(B.kind){case"keys":return S(q,!1);case"values":return S($[q],!1)}return S([q,$[q]],!1)},"values");var U=p.Arguments=p.Array;if(f("keys"),f("values"),f("entries"),!x&&D&&U.name!=="values")try{k(U,"name",{value:"values"})}catch{}},8598:function(y,v,i){var c=i(6518),f=i(9504),p=i(7055),m=i(5397),k=i(4598),C=f([].join);c({target:"Array",proto:!0,forced:p!==Object||!k("join",",")},{join:function(S){return C(m(this),S===void 0?",":S)}})},2062:function(y,v,i){var c=i(6518),f=i(9213).map;c({target:"Array",proto:!0,forced:!i(597)("map")},{map:function(p){return f(this,p,arguments.length>1?arguments[1]:void 0)}})},2712:function(y,v,i){var c=i(6518),f=i(926).left,p=i(4598),m=i(9519);c({target:"Array",proto:!0,forced:!i(6193)&&m>79&&m<83||!p("reduce")},{reduce:function(k){var C=arguments.length;return f(this,k,C,C>1?arguments[1]:void 0)}})},4782:function(y,v,i){var c=i(6518),f=i(4376),p=i(3517),m=i(34),k=i(5610),C=i(6198),S=i(5397),x=i(4659),D=i(8227),F=i(597),M=i(7680),j=F("slice"),U=D("species"),B=Array,$=Math.max;c({target:"Array",proto:!0,forced:!j},{slice:function(q,Z){var ie,ne,de,le=S(this),se=C(le),ge=k(q,se),ye=k(Z===void 0?se:Z,se);if(f(le)&&(ie=le.constructor,(p(ie)&&(ie===B||f(ie.prototype))||m(ie)&&(ie=ie[U])===null)&&(ie=void 0),ie===B||ie===void 0))return M(le,ge,ye);for(ne=new(ie===void 0?B:ie)($(ye-ge,0)),de=0;ge<ye;ge++,de++)ge in le&&x(ne,de,le[ge]);return ne.length=de,ne}})},6910:function(y,v,i){var c=i(6518),f=i(9504),p=i(9306),m=i(8981),k=i(6198),C=i(4606),S=i(655),x=i(9039),D=i(4488),F=i(4598),M=i(3709),j=i(3763),U=i(9519),B=i(3607),$=[],q=f($.sort),Z=f($.push),ie=x(function(){$.sort(void 0)}),ne=x(function(){$.sort(null)}),de=F("sort"),le=!x(function(){if(U)return U<70;if(!(M&&M>3)){if(j)return!0;if(B)return B<603;var se,ge,ye,ue,Te="";for(se=65;se<76;se++){switch(ge=String.fromCharCode(se),se){case 66:case 69:case 70:case 72:ye=3;break;case 68:case 71:ye=4;break;default:ye=2}for(ue=0;ue<47;ue++)$.push({k:ge+ue,v:ye})}for($.sort(function(ve,ke){return ke.v-ve.v}),ue=0;ue<$.length;ue++)ge=$[ue].k.charAt(0),Te.charAt(Te.length-1)!==ge&&(Te+=ge);return Te!=="DGBEFHACIJK"}});c({target:"Array",proto:!0,forced:ie||!ne||!de||!le},{sort:function(se){se!==void 0&&p(se);var ge=m(this);if(le)return se===void 0?q(ge):q(ge,se);var ye,ue,Te=[],ve=k(ge);for(ue=0;ue<ve;ue++)ue in ge&&Z(Te,ge[ue]);for(D(Te,function(ke){return function(Fe,Ie){return Ie===void 0?-1:Fe===void 0?1:ke!==void 0?+ke(Fe,Ie)||0:S(Fe)>S(Ie)?1:-1}}(se)),ye=k(Te),ue=0;ue<ye;)ge[ue]=Te[ue++];for(;ue<ve;)C(ge,ue++);return ge}})},4554:function(y,v,i){var c=i(6518),f=i(8981),p=i(5610),m=i(1291),k=i(6198),C=i(4527),S=i(6837),x=i(1469),D=i(4659),F=i(4606),M=i(597)("splice"),j=Math.max,U=Math.min;c({target:"Array",proto:!0,forced:!M},{splice:function(B,$){var q,Z,ie,ne,de,le,se=f(this),ge=k(se),ye=p(B,ge),ue=arguments.length;for(ue===0?q=Z=0:ue===1?(q=0,Z=ge-ye):(q=ue-2,Z=U(j(m($),0),ge-ye)),S(ge+q-Z),ie=x(se,Z),ne=0;ne<Z;ne++)(de=ye+ne)in se&&D(ie,ne,se[de]);if(ie.length=Z,q<Z){for(ne=ye;ne<ge-Z;ne++)le=ne+q,(de=ne+Z)in se?se[le]=se[de]:F(se,le);for(ne=ge;ne>ge-Z+q;ne--)F(se,ne-1)}else if(q>Z)for(ne=ge-Z;ne>ye;ne--)le=ne+q-1,(de=ne+Z-1)in se?se[le]=se[de]:F(se,le);for(ne=0;ne<q;ne++)se[ne+ye]=arguments[ne+2];return C(se,ge-Z+q),ie}})},739:function(y,v,i){var c=i(6518),f=i(9039),p=i(8981),m=i(2777);c({target:"Date",proto:!0,arity:1,forced:f(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1})},{toJSON:function(k){var C=p(this),S=m(C,"number");return typeof S!="number"||isFinite(S)?C.toISOString():null}})},9572:function(y,v,i){var c=i(9297),f=i(6840),p=i(3640),m=i(8227)("toPrimitive"),k=Date.prototype;c(k,m)||f(k,m,p)},2010:function(y,v,i){var c=i(3724),f=i(350).EXISTS,p=i(9504),m=i(2106),k=Function.prototype,C=p(k.toString),S=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,x=p(S.exec);c&&!f&&m(k,"name",{configurable:!0,get:function(){try{return x(S,C(this))[1]}catch{return""}}})},3110:function(y,v,i){var c=i(6518),f=i(7751),p=i(8745),m=i(9565),k=i(9504),C=i(9039),S=i(4901),x=i(757),D=i(7680),F=i(6933),M=i(4495),j=String,U=f("JSON","stringify"),B=k(/./.exec),$=k("".charAt),q=k("".charCodeAt),Z=k("".replace),ie=k(1 .toString),ne=/[\uD800-\uDFFF]/g,de=/^[\uD800-\uDBFF]$/,le=/^[\uDC00-\uDFFF]$/,se=!M||C(function(){var Te=f("Symbol")("stringify detection");return U([Te])!=="[null]"||U({a:Te})!=="{}"||U(Object(Te))!=="{}"}),ge=C(function(){return U("\uDF06\uD834")!=='"\\udf06\\ud834"'||U("\uDEAD")!=='"\\udead"'}),ye=function(Te,ve){var ke=D(arguments),Fe=F(ve);if(S(Fe)||Te!==void 0&&!x(Te))return ke[1]=function(Ie,_e){if(S(Fe)&&(_e=m(Fe,this,j(Ie),_e)),!x(_e))return _e},p(U,null,ke)},ue=function(Te,ve,ke){var Fe=$(ke,ve-1),Ie=$(ke,ve+1);return B(de,Te)&&!B(le,Ie)||B(le,Te)&&!B(de,Fe)?"\\u"+ie(q(Te,0),16):Te};U&&c({target:"JSON",stat:!0,arity:3,forced:se||ge},{stringify:function(Te,ve,ke){var Fe=D(arguments),Ie=p(se?ye:U,null,Fe);return ge&&typeof Ie=="string"?Z(Ie,ne,ue):Ie}})},2892:function(y,v,i){var c=i(6518),f=i(6395),p=i(3724),m=i(4576),k=i(9167),C=i(9504),S=i(2796),x=i(9297),D=i(3167),F=i(1625),M=i(757),j=i(2777),U=i(9039),B=i(8480).f,$=i(7347).f,q=i(4913).f,Z=i(1240),ie=i(3802).trim,ne="Number",de=m[ne],le=k[ne],se=de.prototype,ge=m.TypeError,ye=C("".slice),ue=C("".charCodeAt),Te=function(Ie){var _e,Re,Ne,Le,Ae,Me,Ee,xe,be=j(Ie,"number");if(M(be))throw new ge("Cannot convert a Symbol value to a number");if(typeof be=="string"&&be.length>2){if(be=ie(be),(_e=ue(be,0))===43||_e===45){if((Re=ue(be,2))===88||Re===120)return NaN}else if(_e===48){switch(ue(be,1)){case 66:case 98:Ne=2,Le=49;break;case 79:case 111:Ne=8,Le=55;break;default:return+be}for(Me=(Ae=ye(be,2)).length,Ee=0;Ee<Me;Ee++)if((xe=ue(Ae,Ee))<48||xe>Le)return NaN;return parseInt(Ae,Ne)}}return+be},ve=S(ne,!de(" 0o1")||!de("0b1")||de("+0x1")),ke=function(Ie){var _e,Re=arguments.length<1?0:de(function(Ne){var Le=j(Ne,"number");return typeof Le=="bigint"?Le:Te(Le)}(Ie));return F(se,_e=this)&&U(function(){Z(_e)})?D(Object(Re),this,ke):Re};ke.prototype=se,ve&&!f&&(se.constructor=ke),c({global:!0,constructor:!0,wrap:!0,forced:ve},{Number:ke});var Fe=function(Ie,_e){for(var Re,Ne=p?B(_e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Le=0;Ne.length>Le;Le++)x(_e,Re=Ne[Le])&&!x(Ie,Re)&&q(Ie,Re,$(_e,Re))};f&&le&&Fe(k[ne],le),(ve||f)&&Fe(k[ne],de)},2637:function(y,v,i){i(6518)({target:"Number",stat:!0},{isInteger:i(2087)})},9085:function(y,v,i){var c=i(6518),f=i(4213);c({target:"Object",stat:!0,arity:2,forced:Object.assign!==f},{assign:f})},7427:function(y,v,i){var c=i(6518),f=i(3724),p=i(2551),m=i(9306),k=i(8981),C=i(4913);f&&c({target:"Object",proto:!0,forced:p},{__defineGetter__:function(S,x){C.f(k(this),S,{get:m(x),enumerable:!0,configurable:!0})}})},3851:function(y,v,i){var c=i(6518),f=i(9039),p=i(5397),m=i(7347).f,k=i(3724);c({target:"Object",stat:!0,forced:!k||f(function(){m(1)}),sham:!k},{getOwnPropertyDescriptor:function(C,S){return m(p(C),S)}})},1278:function(y,v,i){var c=i(6518),f=i(3724),p=i(5031),m=i(5397),k=i(7347),C=i(4659);c({target:"Object",stat:!0,sham:!f},{getOwnPropertyDescriptors:function(S){for(var x,D,F=m(S),M=k.f,j=p(F),U={},B=0;j.length>B;)(D=M(F,x=j[B++]))!==void 0&&C(U,x,D);return U}})},1480:function(y,v,i){var c=i(6518),f=i(9039),p=i(298).f;c({target:"Object",stat:!0,forced:f(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:p})},9773:function(y,v,i){var c=i(6518),f=i(4495),p=i(9039),m=i(3717),k=i(8981);c({target:"Object",stat:!0,forced:!f||p(function(){m.f(1)})},{getOwnPropertySymbols:function(C){var S=m.f;return S?S(k(C)):[]}})},9432:function(y,v,i){var c=i(6518),f=i(8981),p=i(1072);c({target:"Object",stat:!0,forced:i(9039)(function(){p(1)})},{keys:function(m){return p(f(m))}})},6099:function(y,v,i){var c=i(2140),f=i(6840),p=i(3179);c||f(Object.prototype,"toString",p,{unsafe:!0})},4864:function(y,v,i){var c=i(3724),f=i(4576),p=i(9504),m=i(2796),k=i(3167),C=i(6699),S=i(2360),x=i(8480).f,D=i(1625),F=i(788),M=i(655),j=i(1034),U=i(8429),B=i(1056),$=i(6840),q=i(9039),Z=i(9297),ie=i(1181).enforce,ne=i(7633),de=i(8227),le=i(3635),se=i(8814),ge=de("match"),ye=f.RegExp,ue=ye.prototype,Te=f.SyntaxError,ve=p(ue.exec),ke=p("".charAt),Fe=p("".replace),Ie=p("".indexOf),_e=p("".slice),Re=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Ne=/a/g,Le=/a/g,Ae=new ye(Ne)!==Ne,Me=U.MISSED_STICKY,Ee=U.UNSUPPORTED_Y;if(m("RegExp",c&&(!Ae||Me||le||se||q(function(){return Le[ge]=!1,ye(Ne)!==Ne||ye(Le)===Le||String(ye(Ne,"i"))!=="/a/i"})))){for(var xe=function(He,Ze){var Ct,qt,kn,Mn,Qn,hn,ir=D(ue,this),dn=F(He),Ls=Ze===void 0,Do=[],Er=He;if(!ir&&dn&&Ls&&He.constructor===xe)return He;if((dn||D(ue,He))&&(He=He.source,Ls&&(Ze=j(Er))),He=He===void 0?"":M(He),Ze=Ze===void 0?"":M(Ze),Er=He,le&&"dotAll"in Ne&&(qt=!!Ze&&Ie(Ze,"s")>-1)&&(Ze=Fe(Ze,/s/g,"")),Ct=Ze,Me&&"sticky"in Ne&&(kn=!!Ze&&Ie(Ze,"y")>-1)&&Ee&&(Ze=Fe(Ze,/y/g,"")),se&&(Mn=function(_t){for(var ht,Fs=_t.length,Mt=0,Dn="",Rn=[],Ro=S(null),br=!1,Nr=!1,jo=0,ar="";Mt<=Fs;Mt++){if((ht=ke(_t,Mt))==="\\")ht+=ke(_t,++Mt);else if(ht==="]")br=!1;else if(!br)switch(!0){case ht==="[":br=!0;break;case ht==="(":if(Dn+=ht,_e(_t,Mt+1,Mt+3)==="?:")continue;ve(Re,_e(_t,Mt+1))&&(Mt+=2,Nr=!0),jo++;continue;case(ht===">"&&Nr):if(ar===""||Z(Ro,ar))throw new Te("Invalid capture group name");Ro[ar]=!0,Rn[Rn.length]=[ar,jo],Nr=!1,ar="";continue}Nr?ar+=ht:Dn+=ht}return[Dn,Rn]}(He),He=Mn[0],Do=Mn[1]),Qn=k(ye(He,Ze),ir?this:ue,xe),(qt||kn||Do.length)&&(hn=ie(Qn),qt&&(hn.dotAll=!0,hn.raw=xe(function(_t){for(var ht,Fs=_t.length,Mt=0,Dn="",Rn=!1;Mt<=Fs;Mt++)(ht=ke(_t,Mt))!=="\\"?Rn||ht!=="."?(ht==="["?Rn=!0:ht==="]"&&(Rn=!1),Dn+=ht):Dn+="[\\s\\S]":Dn+=ht+ke(_t,++Mt);return Dn}(He),Ct)),kn&&(hn.sticky=!0),Do.length&&(hn.groups=Do)),He!==Er)try{C(Qn,"source",Er===""?"(?:)":Er)}catch{}return Qn},be=x(ye),qe=0;be.length>qe;)B(xe,ye,be[qe++]);ue.constructor=xe,xe.prototype=ue,$(f,"RegExp",xe,{constructor:!0})}ne("RegExp")},7495:function(y,v,i){var c=i(6518),f=i(7323);c({target:"RegExp",proto:!0,forced:/./.exec!==f},{exec:f})},8781:function(y,v,i){var c=i(350).PROPER,f=i(6840),p=i(8551),m=i(655),k=i(9039),C=i(1034),S="toString",x=RegExp.prototype,D=x[S],F=k(function(){return D.call({source:"a",flags:"b"})!=="/a/b"}),M=c&&D.name!==S;(F||M)&&f(x,S,function(){var j=p(this);return"/"+m(j.source)+"/"+m(C(j))},{unsafe:!0})},1699:function(y,v,i){var c=i(6518),f=i(9504),p=i(5749),m=i(7750),k=i(655),C=i(1436),S=f("".indexOf);c({target:"String",proto:!0,forced:!C("includes")},{includes:function(x){return!!~S(k(m(this)),k(p(x)),arguments.length>1?arguments[1]:void 0)}})},7764:function(y,v,i){var c=i(8183).charAt,f=i(655),p=i(1181),m=i(1088),k=i(2529),C="String Iterator",S=p.set,x=p.getterFor(C);m(String,"String",function(D){S(this,{type:C,string:f(D),index:0})},function(){var D,F=x(this),M=F.string,j=F.index;return j>=M.length?k(void 0,!0):(D=c(M,j),F.index+=D.length,k(D,!1))})},8543:function(y,v,i){var c=i(6518),f=i(9565),p=i(7476),m=i(3994),k=i(2529),C=i(7750),S=i(8014),x=i(655),D=i(8551),F=i(4117),M=i(2195),j=i(788),U=i(1034),B=i(5966),$=i(6840),q=i(9039),Z=i(8227),ie=i(2293),ne=i(7829),de=i(6682),le=i(1181),se=i(6395),ge=Z("matchAll"),ye="RegExp String",ue=ye+" Iterator",Te=le.set,ve=le.getterFor(ue),ke=RegExp.prototype,Fe=TypeError,Ie=p("".indexOf),_e=p("".matchAll),Re=!!_e&&!q(function(){_e("a",/./)}),Ne=m(function(Ae,Me,Ee,xe){Te(this,{type:ue,regexp:Ae,string:Me,global:Ee,unicode:xe,done:!1})},ye,function(){var Ae=ve(this);if(Ae.done)return k(void 0,!0);var Me=Ae.regexp,Ee=Ae.string,xe=de(Me,Ee);return xe===null?(Ae.done=!0,k(void 0,!0)):Ae.global?(x(xe[0])===""&&(Me.lastIndex=ne(Ee,S(Me.lastIndex),Ae.unicode)),k(xe,!1)):(Ae.done=!0,k(xe,!1))}),Le=function(Ae){var Me,Ee,xe,be=D(this),qe=x(Ae),He=ie(be,RegExp),Ze=x(U(be));return Me=new He(He===RegExp?be.source:be,Ze),Ee=!!~Ie(Ze,"g"),xe=!!~Ie(Ze,"u"),Me.lastIndex=S(be.lastIndex),new Ne(Me,qe,Ee,xe)};c({target:"String",proto:!0,forced:Re},{matchAll:function(Ae){var Me,Ee,xe,be,qe=C(this);if(F(Ae)){if(Re)return _e(qe,Ae)}else{if(j(Ae)&&(Me=x(C(U(Ae))),!~Ie(Me,"g")))throw new Fe("`.matchAll` does not allow non-global regexes");if(Re)return _e(qe,Ae);if((xe=B(Ae,ge))===void 0&&se&&M(Ae)==="RegExp"&&(xe=Le),xe)return f(xe,Ae,qe)}return Ee=x(qe),be=new RegExp(Ae,"g"),se?f(Le,be,Ee):be[ge](Ee)}}),se||ge in ke||$(ke,ge,Le)},1761:function(y,v,i){var c=i(9565),f=i(9228),p=i(8551),m=i(4117),k=i(8014),C=i(655),S=i(7750),x=i(5966),D=i(7829),F=i(6682);f("match",function(M,j,U){return[function(B){var $=S(this),q=m(B)?void 0:x(B,M);return q?c(q,B,$):new RegExp(B)[M](C($))},function(B){var $=p(this),q=C(B),Z=U(j,$,q);if(Z.done)return Z.value;if(!$.global)return F($,q);var ie=$.unicode;$.lastIndex=0;for(var ne,de=[],le=0;(ne=F($,q))!==null;){var se=C(ne[0]);de[le]=se,se===""&&($.lastIndex=D(q,k($.lastIndex),ie)),le++}return le===0?null:de}]})},5440:function(y,v,i){var c=i(8745),f=i(9565),p=i(9504),m=i(9228),k=i(9039),C=i(8551),S=i(4901),x=i(4117),D=i(1291),F=i(8014),M=i(655),j=i(7750),U=i(7829),B=i(5966),$=i(2478),q=i(6682),Z=i(8227)("replace"),ie=Math.max,ne=Math.min,de=p([].concat),le=p([].push),se=p("".indexOf),ge=p("".slice),ye="a".replace(/./,"$0")==="$0",ue=!!/./[Z]&&/./[Z]("a","$0")==="";m("replace",function(Te,ve,ke){var Fe=ue?"$":"$0";return[function(Ie,_e){var Re=j(this),Ne=x(Ie)?void 0:B(Ie,Z);return Ne?f(Ne,Ie,Re,_e):f(ve,M(Re),Ie,_e)},function(Ie,_e){var Re=C(this),Ne=M(Ie);if(typeof _e=="string"&&se(_e,Fe)===-1&&se(_e,"$<")===-1){var Le=ke(ve,Re,Ne,_e);if(Le.done)return Le.value}var Ae=S(_e);Ae||(_e=M(_e));var Me,Ee=Re.global;Ee&&(Me=Re.unicode,Re.lastIndex=0);for(var xe,be=[];(xe=q(Re,Ne))!==null&&(le(be,xe),Ee);)M(xe[0])===""&&(Re.lastIndex=U(Ne,F(Re.lastIndex),Me));for(var qe,He="",Ze=0,Ct=0;Ct<be.length;Ct++){for(var qt,kn=M((xe=be[Ct])[0]),Mn=ie(ne(D(xe.index),Ne.length),0),Qn=[],hn=1;hn<xe.length;hn++)le(Qn,(qe=xe[hn])===void 0?qe:String(qe));var ir=xe.groups;if(Ae){var dn=de([kn],Qn,Mn,Ne);ir!==void 0&&le(dn,ir),qt=M(c(_e,void 0,dn))}else qt=$(kn,Ne,Mn,Qn,ir,_e);Mn>=Ze&&(He+=ge(Ne,Ze,Mn)+qt,Ze=Mn+kn.length)}return He+ge(Ne,Ze)}]},!!k(function(){var Te=/./;return Te.exec=function(){var ve=[];return ve.groups={a:"7"},ve},"".replace(Te,"$<a>")!=="7"})||!ye||ue)},744:function(y,v,i){var c=i(9565),f=i(9504),p=i(9228),m=i(8551),k=i(4117),C=i(7750),S=i(2293),x=i(7829),D=i(8014),F=i(655),M=i(5966),j=i(6682),U=i(8429),B=i(9039),$=U.UNSUPPORTED_Y,q=Math.min,Z=f([].push),ie=f("".slice),ne=!B(function(){var le=/(?:)/,se=le.exec;le.exec=function(){return se.apply(this,arguments)};var ge="ab".split(le);return ge.length!==2||ge[0]!=="a"||ge[1]!=="b"}),de="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;p("split",function(le,se,ge){var ye="0".split(void 0,0).length?function(ue,Te){return ue===void 0&&Te===0?[]:c(se,this,ue,Te)}:se;return[function(ue,Te){var ve=C(this),ke=k(ue)?void 0:M(ue,le);return ke?c(ke,ue,ve,Te):c(ye,F(ve),ue,Te)},function(ue,Te){var ve=m(this),ke=F(ue);if(!de){var Fe=ge(ye,ve,ke,Te,ye!==se);if(Fe.done)return Fe.value}var Ie=S(ve,RegExp),_e=ve.unicode,Re=(ve.ignoreCase?"i":"")+(ve.multiline?"m":"")+(ve.unicode?"u":"")+($?"g":"y"),Ne=new Ie($?"^(?:"+ve.source+")":ve,Re),Le=Te===void 0?4294967295:Te>>>0;if(Le===0)return[];if(ke.length===0)return j(Ne,ke)===null?[ke]:[];for(var Ae=0,Me=0,Ee=[];Me<ke.length;){Ne.lastIndex=$?0:Me;var xe,be=j(Ne,$?ie(ke,Me):ke);if(be===null||(xe=q(D(Ne.lastIndex+($?Me:0)),ke.length))===Ae)Me=x(ke,Me,_e);else{if(Z(Ee,ie(ke,Ae,Me)),Ee.length===Le)return Ee;for(var qe=1;qe<=be.length-1;qe++)if(Z(Ee,be[qe]),Ee.length===Le)return Ee;Me=Ae=xe}}return Z(Ee,ie(ke,Ae)),Ee}]},de||!ne,$)},2762:function(y,v,i){var c=i(6518),f=i(3802).trim;c({target:"String",proto:!0,forced:i(706)("trim")},{trim:function(){return f(this)}})},6761:function(y,v,i){var c=i(6518),f=i(4576),p=i(9565),m=i(9504),k=i(6395),C=i(3724),S=i(4495),x=i(9039),D=i(9297),F=i(1625),M=i(8551),j=i(5397),U=i(6969),B=i(655),$=i(6980),q=i(2360),Z=i(1072),ie=i(8480),ne=i(298),de=i(3717),le=i(7347),se=i(4913),ge=i(6801),ye=i(8773),ue=i(6840),Te=i(2106),ve=i(5745),ke=i(6119),Fe=i(421),Ie=i(3392),_e=i(8227),Re=i(1951),Ne=i(511),Le=i(8242),Ae=i(687),Me=i(1181),Ee=i(9213).forEach,xe=ke("hidden"),be="Symbol",qe="prototype",He=Me.set,Ze=Me.getterFor(be),Ct=Object[qe],qt=f.Symbol,kn=qt&&qt[qe],Mn=f.RangeError,Qn=f.TypeError,hn=f.QObject,ir=le.f,dn=se.f,Ls=ne.f,Do=ye.f,Er=m([].push),_t=ve("symbols"),ht=ve("op-symbols"),Fs=ve("wks"),Mt=!hn||!hn[qe]||!hn[qe].findChild,Dn=function(Pe,Be,Ue){var Ye=ir(Ct,Be);Ye&&delete Ct[Be],dn(Pe,Be,Ue),Ye&&Pe!==Ct&&dn(Ct,Be,Ye)},Rn=C&&x(function(){return q(dn({},"a",{get:function(){return dn(this,"a",{value:7}).a}})).a!==7})?Dn:dn,Ro=function(Pe,Be){var Ue=_t[Pe]=q(kn);return He(Ue,{type:be,tag:Pe,description:Be}),C||(Ue.description=Be),Ue},br=function(Pe,Be,Ue){Pe===Ct&&br(ht,Be,Ue),M(Pe);var Ye=U(Be);return M(Ue),D(_t,Ye)?(Ue.enumerable?(D(Pe,xe)&&Pe[xe][Ye]&&(Pe[xe][Ye]=!1),Ue=q(Ue,{enumerable:$(0,!1)})):(D(Pe,xe)||dn(Pe,xe,$(1,q(null))),Pe[xe][Ye]=!0),Rn(Pe,Ye,Ue)):dn(Pe,Ye,Ue)},Nr=function(Pe,Be){M(Pe);var Ue=j(Be),Ye=Z(Ue).concat(Ad(Ue));return Ee(Ye,function(Nt){C&&!p(jo,Ue,Nt)||br(Pe,Nt,Ue[Nt])}),Pe},jo=function(Pe){var Be=U(Pe),Ue=p(Do,this,Be);return!(this===Ct&&D(_t,Be)&&!D(ht,Be))&&(!(Ue||!D(this,Be)||!D(_t,Be)||D(this,xe)&&this[xe][Be])||Ue)},ar=function(Pe,Be){var Ue=j(Pe),Ye=U(Be);if(Ue!==Ct||!D(_t,Ye)||D(ht,Ye)){var Nt=ir(Ue,Ye);return!Nt||!D(_t,Ye)||D(Ue,xe)&&Ue[xe][Ye]||(Nt.enumerable=!0),Nt}},Od=function(Pe){var Be=Ls(j(Pe)),Ue=[];return Ee(Be,function(Ye){D(_t,Ye)||D(Fe,Ye)||Er(Ue,Ye)}),Ue},Ad=function(Pe){var Be=Pe===Ct,Ue=Ls(Be?ht:j(Pe)),Ye=[];return Ee(Ue,function(Nt){!D(_t,Nt)||Be&&!D(Ct,Nt)||Er(Ye,_t[Nt])}),Ye};S||(qt=function(){if(F(kn,this))throw new Qn("Symbol is not a constructor");var Pe=arguments.length&&arguments[0]!==void 0?B(arguments[0]):void 0,Be=Ie(Pe),Ue=function(Ye){var Nt=this===void 0?f:this;Nt===Ct&&p(Ue,ht,Ye),D(Nt,xe)&&D(Nt[xe],Be)&&(Nt[xe][Be]=!1);var Id=$(1,Ye);try{Rn(Nt,Be,Id)}catch(Pd){if(!(Pd instanceof Mn))throw Pd;Dn(Nt,Be,Id)}};return C&&Mt&&Rn(Ct,Be,{configurable:!0,set:Ue}),Ro(Be,Pe)},ue(kn=qt[qe],"toString",function(){return Ze(this).tag}),ue(qt,"withoutSetter",function(Pe){return Ro(Ie(Pe),Pe)}),ye.f=jo,se.f=br,ge.f=Nr,le.f=ar,ie.f=ne.f=Od,de.f=Ad,Re.f=function(Pe){return Ro(_e(Pe),Pe)},C&&(Te(kn,"description",{configurable:!0,get:function(){return Ze(this).description}}),k||ue(Ct,"propertyIsEnumerable",jo,{unsafe:!0}))),c({global:!0,constructor:!0,wrap:!0,forced:!S,sham:!S},{Symbol:qt}),Ee(Z(Fs),function(Pe){Ne(Pe)}),c({target:be,stat:!0,forced:!S},{useSetter:function(){Mt=!0},useSimple:function(){Mt=!1}}),c({target:"Object",stat:!0,forced:!S,sham:!C},{create:function(Pe,Be){return Be===void 0?q(Pe):Nr(q(Pe),Be)},defineProperty:br,defineProperties:Nr,getOwnPropertyDescriptor:ar}),c({target:"Object",stat:!0,forced:!S},{getOwnPropertyNames:Od}),Le(),Ae(qt,be),Fe[xe]=!0},9463:function(y,v,i){var c=i(6518),f=i(3724),p=i(4576),m=i(9504),k=i(9297),C=i(4901),S=i(1625),x=i(655),D=i(2106),F=i(7740),M=p.Symbol,j=M&&M.prototype;if(f&&C(M)&&(!("description"in j)||M().description!==void 0)){var U={},B=function(){var le=arguments.length<1||arguments[0]===void 0?void 0:x(arguments[0]),se=S(j,this)?new M(le):le===void 0?M():M(le);return le===""&&(U[se]=!0),se};F(B,M),B.prototype=j,j.constructor=B;var $=String(M("description detection"))==="Symbol(description detection)",q=m(j.valueOf),Z=m(j.toString),ie=/^Symbol\((.*)\)[^)]+$/,ne=m("".replace),de=m("".slice);D(j,"description",{configurable:!0,get:function(){var le=q(this);if(k(U,le))return"";var se=Z(le),ge=$?de(se,7,-1):ne(se,ie,"$1");return ge===""?void 0:ge}}),c({global:!0,constructor:!0,forced:!0},{Symbol:B})}},1510:function(y,v,i){var c=i(6518),f=i(7751),p=i(9297),m=i(655),k=i(5745),C=i(1296),S=k("string-to-symbol-registry"),x=k("symbol-to-string-registry");c({target:"Symbol",stat:!0,forced:!C},{for:function(D){var F=m(D);if(p(S,F))return S[F];var M=f("Symbol")(F);return S[F]=M,x[M]=F,M}})},2259:function(y,v,i){i(511)("iterator")},2675:function(y,v,i){i(6761),i(1510),i(7812),i(3110),i(9773)},7812:function(y,v,i){var c=i(6518),f=i(9297),p=i(757),m=i(6823),k=i(5745),C=i(1296),S=k("symbol-to-string-registry");c({target:"Symbol",stat:!0,forced:!C},{keyFor:function(x){if(!p(x))throw new TypeError(m(x)+" is not a symbol");if(f(S,x))return S[x]}})},5700:function(y,v,i){var c=i(511),f=i(8242);c("toPrimitive"),f()},8344:function(y,v,i){i(8543)},3500:function(y,v,i){var c=i(4576),f=i(7400),p=i(9296),m=i(235),k=i(6699),C=function(x){if(x&&x.forEach!==m)try{k(x,"forEach",m)}catch{x.forEach=m}};for(var S in f)f[S]&&C(c[S]&&c[S].prototype);C(p)},2953:function(y,v,i){var c=i(4576),f=i(7400),p=i(9296),m=i(3792),k=i(6699),C=i(687),S=i(8227)("iterator"),x=m.values,D=function(M,j){if(M){if(M[S]!==x)try{k(M,S,x)}catch{M[S]=x}if(C(M,j,!0),f[j]){for(var U in m)if(M[U]!==m[U])try{k(M,U,m[U])}catch{M[U]=m[U]}}}};for(var F in f)D(c[F]&&c[F].prototype,F);D(p,"DOMTokenList")}},h={};function d(y){var v=h[y];if(v!==void 0)return v.exports;var i=h[y]={exports:{}};return u[y].call(i.exports,i,i.exports,d),i.exports}d.d=function(y,v){for(var i in v)d.o(v,i)&&!d.o(y,i)&&Object.defineProperty(y,i,{enumerable:!0,get:v[i]})},d.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),d.o=function(y,v){return Object.prototype.hasOwnProperty.call(y,v)},d.r=function(y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})};var g={};function _(y){return function(v){if(Array.isArray(v))return b(v)}(y)||function(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}(y)||E(y)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function E(y,v){if(y){if(typeof y=="string")return b(y,v);var i={}.toString.call(y).slice(8,-1);return i==="Object"&&y.constructor&&(i=y.constructor.name),i==="Map"||i==="Set"?Array.from(y):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?b(y,v):void 0}}function b(y,v){(v==null||v>y.length)&&(v=y.length);for(var i=0,c=Array(v);i<v;i++)c[i]=y[i];return c}function N(y){return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},N(y)}function O(y,v){for(var i=0;i<v.length;i++){var c=v[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(y,T(c.key),c)}}function w(y,v,i){return(v=T(v))in y?Object.defineProperty(y,v,{value:i,enumerable:!0,configurable:!0,writable:!0}):y[v]=i,y}function T(y){var v=function(i,c){if(N(i)!="object"||!i)return i;var f=i[Symbol.toPrimitive];if(f!==void 0){var p=f.call(i,c||"default");if(N(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(i)}(y,"string");return N(v)=="symbol"?v:v+""}d.r(g),d.d(g,{SimpleKeyboard:function(){return ae},default:function(){return oe}}),d(5276),d(8598),d(4782),d(4554),d(2010),d(7427),d(6099),d(7495),d(8781),d(5440),d(744),d(2762),typeof Element>"u"||"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),typeof self<"u"&&"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(y){if("Element"in y){var v="classList",i="prototype",c=y.Element[i],f=Object,p=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},m=Array[i].indexOf||function(M){for(var j=0,U=this.length;j<U;j++)if(j in this&&this[j]===M)return j;return-1},k=function(M,j){this.name=M,this.code=DOMException[M],this.message=j},C=function(M,j){if(j==="")throw new k("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(j))throw new k("INVALID_CHARACTER_ERR","The token must not contain space characters.");return m.call(M,j)},S=function(M){for(var j=p.call(M.getAttribute("class")||""),U=j?j.split(/\s+/):[],B=0,$=U.length;B<$;B++)this.push(U[B]);this._updateClassName=function(){M.setAttribute("class",this.toString())}},x=S[i]=[],D=function(){return new S(this)};if(k[i]=Error[i],x.item=function(M){return this[M]||null},x.contains=function(M){return~C(this,M+"")},x.add=function(){var M,j=arguments,U=0,B=j.length,$=!1;do~C(this,M=j[U]+"")||(this.push(M),$=!0);while(++U<B);$&&this._updateClassName()},x.remove=function(){var M,j,U=arguments,B=0,$=U.length,q=!1;do for(j=C(this,M=U[B]+"");~j;)this.splice(j,1),q=!0,j=C(this,M);while(++B<$);q&&this._updateClassName()},x.toggle=function(M,j){var U=this.contains(M),B=U?j!==!0&&"remove":j!==!1&&"add";return B&&this[B](M),j===!0||j===!1?j:!U},x.replace=function(M,j){var U=C(M+"");~U&&(this.splice(U,1,j),this._updateClassName())},x.toString=function(){return this.join(" ")},f.defineProperty){var F={get:D,enumerable:!0,configurable:!0};try{f.defineProperty(c,v,F)}catch(M){M.number!==void 0&&M.number!==-2146823252||(F.enumerable=!1,f.defineProperty(c,v,F))}}else f[i].__defineGetter__&&c.__defineGetter__(v,D)}}(self),function(){var y=document.createElement("_");if(y.classList.add("c1","c2"),!y.classList.contains("c2")){var v=function(c){var f=DOMTokenList.prototype[c];DOMTokenList.prototype[c]=function(p){var m,k=arguments.length;for(m=0;m<k;m++)p=arguments[m],f.call(this,p)}};v("add"),v("remove")}if(y.classList.toggle("c3",!1),y.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,f){return 1 in arguments&&!this.contains(c)==!f?f:i.call(this,c)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(c,f){var p=this.toString().split(" "),m=p.indexOf(c+"");~m&&(p=p.slice(m),this.remove.apply(this,p),this.add(f),this.add.apply(this,p.slice(1)))}),y=null}()),d(2675),d(9463),d(2259),d(5700),d(8706),d(2008),d(3418),d(4423),d(3792),d(2062),d(6910),d(739),d(9572),d(2892),d(9085),d(3851),d(1278),d(9432),d(4864),d(1699),d(7764),d(8344),d(3500),d(2953),d(2712),d(2637),d(1480),d(1761);var A=function(){return y=function c(f){var p=f.getOptions,m=f.getCaretPosition,k=f.getCaretPositionEnd,C=f.dispatch;(function(S,x){if(!(S instanceof x))throw new TypeError("Cannot call a class as a function")})(this,c),w(this,"getOptions",void 0),w(this,"getCaretPosition",void 0),w(this,"getCaretPositionEnd",void 0),w(this,"dispatch",void 0),w(this,"maxLengthReached",void 0),w(this,"isStandardButton",function(S){return S&&!(S[0]==="{"&&S[S.length-1]==="}")}),this.getOptions=p,this.getCaretPosition=m,this.getCaretPositionEnd=k,this.dispatch=C,c.bindMethods(c,this)},v=[{key:"getButtonType",value:function(c){return c.includes("{")&&c.includes("}")&&c!=="{//}"?"functionBtn":"standardBtn"}},{key:"getButtonClass",value:function(c){var f=this.getButtonType(c),p=c.replace("{","").replace("}",""),m="";return f!=="standardBtn"&&(m=" hg-button-".concat(p)),"hg-".concat(f).concat(m)}},{key:"getDefaultDiplay",value:function(){return{"{bksp}":"backspace","{backspace}":"backspace","{enter}":"< enter","{shift}":"shift","{shiftleft}":"shift","{shiftright}":"shift","{alt}":"alt","{s}":"shift","{tab}":"tab","{lock}":"caps","{capslock}":"caps","{accept}":"Submit","{space}":" ","{//}":" ","{esc}":"esc","{escape}":"esc","{f1}":"f1","{f2}":"f2","{f3}":"f3","{f4}":"f4","{f5}":"f5","{f6}":"f6","{f7}":"f7","{f8}":"f8","{f9}":"f9","{f10}":"f10","{f11}":"f11","{f12}":"f12","{numpaddivide}":"/","{numlock}":"lock","{arrowup}":"↑","{arrowleft}":"←","{arrowdown}":"↓","{arrowright}":"→","{prtscr}":"print","{scrolllock}":"scroll","{pause}":"pause","{insert}":"ins","{home}":"home","{pageup}":"up","{delete}":"del","{forwarddelete}":"del","{end}":"end","{pagedown}":"down","{numpadmultiply}":"*","{numpadsubtract}":"-","{numpadadd}":"+","{numpadenter}":"enter","{period}":".","{numpaddecimal}":".","{numpad0}":"0","{numpad1}":"1","{numpad2}":"2","{numpad3}":"3","{numpad4}":"4","{numpad5}":"5","{numpad6}":"6","{numpad7}":"7","{numpad8}":"8","{numpad9}":"9"}}},{key:"getButtonDisplayName",value:function(c,f){return(f=arguments.length>2&&arguments[2]!==void 0&&arguments[2]?Object.assign({},this.getDefaultDiplay(),f):f||this.getDefaultDiplay())[c]||c}},{key:"getUpdatedInput",value:function(c,f,p){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:p,k=arguments.length>4&&arguments[4]!==void 0&&arguments[4],C=this.getOptions(),S=[p,m,k],x=f;return(c==="{bksp}"||c==="{backspace}")&&x.length>0?x=this.removeAt.apply(this,[x].concat(S)):(c==="{delete}"||c==="{forwarddelete}")&&x.length>0?x=this.removeForwardsAt.apply(this,[x].concat(S)):c==="{space}"?x=this.addStringAt.apply(this,[x," "].concat(S)):c!=="{tab}"||typeof C.tabCharOnTab=="boolean"&&C.tabCharOnTab===!1?c!=="{enter}"&&c!=="{numpadenter}"||!C.newLineOnEnter?c.includes("numpad")&&Number.isInteger(Number(c[c.length-2]))?x=this.addStringAt.apply(this,[x,c[c.length-2]].concat(S)):c==="{numpaddivide}"?x=this.addStringAt.apply(this,[x,"/"].concat(S)):c==="{numpadmultiply}"?x=this.addStringAt.apply(this,[x,"*"].concat(S)):c==="{numpadsubtract}"?x=this.addStringAt.apply(this,[x,"-"].concat(S)):c==="{numpadadd}"?x=this.addStringAt.apply(this,[x,"+"].concat(S)):c==="{numpaddecimal}"?x=this.addStringAt.apply(this,[x,"."].concat(S)):c==="{"||c==="}"?x=this.addStringAt.apply(this,[x,c].concat(S)):c.includes("{")||c.includes("}")||(x=this.addStringAt.apply(this,[x,c].concat(S))):x=this.addStringAt.apply(this,[x,`
`].concat(S)):x=this.addStringAt.apply(this,[x,"	"].concat(S)),C.debug&&console.log("Input will be: "+x),x}},{key:"updateCaretPos",value:function(c){var f=arguments.length>1&&arguments[1]!==void 0&&arguments[1],p=this.updateCaretPosAction(c,f);this.dispatch(function(m){m.setCaretPosition(p)})}},{key:"updateCaretPosAction",value:function(c){var f=arguments.length>1&&arguments[1]!==void 0&&arguments[1],p=this.getOptions(),m=this.getCaretPosition();return m!=null&&(f?m>0&&(m-=c):m+=c),p.debug&&console.log("Caret at:",m),m}},{key:"addStringAt",value:function(c,f){var p,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c.length,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:c.length,C=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return m||m===0?(p=[c.slice(0,m),f,c.slice(k)].join(""),this.isMaxLengthReached()||C&&this.updateCaretPos(f.length)):p=c+f,p}},{key:"removeAt",value:function(c){var f,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c.length,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c.length,k=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(p===0&&m===0)return c;if(p===m){var C=/([\uD800-\uDBFF][\uDC00-\uDFFF])/g;p&&p>=0?c.substring(p-2,p).match(C)?(f=c.substr(0,p-2)+c.substr(p),k&&this.updateCaretPos(2,!0)):(f=c.substr(0,p-1)+c.substr(p),k&&this.updateCaretPos(1,!0)):c.slice(-2).match(C)?(f=c.slice(0,-2),k&&this.updateCaretPos(2,!0)):(f=c.slice(0,-1),k&&this.updateCaretPos(1,!0))}else f=c.slice(0,p)+c.slice(m),k&&this.dispatch(function(S){S.setCaretPosition(p)});return f}},{key:"removeForwardsAt",value:function(c){var f,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c.length,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c.length,k=arguments.length>3&&arguments[3]!==void 0&&arguments[3];return c!=null&&c.length&&p!==null?(p===m?f=c.substring(p,p+2).match(/([\uD800-\uDBFF][\uDC00-\uDFFF])/g)?c.substr(0,p)+c.substr(p+2):c.substr(0,p)+c.substr(p+1):(f=c.slice(0,p)+c.slice(m),k&&this.dispatch(function(C){C.setCaretPosition(p)})),f):c}},{key:"handleMaxLength",value:function(c,f){var p=this.getOptions(),m=p.maxLength,k=c[p.inputName||"default"],C=f.length-1>=m;if(f.length<=k.length)return!1;if(Number.isInteger(m))return p.debug&&console.log("maxLength (num) reached:",C),C?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1);if(N(m)==="object"){var S=f.length-1>=m[p.inputName||"default"];return p.debug&&console.log("maxLength (obj) reached:",S),S?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1)}}},{key:"isMaxLengthReached",value:function(){return!!this.maxLengthReached}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints}},{key:"pointerEventsSupported",value:function(){return!!window.PointerEvent}},{key:"camelCase",value:function(c){return c?c.toLowerCase().trim().split(/[.\-_\s]/g).reduce(function(f,p){return p.length?f+p[0].toUpperCase()+p.slice(1):f}):""}},{key:"chunkArray",value:function(c,f){return _(Array(Math.ceil(c.length/f))).map(function(p,m){return c.slice(f*m,f+f*m)})}},{key:"escapeRegex",value:function(c){return c.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}},{key:"getRtlOffset",value:function(c,f){var p=c,m=f.indexOf("‫");return m<c&&m!=-1&&p--,f.indexOf("‬")<c&&m!=-1&&p--,p<0?0:p}}],i=[{key:"bindMethods",value:function(c,f){var p,m=function(C,S){var x=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!x){if(Array.isArray(C)||(x=E(C))||S){x&&(C=x);var D=0,F=function(){};return{s:F,n:function(){return D>=C.length?{done:!0}:{done:!1,value:C[D++]}},e:function(B){throw B},f:F}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M,j=!0,U=!1;return{s:function(){x=x.call(C)},n:function(){var B=x.next();return j=B.done,B},e:function(B){U=!0,M=B},f:function(){try{j||x.return==null||x.return()}finally{if(U)throw M}}}}(Object.getOwnPropertyNames(c.prototype));try{for(m.s();!(p=m.n()).done;){var k=p.value;k==="constructor"||k==="bindMethods"||(f[k]=f[k].bind(f))}}catch(C){m.e(C)}finally{m.f()}}}],v&&O(y.prototype,v),i&&O(y,i),Object.defineProperty(y,"prototype",{writable:!1}),y;var y,v,i}();w(A,"noop",function(){});var R=A;function I(y){return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},I(y)}function L(y,v){for(var i=0;i<v.length;i++){var c=v[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(y,V(c.key),c)}}function z(y,v,i){return(v=V(v))in y?Object.defineProperty(y,v,{value:i,enumerable:!0,configurable:!0,writable:!0}):y[v]=i,y}function V(y){var v=function(i,c){if(I(i)!="object"||!i)return i;var f=i[Symbol.toPrimitive];if(f!==void 0){var p=f.call(i,c);if(I(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}(y,"string");return I(v)=="symbol"?v:v+""}var te=function(){return y=function c(f){var p=this,m=f.dispatch,k=f.getOptions;(function(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")})(this,c),z(this,"getOptions",void 0),z(this,"dispatch",void 0),z(this,"isModifierKey",function(C){return C.altKey||C.ctrlKey||C.shiftKey||["Tab","CapsLock","Esc","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(C.code||C.key||p.keyCodeToKey(C==null?void 0:C.keyCode))}),this.dispatch=m,this.getOptions=k,R.bindMethods(c,this)},v=[{key:"handleHighlightKeyDown",value:function(c){var f=this.getOptions();f.physicalKeyboardHighlightPreventDefault&&this.isModifierKey(c)&&(c.preventDefault(),c.stopImmediatePropagation());var p=this.getSimpleKeyboardLayoutKey(c);this.dispatch(function(m){var k,C,S=m.getButtonElement(p),x=m.getButtonElement("{".concat(p,"}"));if(S)k=S,C=p;else{if(!x)return;k=x,C="{".concat(p,"}")}var D,F,M,j,U=function($){$.style.background=f.physicalKeyboardHighlightBgColor||"#dadce4",$.style.color=f.physicalKeyboardHighlightTextColor||"black"};if(k)if(Array.isArray(k)){if(k.forEach(function($){return U($)}),f.physicalKeyboardHighlightPress)if(f.physicalKeyboardHighlightPressUsePointerEvents)(D=k[0])===null||D===void 0||(F=D.onpointerdown)===null||F===void 0||F.call(D,c);else if(f.physicalKeyboardHighlightPressUseClick){var B;(B=k[0])===null||B===void 0||B.click()}else m.handleButtonClicked(C,c)}else U(k),f.physicalKeyboardHighlightPress&&(f.physicalKeyboardHighlightPressUsePointerEvents?(M=k)===null||M===void 0||(j=M.onpointerdown)===null||j===void 0||j.call(M,c):f.physicalKeyboardHighlightPressUseClick?k.click():m.handleButtonClicked(C,c))})}},{key:"handleHighlightKeyUp",value:function(c){var f=this.getOptions();f.physicalKeyboardHighlightPreventDefault&&this.isModifierKey(c)&&(c.preventDefault(),c.stopImmediatePropagation());var p=this.getSimpleKeyboardLayoutKey(c);this.dispatch(function(m){var k,C,S,x=m.getButtonElement(p)||m.getButtonElement("{".concat(p,"}")),D=function(F){F.removeAttribute&&F.removeAttribute("style")};x&&(Array.isArray(x)?(x.forEach(function(F){return D(F)}),f.physicalKeyboardHighlightPressUsePointerEvents&&((k=x[0])===null||k===void 0||(C=k.onpointerup)===null||C===void 0||C.call(k,c))):(D(x),f.physicalKeyboardHighlightPressUsePointerEvents&&(x==null||(S=x.onpointerup)===null||S===void 0||S.call(x,c))))})}},{key:"getSimpleKeyboardLayoutKey",value:function(c){var f,p="",m=c.code||c.key||this.keyCodeToKey(c==null?void 0:c.keyCode);return(p=m!=null&&m.includes("Numpad")||m!=null&&m.includes("Shift")||m!=null&&m.includes("Space")||m!=null&&m.includes("Backspace")||m!=null&&m.includes("Control")||m!=null&&m.includes("Alt")||m!=null&&m.includes("Meta")?c.code||"":c.key||this.keyCodeToKey(c==null?void 0:c.keyCode)||"").length>1?(f=p)===null||f===void 0?void 0:f.toLowerCase():p}},{key:"keyCodeToKey",value:function(c){return{8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Meta",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",106:"NumpadMultiply",107:"NumpadAdd",109:"NumpadSubtract",110:"NumpadDecimal",111:"NumpadDivide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}[c]||""}}],v&&L(y.prototype,v),i&&L(y,i),Object.defineProperty(y,"prototype",{writable:!1}),y;var y,v,i}();function H(y){return H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},H(y)}function re(y,v){for(var i=0;i<v.length;i++){var c=v[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(y,pe(c.key),c)}}function ee(y,v,i){return(v=pe(v))in y?Object.defineProperty(y,v,{value:i,enumerable:!0,configurable:!0,writable:!0}):y[v]=i,y}function pe(y){var v=function(i,c){if(H(i)!="object"||!i)return i;var f=i[Symbol.toPrimitive];if(f!==void 0){var p=f.call(i,c);if(H(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}(y,"string");return H(v)=="symbol"?v:v+""}var me=function(){return y=function c(f){var p=f.utilities,m=f.options;(function(k,C){if(!(k instanceof C))throw new TypeError("Cannot call a class as a function")})(this,c),ee(this,"utilities",void 0),ee(this,"options",void 0),ee(this,"candidateBoxElement",void 0),ee(this,"pageIndex",0),ee(this,"pageSize",void 0),this.utilities=p,this.options=m,R.bindMethods(c,this),this.pageSize=this.utilities.getOptions().layoutCandidatesPageSize||5},v=[{key:"destroy",value:function(){this.candidateBoxElement&&(this.candidateBoxElement.remove(),this.pageIndex=0)}},{key:"show",value:function(c){var f=this,p=c.candidateValue,m=c.targetElement,k=c.onSelect;if(p&&p.length){var C=this.utilities.chunkArray(p.split(" "),this.pageSize);this.renderPage({candidateListPages:C,targetElement:m,pageIndex:this.pageIndex,nbPages:C.length,onItemSelected:function(S,x){k(S,x),f.destroy()}})}}},{key:"renderPage",value:function(c){var f,p=this,m=c.candidateListPages,k=c.targetElement,C=c.pageIndex,S=c.nbPages,x=c.onItemSelected;(f=this.candidateBoxElement)===null||f===void 0||f.remove(),this.candidateBoxElement=document.createElement("div"),this.candidateBoxElement.className="hg-candidate-box";var D=document.createElement("ul");D.className="hg-candidate-box-list",m[C].forEach(function(q){var Z,ie=document.createElement("li"),ne=function(){var de=new(p.options.useTouchEvents?TouchEvent:MouseEvent)("click");return Object.defineProperty(de,"target",{value:ie}),de};ie.className="hg-candidate-box-list-item",ie.innerHTML=((Z=p.options.display)===null||Z===void 0?void 0:Z[q])||q,p.options.useTouchEvents?ie.ontouchstart=function(de){return x(q,de||ne())}:ie.onclick=function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ne();return x(q,de)},D.appendChild(ie)});var F=C>0,M=document.createElement("div");M.classList.add("hg-candidate-box-prev"),F&&M.classList.add("hg-candidate-box-btn-active");var j=function(){F&&p.renderPage({candidateListPages:m,targetElement:k,pageIndex:C-1,nbPages:S,onItemSelected:x})};this.options.useTouchEvents?M.ontouchstart=j:M.onclick=j,this.candidateBoxElement.appendChild(M),this.candidateBoxElement.appendChild(D);var U=C<S-1,B=document.createElement("div");B.classList.add("hg-candidate-box-next"),U&&B.classList.add("hg-candidate-box-btn-active");var $=function(){U&&p.renderPage({candidateListPages:m,targetElement:k,pageIndex:C+1,nbPages:S,onItemSelected:x})};this.options.useTouchEvents?B.ontouchstart=$:B.onclick=$,this.candidateBoxElement.appendChild(B),k.prepend(this.candidateBoxElement)}}],v&&re(y.prototype,v),i&&re(y,i),Object.defineProperty(y,"prototype",{writable:!1}),y;var y,v,i}(),Se=me;function ce(y){return function(v){if(Array.isArray(v))return he(v)}(y)||function(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}(y)||function(v,i){if(v){if(typeof v=="string")return he(v,i);var c={}.toString.call(v).slice(8,-1);return c==="Object"&&v.constructor&&(c=v.constructor.name),c==="Map"||c==="Set"?Array.from(v):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?he(v,i):void 0}}(y)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function he(y,v){(v==null||v>y.length)&&(v=y.length);for(var i=0,c=Array(v);i<v;i++)c[i]=y[i];return c}function Q(y){return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},Q(y)}function X(y,v){var i=Object.keys(y);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(y);v&&(c=c.filter(function(f){return Object.getOwnPropertyDescriptor(y,f).enumerable})),i.push.apply(i,c)}return i}function K(y,v){for(var i=0;i<v.length;i++){var c=v[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(y,W(c.key),c)}}function P(y,v,i){return(v=W(v))in y?Object.defineProperty(y,v,{value:i,enumerable:!0,configurable:!0,writable:!0}):y[v]=i,y}function W(y){var v=function(i,c){if(Q(i)!="object"||!i)return i;var f=i[Symbol.toPrimitive];if(f!==void 0){var p=f.call(i,c);if(Q(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}(y,"string");return Q(v)=="symbol"?v:v+""}var G=function(){return y=function c(f,p){var m=this;if(function(j,U){if(!(j instanceof U))throw new TypeError("Cannot call a class as a function")}(this,c),P(this,"input",void 0),P(this,"options",void 0),P(this,"utilities",void 0),P(this,"caretPosition",void 0),P(this,"caretPositionEnd",void 0),P(this,"keyboardDOM",void 0),P(this,"keyboardPluginClasses",void 0),P(this,"keyboardDOMClass",void 0),P(this,"buttonElements",void 0),P(this,"currentInstanceName",void 0),P(this,"allKeyboardInstances",void 0),P(this,"keyboardInstanceNames",void 0),P(this,"isFirstKeyboardInstance",void 0),P(this,"physicalKeyboard",void 0),P(this,"modules",void 0),P(this,"activeButtonClass",void 0),P(this,"holdInteractionTimeout",void 0),P(this,"holdTimeout",void 0),P(this,"isMouseHold",void 0),P(this,"initialized",void 0),P(this,"candidateBox",void 0),P(this,"keyboardRowsDOM",void 0),P(this,"defaultName","default"),P(this,"activeInputElement",null),P(this,"handleParams",function(j,U){var B,$,q;if(typeof j=="string")B=j.split(".").join(""),$=document.querySelector(".".concat(B)),q=U;else if(j instanceof HTMLDivElement){if(!j.className)throw console.warn("Any DOM element passed as parameter must have a class."),new Error("KEYBOARD_DOM_CLASS_ERROR");B=j.className.split(" ")[0],$=j,q=U}else B="simple-keyboard",$=document.querySelector(".".concat(B)),q=j;return{keyboardDOMClass:B,keyboardDOM:$,options:q}}),P(this,"getOptions",function(){return m.options}),P(this,"getCaretPosition",function(){return m.caretPosition}),P(this,"getCaretPositionEnd",function(){return m.caretPositionEnd}),P(this,"registerModule",function(j,U){m.modules[j]||(m.modules[j]={}),U(m.modules[j])}),P(this,"getKeyboardClassString",function(){for(var j=arguments.length,U=new Array(j),B=0;B<j;B++)U[B]=arguments[B];return[m.keyboardDOMClass].concat(U).filter(function($){return!!$}).join(" ")}),typeof window<"u"){var k=this.handleParams(f,p),C=k.keyboardDOMClass,S=k.keyboardDOM,x=k.options,D=x===void 0?{}:x;this.utilities=new R({getOptions:this.getOptions,getCaretPosition:this.getCaretPosition,getCaretPositionEnd:this.getCaretPositionEnd,dispatch:this.dispatch}),this.caretPosition=null,this.caretPositionEnd=null,this.keyboardDOM=S,this.options=function(j){for(var U=1;U<arguments.length;U++){var B=arguments[U]!=null?arguments[U]:{};U%2?X(Object(B),!0).forEach(function($){P(j,$,B[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(B)):X(Object(B)).forEach(function($){Object.defineProperty(j,$,Object.getOwnPropertyDescriptor(B,$))})}return j}({layoutName:"default",theme:"hg-theme-default",inputName:"default",preventMouseDownDefault:!1,enableLayoutCandidates:!0,excludeFromLayout:{}},D),this.keyboardPluginClasses="",R.bindMethods(c,this);var F=this.options.inputName,M=F===void 0?this.defaultName:F;if(this.input={},this.input[M]="",this.keyboardDOMClass=C,this.buttonElements={},window.SimpleKeyboardInstances||(window.SimpleKeyboardInstances={}),this.currentInstanceName=this.utilities.camelCase(this.keyboardDOMClass),window.SimpleKeyboardInstances[this.currentInstanceName]=this,this.allKeyboardInstances=window.SimpleKeyboardInstances,this.keyboardInstanceNames=Object.keys(window.SimpleKeyboardInstances),this.isFirstKeyboardInstance=this.keyboardInstanceNames[0]===this.currentInstanceName,this.physicalKeyboard=new te({dispatch:this.dispatch,getOptions:this.getOptions}),this.candidateBox=this.options.enableLayoutCandidates?new Se({utilities:this.utilities,options:this.options}):null,!this.keyboardDOM)throw console.warn('".'.concat(C,'" was not found in the DOM.')),new Error("KEYBOARD_DOM_ERROR");this.render(),this.modules={},this.loadModules()}},v=[{key:"setCaretPosition",value:function(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c;this.caretPosition=c,this.caretPositionEnd=f}},{key:"getInputCandidates",value:function(c){var f=this,p=this.options,m=p.layoutCandidates,k=p.layoutCandidatesCaseSensitiveMatch;if(!m||Q(m)!=="object")return{};var C=Object.keys(m).filter(function(D){var F=c.substring(0,f.getCaretPositionEnd()||0)||c,M=new RegExp("".concat(f.utilities.escapeRegex(D),"$"),k?"g":"gi");return!!ce(F.matchAll(M)).length});if(C.length>1){var S=C.sort(function(D,F){return F.length-D.length})[0];return{candidateKey:S,candidateValue:m[S]}}if(C.length){var x=C[0];return{candidateKey:x,candidateValue:m[x]}}return{}}},{key:"showCandidatesBox",value:function(c,f,p){var m=this;this.candidateBox&&this.candidateBox.show({candidateValue:f,targetElement:p,onSelect:function(k,C){var S=m.options,x=S.layoutCandidatesCaseSensitiveMatch,D=S.disableCandidateNormalization,F=S.enableLayoutCandidatesKeyPress,M=k;D||(M=k.normalize("NFD")),typeof m.options.beforeInputUpdate=="function"&&m.options.beforeInputUpdate(m);var j=m.getInput(m.options.inputName,!0),U=m.getCaretPositionEnd()||0,B=j.substring(0,U||0)||j,$=new RegExp("".concat(m.utilities.escapeRegex(c),"$"),x?"g":"gi"),q=B.replace($,M),Z=j.replace(B,q),ie=q.length-B.length,ne=(U||j.length)+ie;ne<0&&(ne=0),m.setInput(Z,m.options.inputName,!0),m.setCaretPosition(ne),F&&typeof m.options.onKeyPress=="function"&&m.options.onKeyPress(k,C),typeof m.options.onChange=="function"&&m.options.onChange(m.getInput(m.options.inputName,!0),C),typeof m.options.onChangeAll=="function"&&m.options.onChangeAll(m.getAllInputs(),C)}})}},{key:"handleButtonClicked",value:function(c,f){var p=this.options,m=p.inputName,k=m===void 0?this.defaultName:m,C=p.debug;if(c!=="{//}"){this.input[k]||(this.input[k]=""),typeof this.options.beforeInputUpdate=="function"&&this.options.beforeInputUpdate(this);var S=this.utilities.getUpdatedInput(c,this.input[k],this.caretPosition,this.caretPositionEnd);if(this.utilities.isStandardButton(c)&&this.activeInputElement&&this.input[k]&&this.input[k]===S&&this.caretPosition===0&&this.caretPositionEnd===S.length)return this.setInput("",this.options.inputName,!0),this.setCaretPosition(0),this.activeInputElement.value="",this.activeInputElement.setSelectionRange(0,0),void this.handleButtonClicked(c,f);if(typeof this.options.onKeyPress=="function"&&this.options.onKeyPress(c,f),this.input[k]!==S&&(!this.options.inputPattern||this.options.inputPattern&&this.inputPatternIsValid(S))){if(this.options.maxLength&&this.utilities.handleMaxLength(this.input,S))return;var x=this.utilities.getUpdatedInput(c,this.input[k],this.caretPosition,this.caretPositionEnd,!0);if(this.setInput(x,this.options.inputName,!0),C&&console.log("Input changed:",this.getAllInputs()),this.options.debug&&console.log("Caret at: ",this.getCaretPosition(),this.getCaretPositionEnd(),"(".concat(this.keyboardDOMClass,")"),f==null?void 0:f.type),this.options.syncInstanceInputs&&this.syncInstanceInputs(),typeof this.options.onChange=="function"&&this.options.onChange(this.getInput(this.options.inputName,!0),f),typeof this.options.onChangeAll=="function"&&this.options.onChangeAll(this.getAllInputs(),f),f!=null&&f.target&&this.options.enableLayoutCandidates){var D,F=this.getInputCandidates(S),M=F.candidateKey,j=F.candidateValue;M&&j?this.showCandidatesBox(M,j,this.keyboardDOM):(D=this.candidateBox)===null||D===void 0||D.destroy()}}this.caretPositionEnd&&this.caretPosition!==this.caretPositionEnd&&(this.setCaretPosition(this.caretPositionEnd,this.caretPositionEnd),this.activeInputElement&&this.activeInputElement.setSelectionRange(this.caretPositionEnd,this.caretPositionEnd),this.options.debug&&console.log("Caret position aligned",this.caretPosition)),C&&console.log("Key pressed:",c)}}},{key:"getMouseHold",value:function(){return this.isMouseHold}},{key:"setMouseHold",value:function(c){this.options.syncInstanceInputs?this.dispatch(function(f){f.isMouseHold=c}):this.isMouseHold=c}},{key:"handleButtonMouseDown",value:function(c,f){var p=this;f&&(this.options.preventMouseDownDefault&&f.preventDefault(),this.options.stopMouseDownPropagation&&f.stopPropagation(),f.target.classList.add(this.activeButtonClass)),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdTimeout&&clearTimeout(this.holdTimeout),this.setMouseHold(!0),this.options.disableButtonHold||(this.holdTimeout=window.setTimeout(function(){(p.getMouseHold()&&(!c.includes("{")&&!c.includes("}")||c==="{delete}"||c==="{backspace}"||c==="{bksp}"||c==="{space}"||c==="{tab}")||c==="{arrowright}"||c==="{arrowleft}"||c==="{arrowup}"||c==="{arrowdown}")&&(p.options.debug&&console.log("Button held:",c),p.handleButtonHold(c)),clearTimeout(p.holdTimeout)},500))}},{key:"handleButtonMouseUp",value:function(c,f){var p=this;f&&(this.options.preventMouseUpDefault&&f.preventDefault&&f.preventDefault(),this.options.stopMouseUpPropagation&&f.stopPropagation&&f.stopPropagation(),!(f.target===this.keyboardDOM||f.target&&this.keyboardDOM.contains(f.target)||this.candidateBox&&this.candidateBox.candidateBoxElement&&(f.target===this.candidateBox.candidateBoxElement||f.target&&this.candidateBox.candidateBoxElement.contains(f.target)))&&this.candidateBox&&this.candidateBox.destroy()),this.recurseButtons(function(m){m.classList.remove(p.activeButtonClass)}),this.setMouseHold(!1),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),c&&typeof this.options.onKeyReleased=="function"&&this.options.onKeyReleased(c,f)}},{key:"handleKeyboardContainerMouseDown",value:function(c){this.options.preventMouseDownDefault&&c.preventDefault()}},{key:"handleButtonHold",value:function(c){var f=this;this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdInteractionTimeout=window.setTimeout(function(){f.getMouseHold()?(f.handleButtonClicked(c),f.handleButtonHold(c)):clearTimeout(f.holdInteractionTimeout)},100)}},{key:"syncInstanceInputs",value:function(){var c=this;this.dispatch(function(f){f.replaceInput(c.input),f.setCaretPosition(c.caretPosition,c.caretPositionEnd)})}},{key:"clearInput",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.inputName||this.defaultName;this.input[c]="",this.setCaretPosition(0),this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"getInput",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.inputName||this.defaultName,f=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.options.syncInstanceInputs&&!f&&this.syncInstanceInputs(),this.options.rtl?"‫"+this.input[c].replace("‫","").replace("‬","")+"‬":this.input[c]}},{key:"getAllInputs",value:function(){var c=this,f={};return Object.keys(this.input).forEach(function(p){f[p]=c.getInput(p,!0)}),f}},{key:"setInput",value:function(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.inputName||this.defaultName,p=arguments.length>2?arguments[2]:void 0;this.input[f]=c,!p&&this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"replaceInput",value:function(c){this.input=c}},{key:"setOptions",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=this.changedOptions(c);this.options=Object.assign(this.options,c),f.length&&(this.options.debug&&console.log("changedOptions",f),this.onSetOptions(f),this.render())}},{key:"changedOptions",value:function(c){var f=this;return Object.keys(c).filter(function(p){return JSON.stringify(c[p])!==JSON.stringify(f.options[p])})}},{key:"onSetOptions",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];c.includes("layoutName")&&this.candidateBox&&this.candidateBox.destroy(),(c.includes("layoutCandidatesPageSize")||c.includes("layoutCandidates"))&&this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=new Se({utilities:this.utilities,options:this.options}))}},{key:"resetRows",value:function(){this.keyboardRowsDOM&&this.keyboardRowsDOM.remove(),this.keyboardDOM.className=this.keyboardDOMClass,this.keyboardDOM.setAttribute("data-skInstance",this.currentInstanceName),this.buttonElements={}}},{key:"dispatch",value:function(c){if(!window.SimpleKeyboardInstances)throw console.warn("SimpleKeyboardInstances is not defined. Dispatch cannot be called."),new Error("INSTANCES_VAR_ERROR");return Object.keys(window.SimpleKeyboardInstances).forEach(function(f){c(window.SimpleKeyboardInstances[f],f)})}},{key:"addButtonTheme",value:function(c,f){var p=this;f&&c&&(c.split(" ").forEach(function(m){f.split(" ").forEach(function(k){p.options.buttonTheme||(p.options.buttonTheme=[]);var C=!1;p.options.buttonTheme.map(function(S){if(S!=null&&S.class.split(" ").includes(k)){C=!0;var x=S.buttons.split(" ");x.includes(m)||(C=!0,x.push(m),S.buttons=x.join(" "))}return S}),C||p.options.buttonTheme.push({class:k,buttons:c})})}),this.render())}},{key:"removeButtonTheme",value:function(c,f){var p=this;if(!c&&!f)return this.options.buttonTheme=[],void this.render();c&&Array.isArray(this.options.buttonTheme)&&this.options.buttonTheme.length&&(c.split(" ").forEach(function(m){var k;(k=p.options)===null||k===void 0||(k=k.buttonTheme)===null||k===void 0||k.map(function(C,S){if(C&&f&&f.includes(C.class)||!f){var x,D,F=(x=C)===null||x===void 0?void 0:x.buttons.split(" ").filter(function(M){return M!==m});C&&F!=null&&F.length?C.buttons=F.join(" "):((D=p.options.buttonTheme)===null||D===void 0||D.splice(S,1),C=null)}return C})}),this.render())}},{key:"getButtonElement",value:function(c){var f,p=this.buttonElements[c];return p&&(f=p.length>1?p:p[0]),f}},{key:"inputPatternIsValid",value:function(c){var f,p=this.options.inputPattern;if((f=p instanceof RegExp?p:p[this.options.inputName||this.defaultName])&&c){var m=f.test(c);return this.options.debug&&console.log('inputPattern ("'.concat(f,'"): ').concat(m?"passed":"did not pass!")),m}return!0}},{key:"setEventListeners",value:function(){if(this.isFirstKeyboardInstance||!this.allKeyboardInstances){this.options.debug&&console.log("Caret handling started (".concat(this.keyboardDOMClass,")"));var c=this.options.physicalKeyboardHighlightPreventDefault,f=c!==void 0&&c;document.addEventListener("keyup",this.handleKeyUp,f),document.addEventListener("keydown",this.handleKeyDown,f),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("touchend",this.handleTouchEnd),this.options.updateCaretOnSelectionChange&&document.addEventListener("selectionchange",this.handleSelectionChange),document.addEventListener("select",this.handleSelect)}}},{key:"handleKeyUp",value:function(c){this.caretEventHandler(c),this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyUp(c)}},{key:"handleKeyDown",value:function(c){this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyDown(c)}},{key:"handleMouseUp",value:function(c){this.caretEventHandler(c)}},{key:"handleTouchEnd",value:function(c){this.caretEventHandler(c)}},{key:"handleSelect",value:function(c){this.caretEventHandler(c)}},{key:"handleSelectionChange",value:function(c){navigator.userAgent.includes("Firefox")||this.caretEventHandler(c)}},{key:"caretEventHandler",value:function(c){var f,p=this;c.target.tagName&&(f=c.target.tagName.toLowerCase()),this.dispatch(function(m){var k=c.target===m.keyboardDOM||c.target&&m.keyboardDOM.contains(c.target);if(p.options.syncInstanceInputs&&Array.isArray(c.path)&&(k=c.path.some(function(x){var D;return x==null||(D=x.hasAttribute)===null||D===void 0?void 0:D.call(x,"data-skInstance")})),(f==="textarea"||f==="input"&&["text","search","url","tel","password"].includes(c.target.type))&&!m.options.disableCaretPositioning){var C=c.target.selectionStart,S=c.target.selectionEnd;m.options.rtl&&(C=m.utilities.getRtlOffset(C,m.getInput()),S=m.utilities.getRtlOffset(S,m.getInput())),m.setCaretPosition(C,S),m.activeInputElement=c.target,m.options.debug&&console.log("Caret at: ",m.getCaretPosition(),m.getCaretPositionEnd(),c&&c.target.tagName.toLowerCase(),"(".concat(m.keyboardDOMClass,")"),c==null?void 0:c.type)}else!m.options.disableCaretPositioning&&k||(c==null?void 0:c.type)==="selectionchange"||(m.setCaretPosition(null),m.activeInputElement=null,m.options.debug&&console.log('Caret position reset due to "'.concat(c==null?void 0:c.type,'" event'),c))})}},{key:"recurseButtons",value:function(c){var f=this;c&&Object.keys(this.buttonElements).forEach(function(p){return f.buttonElements[p].forEach(c)})}},{key:"destroy",value:function(){this.options.debug&&console.log("Destroying simple-keyboard instance: ".concat(this.currentInstanceName));var c=this.options.physicalKeyboardHighlightPreventDefault,f=c!==void 0&&c;document.removeEventListener("keyup",this.handleKeyUp,f),document.removeEventListener("keydown",this.handleKeyDown,f),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("touchend",this.handleTouchEnd),document.removeEventListener("select",this.handleSelect),this.options.updateCaretOnSelectionChange&&document.removeEventListener("selectionchange",this.handleSelectionChange),document.onpointerup=null,document.ontouchend=null,document.ontouchcancel=null,document.onmouseup=null,this.recurseButtons(function(p){p&&(p.onpointerdown=null,p.onpointerup=null,p.onpointercancel=null,p.ontouchstart=null,p.ontouchend=null,p.ontouchcancel=null,p.onclick=null,p.onmousedown=null,p.onmouseup=null,p.remove(),p=null)}),this.keyboardDOM.onpointerdown=null,this.keyboardDOM.ontouchstart=null,this.keyboardDOM.onmousedown=null,this.resetRows(),this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=null),this.activeInputElement=null,this.keyboardDOM.removeAttribute("data-skInstance"),this.keyboardDOM.innerHTML="",window.SimpleKeyboardInstances[this.currentInstanceName]=null,delete window.SimpleKeyboardInstances[this.currentInstanceName],this.initialized=!1}},{key:"getButtonThemeClasses",value:function(c){var f=this.options.buttonTheme,p=[];return Array.isArray(f)&&f.forEach(function(m){if(m&&m.class&&typeof m.class=="string"&&m.buttons&&typeof m.buttons=="string"){var k=m.class.split(" ");m.buttons.split(" ").includes(c)&&(p=[].concat(ce(p),ce(k)))}else console.warn('Incorrect "buttonTheme". Please check the documentation.',m)}),p}},{key:"setDOMButtonAttributes",value:function(c,f){var p=this.options.buttonAttributes;Array.isArray(p)&&p.forEach(function(m){m.attribute&&typeof m.attribute=="string"&&m.value&&typeof m.value=="string"&&m.buttons&&typeof m.buttons=="string"?m.buttons.split(" ").includes(c)&&f(m.attribute,m.value):console.warn('Incorrect "buttonAttributes". Please check the documentation.',m)})}},{key:"onTouchDeviceDetected",value:function(){this.processAutoTouchEvents(),this.disableContextualWindow()}},{key:"disableContextualWindow",value:function(){window.oncontextmenu=function(c){if(c.target.classList.contains("hg-button"))return c.preventDefault(),c.stopPropagation(),!1}}},{key:"processAutoTouchEvents",value:function(){this.options.autoUseTouchEvents&&(this.options.useTouchEvents=!0,this.options.debug&&console.log("autoUseTouchEvents: Touch device detected, useTouchEvents enabled."))}},{key:"onInit",value:function(){this.options.debug&&console.log("".concat(this.keyboardDOMClass," Initialized")),this.setEventListeners(),typeof this.options.onInit=="function"&&this.options.onInit(this)}},{key:"beforeFirstRender",value:function(){this.utilities.isTouchDevice()&&this.onTouchDeviceDetected(),typeof this.options.beforeFirstRender=="function"&&this.options.beforeFirstRender(this),this.isFirstKeyboardInstance&&this.utilities.pointerEventsSupported()&&!this.options.useTouchEvents&&!this.options.useMouseEvents&&this.options.debug&&console.log("Using PointerEvents as it is supported by this browser"),this.options.useTouchEvents&&this.options.debug&&console.log("useTouchEvents has been enabled. Only touch events will be used.")}},{key:"beforeRender",value:function(){typeof this.options.beforeRender=="function"&&this.options.beforeRender(this)}},{key:"onRender",value:function(){typeof this.options.onRender=="function"&&this.options.onRender(this)}},{key:"onModulesLoaded",value:function(){typeof this.options.onModulesLoaded=="function"&&this.options.onModulesLoaded(this)}},{key:"loadModules",value:function(){var c=this;Array.isArray(this.options.modules)&&(this.options.modules.forEach(function(f){var p=new f(c);p.init&&p.init(c)}),this.keyboardPluginClasses="modules-loaded",this.render(),this.onModulesLoaded())}},{key:"getModuleProp",value:function(c,f){return!!this.modules[c]&&this.modules[c][f]}},{key:"getModulesList",value:function(){return Object.keys(this.modules)}},{key:"parseRowDOMContainers",value:function(c,f,p,m){var k=this,C=Array.from(c.children),S=0;return C.length&&p.forEach(function(x,D){var F=m[D];if(!(F&&F>x))return!1;var M=x-S,j=F-S,U=document.createElement("div");U.className+="hg-button-container";var B="".concat(k.options.layoutName,"-r").concat(f,"c").concat(D);U.setAttribute("data-skUID",B);var $=C.splice(M,j-M+1);S=j-M,$.forEach(function(q){return U.appendChild(q)}),C.splice(M,0,U),c.innerHTML="",C.forEach(function(q){return c.appendChild(q)}),k.options.debug&&console.log("rowDOMContainer",$,M,j,S+1)}),c}},{key:"render",value:function(){var c=this;this.resetRows(),this.initialized||this.beforeFirstRender(),this.beforeRender();var f="hg-layout-".concat(this.options.layoutName),p=this.options.layout||{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","{lock} a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}",".com @ {space}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}",".com @ {space}"]},m=this.options.useTouchEvents||!1,k=m?"hg-touch-events":"",C=this.options.useMouseEvents||!1,S=this.options.disableRowButtonContainers;this.keyboardDOM.className=this.getKeyboardClassString(this.options.theme,f,this.keyboardPluginClasses,k),this.keyboardDOM.setAttribute("data-skInstance",this.currentInstanceName),this.keyboardRowsDOM=document.createElement("div"),this.keyboardRowsDOM.className="hg-rows",p[this.options.layoutName||this.defaultName].forEach(function(x,D){var F=x.split(" ");c.options.excludeFromLayout&&c.options.excludeFromLayout[c.options.layoutName||c.defaultName]&&(F=F.filter(function(B){return c.options.excludeFromLayout&&!c.options.excludeFromLayout[c.options.layoutName||c.defaultName].includes(B)}));var M=document.createElement("div");M.className+="hg-row";var j=[],U=[];F.forEach(function(B,$){var q,Z=!S&&typeof B=="string"&&B.length>1&&B.indexOf("[")===0,ie=!S&&typeof B=="string"&&B.length>1&&B.indexOf("]")===B.length-1;Z&&(j.push($),B=B.replace(/\[/g,"")),ie&&(U.push($),B=B.replace(/\]/g,""));var ne=c.utilities.getButtonClass(B),de=c.utilities.getButtonDisplayName(B,c.options.display,c.options.mergeDisplay),le=c.options.useButtonTag?"button":"div",se=document.createElement(le);se.className+="hg-button ".concat(ne),(q=se.classList).add.apply(q,ce(c.getButtonThemeClasses(B))),c.setDOMButtonAttributes(B,function(ue,Te){se.setAttribute(ue,Te)}),c.activeButtonClass="hg-activeButton",!c.utilities.pointerEventsSupported()||m||C?m?(se.ontouchstart=function(ue){c.handleButtonClicked(B,ue),c.handleButtonMouseDown(B,ue)},se.ontouchend=function(ue){c.handleButtonMouseUp(B,ue)},se.ontouchcancel=function(ue){c.handleButtonMouseUp(B,ue)}):(se.onclick=function(ue){c.setMouseHold(!1),typeof c.options.onKeyReleased!="function"&&c.handleButtonClicked(B,ue)},se.onmousedown=function(ue){typeof c.options.onKeyReleased!="function"||c.isMouseHold||c.handleButtonClicked(B,ue),c.handleButtonMouseDown(B,ue)},se.onmouseup=function(ue){c.handleButtonMouseUp(B,ue)}):(se.onpointerdown=function(ue){c.handleButtonClicked(B,ue),c.handleButtonMouseDown(B,ue)},se.onpointerup=function(ue){c.handleButtonMouseUp(B,ue)},se.onpointercancel=function(ue){c.handleButtonMouseUp(B,ue)}),se.setAttribute("data-skBtn",B);var ge="".concat(c.options.layoutName,"-r").concat(D,"b").concat($);se.setAttribute("data-skBtnUID",ge);var ye=document.createElement("span");ye.innerHTML=de,se.appendChild(ye),c.buttonElements[B]||(c.buttonElements[B]=[]),c.buttonElements[B].push(se),M.appendChild(se)}),M=c.parseRowDOMContainers(M,D,j,U),c.keyboardRowsDOM.appendChild(M)}),this.keyboardDOM.appendChild(this.keyboardRowsDOM),this.onRender(),this.initialized||(this.initialized=!0,!this.utilities.pointerEventsSupported()||m||C?m?(document.ontouchend=function(x){return c.handleButtonMouseUp(void 0,x)},document.ontouchcancel=function(x){return c.handleButtonMouseUp(void 0,x)},this.keyboardDOM.ontouchstart=function(x){return c.handleKeyboardContainerMouseDown(x)}):m||(document.onmouseup=function(x){return c.handleButtonMouseUp(void 0,x)},this.keyboardDOM.onmousedown=function(x){return c.handleKeyboardContainerMouseDown(x)}):(document.onpointerup=function(x){return c.handleButtonMouseUp(void 0,x)},this.keyboardDOM.onpointerdown=function(x){return c.handleKeyboardContainerMouseDown(x)}),this.onInit())}}],v&&K(y.prototype,v),i&&K(y,i),Object.defineProperty(y,"prototype",{writable:!1}),y;var y,v,i}(),ae=G,oe=ae;return g}()},442:function(l){l.exports=n}},o={};function s(l){var u=o[l];if(u!==void 0)return u.exports;var h=o[l]={exports:{}};return r[l].call(h.exports,h,h.exports,s),h.exports}s.n=function(l){var u=l&&l.__esModule?function(){return l.default}:function(){return l};return s.d(u,{a:u}),u},s.d=function(l,u){for(var h in u)s.o(u,h)&&!s.o(l,h)&&Object.defineProperty(l,h,{enumerable:!0,get:u[h]})},s.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)},s.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var a={};return function(){s.r(a),s.d(a,{KeyboardReact:function(){return N},default:function(){return O}}),s(981);var l=s(442),u=s(548),h=s.n(u);function d(w){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},d(w)}function g(w,T){var A=Object.keys(w);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(w);T&&(R=R.filter(function(I){return Object.getOwnPropertyDescriptor(w,I).enumerable})),A.push.apply(A,R)}return A}function _(w){for(var T=1;T<arguments.length;T++){var A=arguments[T]!=null?arguments[T]:{};T%2?g(Object(A),!0).forEach(function(R){E(w,R,A[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(A)):g(Object(A)).forEach(function(R){Object.defineProperty(w,R,Object.getOwnPropertyDescriptor(A,R))})}return w}function E(w,T,A){return(T=function(R){var I=function(L,z){if(d(L)!="object"||!L)return L;var V=L[Symbol.toPrimitive];if(V!==void 0){var te=V.call(L,z||"default");if(d(te)!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return(z==="string"?String:Number)(L)}(R,"string");return d(I)=="symbol"?I:I+""}(T))in w?Object.defineProperty(w,T,{value:A,enumerable:!0,configurable:!0,writable:!0}):w[T]=A,w}var b=function(w){return _(_({},w),{},{keyboardRef:null})},N=function(w){var T=w.baseClass||"react-simple-keyboard",A=l.useRef(null),R=l.useRef(null),I=l.useRef(null),L=l.useRef(w);return l.useEffect(function(){return function(){I.current&&I.current.destroy(),A.current=!1}},[]),l.useEffect(function(){var z=function(ee){return _(_({},ee),{},{theme:"simple-keyboard ".concat(ee.theme||"hg-theme-default")})}(w);if(!A.current){A.current=!0,z.debug&&console.log("ReactSimpleKeyboard: Init");var V=R.current,te=".".concat(T);I.current=new(h())(V||te,z),z.keyboardRef&&z.keyboardRef(I.current)}var H=function(ee,pe){var me=b(pe),Se=b(ee);return Object.keys(me).filter(function(ce){return me[ce]!==Se[ce]})}(L.current,z);if(H.length){var re=I.current;L.current=z,re==null||re.setOptions(z),z.debug&&console.log("ReactSimpleKeyboard - setOptions called due to updated props:",H)}},[A,T,L,w]),l.createElement("div",{className:T,ref:R})},O=N}(),a}()})})(cv);var xE=cv.exports;const CE=Pp(xE),TE={default:["1 2 3 4 5 6 7 8 9 0 - =","q w e r t y u i o p [ ]","a s d f g h j k l ; '","z x c v b n m , . /"]},EE=({keyboardState:t,activeTaskId:e})=>{const n=(s,a,l,u=!1)=>{const h=`keyboard-style-${s}`;let d=document.getElementById(h);d||(d=document.createElement("style"),d.id=h,document.head.appendChild(d));const g=u?`
        .simple-keyboard-base .${s}-mapped.key-active {
          background: ${a} !important;
          color: ${l} !important;
          transform: scale(0.8);
        }`:"";d.textContent=`
      .simple-keyboard-base .${s}-mapped {
        background: ${a} !important;
        color: ${l} !important;
      }
      ${g}
    `},r=s=>{if(!e||!s.taskKeyboardMapping)return[];const a=Bt[e];if(!(a!=null&&a.keyboardMapping))return[];const l=$h(0,a.colorMode||"chromatic"),u=[],h={};return Object.entries(a.keyboardMapping).forEach(([d,g])=>{var E;const _=(E=ei[d])==null?void 0:E.toLowerCase();_&&(h[_]=g.note)}),Object.entries(ei).forEach(([d,g])=>{const _=g.toLowerCase(),E=h[_],b=s.activeKeyCodes.has(d);if(E!==void 0){const N=l[E],O=ty(E);n(d,N,O,b),u.push({class:`${d}-mapped${b?" key-active":""}`,buttons:_})}else n(d,"#444","rgba(255, 255, 255, 0.3)"),u.push({class:`${d}-unmapped`,buttons:_})}),u},o=()=>{if(!e)return{};const s=Bt[e];if(!(s!=null&&s.keyboardMapping))return{};const a={};return"1234567890-=qwertyuiop[]asdfghjkl;'zxcvbnm,./".split("").forEach(u=>{a[u]=" "}),Object.entries(s.keyboardMapping).forEach(([u])=>{var d;const h=(d=ei[u])==null?void 0:d.toLowerCase();h&&(a[h]=h)}),a};return J.useEffect(()=>()=>{Object.keys(ei).forEach(s=>{const a=document.getElementById(`keyboard-style-${s}`);a&&a.remove()})},[]),Y.jsx("div",{className:"w-[290px]",children:Y.jsx(CE,{layout:TE,display:o(),buttonTheme:r(t),mergeDisplay:!0,physicalKeyboardHighlight:!1,physicalKeyboardHighlightPress:!1,useButtonTag:!0,disableButtonHold:!0,preventMouseDownDefault:!0,baseClass:"simple-keyboard-base",theme:"hg-theme-default custom-theme"})})},bE=fo.memo(kE),NE=fo.memo(({currentLessonId:t,onLessonChange:e,taskProgress:n,activeTaskId:r,onSkipTask:o,keyboardState:s})=>{const[a,l]=J.useState(!1),u=Gt.findIndex(N=>N.id===t),h=Gt[u],d=u>0?Gt[u-1]:null,g=u<Gt.length-1?Gt[u+1]:null,_=h==null?void 0:h.taskIds.every(N=>n.some(O=>O.taskId===N&&O.status==="completed"));J.useEffect(()=>{const N=O=>{O.key==="ArrowLeft"&&d?e(d.id):O.key==="ArrowRight"&&g&&e(g.id)};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[d,g,e]),J.useEffect(()=>{const N=O=>{O.key==="Escape"&&a&&l(!1)};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[a]);const E=J.useCallback((N,O,w)=>{if(!fo.isValidElement(N))return N;if(N.props.children){const T=fo.Children.map(N.props.children,A=>E(A,O,w));return fo.cloneElement(N,{},T)}return N},[]),b=J.useRef(null);return J.useEffect(()=>{if(r&&b.current){const N=b.current.querySelector(`[data-task-id="${r}"]`);if(N){const O=b.current.getBoundingClientRect(),w=N.getBoundingClientRect(),T=200;(w.bottom>O.bottom-T||w.top>O.bottom-T)&&N.scrollIntoView({behavior:"smooth",block:"center"})}}},[r]),Y.jsxs("div",{className:"fixed top-0 left-0 w-[600px] h-screen bg-gray-900 text-white flex flex-col",children:[Y.jsx("div",{className:"bg-gray-900 p-4 border-b border-gray-800",children:Y.jsx("div",{className:"w-full flex justify-end",children:Y.jsx(EE,{keyboardState:s,activeTaskId:r})})}),Y.jsxs("div",{className:"bg-gray-900 z-20 p-8 pb-4 border-b border-gray-800",children:[Y.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[Y.jsx("button",{onClick:()=>l(!a),className:"p-2 bg-gray-800 rounded border border-gray-700 hover:bg-gray-700 relative z-20 pointer-events-auto",children:Y.jsx(Op,{className:"w-6 h-6"})}),Y.jsxs("div",{className:"flex-1 flex gap-2",children:[Y.jsx("div",{className:`flex-1 ${g?"w-1/2":"w-full"}`,children:d&&Y.jsxs(Iu,{to:`${fr}/${d.id}`,onClick:()=>e(d.id),className:"block w-full p-2 bg-gray-800 rounded border border-gray-700 text-gray-400 hover:bg-gray-700 text-left select-none",children:["← ",u,". ",d.title]})}),Y.jsx("div",{className:`flex-1 ${d?"w-1/2":"w-full"}`,children:g&&Y.jsxs(Iu,{to:`${fr}/${g.id}`,onClick:()=>e(g.id),className:`block w-full p-2 rounded border text-right select-none transition-all duration-300 ${_?"bg-blue-600 hover:bg-blue-500 border-blue-500 text-white shadow-lg shadow-blue-500/20":"bg-gray-800 border-gray-700 text-gray-400 hover:bg-gray-700"}`,children:[u+2,". ",g.title," →"]})})]})]}),Y.jsxs("div",{className:"w-full text-white font-semibold text-[28px]",children:[u+1,". ",h.title]})]}),a&&Y.jsx("div",{className:"absolute inset-0 bg-gray-900 z-30 overflow-y-auto",children:Y.jsxs("div",{className:"p-8",children:[Y.jsx("div",{className:"flex items-center gap-2 mb-4",children:Y.jsx("button",{onClick:()=>l(!1),className:"p-2 bg-gray-800 rounded border border-gray-700 hover:bg-gray-700",children:Y.jsx(Op,{className:"w-6 h-6"})})}),Y.jsx("div",{className:"flex flex-col gap-2",children:Gt.map((N,O)=>Y.jsxs(Iu,{to:`${fr}/${N.id}`,onClick:()=>{e(N.id),l(!1)},className:`mt-2 text-left cursor-pointer hover:text-white ${N.id===t?"text-white":"text-gray-400"}`,children:[Y.jsxs("span",{children:[O+1,". "]}),N.title]},N.id))})]})}),Y.jsx("div",{className:"flex-1 overflow-y-auto",children:Y.jsxs("div",{className:"relative min-h-[calc(100vh-400px)]",children:[Y.jsx("div",{ref:b,className:"p-8 pt-4",children:h&&Y.jsxs("div",{className:"prose prose-invert",children:[E(h.content,n,h),h.taskIds.map((N,O)=>{var w,T;return Y.jsx(bE,{taskConfig:Bt[N],"data-task-id":N,progress:((w=n.find(A=>A.taskId===N))==null?void 0:w.progress)??0,status:((T=n.find(A=>A.taskId===N))==null?void 0:T.status)??"active",previousTaskCompleted:O===0?!0:n.some(A=>A.taskId===h.taskIds[O-1]&&A.status==="completed"),isActive:N===r,onSkip:o},N)}),h.finalText&&h.taskIds.every(N=>n.some(O=>O.taskId===N&&O.status==="completed"))&&Y.jsx("p",{className:"mt-6 text-gray-400 italic",children:h.finalText})]})}),Y.jsx("div",{className:"pointer-events-none sticky bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-gray-900 to-transparent"})]})})]})}),Ap=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],OE=t=>{const e=Gt.find(n=>n.id===t);return!e||!e.taskIds.length?null:e.taskIds[e.taskIds.length-1]},Ip=(t,e)=>{var a;console.log("[getActiveTaskId] Called with:",{taskProgress:t.taskProgress,currentLessonId:e,pendingNextTask:t.pendingNextTask});const n=Gt.find(l=>l.id===e);if(!n)return console.log("No lesson found for id:",e),null;if(n.taskIds.length===0)return null;const r=t.taskProgress.find(l=>l.status==="completing");if(r)return console.log("Found completing task:",r.taskId),r.taskId;if(n.taskIds.every(l=>t.taskProgress.some(u=>u.taskId===l&&u.status==="completed")))return console.log("All tasks completed in lesson:",e),OE(e);if(t.pendingNextTask){if(t.activeKeysSize>0){const l=((a=t.taskProgress.find(u=>u.status==="active"))==null?void 0:a.taskId)??null;return console.log("Waiting for key releases before activating:",t.pendingNextTask),console.log("Staying with current task:",l),l}return console.log("Activating pending task:",t.pendingNextTask),t.pendingNextTask}const s=t.taskProgress.find(l=>l.status==="active");if(s&&n.taskIds.includes(s.taskId))return console.log("Found existing active task:",s.taskId),s.taskId;for(const l of n.taskIds){console.log("Checking task:",l);const u=t.taskProgress.find(h=>h.taskId===l);if(console.log("Task state:",u),(!u||u.status!=="completed")&&nw(l,t.taskProgress,e))return console.log(`Activating task: ${l}`),l}return console.log("No active task found - all completed"),null},AE=()=>{var X,K,P;const[t,e]=J.useState(0),[n,r]=J.useState("single"),[o,s]=J.useState("chromatic"),[a,l]=J.useState([]),[u,h]=J.useState(1),[d,g]=J.useState([]),[_,E]=J.useState(null),b=Wh(),{lessonId:N}=m_(),[O,w]=J.useState({taskProgress:[],pendingNextTask:null,activeKeysSize:0,sequenceIndices:{},taskPlayedNotes:{}}),[T,A]=J.useState(()=>Gt.reduce((G,ae)=>[...G,...ae.taskIds],[]).reduce((G,ae)=>({...G,[ae]:new Set}),{})),[R,I]=J.useState(new Set),[L,z]=J.useState(!1),[V,te]=J.useState(new Set),H=J.useCallback(W=>{console.log("[resetTaskState] Resetting state for task:",W),w(G=>({...G,sequenceIndices:{...G.sequenceIndices,[W]:0}})),A(G=>({...G,[W]:new Set}))},[]);J.useEffect(()=>{const W=parseInt(N||"1");console.log("[lessonChange] Changing to lesson:",W,{currentLessonId:u,lessonId:N});const G=Gt.find(oe=>oe.id===W),ae=G==null?void 0:G.taskIds[0];console.log("[lessonChange] Lesson info:",{currentLesson:G,firstTaskId:ae,hasTaskIds:G==null?void 0:G.taskIds.length}),!isNaN(W)&&Gt.some(oe=>oe.id===W)?(h(W),w(oe=>{console.log("[lessonChange] Previous state:",{taskProgress:oe.taskProgress,pendingNextTask:oe.pendingNextTask});const y=ae?[{taskId:ae,progress:0,status:"active"}]:[];return console.log("[lessonChange] Setting new state:",{newTaskProgress:y,firstTaskId:ae}),{...oe,taskProgress:y,pendingNextTask:null}}),G&&A(oe=>{const y={...oe};return G.taskIds.forEach(v=>{y[v]=new Set}),console.log("[lessonChange] Reset task played notes:",y),y})):(console.log("[lessonChange] Invalid lesson ID, redirecting to lesson 1"),W!==1&&b(`${fr}/1`,{replace:!0}))},[N,b]),J.useEffect(()=>{w(W=>({...W,activeKeysSize:R.size}))},[R.size]);const re=J.useCallback((W,G,ae)=>{const oe=Bt[W];if(!oe)return;const y=oe.checker,v=O.sequenceIndices[W]||0,i=O.taskPlayedNotes[W]||new Set;if(!(y.type==="sequence"?y.checkNote(G,ae,v):y.checkNote(G,ae,i)))return;const p=(y.type==="sequence"?y.getState(v):y.getState(i)).progress+1;w(m=>({...m,sequenceIndices:y.type==="sequence"?{...m.sequenceIndices,[W]:v+1}:m.sequenceIndices,taskPlayedNotes:y.type==="set"?{...m.taskPlayedNotes,[W]:new Set([...i,`${G}-${ae}`])}:m.taskPlayedNotes,taskProgress:m.taskProgress.map(k=>k.taskId===W?{...k,progress:p,status:p>=oe.total?"completing":"active"}:k)}))},[O]);J.useEffect(()=>{(async()=>{await _E(),z(!0)})()},[]);const ee=J.useCallback(async(W,G)=>{if(!L)return[];const ae=Ip(O,u);ae&&re(ae,W,G),console.log("[playNotes] Called with:",{note:W,octave:G,tonic:t}),console.log("[playNotes] Current state:",{taskProgress:O.taskProgress,activeKeys:Array.from(R),currentLessonId:u,sequenceIndices:O.sequenceIndices,taskPlayedNotes:T});const oe=(W-t+12)%12;console.log("Calculated relative note:",oe);const y=Mc[n].getNotes(oe,G);console.log("Notes to play:",y);const v=y.map(({note:i,octave:c})=>{const f=(i+t)%12,p=`${Ap[f]}${c}`;eo.triggerAttack(p,eE());const m={id:`${f}-${c}-${Date.now()}`,note:f,octave:c,startTime:Date.now(),endTime:null};return l(k=>[...k,m]),{note:f,octave:c}});return I(i=>new Set([...i,`${W}-${G}`])),v},[L,t,n,O.sequenceIndices,O.taskProgress,u,R,T,re]),pe=J.useCallback((W,G)=>{const ae=`${W}-${G}`;console.log(`[releaseNotes] Releasing ${ae}, active keys: ${R.size}`),I(v=>{const i=new Set(v);return i.delete(`${W}-${G}`),i});const oe=(W-t+12)%12;return Mc[n].getNotes(oe,G).map(({note:v,octave:i})=>{const c=(v+t)%12,f=`${Ap[c]}${i}`;return eo.triggerRelease(f),l(p=>p.map(m=>m.note===c&&m.octave===i&&!m.endTime?{...m,endTime:Date.now()}:m)),{note:c,octave:i}})},[t,n]),me=J.useCallback(()=>{console.log("stopProgression called, current ID:",_),E(null);const W=a.filter(G=>!G.endTime).map(({note:G,octave:ae})=>({note:G,octave:ae}));console.log("Releasing notes:",W),W.forEach(({note:G,octave:ae})=>{pe(G,ae)}),d.forEach(G=>clearTimeout(G)),g([])},[d,a,pe]),Se=J.useCallback(W=>{console.log("[lessonChange] Changing to lesson:",W,{currentLessonId:u,lessonId:W});const G=Gt.find(i=>i.id===W);if(!G)return;const ae=G.taskIds[0];console.log("[lessonChange] Lesson info:",{currentLesson:G,firstTaskId:ae,hasTaskIds:G.taskIds.length});const oe=G.taskIds.map(i=>({taskId:i,progress:0,status:"active"})),y={},v={};G.taskIds.forEach(i=>{const c=Bt[i];c&&(c.checker.type==="sequence"&&(y[i]=0),v[i]=new Set)}),w(i=>({...i,taskProgress:oe,sequenceIndices:y,pendingNextTask:null})),A(v),h(W),b(`${fr}/${W}`),console.log("[lessonChange] Reset states:",{newTaskProgress:oe,newSequenceIndices:y,newTaskPlayedNotes:v})},[u,b]);J.useEffect(()=>{const W=G=>{G.code==="Space"&&_&&!["INPUT","TEXTAREA"].includes(G.target.tagName)&&(G.preventDefault(),me())};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[_,me]),J.useEffect(()=>{O.pendingNextTask&&R.size===0&&(console.log("All keys released, finalizing task transition to:",O.pendingNextTask),w(W=>({...W,pendingNextTask:null})))},[O.pendingNextTask,R.size]),J.useEffect(()=>{O.pendingNextTask&&w(W=>!W.taskProgress.some(ae=>ae.taskId===O.pendingNextTask)&&O.pendingNextTask?(H(O.pendingNextTask),{...W,taskProgress:[...W.taskProgress,{taskId:O.pendingNextTask,progress:0,status:"active"}]}):W)},[O.pendingNextTask]);const ce=Ip(O,u),he=J.useCallback(async W=>{var G;console.log("Key down event:",{code:W.code,key:W.key,activeTaskId:ce,taskMapping:ce?(G=Bt[ce])==null?void 0:G.keyboardMapping:void 0})},[ce]);J.useEffect(()=>(window.addEventListener("keydown",he),()=>window.removeEventListener("keydown",he)),[he]),J.useEffect(()=>{console.log("[taskPlayedNotes] Resetting for lesson:",u);const W=Gt.find(G=>G.id===u);W&&A(G=>{const ae={...G};return W.taskIds.forEach(oe=>{ae[oe]=new Set}),ae})},[u]),J.useEffect(()=>{var W;if(console.log("[activeKeys effect] Size changed:",{size:R.size,completingTask:(W=O.taskProgress.find(G=>G.status==="completing"))==null?void 0:W.taskId}),R.size===0){const G=O.taskProgress.find(ae=>ae.status==="completing");G&&(console.log("[activeKeys effect] Completing task:",G.taskId),w(ae=>{const oe=rp(G.taskId);return{...ae,taskProgress:ae.taskProgress.map(y=>y.taskId===G.taskId?{...y,status:"completed"}:y),pendingNextTask:oe}}))}},[R.size]);const Q=J.useCallback(W=>{w(G=>{const ae=rp(W);return{...G,taskProgress:G.taskProgress.map(oe=>oe.taskId===W?{...oe,status:"completed",progress:Bt[W].total}:oe),pendingNextTask:ae}})},[]);return J.useEffect(()=>{const W=ae=>{te(oe=>new Set([...oe,ae.code]))},G=ae=>{te(oe=>{const y=new Set(oe);return y.delete(ae.code),y})};return window.addEventListener("keydown",W),window.addEventListener("keyup",G),()=>{window.removeEventListener("keydown",W),window.removeEventListener("keyup",G)}},[]),J.useEffect(()=>{if(console.log("[sequenceCheckers] Initializing for active task:",ce),ce){const W=Bt[ce];(W==null?void 0:W.checker.type)==="sequence"&&w(G=>typeof G.sequenceIndices[ce]>"u"?(console.log("[sequenceCheckers] Initializing new sequence checker for:",ce),{...G,sequenceIndices:{...G.sequenceIndices,[ce]:0}}):G)}},[ce]),Y.jsxs(Y.Fragment,{children:[Y.jsx(NE,{currentLessonId:u,onLessonChange:Se,taskProgress:O.taskProgress,activeTaskId:ce,onSkipTask:Q,keyboardState:{activeKeyCodes:V,taskKeyboardMapping:ce?(X=Bt[ce])==null?void 0:X.keyboardMapping:void 0}}),L?Y.jsx(aw,{tonic:t,setTonic:e,colorMode:ce&&((K=Bt[ce])==null?void 0:K.colorMode)||o,onColorModeChange:s,currentVoicing:n,onVoicingChange:r,playNotes:ee,releaseNotes:pe,fallingNotes:a,currentlyPlayingId:_,onStopPlaying:me,taskKeyboardMapping:ce?(P=Bt[ce])==null?void 0:P.keyboardMapping:void 0,activeTaskId:ce,taskProgress:O.taskProgress,taskPlayedNotes:O.taskPlayedNotes,state:O}):Y.jsx("div",{className:"fixed top-0 left-[600px] right-0 bottom-0 bg-black flex items-center justify-center text-white",children:"Loading piano sounds..."})]})};function IE(){return Y.jsx(F_,{children:Y.jsxs(I_,{children:[Y.jsx(Ma,{path:`${fr}/:lessonId`,element:Y.jsx(AE,{})}),Y.jsx(Ma,{path:fr,element:Y.jsx(Qf,{to:`${fr}/1`,replace:!0})}),Y.jsx(Ma,{path:"*",element:Y.jsx(Qf,{to:`${fr}/1`,replace:!0})})]})})}$g(document.getElementById("root")).render(Y.jsx(J.StrictMode,{children:Y.jsx(IE,{})}))});export default PE();
