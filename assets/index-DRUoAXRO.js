var hv=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ME=hv((u2,Zs)=>{function dv(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dp={exports:{}},kl={},Mp={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ds=Symbol.for("react.element"),pv=Symbol.for("react.portal"),mv=Symbol.for("react.fragment"),gv=Symbol.for("react.strict_mode"),yv=Symbol.for("react.profiler"),vv=Symbol.for("react.provider"),_v=Symbol.for("react.context"),wv=Symbol.for("react.forward_ref"),Sv=Symbol.for("react.suspense"),kv=Symbol.for("react.memo"),xv=Symbol.for("react.lazy"),Dd=Symbol.iterator;function Cv(t){return t===null||typeof t!="object"?null:(t=Dd&&t[Dd]||t["@@iterator"],typeof t=="function"?t:null)}var Rp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jp=Object.assign,Fp={};function Ti(t,e,n){this.props=t,this.context=e,this.refs=Fp,this.updater=n||Rp}Ti.prototype.isReactComponent={};Ti.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ti.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Lp(){}Lp.prototype=Ti.prototype;function qu(t,e,n){this.props=t,this.context=e,this.refs=Fp,this.updater=n||Rp}var Hu=qu.prototype=new Lp;Hu.constructor=qu;jp(Hu,Ti.prototype);Hu.isPureReactComponent=!0;var Md=Array.isArray,Kp=Object.prototype.hasOwnProperty,Gu={current:null},Vp={key:!0,ref:!0,__self:!0,__source:!0};function Bp(t,e,n){var r,o={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Kp.call(e,r)&&!Vp.hasOwnProperty(r)&&(o[r]=e[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];o.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:Ds,type:t,key:i,ref:a,props:o,_owner:Gu.current}}function Tv(t,e){return{$$typeof:Ds,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ds}function Ev(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Rd=/\/+/g;function oc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ev(""+t.key):e.toString(36)}function Sa(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ds:case pv:a=!0}}if(a)return a=t,o=o(a),t=r===""?"."+oc(a,0):r,Md(o)?(n="",t!=null&&(n=t.replace(Rd,"$&/")+"/"),Sa(o,e,n,"",function(h){return h})):o!=null&&(Qu(o)&&(o=Tv(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(Rd,"$&/")+"/")+t)),e.push(o)),1;if(a=0,r=r===""?".":r+":",Md(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+oc(i,l);a+=Sa(i,e,n,c,o)}else if(c=Cv(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+oc(i,l++),a+=Sa(i,e,n,c,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Js(t,e,n){if(t==null)return t;var r=[],o=0;return Sa(t,r,"","",function(i){return e.call(n,i,o++)}),r}function bv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var en={current:null},ka={transition:null},Nv={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:ka,ReactCurrentOwner:Gu};function zp(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:Js,forEach:function(t,e,n){Js(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Js(t,function(){e++}),e},toArray:function(t){return Js(t,function(e){return e})||[]},only:function(t){if(!Qu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ve.Component=Ti;Ve.Fragment=mv;Ve.Profiler=yv;Ve.PureComponent=qu;Ve.StrictMode=gv;Ve.Suspense=Sv;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nv;Ve.act=zp;Ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=jp({},t.props),o=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Gu.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Kp.call(e,c)&&!Vp.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Ds,type:t.type,key:o,ref:i,props:r,_owner:a}};Ve.createContext=function(t){return t={$$typeof:_v,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vv,_context:t},t.Consumer=t};Ve.createElement=Bp;Ve.createFactory=function(t){var e=Bp.bind(null,t);return e.type=t,e};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(t){return{$$typeof:wv,render:t}};Ve.isValidElement=Qu;Ve.lazy=function(t){return{$$typeof:xv,_payload:{_status:-1,_result:t},_init:bv}};Ve.memo=function(t,e){return{$$typeof:kv,type:t,compare:e===void 0?null:e}};Ve.startTransition=function(t){var e=ka.transition;ka.transition={};try{t()}finally{ka.transition=e}};Ve.unstable_act=zp;Ve.useCallback=function(t,e){return en.current.useCallback(t,e)};Ve.useContext=function(t){return en.current.useContext(t)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(t){return en.current.useDeferredValue(t)};Ve.useEffect=function(t,e){return en.current.useEffect(t,e)};Ve.useId=function(){return en.current.useId()};Ve.useImperativeHandle=function(t,e,n){return en.current.useImperativeHandle(t,e,n)};Ve.useInsertionEffect=function(t,e){return en.current.useInsertionEffect(t,e)};Ve.useLayoutEffect=function(t,e){return en.current.useLayoutEffect(t,e)};Ve.useMemo=function(t,e){return en.current.useMemo(t,e)};Ve.useReducer=function(t,e,n){return en.current.useReducer(t,e,n)};Ve.useRef=function(t){return en.current.useRef(t)};Ve.useState=function(t){return en.current.useState(t)};Ve.useSyncExternalStore=function(t,e,n){return en.current.useSyncExternalStore(t,e,n)};Ve.useTransition=function(){return en.current.useTransition()};Ve.version="18.3.1";Mp.exports=Ve;var J=Mp.exports;const fo=Pp(J),Ov=dv({__proto__:null,default:fo},[J]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av=J,Iv=Symbol.for("react.element"),Pv=Symbol.for("react.fragment"),Dv=Object.prototype.hasOwnProperty,Mv=Av.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rv={key:!0,ref:!0,__self:!0,__source:!0};function Up(t,e,n){var r,o={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Dv.call(e,r)&&!Rv.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:Iv,type:t,key:i,ref:a,props:o,_owner:Mv.current}}kl.Fragment=Pv;kl.jsx=Up;kl.jsxs=Up;Dp.exports=kl;var H=Dp.exports,Wp={exports:{}},Sn={},$p={exports:{}},qp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,re){var j=Q.length;Q.push(re);e:for(;0<j;){var O=j-1>>>1,W=Q[O];if(0<o(W,re))Q[O]=re,Q[j]=W,j=O;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var re=Q[0],j=Q.pop();if(j!==re){Q[0]=j;e:for(var O=0,W=Q.length,te=W>>>1;O<te;){var ce=2*(O+1)-1,ie=Q[ce],y=ce+1,v=Q[y];if(0>o(ie,j))y<W&&0>o(v,ie)?(Q[O]=v,Q[y]=j,O=y):(Q[O]=ie,Q[ce]=j,O=ce);else if(y<W&&0>o(v,j))Q[O]=v,Q[y]=j,O=y;else break e}}return re}function o(Q,re){var j=Q.sortIndex-re.sortIndex;return j!==0?j:Q.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],h=[],d=1,g=null,_=3,E=!1,b=!1,N=!1,A=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(Q){for(var re=n(h);re!==null;){if(re.callback===null)r(h);else if(re.startTime<=Q)r(h),re.sortIndex=re.expirationTime,e(c,re);else break;re=n(h)}}function R(Q){if(N=!1,I(Q),!b)if(n(c)!==null)b=!0,he(P);else{var re=n(h);re!==null&&ge(R,re.startTime-Q)}}function P(Q,re){b=!1,N&&(N=!1,w(V),V=-1),E=!0;var j=_;try{for(I(re),g=n(c);g!==null&&(!(g.expirationTime>re)||Q&&!X());){var O=g.callback;if(typeof O=="function"){g.callback=null,_=g.priorityLevel;var W=O(g.expirationTime<=re);re=t.unstable_now(),typeof W=="function"?g.callback=W:g===n(c)&&r(c),I(re)}else r(c);g=n(c)}if(g!==null)var te=!0;else{var ce=n(h);ce!==null&&ge(R,ce.startTime-re),te=!1}return te}finally{g=null,_=j,E=!1}}var L=!1,z=null,V=-1,Z=5,G=-1;function X(){return!(t.unstable_now()-G<Z)}function ee(){if(z!==null){var Q=t.unstable_now();G=Q;var re=!0;try{re=z(!0,Q)}finally{re?fe():(L=!1,z=null)}}else L=!1}var fe;if(typeof T=="function")fe=function(){T(ee)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Se=pe.port2;pe.port1.onmessage=ee,fe=function(){Se.postMessage(null)}}else fe=function(){A(ee,0)};function he(Q){z=Q,L||(L=!0,fe())}function ge(Q,re){V=A(function(){Q(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){b||E||(b=!0,he(P))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(Q){switch(_){case 1:case 2:case 3:var re=3;break;default:re=_}var j=_;_=re;try{return Q()}finally{_=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,re){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var j=_;_=Q;try{return re()}finally{_=j}},t.unstable_scheduleCallback=function(Q,re,j){var O=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?O+j:O):j=O,Q){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=j+W,Q={id:d++,callback:re,priorityLevel:Q,startTime:j,expirationTime:W,sortIndex:-1},j>O?(Q.sortIndex=j,e(h,Q),n(c)===null&&Q===n(h)&&(N?(w(V),V=-1):N=!0,ge(R,j-O))):(Q.sortIndex=W,e(c,Q),b||E||(b=!0,he(P))),Q},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(Q){var re=_;return function(){var j=_;_=re;try{return Q.apply(this,arguments)}finally{_=j}}}})(qp);$p.exports=qp;var jv=$p.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv=J,_n=jv;function de(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hp=new Set,hs={};function Oo(t,e){ui(t,e),ui(t+"Capture",e)}function ui(t,e){for(hs[t]=e,t=0;t<e.length;t++)Hp.add(e[t])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fc=Object.prototype.hasOwnProperty,Lv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jd={},Fd={};function Kv(t){return Fc.call(Fd,t)?!0:Fc.call(jd,t)?!1:Lv.test(t)?Fd[t]=!0:(jd[t]=!0,!1)}function Vv(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Bv(t,e,n,r){if(e===null||typeof e>"u"||Vv(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tn(t,e,n,r,o,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lt[t]=new tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lt[e]=new tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lt[t]=new tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lt[t]=new tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lt[t]=new tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lt[t]=new tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lt[t]=new tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lt[t]=new tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lt[t]=new tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yu=/[\-:]([a-z])/g;function Xu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yu,Xu);Lt[e]=new tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yu,Xu);Lt[e]=new tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yu,Xu);Lt[e]=new tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lt[t]=new tn(t,1,!1,t.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lt[t]=new tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zu(t,e,n,r){var o=Lt.hasOwnProperty(e)?Lt[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Bv(e,n,o,r)&&(n=null),r||o===null?Kv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Sr=Fv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ea=Symbol.for("react.element"),Bo=Symbol.for("react.portal"),zo=Symbol.for("react.fragment"),Ju=Symbol.for("react.strict_mode"),Lc=Symbol.for("react.profiler"),Gp=Symbol.for("react.provider"),Qp=Symbol.for("react.context"),eh=Symbol.for("react.forward_ref"),Kc=Symbol.for("react.suspense"),Vc=Symbol.for("react.suspense_list"),th=Symbol.for("react.memo"),Pr=Symbol.for("react.lazy"),Yp=Symbol.for("react.offscreen"),Ld=Symbol.iterator;function Ki(t){return t===null||typeof t!="object"?null:(t=Ld&&t[Ld]||t["@@iterator"],typeof t=="function"?t:null)}var dt=Object.assign,ic;function Yi(t){if(ic===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ic=e&&e[1]||""}return`
`+ic+t}var sc=!1;function ac(t,e){if(!t||sc)return"";sc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var o=h.stack.split(`
`),i=r.stack.split(`
`),a=o.length-1,l=i.length-1;1<=a&&0<=l&&o[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(o[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||o[a]!==i[l]){var c=`
`+o[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{sc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yi(t):""}function zv(t){switch(t.tag){case 5:return Yi(t.type);case 16:return Yi("Lazy");case 13:return Yi("Suspense");case 19:return Yi("SuspenseList");case 0:case 2:case 15:return t=ac(t.type,!1),t;case 11:return t=ac(t.type.render,!1),t;case 1:return t=ac(t.type,!0),t;default:return""}}function Bc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zo:return"Fragment";case Bo:return"Portal";case Lc:return"Profiler";case Ju:return"StrictMode";case Kc:return"Suspense";case Vc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Qp:return(t.displayName||"Context")+".Consumer";case Gp:return(t._context.displayName||"Context")+".Provider";case eh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case th:return e=t.displayName||null,e!==null?e:Bc(t.type)||"Memo";case Pr:e=t._payload,t=t._init;try{return Bc(t(e))}catch{}}return null}function Uv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bc(e);case 8:return e===Ju?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Wv(t){var e=Xp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ta(t){t._valueTracker||(t._valueTracker=Wv(t))}function Zp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Xp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function La(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zc(t,e){var n=e.checked;return dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Kd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Jp(t,e){e=e.checked,e!=null&&Zu(t,"checked",e,!1)}function Uc(t,e){Jp(t,e);var n=Yr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Wc(t,e.type,Yr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Wc(t,e,n){(e!=="number"||La(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xi=Array.isArray;function ni(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yr(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function $c(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(de(91));return dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(de(92));if(Xi(n)){if(1<n.length)throw Error(de(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yr(n)}}function em(t,e){var n=Yr(e.value),r=Yr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var na,nm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(na=na||document.createElement("div"),na.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=na.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ds(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$v=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(t){$v.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ts[e]=ts[t]})});function rm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ts.hasOwnProperty(t)&&ts[t]?(""+e).trim():e+"px"}function om(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=rm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var qv=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hc(t,e){if(e){if(qv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(de(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(de(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(de(61))}if(e.style!=null&&typeof e.style!="object")throw Error(de(62))}}function Gc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qc=null;function nh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yc=null,ri=null,oi=null;function Ud(t){if(t=js(t)){if(typeof Yc!="function")throw Error(de(280));var e=t.stateNode;e&&(e=bl(e),Yc(t.stateNode,t.type,e))}}function im(t){ri?oi?oi.push(t):oi=[t]:ri=t}function sm(){if(ri){var t=ri,e=oi;if(oi=ri=null,Ud(t),e)for(t=0;t<e.length;t++)Ud(e[t])}}function am(t,e){return t(e)}function lm(){}var lc=!1;function cm(t,e,n){if(lc)return t(e,n);lc=!0;try{return am(t,e,n)}finally{lc=!1,(ri!==null||oi!==null)&&(lm(),sm())}}function fs(t,e){var n=t.stateNode;if(n===null)return null;var r=bl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(de(231,e,typeof n));return n}var Xc=!1;if(gr)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){Xc=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch{Xc=!1}function Hv(t,e,n,r,o,i,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(d){this.onError(d)}}var ns=!1,Ka=null,Va=!1,Zc=null,Gv={onError:function(t){ns=!0,Ka=t}};function Qv(t,e,n,r,o,i,a,l,c){ns=!1,Ka=null,Hv.apply(Gv,arguments)}function Yv(t,e,n,r,o,i,a,l,c){if(Qv.apply(this,arguments),ns){if(ns){var h=Ka;ns=!1,Ka=null}else throw Error(de(198));Va||(Va=!0,Zc=h)}}function Ao(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function um(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wd(t){if(Ao(t)!==t)throw Error(de(188))}function Xv(t){var e=t.alternate;if(!e){if(e=Ao(t),e===null)throw Error(de(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Wd(o),t;if(i===r)return Wd(o),e;i=i.sibling}throw Error(de(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a)throw Error(de(189))}}if(n.alternate!==r)throw Error(de(190))}if(n.tag!==3)throw Error(de(188));return n.stateNode.current===n?t:e}function hm(t){return t=Xv(t),t!==null?dm(t):null}function dm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dm(t);if(e!==null)return e;t=t.sibling}return null}var fm=_n.unstable_scheduleCallback,$d=_n.unstable_cancelCallback,Zv=_n.unstable_shouldYield,Jv=_n.unstable_requestPaint,yt=_n.unstable_now,e0=_n.unstable_getCurrentPriorityLevel,rh=_n.unstable_ImmediatePriority,pm=_n.unstable_UserBlockingPriority,Ba=_n.unstable_NormalPriority,t0=_n.unstable_LowPriority,mm=_n.unstable_IdlePriority,xl=null,er=null;function n0(t){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(xl,t,void 0,(t.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:i0,r0=Math.log,o0=Math.LN2;function i0(t){return t>>>=0,t===0?32:31-(r0(t)/o0|0)|0}var ra=64,oa=4194304;function Zi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function za(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~o;l!==0?r=Zi(l):(i&=a,i!==0&&(r=Zi(i)))}else a=n&~o,a!==0?r=Zi(a):i!==0&&(r=Zi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zn(e),o=1<<n,r|=t[n],e&=~o;return r}function s0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-zn(i),l=1<<a,c=o[a];c===-1?(!(l&n)||l&r)&&(o[a]=s0(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Jc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gm(){var t=ra;return ra<<=1,!(ra&4194240)&&(ra=64),t}function cc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ms(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zn(e),t[e]=n}function l0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-zn(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function oh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zn(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var Ge=0;function ym(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vm,ih,_m,wm,Sm,eu=!1,ia=[],Vr=null,Br=null,zr=null,ps=new Map,ms=new Map,Rr=[],c0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qd(t,e){switch(t){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":ps.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ms.delete(e.pointerId)}}function Bi(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=js(e),e!==null&&ih(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function u0(t,e,n,r,o){switch(e){case"focusin":return Vr=Bi(Vr,t,e,n,r,o),!0;case"dragenter":return Br=Bi(Br,t,e,n,r,o),!0;case"mouseover":return zr=Bi(zr,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return ps.set(i,Bi(ps.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,ms.set(i,Bi(ms.get(i)||null,t,e,n,r,o)),!0}return!1}function km(t){var e=po(t.target);if(e!==null){var n=Ao(e);if(n!==null){if(e=n.tag,e===13){if(e=um(n),e!==null){t.blockedOn=e,Sm(t.priority,function(){_m(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=tu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qc=r,n.target.dispatchEvent(r),Qc=null}else return e=js(n),e!==null&&ih(e),t.blockedOn=n,!1;e.shift()}return!0}function Hd(t,e,n){xa(t)&&n.delete(e)}function h0(){eu=!1,Vr!==null&&xa(Vr)&&(Vr=null),Br!==null&&xa(Br)&&(Br=null),zr!==null&&xa(zr)&&(zr=null),ps.forEach(Hd),ms.forEach(Hd)}function zi(t,e){t.blockedOn===e&&(t.blockedOn=null,eu||(eu=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,h0)))}function gs(t){function e(o){return zi(o,t)}if(0<ia.length){zi(ia[0],t);for(var n=1;n<ia.length;n++){var r=ia[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vr!==null&&zi(Vr,t),Br!==null&&zi(Br,t),zr!==null&&zi(zr,t),ps.forEach(e),ms.forEach(e),n=0;n<Rr.length;n++)r=Rr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Rr.length&&(n=Rr[0],n.blockedOn===null);)km(n),n.blockedOn===null&&Rr.shift()}var ii=Sr.ReactCurrentBatchConfig,Ua=!0;function d0(t,e,n,r){var o=Ge,i=ii.transition;ii.transition=null;try{Ge=1,sh(t,e,n,r)}finally{Ge=o,ii.transition=i}}function f0(t,e,n,r){var o=Ge,i=ii.transition;ii.transition=null;try{Ge=4,sh(t,e,n,r)}finally{Ge=o,ii.transition=i}}function sh(t,e,n,r){if(Ua){var o=tu(t,e,n,r);if(o===null)_c(t,e,r,Wa,n),qd(t,r);else if(u0(o,t,e,n,r))r.stopPropagation();else if(qd(t,r),e&4&&-1<c0.indexOf(t)){for(;o!==null;){var i=js(o);if(i!==null&&vm(i),i=tu(t,e,n,r),i===null&&_c(t,e,r,Wa,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else _c(t,e,r,null,n)}}var Wa=null;function tu(t,e,n,r){if(Wa=null,t=nh(r),t=po(t),t!==null)if(e=Ao(t),e===null)t=null;else if(n=e.tag,n===13){if(t=um(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wa=t,null}function xm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e0()){case rh:return 1;case pm:return 4;case Ba:case t0:return 16;case mm:return 536870912;default:return 16}default:return 16}}var Fr=null,ah=null,Ca=null;function Cm(){if(Ca)return Ca;var t,e=ah,n=e.length,r,o="value"in Fr?Fr.value:Fr.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===o[i-r];r++);return Ca=o.slice(t,1<r?1-r:void 0)}function Ta(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sa(){return!0}function Gd(){return!1}function kn(t){function e(n,r,o,i,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?sa:Gd,this.isPropagationStopped=Gd,this}return dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),e}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lh=kn(Ei),Rs=dt({},Ei,{view:0,detail:0}),p0=kn(Rs),uc,hc,Ui,Cl=dt({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ch,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ui&&(Ui&&t.type==="mousemove"?(uc=t.screenX-Ui.screenX,hc=t.screenY-Ui.screenY):hc=uc=0,Ui=t),uc)},movementY:function(t){return"movementY"in t?t.movementY:hc}}),Qd=kn(Cl),m0=dt({},Cl,{dataTransfer:0}),g0=kn(m0),y0=dt({},Rs,{relatedTarget:0}),dc=kn(y0),v0=dt({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),_0=kn(v0),w0=dt({},Ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),S0=kn(w0),k0=dt({},Ei,{data:0}),Yd=kn(k0),x0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=T0[t])?!!e[t]:!1}function ch(){return E0}var b0=dt({},Rs,{key:function(t){if(t.key){var e=x0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ta(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?C0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ch,charCode:function(t){return t.type==="keypress"?Ta(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ta(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),N0=kn(b0),O0=dt({},Cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xd=kn(O0),A0=dt({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ch}),I0=kn(A0),P0=dt({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),D0=kn(P0),M0=dt({},Cl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),R0=kn(M0),j0=[9,13,27,32],uh=gr&&"CompositionEvent"in window,rs=null;gr&&"documentMode"in document&&(rs=document.documentMode);var F0=gr&&"TextEvent"in window&&!rs,Tm=gr&&(!uh||rs&&8<rs&&11>=rs),Zd=" ",Jd=!1;function Em(t,e){switch(t){case"keyup":return j0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Uo=!1;function L0(t,e){switch(t){case"compositionend":return bm(e);case"keypress":return e.which!==32?null:(Jd=!0,Zd);case"textInput":return t=e.data,t===Zd&&Jd?null:t;default:return null}}function K0(t,e){if(Uo)return t==="compositionend"||!uh&&Em(t,e)?(t=Cm(),Ca=ah=Fr=null,Uo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tm&&e.locale!=="ko"?null:e.data;default:return null}}var V0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ef(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!V0[t.type]:e==="textarea"}function Nm(t,e,n,r){im(r),e=$a(e,"onChange"),0<e.length&&(n=new lh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var os=null,ys=null;function B0(t){Km(t,0)}function Tl(t){var e=qo(t);if(Zp(e))return t}function z0(t,e){if(t==="change")return e}var Om=!1;if(gr){var fc;if(gr){var pc="oninput"in document;if(!pc){var tf=document.createElement("div");tf.setAttribute("oninput","return;"),pc=typeof tf.oninput=="function"}fc=pc}else fc=!1;Om=fc&&(!document.documentMode||9<document.documentMode)}function nf(){os&&(os.detachEvent("onpropertychange",Am),ys=os=null)}function Am(t){if(t.propertyName==="value"&&Tl(ys)){var e=[];Nm(e,ys,t,nh(t)),cm(B0,e)}}function U0(t,e,n){t==="focusin"?(nf(),os=e,ys=n,os.attachEvent("onpropertychange",Am)):t==="focusout"&&nf()}function W0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tl(ys)}function $0(t,e){if(t==="click")return Tl(e)}function q0(t,e){if(t==="input"||t==="change")return Tl(e)}function H0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $n=typeof Object.is=="function"?Object.is:H0;function vs(t,e){if($n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Fc.call(e,o)||!$n(t[o],e[o]))return!1}return!0}function rf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function of(t,e){var n=rf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rf(n)}}function Im(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Im(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Pm(){for(var t=window,e=La();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=La(t.document)}return e}function hh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function G0(t){var e=Pm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Im(n.ownerDocument.documentElement,n)){if(r!==null&&hh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=of(n,i);var a=of(n,r);o&&a&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Q0=gr&&"documentMode"in document&&11>=document.documentMode,Wo=null,nu=null,is=null,ru=!1;function sf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ru||Wo==null||Wo!==La(r)||(r=Wo,"selectionStart"in r&&hh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),is&&vs(is,r)||(is=r,r=$a(nu,"onSelect"),0<r.length&&(e=new lh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wo)))}function aa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $o={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionend:aa("Transition","TransitionEnd")},mc={},Dm={};gr&&(Dm=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function El(t){if(mc[t])return mc[t];if(!$o[t])return t;var e=$o[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Dm)return mc[t]=e[n];return t}var Mm=El("animationend"),Rm=El("animationiteration"),jm=El("animationstart"),Fm=El("transitionend"),Lm=new Map,af="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(t,e){Lm.set(t,e),Oo(e,[t])}for(var gc=0;gc<af.length;gc++){var yc=af[gc],Y0=yc.toLowerCase(),X0=yc[0].toUpperCase()+yc.slice(1);to(Y0,"on"+X0)}to(Mm,"onAnimationEnd");to(Rm,"onAnimationIteration");to(jm,"onAnimationStart");to("dblclick","onDoubleClick");to("focusin","onFocus");to("focusout","onBlur");to(Fm,"onTransitionEnd");ui("onMouseEnter",["mouseout","mouseover"]);ui("onMouseLeave",["mouseout","mouseover"]);ui("onPointerEnter",["pointerout","pointerover"]);ui("onPointerLeave",["pointerout","pointerover"]);Oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ji));function lf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Yv(r,e,void 0,t),t.currentTarget=null}function Km(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==i&&o.isPropagationStopped())break e;lf(o,l,h),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==i&&o.isPropagationStopped())break e;lf(o,l,h),i=c}}}if(Va)throw t=Zc,Va=!1,Zc=null,t}function nt(t,e){var n=e[lu];n===void 0&&(n=e[lu]=new Set);var r=t+"__bubble";n.has(r)||(Vm(e,t,2,!1),n.add(r))}function vc(t,e,n){var r=0;e&&(r|=4),Vm(n,t,r,e)}var la="_reactListening"+Math.random().toString(36).slice(2);function _s(t){if(!t[la]){t[la]=!0,Hp.forEach(function(n){n!=="selectionchange"&&(Z0.has(n)||vc(n,!1,t),vc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[la]||(e[la]=!0,vc("selectionchange",!1,e))}}function Vm(t,e,n,r){switch(xm(e)){case 1:var o=d0;break;case 4:o=f0;break;default:o=sh}n=o.bind(null,e,n,t),o=void 0,!Xc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function _c(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;a=a.return}for(;l!==null;){if(a=po(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}cm(function(){var h=i,d=nh(n),g=[];e:{var _=Lm.get(t);if(_!==void 0){var E=lh,b=t;switch(t){case"keypress":if(Ta(n)===0)break e;case"keydown":case"keyup":E=N0;break;case"focusin":b="focus",E=dc;break;case"focusout":b="blur",E=dc;break;case"beforeblur":case"afterblur":E=dc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=g0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=I0;break;case Mm:case Rm:case jm:E=_0;break;case Fm:E=D0;break;case"scroll":E=p0;break;case"wheel":E=R0;break;case"copy":case"cut":case"paste":E=S0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Xd}var N=(e&4)!==0,A=!N&&t==="scroll",w=N?_!==null?_+"Capture":null:_;N=[];for(var T=h,I;T!==null;){I=T;var R=I.stateNode;if(I.tag===5&&R!==null&&(I=R,w!==null&&(R=fs(T,w),R!=null&&N.push(ws(T,R,I)))),A)break;T=T.return}0<N.length&&(_=new E(_,b,null,n,d),g.push({event:_,listeners:N}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",_&&n!==Qc&&(b=n.relatedTarget||n.fromElement)&&(po(b)||b[yr]))break e;if((E||_)&&(_=d.window===d?d:(_=d.ownerDocument)?_.defaultView||_.parentWindow:window,E?(b=n.relatedTarget||n.toElement,E=h,b=b?po(b):null,b!==null&&(A=Ao(b),b!==A||b.tag!==5&&b.tag!==6)&&(b=null)):(E=null,b=h),E!==b)){if(N=Qd,R="onMouseLeave",w="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(N=Xd,R="onPointerLeave",w="onPointerEnter",T="pointer"),A=E==null?_:qo(E),I=b==null?_:qo(b),_=new N(R,T+"leave",E,n,d),_.target=A,_.relatedTarget=I,R=null,po(d)===h&&(N=new N(w,T+"enter",b,n,d),N.target=I,N.relatedTarget=A,R=N),A=R,E&&b)t:{for(N=E,w=b,T=0,I=N;I;I=Fo(I))T++;for(I=0,R=w;R;R=Fo(R))I++;for(;0<T-I;)N=Fo(N),T--;for(;0<I-T;)w=Fo(w),I--;for(;T--;){if(N===w||w!==null&&N===w.alternate)break t;N=Fo(N),w=Fo(w)}N=null}else N=null;E!==null&&cf(g,_,E,N,!1),b!==null&&A!==null&&cf(g,A,b,N,!0)}}e:{if(_=h?qo(h):window,E=_.nodeName&&_.nodeName.toLowerCase(),E==="select"||E==="input"&&_.type==="file")var P=z0;else if(ef(_))if(Om)P=q0;else{P=W0;var L=U0}else(E=_.nodeName)&&E.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(P=$0);if(P&&(P=P(t,h))){Nm(g,P,n,d);break e}L&&L(t,_,h),t==="focusout"&&(L=_._wrapperState)&&L.controlled&&_.type==="number"&&Wc(_,"number",_.value)}switch(L=h?qo(h):window,t){case"focusin":(ef(L)||L.contentEditable==="true")&&(Wo=L,nu=h,is=null);break;case"focusout":is=nu=Wo=null;break;case"mousedown":ru=!0;break;case"contextmenu":case"mouseup":case"dragend":ru=!1,sf(g,n,d);break;case"selectionchange":if(Q0)break;case"keydown":case"keyup":sf(g,n,d)}var z;if(uh)e:{switch(t){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else Uo?Em(t,n)&&(V="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(Tm&&n.locale!=="ko"&&(Uo||V!=="onCompositionStart"?V==="onCompositionEnd"&&Uo&&(z=Cm()):(Fr=d,ah="value"in Fr?Fr.value:Fr.textContent,Uo=!0)),L=$a(h,V),0<L.length&&(V=new Yd(V,t,null,n,d),g.push({event:V,listeners:L}),z?V.data=z:(z=bm(n),z!==null&&(V.data=z)))),(z=F0?L0(t,n):K0(t,n))&&(h=$a(h,"onBeforeInput"),0<h.length&&(d=new Yd("onBeforeInput","beforeinput",null,n,d),g.push({event:d,listeners:h}),d.data=z))}Km(g,e)})}function ws(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $a(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=fs(t,n),i!=null&&r.unshift(ws(t,i,o)),i=fs(t,e),i!=null&&r.push(ws(t,i,o))),t=t.return}return r}function Fo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cf(t,e,n,r,o){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,o?(c=fs(n,i),c!=null&&a.unshift(ws(n,c,l))):o||(c=fs(n,i),c!=null&&a.push(ws(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var J0=/\r\n?/g,e1=/\u0000|\uFFFD/g;function uf(t){return(typeof t=="string"?t:""+t).replace(J0,`
`).replace(e1,"")}function ca(t,e,n){if(e=uf(e),uf(t)!==e&&n)throw Error(de(425))}function qa(){}var ou=null,iu=null;function su(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var au=typeof setTimeout=="function"?setTimeout:void 0,t1=typeof clearTimeout=="function"?clearTimeout:void 0,hf=typeof Promise=="function"?Promise:void 0,n1=typeof queueMicrotask=="function"?queueMicrotask:typeof hf<"u"?function(t){return hf.resolve(null).then(t).catch(r1)}:au;function r1(t){setTimeout(function(){throw t})}function wc(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),gs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);gs(e)}function Ur(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function df(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bi=Math.random().toString(36).slice(2),Jn="__reactFiber$"+bi,Ss="__reactProps$"+bi,yr="__reactContainer$"+bi,lu="__reactEvents$"+bi,o1="__reactListeners$"+bi,i1="__reactHandles$"+bi;function po(t){var e=t[Jn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yr]||n[Jn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=df(t);t!==null;){if(n=t[Jn])return n;t=df(t)}return e}t=n,n=t.parentNode}return null}function js(t){return t=t[Jn]||t[yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(de(33))}function bl(t){return t[Ss]||null}var cu=[],Ho=-1;function no(t){return{current:t}}function ot(t){0>Ho||(t.current=cu[Ho],cu[Ho]=null,Ho--)}function Je(t,e){Ho++,cu[Ho]=t.current,t.current=e}var Xr={},Wt=no(Xr),an=no(!1),So=Xr;function hi(t,e){var n=t.type.contextTypes;if(!n)return Xr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function ln(t){return t=t.childContextTypes,t!=null}function Ha(){ot(an),ot(Wt)}function ff(t,e,n){if(Wt.current!==Xr)throw Error(de(168));Je(Wt,e),Je(an,n)}function Bm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(de(108,Uv(t)||"Unknown",o));return dt({},n,r)}function Ga(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xr,So=Wt.current,Je(Wt,t),Je(an,an.current),!0}function pf(t,e,n){var r=t.stateNode;if(!r)throw Error(de(169));n?(t=Bm(t,e,So),r.__reactInternalMemoizedMergedChildContext=t,ot(an),ot(Wt),Je(Wt,t)):ot(an),Je(an,n)}var ur=null,Nl=!1,Sc=!1;function zm(t){ur===null?ur=[t]:ur.push(t)}function s1(t){Nl=!0,zm(t)}function ro(){if(!Sc&&ur!==null){Sc=!0;var t=0,e=Ge;try{var n=ur;for(Ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ur=null,Nl=!1}catch(o){throw ur!==null&&(ur=ur.slice(t+1)),fm(rh,ro),o}finally{Ge=e,Sc=!1}}return null}var Go=[],Qo=0,Qa=null,Ya=0,Cn=[],Tn=0,ko=null,hr=1,dr="";function lo(t,e){Go[Qo++]=Ya,Go[Qo++]=Qa,Qa=t,Ya=e}function Um(t,e,n){Cn[Tn++]=hr,Cn[Tn++]=dr,Cn[Tn++]=ko,ko=t;var r=hr;t=dr;var o=32-zn(r)-1;r&=~(1<<o),n+=1;var i=32-zn(e)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,hr=1<<32-zn(e)+o|n<<o|r,dr=i+t}else hr=1<<i|n<<o|r,dr=t}function dh(t){t.return!==null&&(lo(t,1),Um(t,1,0))}function fh(t){for(;t===Qa;)Qa=Go[--Qo],Go[Qo]=null,Ya=Go[--Qo],Go[Qo]=null;for(;t===ko;)ko=Cn[--Tn],Cn[Tn]=null,dr=Cn[--Tn],Cn[Tn]=null,hr=Cn[--Tn],Cn[Tn]=null}var vn=null,yn=null,lt=!1,Kn=null;function Wm(t,e){var n=En(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vn=t,yn=Ur(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vn=t,yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ko!==null?{id:hr,overflow:dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=En(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vn=t,yn=null,!0):!1;default:return!1}}function uu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hu(t){if(lt){var e=yn;if(e){var n=e;if(!mf(t,e)){if(uu(t))throw Error(de(418));e=Ur(n.nextSibling);var r=vn;e&&mf(t,e)?Wm(r,n):(t.flags=t.flags&-4097|2,lt=!1,vn=t)}}else{if(uu(t))throw Error(de(418));t.flags=t.flags&-4097|2,lt=!1,vn=t}}}function gf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vn=t}function ua(t){if(t!==vn)return!1;if(!lt)return gf(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!su(t.type,t.memoizedProps)),e&&(e=yn)){if(uu(t))throw $m(),Error(de(418));for(;e;)Wm(t,e),e=Ur(e.nextSibling)}if(gf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(de(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yn=Ur(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yn=null}}else yn=vn?Ur(t.stateNode.nextSibling):null;return!0}function $m(){for(var t=yn;t;)t=Ur(t.nextSibling)}function di(){yn=vn=null,lt=!1}function ph(t){Kn===null?Kn=[t]:Kn.push(t)}var a1=Sr.ReactCurrentBatchConfig;function Wi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(de(309));var r=n.stateNode}if(!r)throw Error(de(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=o.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(de(284));if(!n._owner)throw Error(de(290,t))}return t}function ha(t,e){throw t=Object.prototype.toString.call(e),Error(de(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yf(t){var e=t._init;return e(t._payload)}function qm(t){function e(w,T){if(t){var I=w.deletions;I===null?(w.deletions=[T],w.flags|=16):I.push(T)}}function n(w,T){if(!t)return null;for(;T!==null;)e(w,T),T=T.sibling;return null}function r(w,T){for(w=new Map;T!==null;)T.key!==null?w.set(T.key,T):w.set(T.index,T),T=T.sibling;return w}function o(w,T){return w=Hr(w,T),w.index=0,w.sibling=null,w}function i(w,T,I){return w.index=I,t?(I=w.alternate,I!==null?(I=I.index,I<T?(w.flags|=2,T):I):(w.flags|=2,T)):(w.flags|=1048576,T)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,T,I,R){return T===null||T.tag!==6?(T=Nc(I,w.mode,R),T.return=w,T):(T=o(T,I),T.return=w,T)}function c(w,T,I,R){var P=I.type;return P===zo?d(w,T,I.props.children,R,I.key):T!==null&&(T.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Pr&&yf(P)===T.type)?(R=o(T,I.props),R.ref=Wi(w,T,I),R.return=w,R):(R=Pa(I.type,I.key,I.props,null,w.mode,R),R.ref=Wi(w,T,I),R.return=w,R)}function h(w,T,I,R){return T===null||T.tag!==4||T.stateNode.containerInfo!==I.containerInfo||T.stateNode.implementation!==I.implementation?(T=Oc(I,w.mode,R),T.return=w,T):(T=o(T,I.children||[]),T.return=w,T)}function d(w,T,I,R,P){return T===null||T.tag!==7?(T=_o(I,w.mode,R,P),T.return=w,T):(T=o(T,I),T.return=w,T)}function g(w,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Nc(""+T,w.mode,I),T.return=w,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ea:return I=Pa(T.type,T.key,T.props,null,w.mode,I),I.ref=Wi(w,null,T),I.return=w,I;case Bo:return T=Oc(T,w.mode,I),T.return=w,T;case Pr:var R=T._init;return g(w,R(T._payload),I)}if(Xi(T)||Ki(T))return T=_o(T,w.mode,I,null),T.return=w,T;ha(w,T)}return null}function _(w,T,I,R){var P=T!==null?T.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return P!==null?null:l(w,T,""+I,R);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ea:return I.key===P?c(w,T,I,R):null;case Bo:return I.key===P?h(w,T,I,R):null;case Pr:return P=I._init,_(w,T,P(I._payload),R)}if(Xi(I)||Ki(I))return P!==null?null:d(w,T,I,R,null);ha(w,I)}return null}function E(w,T,I,R,P){if(typeof R=="string"&&R!==""||typeof R=="number")return w=w.get(I)||null,l(T,w,""+R,P);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case ea:return w=w.get(R.key===null?I:R.key)||null,c(T,w,R,P);case Bo:return w=w.get(R.key===null?I:R.key)||null,h(T,w,R,P);case Pr:var L=R._init;return E(w,T,I,L(R._payload),P)}if(Xi(R)||Ki(R))return w=w.get(I)||null,d(T,w,R,P,null);ha(T,R)}return null}function b(w,T,I,R){for(var P=null,L=null,z=T,V=T=0,Z=null;z!==null&&V<I.length;V++){z.index>V?(Z=z,z=null):Z=z.sibling;var G=_(w,z,I[V],R);if(G===null){z===null&&(z=Z);break}t&&z&&G.alternate===null&&e(w,z),T=i(G,T,V),L===null?P=G:L.sibling=G,L=G,z=Z}if(V===I.length)return n(w,z),lt&&lo(w,V),P;if(z===null){for(;V<I.length;V++)z=g(w,I[V],R),z!==null&&(T=i(z,T,V),L===null?P=z:L.sibling=z,L=z);return lt&&lo(w,V),P}for(z=r(w,z);V<I.length;V++)Z=E(z,w,V,I[V],R),Z!==null&&(t&&Z.alternate!==null&&z.delete(Z.key===null?V:Z.key),T=i(Z,T,V),L===null?P=Z:L.sibling=Z,L=Z);return t&&z.forEach(function(X){return e(w,X)}),lt&&lo(w,V),P}function N(w,T,I,R){var P=Ki(I);if(typeof P!="function")throw Error(de(150));if(I=P.call(I),I==null)throw Error(de(151));for(var L=P=null,z=T,V=T=0,Z=null,G=I.next();z!==null&&!G.done;V++,G=I.next()){z.index>V?(Z=z,z=null):Z=z.sibling;var X=_(w,z,G.value,R);if(X===null){z===null&&(z=Z);break}t&&z&&X.alternate===null&&e(w,z),T=i(X,T,V),L===null?P=X:L.sibling=X,L=X,z=Z}if(G.done)return n(w,z),lt&&lo(w,V),P;if(z===null){for(;!G.done;V++,G=I.next())G=g(w,G.value,R),G!==null&&(T=i(G,T,V),L===null?P=G:L.sibling=G,L=G);return lt&&lo(w,V),P}for(z=r(w,z);!G.done;V++,G=I.next())G=E(z,w,V,G.value,R),G!==null&&(t&&G.alternate!==null&&z.delete(G.key===null?V:G.key),T=i(G,T,V),L===null?P=G:L.sibling=G,L=G);return t&&z.forEach(function(ee){return e(w,ee)}),lt&&lo(w,V),P}function A(w,T,I,R){if(typeof I=="object"&&I!==null&&I.type===zo&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case ea:e:{for(var P=I.key,L=T;L!==null;){if(L.key===P){if(P=I.type,P===zo){if(L.tag===7){n(w,L.sibling),T=o(L,I.props.children),T.return=w,w=T;break e}}else if(L.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Pr&&yf(P)===L.type){n(w,L.sibling),T=o(L,I.props),T.ref=Wi(w,L,I),T.return=w,w=T;break e}n(w,L);break}else e(w,L);L=L.sibling}I.type===zo?(T=_o(I.props.children,w.mode,R,I.key),T.return=w,w=T):(R=Pa(I.type,I.key,I.props,null,w.mode,R),R.ref=Wi(w,T,I),R.return=w,w=R)}return a(w);case Bo:e:{for(L=I.key;T!==null;){if(T.key===L)if(T.tag===4&&T.stateNode.containerInfo===I.containerInfo&&T.stateNode.implementation===I.implementation){n(w,T.sibling),T=o(T,I.children||[]),T.return=w,w=T;break e}else{n(w,T);break}else e(w,T);T=T.sibling}T=Oc(I,w.mode,R),T.return=w,w=T}return a(w);case Pr:return L=I._init,A(w,T,L(I._payload),R)}if(Xi(I))return b(w,T,I,R);if(Ki(I))return N(w,T,I,R);ha(w,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,T!==null&&T.tag===6?(n(w,T.sibling),T=o(T,I),T.return=w,w=T):(n(w,T),T=Nc(I,w.mode,R),T.return=w,w=T),a(w)):n(w,T)}return A}var fi=qm(!0),Hm=qm(!1),Xa=no(null),Za=null,Yo=null,mh=null;function gh(){mh=Yo=Za=null}function yh(t){var e=Xa.current;ot(Xa),t._currentValue=e}function du(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function si(t,e){Za=t,mh=Yo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sn=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(mh!==t)if(t={context:t,memoizedValue:e,next:null},Yo===null){if(Za===null)throw Error(de(308));Yo=t,Za.dependencies={lanes:0,firstContext:t}}else Yo=Yo.next=t;return e}var mo=null;function vh(t){mo===null?mo=[t]:mo.push(t)}function Gm(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,vh(e)):(n.next=o.next,o.next=n),e.interleaved=n,vr(t,r)}function vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Dr=!1;function _h(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$e&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,vr(t,n)}return o=r.interleaved,o===null?(e.next=e,vh(r)):(e.next=o.next,o.next=e),r.interleaved=e,vr(t,n)}function Ea(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oh(t,n)}}function vf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ja(t,e,n,r){var o=t.updateQueue;Dr=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?i=h:a.next=h,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=c))}if(i!==null){var g=o.baseState;a=0,d=h=c=null,l=i;do{var _=l.lane,E=l.eventTime;if((r&_)===_){d!==null&&(d=d.next={eventTime:E,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,N=l;switch(_=e,E=n,N.tag){case 1:if(b=N.payload,typeof b=="function"){g=b.call(E,g,_);break e}g=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=N.payload,_=typeof b=="function"?b.call(E,g,_):b,_==null)break e;g=dt({},g,_);break e;case 2:Dr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,_=o.effects,_===null?o.effects=[l]:_.push(l))}else E={eventTime:E,lane:_,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=E,c=g):d=d.next=E,a|=_;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;_=l,l=_.next,_.next=null,o.lastBaseUpdate=_,o.shared.pending=null}}while(!0);if(d===null&&(c=g),o.baseState=c,o.firstBaseUpdate=h,o.lastBaseUpdate=d,e=o.shared.interleaved,e!==null){o=e;do a|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);Co|=a,t.lanes=a,t.memoizedState=g}}function _f(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(de(191,o));o.call(r)}}}var Fs={},tr=no(Fs),ks=no(Fs),xs=no(Fs);function go(t){if(t===Fs)throw Error(de(174));return t}function wh(t,e){switch(Je(xs,e),Je(ks,t),Je(tr,Fs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qc(e,t)}ot(tr),Je(tr,e)}function pi(){ot(tr),ot(ks),ot(xs)}function Ym(t){go(xs.current);var e=go(tr.current),n=qc(e,t.type);e!==n&&(Je(ks,t),Je(tr,n))}function Sh(t){ks.current===t&&(ot(tr),ot(ks))}var ut=no(0);function el(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kc=[];function kh(){for(var t=0;t<kc.length;t++)kc[t]._workInProgressVersionPrimary=null;kc.length=0}var ba=Sr.ReactCurrentDispatcher,xc=Sr.ReactCurrentBatchConfig,xo=0,ht=null,Et=null,At=null,tl=!1,ss=!1,Cs=0,l1=0;function Vt(){throw Error(de(321))}function xh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$n(t[n],e[n]))return!1;return!0}function Ch(t,e,n,r,o,i){if(xo=i,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ba.current=t===null||t.memoizedState===null?d1:f1,t=n(r,o),ss){i=0;do{if(ss=!1,Cs=0,25<=i)throw Error(de(301));i+=1,At=Et=null,e.updateQueue=null,ba.current=p1,t=n(r,o)}while(ss)}if(ba.current=nl,e=Et!==null&&Et.next!==null,xo=0,At=Et=ht=null,tl=!1,e)throw Error(de(300));return t}function Th(){var t=Cs!==0;return Cs=0,t}function Zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?ht.memoizedState=At=t:At=At.next=t,At}function Pn(){if(Et===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var e=At===null?ht.memoizedState:At.next;if(e!==null)At=e,Et=t;else{if(t===null)throw Error(de(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},At===null?ht.memoizedState=At=t:At=At.next=t}return At}function Ts(t,e){return typeof e=="function"?e(t):e}function Cc(t){var e=Pn(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var r=Et,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=a=null,c=null,h=i;do{var d=h.lane;if((xo&d)===d)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var g={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=g,a=r):c=c.next=g,ht.lanes|=d,Co|=d}h=h.next}while(h!==null&&h!==i);c===null?a=r:c.next=l,$n(r,e.memoizedState)||(sn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,ht.lanes|=i,Co|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tc(t){var e=Pn(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do i=t(i,a.action),a=a.next;while(a!==o);$n(i,e.memoizedState)||(sn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Xm(){}function Zm(t,e){var n=ht,r=Pn(),o=e(),i=!$n(r.memoizedState,o);if(i&&(r.memoizedState=o,sn=!0),r=r.queue,Eh(tg.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,Es(9,eg.bind(null,n,r,o,e),void 0,null),It===null)throw Error(de(349));xo&30||Jm(n,e,o)}return o}function Jm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eg(t,e,n,r){e.value=n,e.getSnapshot=r,ng(e)&&rg(t)}function tg(t,e,n){return n(function(){ng(e)&&rg(t)})}function ng(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$n(t,n)}catch{return!0}}function rg(t){var e=vr(t,1);e!==null&&Un(e,t,1,-1)}function wf(t){var e=Zn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:t},e.queue=t,t=t.dispatch=h1.bind(null,ht,t),[e.memoizedState,t]}function Es(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function og(){return Pn().memoizedState}function Na(t,e,n,r){var o=Zn();ht.flags|=t,o.memoizedState=Es(1|e,n,void 0,r===void 0?null:r)}function Ol(t,e,n,r){var o=Pn();r=r===void 0?null:r;var i=void 0;if(Et!==null){var a=Et.memoizedState;if(i=a.destroy,r!==null&&xh(r,a.deps)){o.memoizedState=Es(e,n,i,r);return}}ht.flags|=t,o.memoizedState=Es(1|e,n,i,r)}function Sf(t,e){return Na(8390656,8,t,e)}function Eh(t,e){return Ol(2048,8,t,e)}function ig(t,e){return Ol(4,2,t,e)}function sg(t,e){return Ol(4,4,t,e)}function ag(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lg(t,e,n){return n=n!=null?n.concat([t]):null,Ol(4,4,ag.bind(null,e,t),n)}function bh(){}function cg(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ug(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hg(t,e,n){return xo&21?($n(n,e)||(n=gm(),ht.lanes|=n,Co|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sn=!0),t.memoizedState=n)}function c1(t,e){var n=Ge;Ge=n!==0&&4>n?n:4,t(!0);var r=xc.transition;xc.transition={};try{t(!1),e()}finally{Ge=n,xc.transition=r}}function dg(){return Pn().memoizedState}function u1(t,e,n){var r=qr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fg(t))pg(e,n);else if(n=Gm(t,e,n,r),n!==null){var o=Jt();Un(n,t,r,o),mg(n,e,r)}}function h1(t,e,n){var r=qr(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fg(t))pg(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(o.hasEagerState=!0,o.eagerState=l,$n(l,a)){var c=e.interleaved;c===null?(o.next=o,vh(e)):(o.next=c.next,c.next=o),e.interleaved=o;return}}catch{}finally{}n=Gm(t,e,o,r),n!==null&&(o=Jt(),Un(n,t,r,o),mg(n,e,r))}}function fg(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function pg(t,e){ss=tl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oh(t,n)}}var nl={readContext:In,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},d1={readContext:In,useCallback:function(t,e){return Zn().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:Sf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Na(4194308,4,ag.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Na(4194308,4,t,e)},useInsertionEffect:function(t,e){return Na(4,2,t,e)},useMemo:function(t,e){var n=Zn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=u1.bind(null,ht,t),[r.memoizedState,t]},useRef:function(t){var e=Zn();return t={current:t},e.memoizedState=t},useState:wf,useDebugValue:bh,useDeferredValue:function(t){return Zn().memoizedState=t},useTransition:function(){var t=wf(!1),e=t[0];return t=c1.bind(null,t[1]),Zn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ht,o=Zn();if(lt){if(n===void 0)throw Error(de(407));n=n()}else{if(n=e(),It===null)throw Error(de(349));xo&30||Jm(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,Sf(tg.bind(null,r,i,t),[t]),r.flags|=2048,Es(9,eg.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Zn(),e=It.identifierPrefix;if(lt){var n=dr,r=hr;n=(r&~(1<<32-zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Cs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=l1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},f1={readContext:In,useCallback:cg,useContext:In,useEffect:Eh,useImperativeHandle:lg,useInsertionEffect:ig,useLayoutEffect:sg,useMemo:ug,useReducer:Cc,useRef:og,useState:function(){return Cc(Ts)},useDebugValue:bh,useDeferredValue:function(t){var e=Pn();return hg(e,Et.memoizedState,t)},useTransition:function(){var t=Cc(Ts)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:Xm,useSyncExternalStore:Zm,useId:dg,unstable_isNewReconciler:!1},p1={readContext:In,useCallback:cg,useContext:In,useEffect:Eh,useImperativeHandle:lg,useInsertionEffect:ig,useLayoutEffect:sg,useMemo:ug,useReducer:Tc,useRef:og,useState:function(){return Tc(Ts)},useDebugValue:bh,useDeferredValue:function(t){var e=Pn();return Et===null?e.memoizedState=t:hg(e,Et.memoizedState,t)},useTransition:function(){var t=Tc(Ts)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:Xm,useSyncExternalStore:Zm,useId:dg,unstable_isNewReconciler:!1};function Fn(t,e){if(t&&t.defaultProps){e=dt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function fu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Al={isMounted:function(t){return(t=t._reactInternals)?Ao(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jt(),o=qr(t),i=pr(r,o);i.payload=e,n!=null&&(i.callback=n),e=Wr(t,i,o),e!==null&&(Un(e,t,o,r),Ea(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jt(),o=qr(t),i=pr(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Wr(t,i,o),e!==null&&(Un(e,t,o,r),Ea(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jt(),r=qr(t),o=pr(n,r);o.tag=2,e!=null&&(o.callback=e),e=Wr(t,o,r),e!==null&&(Un(e,t,r,n),Ea(e,t,r))}};function kf(t,e,n,r,o,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!vs(n,r)||!vs(o,i):!0}function gg(t,e,n){var r=!1,o=Xr,i=e.contextType;return typeof i=="object"&&i!==null?i=In(i):(o=ln(e)?So:Wt.current,r=e.contextTypes,i=(r=r!=null)?hi(t,o):Xr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Al,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function xf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Al.enqueueReplaceState(e,e.state,null)}function pu(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},_h(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=In(i):(i=ln(e)?So:Wt.current,o.context=hi(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(fu(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Al.enqueueReplaceState(o,o.state,null),Ja(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function mi(t,e){try{var n="",r=e;do n+=zv(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function Ec(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function mu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var m1=typeof WeakMap=="function"?WeakMap:Map;function yg(t,e,n){n=pr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ol||(ol=!0,Tu=r),mu(t,e)},n}function vg(t,e,n){n=pr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){mu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){mu(t,e),typeof r!="function"&&($r===null?$r=new Set([this]):$r.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Cf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new m1;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=O1.bind(null,t,e,n),e.then(t,t))}function Tf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ef(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pr(-1,1),e.tag=2,Wr(n,e,1))),n.lanes|=1),t)}var g1=Sr.ReactCurrentOwner,sn=!1;function Ht(t,e,n,r){e.child=t===null?Hm(e,null,n,r):fi(e,t.child,n,r)}function bf(t,e,n,r,o){n=n.render;var i=e.ref;return si(e,o),r=Ch(t,e,n,r,i,o),n=Th(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,_r(t,e,o)):(lt&&n&&dh(e),e.flags|=1,Ht(t,e,r,o),e.child)}function Nf(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!Rh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,_g(t,e,i,r,o)):(t=Pa(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:vs,n(a,r)&&t.ref===e.ref)return _r(t,e,o)}return e.flags|=1,t=Hr(i,r),t.ref=e.ref,t.return=e,e.child=t}function _g(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(vs(i,r)&&t.ref===e.ref)if(sn=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(sn=!0);else return e.lanes=t.lanes,_r(t,e,o)}return gu(t,e,n,r,o)}function wg(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Zo,mn),mn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Je(Zo,mn),mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Je(Zo,mn),mn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Je(Zo,mn),mn|=r;return Ht(t,e,o,n),e.child}function Sg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function gu(t,e,n,r,o){var i=ln(n)?So:Wt.current;return i=hi(e,i),si(e,o),n=Ch(t,e,n,r,i,o),r=Th(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,_r(t,e,o)):(lt&&r&&dh(e),e.flags|=1,Ht(t,e,n,o),e.child)}function Of(t,e,n,r,o){if(ln(n)){var i=!0;Ga(e)}else i=!1;if(si(e,o),e.stateNode===null)Oa(t,e),gg(e,n,r),pu(e,n,r,o),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=In(h):(h=ln(n)?So:Wt.current,h=hi(e,h));var d=n.getDerivedStateFromProps,g=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==h)&&xf(e,a,r,h),Dr=!1;var _=e.memoizedState;a.state=_,Ja(e,r,a,o),c=e.memoizedState,l!==r||_!==c||an.current||Dr?(typeof d=="function"&&(fu(e,n,d,r),c=e.memoizedState),(l=Dr||kf(e,n,l,r,_,c,h))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Qm(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Fn(e.type,l),a.props=h,g=e.pendingProps,_=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=In(c):(c=ln(n)?So:Wt.current,c=hi(e,c));var E=n.getDerivedStateFromProps;(d=typeof E=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||_!==c)&&xf(e,a,r,c),Dr=!1,_=e.memoizedState,a.state=_,Ja(e,r,a,o);var b=e.memoizedState;l!==g||_!==b||an.current||Dr?(typeof E=="function"&&(fu(e,n,E,r),b=e.memoizedState),(h=Dr||kf(e,n,h,r,_,b,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),a.props=r,a.state=b,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),r=!1)}return yu(t,e,n,r,i,o)}function yu(t,e,n,r,o,i){Sg(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return o&&pf(e,n,!1),_r(t,e,i);r=e.stateNode,g1.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=fi(e,t.child,null,i),e.child=fi(e,null,l,i)):Ht(t,e,l,i),e.memoizedState=r.state,o&&pf(e,n,!0),e.child}function kg(t){var e=t.stateNode;e.pendingContext?ff(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ff(t,e.context,!1),wh(t,e.containerInfo)}function Af(t,e,n,r,o){return di(),ph(o),e.flags|=256,Ht(t,e,n,r),e.child}var vu={dehydrated:null,treeContext:null,retryLane:0};function _u(t){return{baseLanes:t,cachePool:null,transitions:null}}function xg(t,e,n){var r=e.pendingProps,o=ut.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(o&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),Je(ut,o&1),t===null)return hu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Dl(a,r,0,null),t=_o(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=_u(n),e.memoizedState=vu,t):Nh(e,a));if(o=t.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return y1(t,e,a,r,l,o,n);if(i){i=r.fallback,a=e.mode,o=t.child,l=o.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Hr(o,c),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=Hr(l,i):(i=_o(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?_u(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=vu,r}return i=t.child,t=i.sibling,r=Hr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Nh(t,e){return e=Dl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function da(t,e,n,r){return r!==null&&ph(r),fi(e,t.child,null,n),t=Nh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function y1(t,e,n,r,o,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Ec(Error(de(422))),da(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=Dl({mode:"visible",children:r.children},o,0,null),i=_o(i,o,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&fi(e,t.child,null,a),e.child.memoizedState=_u(a),e.memoizedState=vu,i);if(!(e.mode&1))return da(t,e,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(de(419)),r=Ec(i,r,void 0),da(t,e,a,r)}if(l=(a&t.childLanes)!==0,sn||l){if(r=It,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,vr(t,o),Un(r,t,o,-1))}return Mh(),r=Ec(Error(de(421))),da(t,e,a,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=A1.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,yn=Ur(o.nextSibling),vn=e,lt=!0,Kn=null,t!==null&&(Cn[Tn++]=hr,Cn[Tn++]=dr,Cn[Tn++]=ko,hr=t.id,dr=t.overflow,ko=e),e=Nh(e,r.children),e.flags|=4096,e)}function If(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),du(t.return,e,n)}function bc(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Cg(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(Ht(t,e,r.children,n),r=ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&If(t,n,e);else if(t.tag===19)If(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Je(ut,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&el(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),bc(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&el(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}bc(e,!0,n,null,i);break;case"together":bc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Oa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Co|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(de(153));if(e.child!==null){for(t=e.child,n=Hr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function v1(t,e,n){switch(e.tag){case 3:kg(e),di();break;case 5:Ym(e);break;case 1:ln(e.type)&&Ga(e);break;case 4:wh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;Je(Xa,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Je(ut,ut.current&1),e.flags|=128,null):n&e.child.childLanes?xg(t,e,n):(Je(ut,ut.current&1),t=_r(t,e,n),t!==null?t.sibling:null);Je(ut,ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Cg(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Je(ut,ut.current),r)break;return null;case 22:case 23:return e.lanes=0,wg(t,e,n)}return _r(t,e,n)}var Tg,wu,Eg,bg;Tg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wu=function(){};Eg=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,go(tr.current);var i=null;switch(n){case"input":o=zc(t,o),r=zc(t,r),i=[];break;case"select":o=dt({},o,{value:void 0}),r=dt({},r,{value:void 0}),i=[];break;case"textarea":o=$c(t,o),r=$c(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qa)}Hc(n,r);var a;n=null;for(h in o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&o[h]!=null)if(h==="style"){var l=o[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(hs.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var c=r[h];if(l=o!=null?o[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(hs.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&nt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(h,c))}n&&(i=i||[]).push("style",n);var h=i;(e.updateQueue=h)&&(e.flags|=4)}};bg=function(t,e,n,r){n!==r&&(e.flags|=4)};function $i(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _1(t,e,n){var r=e.pendingProps;switch(fh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(e),null;case 1:return ln(e.type)&&Ha(),Bt(e),null;case 3:return r=e.stateNode,pi(),ot(an),ot(Wt),kh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ua(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kn!==null&&(Nu(Kn),Kn=null))),wu(t,e),Bt(e),null;case 5:Sh(e);var o=go(xs.current);if(n=e.type,t!==null&&e.stateNode!=null)Eg(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(de(166));return Bt(e),null}if(t=go(tr.current),ua(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Jn]=e,r[Ss]=i,t=(e.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(o=0;o<Ji.length;o++)nt(Ji[o],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":Kd(r,i),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},nt("invalid",r);break;case"textarea":Bd(r,i),nt("invalid",r)}Hc(n,i),o=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ca(r.textContent,l,t),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ca(r.textContent,l,t),o=["children",""+l]):hs.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&nt("scroll",r)}switch(n){case"input":ta(r),Vd(r,i,!0);break;case"textarea":ta(r),zd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=qa)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Jn]=e,t[Ss]=r,Tg(t,e,!1,!1),e.stateNode=t;e:{switch(a=Gc(n,r),n){case"dialog":nt("cancel",t),nt("close",t),o=r;break;case"iframe":case"object":case"embed":nt("load",t),o=r;break;case"video":case"audio":for(o=0;o<Ji.length;o++)nt(Ji[o],t);o=r;break;case"source":nt("error",t),o=r;break;case"img":case"image":case"link":nt("error",t),nt("load",t),o=r;break;case"details":nt("toggle",t),o=r;break;case"input":Kd(t,r),o=zc(t,r),nt("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=dt({},r,{value:void 0}),nt("invalid",t);break;case"textarea":Bd(t,r),o=$c(t,r),nt("invalid",t);break;default:o=r}Hc(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?om(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nm(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ds(t,c):typeof c=="number"&&ds(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hs.hasOwnProperty(i)?c!=null&&i==="onScroll"&&nt("scroll",t):c!=null&&Zu(t,i,c,a))}switch(n){case"input":ta(t),Vd(t,r,!1);break;case"textarea":ta(t),zd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ni(t,!!r.multiple,i,!1):r.defaultValue!=null&&ni(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=qa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bt(e),null;case 6:if(t&&e.stateNode!=null)bg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(de(166));if(n=go(xs.current),go(tr.current),ua(e)){if(r=e.stateNode,n=e.memoizedProps,r[Jn]=e,(i=r.nodeValue!==n)&&(t=vn,t!==null))switch(t.tag){case 3:ca(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ca(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jn]=e,e.stateNode=r}return Bt(e),null;case 13:if(ot(ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&yn!==null&&e.mode&1&&!(e.flags&128))$m(),di(),e.flags|=98560,i=!1;else if(i=ua(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(de(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(de(317));i[Jn]=e}else di(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bt(e),i=!1}else Kn!==null&&(Nu(Kn),Kn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?bt===0&&(bt=3):Mh())),e.updateQueue!==null&&(e.flags|=4),Bt(e),null);case 4:return pi(),wu(t,e),t===null&&_s(e.stateNode.containerInfo),Bt(e),null;case 10:return yh(e.type._context),Bt(e),null;case 17:return ln(e.type)&&Ha(),Bt(e),null;case 19:if(ot(ut),i=e.memoizedState,i===null)return Bt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)$i(i,!1);else{if(bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=el(t),a!==null){for(e.flags|=128,$i(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Je(ut,ut.current&1|2),e.child}t=t.sibling}i.tail!==null&&yt()>gi&&(e.flags|=128,r=!0,$i(i,!1),e.lanes=4194304)}else{if(!r)if(t=el(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$i(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!lt)return Bt(e),null}else 2*yt()-i.renderingStartTime>gi&&n!==1073741824&&(e.flags|=128,r=!0,$i(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=yt(),e.sibling=null,n=ut.current,Je(ut,r?n&1|2:n&1),e):(Bt(e),null);case 22:case 23:return Dh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mn&1073741824&&(Bt(e),e.subtreeFlags&6&&(e.flags|=8192)):Bt(e),null;case 24:return null;case 25:return null}throw Error(de(156,e.tag))}function w1(t,e){switch(fh(e),e.tag){case 1:return ln(e.type)&&Ha(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pi(),ot(an),ot(Wt),kh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sh(e),null;case 13:if(ot(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(de(340));di()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ot(ut),null;case 4:return pi(),null;case 10:return yh(e.type._context),null;case 22:case 23:return Dh(),null;case 24:return null;default:return null}}var fa=!1,zt=!1,S1=typeof WeakSet=="function"?WeakSet:Set,we=null;function Xo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(t,e,r)}else n.current=null}function Su(t,e,n){try{n()}catch(r){pt(t,e,r)}}var Pf=!1;function k1(t,e){if(ou=Ua,t=Pm(),hh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,d=0,g=t,_=null;t:for(;;){for(var E;g!==n||o!==0&&g.nodeType!==3||(l=a+o),g!==i||r!==0&&g.nodeType!==3||(c=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(E=g.firstChild)!==null;)_=g,g=E;for(;;){if(g===t)break t;if(_===n&&++h===o&&(l=a),_===i&&++d===r&&(c=a),(E=g.nextSibling)!==null)break;g=_,_=g.parentNode}g=E}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(iu={focusedElem:t,selectionRange:n},Ua=!1,we=e;we!==null;)if(e=we,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,we=t;else for(;we!==null;){e=we;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var N=b.memoizedProps,A=b.memoizedState,w=e.stateNode,T=w.getSnapshotBeforeUpdate(e.elementType===e.type?N:Fn(e.type,N),A);w.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(R){pt(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,we=t;break}we=e.return}return b=Pf,Pf=!1,b}function as(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&Su(e,n,i)}o=o.next}while(o!==r)}}function Il(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ku(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ng(t){var e=t.alternate;e!==null&&(t.alternate=null,Ng(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jn],delete e[Ss],delete e[lu],delete e[o1],delete e[i1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Og(t){return t.tag===5||t.tag===3||t.tag===4}function Df(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Og(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qa));else if(r!==4&&(t=t.child,t!==null))for(xu(t,e,n),t=t.sibling;t!==null;)xu(t,e,n),t=t.sibling}function Cu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cu(t,e,n),t=t.sibling;t!==null;)Cu(t,e,n),t=t.sibling}var jt=null,Ln=!1;function Or(t,e,n){for(n=n.child;n!==null;)Ag(t,e,n),n=n.sibling}function Ag(t,e,n){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(xl,n)}catch{}switch(n.tag){case 5:zt||Xo(n,e);case 6:var r=jt,o=Ln;jt=null,Or(t,e,n),jt=r,Ln=o,jt!==null&&(Ln?(t=jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(Ln?(t=jt,n=n.stateNode,t.nodeType===8?wc(t.parentNode,n):t.nodeType===1&&wc(t,n),gs(t)):wc(jt,n.stateNode));break;case 4:r=jt,o=Ln,jt=n.stateNode.containerInfo,Ln=!0,Or(t,e,n),jt=r,Ln=o;break;case 0:case 11:case 14:case 15:if(!zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Su(n,e,a),o=o.next}while(o!==r)}Or(t,e,n);break;case 1:if(!zt&&(Xo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){pt(n,e,l)}Or(t,e,n);break;case 21:Or(t,e,n);break;case 22:n.mode&1?(zt=(r=zt)||n.memoizedState!==null,Or(t,e,n),zt=r):Or(t,e,n);break;default:Or(t,e,n)}}function Mf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new S1),e.forEach(function(r){var o=I1.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function jn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:jt=l.stateNode,Ln=!1;break e;case 3:jt=l.stateNode.containerInfo,Ln=!0;break e;case 4:jt=l.stateNode.containerInfo,Ln=!0;break e}l=l.return}if(jt===null)throw Error(de(160));Ag(i,a,o),jt=null,Ln=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(h){pt(o,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ig(e,t),e=e.sibling}function Ig(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jn(e,t),Xn(t),r&4){try{as(3,t,t.return),Il(3,t)}catch(N){pt(t,t.return,N)}try{as(5,t,t.return)}catch(N){pt(t,t.return,N)}}break;case 1:jn(e,t),Xn(t),r&512&&n!==null&&Xo(n,n.return);break;case 5:if(jn(e,t),Xn(t),r&512&&n!==null&&Xo(n,n.return),t.flags&32){var o=t.stateNode;try{ds(o,"")}catch(N){pt(t,t.return,N)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Jp(o,i),Gc(l,a);var h=Gc(l,i);for(a=0;a<c.length;a+=2){var d=c[a],g=c[a+1];d==="style"?om(o,g):d==="dangerouslySetInnerHTML"?nm(o,g):d==="children"?ds(o,g):Zu(o,d,g,h)}switch(l){case"input":Uc(o,i);break;case"textarea":em(o,i);break;case"select":var _=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var E=i.value;E!=null?ni(o,!!i.multiple,E,!1):_!==!!i.multiple&&(i.defaultValue!=null?ni(o,!!i.multiple,i.defaultValue,!0):ni(o,!!i.multiple,i.multiple?[]:"",!1))}o[Ss]=i}catch(N){pt(t,t.return,N)}}break;case 6:if(jn(e,t),Xn(t),r&4){if(t.stateNode===null)throw Error(de(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(N){pt(t,t.return,N)}}break;case 3:if(jn(e,t),Xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gs(e.containerInfo)}catch(N){pt(t,t.return,N)}break;case 4:jn(e,t),Xn(t);break;case 13:jn(e,t),Xn(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Ih=yt())),r&4&&Mf(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(zt=(h=zt)||d,jn(e,t),zt=h):jn(e,t),Xn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!d&&t.mode&1)for(we=t,d=t.child;d!==null;){for(g=we=d;we!==null;){switch(_=we,E=_.child,_.tag){case 0:case 11:case 14:case 15:as(4,_,_.return);break;case 1:Xo(_,_.return);var b=_.stateNode;if(typeof b.componentWillUnmount=="function"){r=_,n=_.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(N){pt(r,n,N)}}break;case 5:Xo(_,_.return);break;case 22:if(_.memoizedState!==null){jf(g);continue}}E!==null?(E.return=_,we=E):jf(g)}d=d.sibling}e:for(d=null,g=t;;){if(g.tag===5){if(d===null){d=g;try{o=g.stateNode,h?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=g.stateNode,c=g.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=rm("display",a))}catch(N){pt(t,t.return,N)}}}else if(g.tag===6){if(d===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(N){pt(t,t.return,N)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;d===g&&(d=null),g=g.return}d===g&&(d=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:jn(e,t),Xn(t),r&4&&Mf(t);break;case 21:break;default:jn(e,t),Xn(t)}}function Xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Og(n)){var r=n;break e}n=n.return}throw Error(de(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ds(o,""),r.flags&=-33);var i=Df(t);Cu(t,i,o);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Df(t);xu(t,l,a);break;default:throw Error(de(161))}}catch(c){pt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function x1(t,e,n){we=t,Pg(t)}function Pg(t,e,n){for(var r=(t.mode&1)!==0;we!==null;){var o=we,i=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||fa;if(!a){var l=o.alternate,c=l!==null&&l.memoizedState!==null||zt;l=fa;var h=zt;if(fa=a,(zt=c)&&!h)for(we=o;we!==null;)a=we,c=a.child,a.tag===22&&a.memoizedState!==null?Ff(o):c!==null?(c.return=a,we=c):Ff(o);for(;i!==null;)we=i,Pg(i),i=i.sibling;we=o,fa=l,zt=h}Rf(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,we=i):Rf(t)}}function Rf(t){for(;we!==null;){var e=we;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||Il(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zt)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Fn(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&_f(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_f(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var g=d.dehydrated;g!==null&&gs(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}zt||e.flags&512&&ku(e)}catch(_){pt(e,e.return,_)}}if(e===t){we=null;break}if(n=e.sibling,n!==null){n.return=e.return,we=n;break}we=e.return}}function jf(t){for(;we!==null;){var e=we;if(e===t){we=null;break}var n=e.sibling;if(n!==null){n.return=e.return,we=n;break}we=e.return}}function Ff(t){for(;we!==null;){var e=we;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Il(4,e)}catch(c){pt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(c){pt(e,o,c)}}var i=e.return;try{ku(e)}catch(c){pt(e,i,c)}break;case 5:var a=e.return;try{ku(e)}catch(c){pt(e,a,c)}}}catch(c){pt(e,e.return,c)}if(e===t){we=null;break}var l=e.sibling;if(l!==null){l.return=e.return,we=l;break}we=e.return}}var C1=Math.ceil,rl=Sr.ReactCurrentDispatcher,Oh=Sr.ReactCurrentOwner,Nn=Sr.ReactCurrentBatchConfig,$e=0,It=null,xt=null,Ft=0,mn=0,Zo=no(0),bt=0,bs=null,Co=0,Pl=0,Ah=0,ls=null,rn=null,Ih=0,gi=1/0,lr=null,ol=!1,Tu=null,$r=null,pa=!1,Lr=null,il=0,cs=0,Eu=null,Aa=-1,Ia=0;function Jt(){return $e&6?yt():Aa!==-1?Aa:Aa=yt()}function qr(t){return t.mode&1?$e&2&&Ft!==0?Ft&-Ft:a1.transition!==null?(Ia===0&&(Ia=gm()),Ia):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:xm(t.type)),t):1}function Un(t,e,n,r){if(50<cs)throw cs=0,Eu=null,Error(de(185));Ms(t,n,r),(!($e&2)||t!==It)&&(t===It&&(!($e&2)&&(Pl|=n),bt===4&&jr(t,Ft)),cn(t,r),n===1&&$e===0&&!(e.mode&1)&&(gi=yt()+500,Nl&&ro()))}function cn(t,e){var n=t.callbackNode;a0(t,e);var r=za(t,t===It?Ft:0);if(r===0)n!==null&&$d(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$d(n),e===1)t.tag===0?s1(Lf.bind(null,t)):zm(Lf.bind(null,t)),n1(function(){!($e&6)&&ro()}),n=null;else{switch(ym(r)){case 1:n=rh;break;case 4:n=pm;break;case 16:n=Ba;break;case 536870912:n=mm;break;default:n=Ba}n=Vg(n,Dg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Dg(t,e){if(Aa=-1,Ia=0,$e&6)throw Error(de(327));var n=t.callbackNode;if(ai()&&t.callbackNode!==n)return null;var r=za(t,t===It?Ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=sl(t,r);else{e=r;var o=$e;$e|=2;var i=Rg();(It!==t||Ft!==e)&&(lr=null,gi=yt()+500,vo(t,e));do try{b1();break}catch(l){Mg(t,l)}while(!0);gh(),rl.current=i,$e=o,xt!==null?e=0:(It=null,Ft=0,e=bt)}if(e!==0){if(e===2&&(o=Jc(t),o!==0&&(r=o,e=bu(t,o))),e===1)throw n=bs,vo(t,0),jr(t,r),cn(t,yt()),n;if(e===6)jr(t,r);else{if(o=t.current.alternate,!(r&30)&&!T1(o)&&(e=sl(t,r),e===2&&(i=Jc(t),i!==0&&(r=i,e=bu(t,i))),e===1))throw n=bs,vo(t,0),jr(t,r),cn(t,yt()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(de(345));case 2:co(t,rn,lr);break;case 3:if(jr(t,r),(r&130023424)===r&&(e=Ih+500-yt(),10<e)){if(za(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){Jt(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=au(co.bind(null,t,rn,lr),e);break}co(t,rn,lr);break;case 4:if(jr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var a=31-zn(r);i=1<<a,a=e[a],a>o&&(o=a),r&=~i}if(r=o,r=yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*C1(r/1960))-r,10<r){t.timeoutHandle=au(co.bind(null,t,rn,lr),r);break}co(t,rn,lr);break;case 5:co(t,rn,lr);break;default:throw Error(de(329))}}}return cn(t,yt()),t.callbackNode===n?Dg.bind(null,t):null}function bu(t,e){var n=ls;return t.current.memoizedState.isDehydrated&&(vo(t,e).flags|=256),t=sl(t,e),t!==2&&(e=rn,rn=n,e!==null&&Nu(e)),t}function Nu(t){rn===null?rn=t:rn.push.apply(rn,t)}function T1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!$n(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jr(t,e){for(e&=~Ah,e&=~Pl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zn(e),r=1<<n;t[n]=-1,e&=~r}}function Lf(t){if($e&6)throw Error(de(327));ai();var e=za(t,0);if(!(e&1))return cn(t,yt()),null;var n=sl(t,e);if(t.tag!==0&&n===2){var r=Jc(t);r!==0&&(e=r,n=bu(t,r))}if(n===1)throw n=bs,vo(t,0),jr(t,e),cn(t,yt()),n;if(n===6)throw Error(de(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,co(t,rn,lr),cn(t,yt()),null}function Ph(t,e){var n=$e;$e|=1;try{return t(e)}finally{$e=n,$e===0&&(gi=yt()+500,Nl&&ro())}}function To(t){Lr!==null&&Lr.tag===0&&!($e&6)&&ai();var e=$e;$e|=1;var n=Nn.transition,r=Ge;try{if(Nn.transition=null,Ge=1,t)return t()}finally{Ge=r,Nn.transition=n,$e=e,!($e&6)&&ro()}}function Dh(){mn=Zo.current,ot(Zo)}function vo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,t1(n)),xt!==null)for(n=xt.return;n!==null;){var r=n;switch(fh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ha();break;case 3:pi(),ot(an),ot(Wt),kh();break;case 5:Sh(r);break;case 4:pi();break;case 13:ot(ut);break;case 19:ot(ut);break;case 10:yh(r.type._context);break;case 22:case 23:Dh()}n=n.return}if(It=t,xt=t=Hr(t.current,null),Ft=mn=e,bt=0,bs=null,Ah=Pl=Co=0,rn=ls=null,mo!==null){for(e=0;e<mo.length;e++)if(n=mo[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=o,r.next=a}n.pending=r}mo=null}return t}function Mg(t,e){do{var n=xt;try{if(gh(),ba.current=nl,tl){for(var r=ht.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}tl=!1}if(xo=0,At=Et=ht=null,ss=!1,Cs=0,Oh.current=null,n===null||n.return===null){bt=1,bs=e,xt=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=Ft,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,d=l,g=d.tag;if(!(d.mode&1)&&(g===0||g===11||g===15)){var _=d.alternate;_?(d.updateQueue=_.updateQueue,d.memoizedState=_.memoizedState,d.lanes=_.lanes):(d.updateQueue=null,d.memoizedState=null)}var E=Tf(a);if(E!==null){E.flags&=-257,Ef(E,a,l,i,e),E.mode&1&&Cf(i,h,e),e=E,c=h;var b=e.updateQueue;if(b===null){var N=new Set;N.add(c),e.updateQueue=N}else b.add(c);break e}else{if(!(e&1)){Cf(i,h,e),Mh();break e}c=Error(de(426))}}else if(lt&&l.mode&1){var A=Tf(a);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Ef(A,a,l,i,e),ph(mi(c,l));break e}}i=c=mi(c,l),bt!==4&&(bt=2),ls===null?ls=[i]:ls.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=yg(i,c,e);vf(i,w);break e;case 1:l=c;var T=i.type,I=i.stateNode;if(!(i.flags&128)&&(typeof T.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&($r===null||!$r.has(I)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=vg(i,l,e);vf(i,R);break e}}i=i.return}while(i!==null)}Fg(n)}catch(P){e=P,xt===n&&n!==null&&(xt=n=n.return);continue}break}while(!0)}function Rg(){var t=rl.current;return rl.current=nl,t===null?nl:t}function Mh(){(bt===0||bt===3||bt===2)&&(bt=4),It===null||!(Co&268435455)&&!(Pl&268435455)||jr(It,Ft)}function sl(t,e){var n=$e;$e|=2;var r=Rg();(It!==t||Ft!==e)&&(lr=null,vo(t,e));do try{E1();break}catch(o){Mg(t,o)}while(!0);if(gh(),$e=n,rl.current=r,xt!==null)throw Error(de(261));return It=null,Ft=0,bt}function E1(){for(;xt!==null;)jg(xt)}function b1(){for(;xt!==null&&!Zv();)jg(xt)}function jg(t){var e=Kg(t.alternate,t,mn);t.memoizedProps=t.pendingProps,e===null?Fg(t):xt=e,Oh.current=null}function Fg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=w1(n,e),n!==null){n.flags&=32767,xt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bt=6,xt=null;return}}else if(n=_1(n,e,mn),n!==null){xt=n;return}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);bt===0&&(bt=5)}function co(t,e,n){var r=Ge,o=Nn.transition;try{Nn.transition=null,Ge=1,N1(t,e,n,r)}finally{Nn.transition=o,Ge=r}return null}function N1(t,e,n,r){do ai();while(Lr!==null);if($e&6)throw Error(de(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(de(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(l0(t,i),t===It&&(xt=It=null,Ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pa||(pa=!0,Vg(Ba,function(){return ai(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Nn.transition,Nn.transition=null;var a=Ge;Ge=1;var l=$e;$e|=4,Oh.current=null,k1(t,n),Ig(n,t),G0(iu),Ua=!!ou,iu=ou=null,t.current=n,x1(n),Jv(),$e=l,Ge=a,Nn.transition=i}else t.current=n;if(pa&&(pa=!1,Lr=t,il=o),i=t.pendingLanes,i===0&&($r=null),n0(n.stateNode),cn(t,yt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ol)throw ol=!1,t=Tu,Tu=null,t;return il&1&&t.tag!==0&&ai(),i=t.pendingLanes,i&1?t===Eu?cs++:(cs=0,Eu=t):cs=0,ro(),null}function ai(){if(Lr!==null){var t=ym(il),e=Nn.transition,n=Ge;try{if(Nn.transition=null,Ge=16>t?16:t,Lr===null)var r=!1;else{if(t=Lr,Lr=null,il=0,$e&6)throw Error(de(331));var o=$e;for($e|=4,we=t.current;we!==null;){var i=we,a=i.child;if(we.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(we=h;we!==null;){var d=we;switch(d.tag){case 0:case 11:case 15:as(8,d,i)}var g=d.child;if(g!==null)g.return=d,we=g;else for(;we!==null;){d=we;var _=d.sibling,E=d.return;if(Ng(d),d===h){we=null;break}if(_!==null){_.return=E,we=_;break}we=E}}}var b=i.alternate;if(b!==null){var N=b.child;if(N!==null){b.child=null;do{var A=N.sibling;N.sibling=null,N=A}while(N!==null)}}we=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,we=a;else e:for(;we!==null;){if(i=we,i.flags&2048)switch(i.tag){case 0:case 11:case 15:as(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,we=w;break e}we=i.return}}var T=t.current;for(we=T;we!==null;){a=we;var I=a.child;if(a.subtreeFlags&2064&&I!==null)I.return=a,we=I;else e:for(a=T;we!==null;){if(l=we,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Il(9,l)}}catch(P){pt(l,l.return,P)}if(l===a){we=null;break e}var R=l.sibling;if(R!==null){R.return=l.return,we=R;break e}we=l.return}}if($e=o,ro(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(xl,t)}catch{}r=!0}return r}finally{Ge=n,Nn.transition=e}}return!1}function Kf(t,e,n){e=mi(n,e),e=yg(t,e,1),t=Wr(t,e,1),e=Jt(),t!==null&&(Ms(t,1,e),cn(t,e))}function pt(t,e,n){if(t.tag===3)Kf(t,t,n);else for(;e!==null;){if(e.tag===3){Kf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($r===null||!$r.has(r))){t=mi(n,t),t=vg(e,t,1),e=Wr(e,t,1),t=Jt(),e!==null&&(Ms(e,1,t),cn(e,t));break}}e=e.return}}function O1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jt(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(Ft&n)===n&&(bt===4||bt===3&&(Ft&130023424)===Ft&&500>yt()-Ih?vo(t,0):Ah|=n),cn(t,e)}function Lg(t,e){e===0&&(t.mode&1?(e=oa,oa<<=1,!(oa&130023424)&&(oa=4194304)):e=1);var n=Jt();t=vr(t,e),t!==null&&(Ms(t,e,n),cn(t,n))}function A1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Lg(t,n)}function I1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(de(314))}r!==null&&r.delete(e),Lg(t,n)}var Kg;Kg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||an.current)sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sn=!1,v1(t,e,n);sn=!!(t.flags&131072)}else sn=!1,lt&&e.flags&1048576&&Um(e,Ya,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Oa(t,e),t=e.pendingProps;var o=hi(e,Wt.current);si(e,n),o=Ch(null,e,r,t,o,n);var i=Th();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ln(r)?(i=!0,Ga(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,_h(e),o.updater=Al,e.stateNode=o,o._reactInternals=e,pu(e,r,t,n),e=yu(null,e,r,!0,i,n)):(e.tag=0,lt&&i&&dh(e),Ht(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Oa(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=D1(r),t=Fn(r,t),o){case 0:e=gu(null,e,r,t,n);break e;case 1:e=Of(null,e,r,t,n);break e;case 11:e=bf(null,e,r,t,n);break e;case 14:e=Nf(null,e,r,Fn(r.type,t),n);break e}throw Error(de(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Fn(r,o),gu(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Fn(r,o),Of(t,e,r,o,n);case 3:e:{if(kg(e),t===null)throw Error(de(387));r=e.pendingProps,i=e.memoizedState,o=i.element,Qm(t,e),Ja(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=mi(Error(de(423)),e),e=Af(t,e,r,n,o);break e}else if(r!==o){o=mi(Error(de(424)),e),e=Af(t,e,r,n,o);break e}else for(yn=Ur(e.stateNode.containerInfo.firstChild),vn=e,lt=!0,Kn=null,n=Hm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(di(),r===o){e=_r(t,e,n);break e}Ht(t,e,r,n)}e=e.child}return e;case 5:return Ym(e),t===null&&hu(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,a=o.children,su(r,o)?a=null:i!==null&&su(r,i)&&(e.flags|=32),Sg(t,e),Ht(t,e,a,n),e.child;case 6:return t===null&&hu(e),null;case 13:return xg(t,e,n);case 4:return wh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fi(e,null,r,n):Ht(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Fn(r,o),bf(t,e,r,o,n);case 7:return Ht(t,e,e.pendingProps,n),e.child;case 8:return Ht(t,e,e.pendingProps.children,n),e.child;case 12:return Ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,a=o.value,Je(Xa,r._currentValue),r._currentValue=a,i!==null)if($n(i.value,a)){if(i.children===o.children&&!an.current){e=_r(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=pr(-1,n&-n),c.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?c.next=c:(c.next=d.next,d.next=c),h.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),du(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(de(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),du(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ht(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,si(e,n),o=In(o),r=r(o),e.flags|=1,Ht(t,e,r,n),e.child;case 14:return r=e.type,o=Fn(r,e.pendingProps),o=Fn(r.type,o),Nf(t,e,r,o,n);case 15:return _g(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Fn(r,o),Oa(t,e),e.tag=1,ln(r)?(t=!0,Ga(e)):t=!1,si(e,n),gg(e,r,o),pu(e,r,o,n),yu(null,e,r,!0,t,n);case 19:return Cg(t,e,n);case 22:return wg(t,e,n)}throw Error(de(156,e.tag))};function Vg(t,e){return fm(t,e)}function P1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,e,n,r){return new P1(t,e,n,r)}function Rh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function D1(t){if(typeof t=="function")return Rh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===eh)return 11;if(t===th)return 14}return 2}function Hr(t,e){var n=t.alternate;return n===null?(n=En(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pa(t,e,n,r,o,i){var a=2;if(r=t,typeof t=="function")Rh(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case zo:return _o(n.children,o,i,e);case Ju:a=8,o|=8;break;case Lc:return t=En(12,n,e,o|2),t.elementType=Lc,t.lanes=i,t;case Kc:return t=En(13,n,e,o),t.elementType=Kc,t.lanes=i,t;case Vc:return t=En(19,n,e,o),t.elementType=Vc,t.lanes=i,t;case Yp:return Dl(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gp:a=10;break e;case Qp:a=9;break e;case eh:a=11;break e;case th:a=14;break e;case Pr:a=16,r=null;break e}throw Error(de(130,t==null?t:typeof t,""))}return e=En(a,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function _o(t,e,n,r){return t=En(7,t,r,e),t.lanes=n,t}function Dl(t,e,n,r){return t=En(22,t,r,e),t.elementType=Yp,t.lanes=n,t.stateNode={isHidden:!1},t}function Nc(t,e,n){return t=En(6,t,null,e),t.lanes=n,t}function Oc(t,e,n){return e=En(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function M1(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cc(0),this.expirationTimes=cc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cc(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function jh(t,e,n,r,o,i,a,l,c){return t=new M1(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=En(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_h(i),t}function R1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Bg(t){if(!t)return Xr;t=t._reactInternals;e:{if(Ao(t)!==t||t.tag!==1)throw Error(de(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(de(171))}if(t.tag===1){var n=t.type;if(ln(n))return Bm(t,n,e)}return e}function zg(t,e,n,r,o,i,a,l,c){return t=jh(n,r,!0,t,o,i,a,l,c),t.context=Bg(null),n=t.current,r=Jt(),o=qr(n),i=pr(r,o),i.callback=e??null,Wr(n,i,o),t.current.lanes=o,Ms(t,o,r),cn(t,r),t}function Ml(t,e,n,r){var o=e.current,i=Jt(),a=qr(o);return n=Bg(n),e.context===null?e.context=n:e.pendingContext=n,e=pr(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wr(o,e,a),t!==null&&(Un(t,o,a,i),Ea(t,o,a)),a}function al(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Fh(t,e){Vf(t,e),(t=t.alternate)&&Vf(t,e)}function j1(){return null}var Ug=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lh(t){this._internalRoot=t}Rl.prototype.render=Lh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(de(409));Ml(t,e,null,null)};Rl.prototype.unmount=Lh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;To(function(){Ml(null,t,null,null)}),e[yr]=null}};function Rl(t){this._internalRoot=t}Rl.prototype.unstable_scheduleHydration=function(t){if(t){var e=wm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Rr.length&&e!==0&&e<Rr[n].priority;n++);Rr.splice(n,0,t),n===0&&km(t)}};function Kh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bf(){}function F1(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var h=al(a);i.call(h)}}var a=zg(e,r,t,0,null,!1,!1,"",Bf);return t._reactRootContainer=a,t[yr]=a.current,_s(t.nodeType===8?t.parentNode:t),To(),a}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var h=al(c);l.call(h)}}var c=jh(t,0,!1,null,null,!1,!1,"",Bf);return t._reactRootContainer=c,t[yr]=c.current,_s(t.nodeType===8?t.parentNode:t),To(function(){Ml(e,c,n,r)}),c}function Fl(t,e,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var l=o;o=function(){var c=al(a);l.call(c)}}Ml(e,a,t,o)}else a=F1(n,e,t,o,r);return al(a)}vm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zi(e.pendingLanes);n!==0&&(oh(e,n|1),cn(e,yt()),!($e&6)&&(gi=yt()+500,ro()))}break;case 13:To(function(){var r=vr(t,1);if(r!==null){var o=Jt();Un(r,t,1,o)}}),Fh(t,1)}};ih=function(t){if(t.tag===13){var e=vr(t,134217728);if(e!==null){var n=Jt();Un(e,t,134217728,n)}Fh(t,134217728)}};_m=function(t){if(t.tag===13){var e=qr(t),n=vr(t,e);if(n!==null){var r=Jt();Un(n,t,e,r)}Fh(t,e)}};wm=function(){return Ge};Sm=function(t,e){var n=Ge;try{return Ge=t,e()}finally{Ge=n}};Yc=function(t,e,n){switch(e){case"input":if(Uc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=bl(r);if(!o)throw Error(de(90));Zp(r),Uc(r,o)}}}break;case"textarea":em(t,n);break;case"select":e=n.value,e!=null&&ni(t,!!n.multiple,e,!1)}};am=Ph;lm=To;var L1={usingClientEntryPoint:!1,Events:[js,qo,bl,im,sm,Ph]},qi={findFiberByHostInstance:po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K1={bundleType:qi.bundleType,version:qi.version,rendererPackageName:qi.rendererPackageName,rendererConfig:qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hm(t),t===null?null:t.stateNode},findFiberByHostInstance:qi.findFiberByHostInstance||j1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ma.isDisabled&&ma.supportsFiber)try{xl=ma.inject(K1),er=ma}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L1;Sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kh(e))throw Error(de(200));return R1(t,e,null,n)};Sn.createRoot=function(t,e){if(!Kh(t))throw Error(de(299));var n=!1,r="",o=Ug;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=jh(t,1,!1,null,null,n,!1,r,o),t[yr]=e.current,_s(t.nodeType===8?t.parentNode:t),new Lh(e)};Sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(de(188)):(t=Object.keys(t).join(","),Error(de(268,t)));return t=hm(e),t=t===null?null:t.stateNode,t};Sn.flushSync=function(t){return To(t)};Sn.hydrate=function(t,e,n){if(!jl(e))throw Error(de(200));return Fl(null,t,e,!0,n)};Sn.hydrateRoot=function(t,e,n){if(!Kh(t))throw Error(de(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",a=Ug;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=zg(e,null,t,1,n??null,o,!1,i,a),t[yr]=e.current,_s(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Rl(e)};Sn.render=function(t,e,n){if(!jl(e))throw Error(de(200));return Fl(null,t,e,!1,n)};Sn.unmountComponentAtNode=function(t){if(!jl(t))throw Error(de(40));return t._reactRootContainer?(To(function(){Fl(null,null,t,!1,function(){t._reactRootContainer=null,t[yr]=null})}),!0):!1};Sn.unstable_batchedUpdates=Ph;Sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jl(n))throw Error(de(200));if(t==null||t._reactInternals===void 0)throw Error(de(38));return Fl(t,e,n,!1,r)};Sn.version="18.3.1-next-f1338f8080-20240426";function Wg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wg)}catch(t){console.error(t)}}Wg(),Wp.exports=Sn;var V1=Wp.exports,$g,zf=V1;$g=zf.createRoot,zf.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ns(){return Ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ns.apply(this,arguments)}var Kr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Kr||(Kr={}));const Uf="popstate";function B1(t){t===void 0&&(t={});function e(r,o){let{pathname:i,search:a,hash:l}=r.location;return Ou("",{pathname:i,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:ll(o)}return U1(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function z1(){return Math.random().toString(36).substr(2,8)}function Wf(t,e){return{usr:t.state,key:t.key,idx:e}}function Ou(t,e,n,r){return n===void 0&&(n=null),Ns({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ni(e):e,{state:n,key:e&&e.key||r||z1()})}function ll(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ni(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function U1(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,l=Kr.Pop,c=null,h=d();h==null&&(h=0,a.replaceState(Ns({},a.state,{idx:h}),""));function d(){return(a.state||{idx:null}).idx}function g(){l=Kr.Pop;let A=d(),w=A==null?null:A-h;h=A,c&&c({action:l,location:N.location,delta:w})}function _(A,w){l=Kr.Push;let T=Ou(N.location,A,w);h=d()+1;let I=Wf(T,h),R=N.createHref(T);try{a.pushState(I,"",R)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;o.location.assign(R)}i&&c&&c({action:l,location:N.location,delta:1})}function E(A,w){l=Kr.Replace;let T=Ou(N.location,A,w);h=d();let I=Wf(T,h),R=N.createHref(T);a.replaceState(I,"",R),i&&c&&c({action:l,location:N.location,delta:0})}function b(A){let w=o.location.origin!=="null"?o.location.origin:o.location.href,T=typeof A=="string"?A:ll(A);return T=T.replace(/ $/,"%20"),vt(w,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,w)}let N={get action(){return l},get location(){return t(o,a)},listen(A){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(Uf,g),c=A,()=>{o.removeEventListener(Uf,g),c=null}},createHref(A){return e(o,A)},createURL:b,encodeLocation(A){let w=b(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:_,replace:E,go(A){return a.go(A)}};return N}var $f;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($f||($f={}));function W1(t,e,n){return n===void 0&&(n="/"),$1(t,e,n,!1)}function $1(t,e,n,r){let o=typeof e=="string"?Ni(e):e,i=Vh(o.pathname||"/",n);if(i==null)return null;let a=Hg(t);q1(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let h=r_(i);l=t_(a[c],h,r)}return l}function Hg(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(vt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=Gr([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(vt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Hg(i.children,e,d,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:J1(h,i.index),routesMeta:d})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))o(i,a);else for(let c of Gg(i.path))o(i,a,c)}),e}function Gg(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let a=Gg(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),o&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function q1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:e_(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const H1=/^:[\w-]+$/,G1=3,Q1=2,Y1=1,X1=10,Z1=-2,qf=t=>t==="*";function J1(t,e){let n=t.split("/"),r=n.length;return n.some(qf)&&(r+=Z1),e&&(r+=Q1),n.filter(o=>!qf(o)).reduce((o,i)=>o+(H1.test(i)?G1:i===""?Y1:X1),r)}function e_(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function t_(t,e,n){let{routesMeta:r}=t,o={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],h=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",g=Hf({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},d),_=c.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Hf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!g)return null;Object.assign(o,g.params),a.push({params:o,pathname:Gr([i,g.pathname]),pathnameBase:a_(Gr([i,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(i=Gr([i,g.pathnameBase]))}return a}function Hf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=n_(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:r.reduce((h,d,g)=>{let{paramName:_,isOptional:E}=d;if(_==="*"){let N=l[g]||"";a=i.slice(0,i.length-N.length).replace(/(.)\/+$/,"$1")}const b=l[g];return E&&!b?h[_]=void 0:h[_]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:a,pattern:t}}function n_(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),qg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function r_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Vh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function o_(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Ni(t):t;return{pathname:n?n.startsWith("/")?n:i_(n,e):e,search:l_(r),hash:c_(o)}}function i_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ac(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function s_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bh(t,e){let n=s_(t);return e?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function zh(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=Ni(t):(o=Ns({},t),vt(!o.pathname||!o.pathname.includes("?"),Ac("?","pathname","search",o)),vt(!o.pathname||!o.pathname.includes("#"),Ac("#","pathname","hash",o)),vt(!o.search||!o.search.includes("#"),Ac("#","search","hash",o)));let i=t===""||o.pathname==="",a=i?"/":o.pathname,l;if(a==null)l=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),g-=1;o.pathname=_.join("/")}l=g>=0?e[g]:"/"}let c=o_(o,l),h=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||d)&&(c.pathname+="/"),c}const Gr=t=>t.join("/").replace(/\/\/+/g,"/"),a_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),l_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,c_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function u_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Qg=["post","put","patch","delete"];new Set(Qg);const h_=["get",...Qg];new Set(h_);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Os(){return Os=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Os.apply(this,arguments)}const Uh=J.createContext(null),d_=J.createContext(null),oo=J.createContext(null),Ll=J.createContext(null),kr=J.createContext({outlet:null,matches:[],isDataRoute:!1}),Yg=J.createContext(null);function f_(t,e){let{relative:n}=e===void 0?{}:e;Oi()||vt(!1);let{basename:r,navigator:o}=J.useContext(oo),{hash:i,pathname:a,search:l}=Zg(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Gr([r,a])),o.createHref({pathname:c,search:l,hash:i})}function Oi(){return J.useContext(Ll)!=null}function Ls(){return Oi()||vt(!1),J.useContext(Ll).location}function Xg(t){J.useContext(oo).static||J.useLayoutEffect(t)}function Wh(){let{isDataRoute:t}=J.useContext(kr);return t?b_():p_()}function p_(){Oi()||vt(!1);let t=J.useContext(Uh),{basename:e,future:n,navigator:r}=J.useContext(oo),{matches:o}=J.useContext(kr),{pathname:i}=Ls(),a=JSON.stringify(Bh(o,n.v7_relativeSplatPath)),l=J.useRef(!1);return Xg(()=>{l.current=!0}),J.useCallback(function(h,d){if(d===void 0&&(d={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let g=zh(h,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Gr([e,g.pathname])),(d.replace?r.replace:r.push)(g,d.state,d)},[e,r,a,i,t])}function m_(){let{matches:t}=J.useContext(kr),e=t[t.length-1];return e?e.params:{}}function Zg(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=J.useContext(oo),{matches:o}=J.useContext(kr),{pathname:i}=Ls(),a=JSON.stringify(Bh(o,r.v7_relativeSplatPath));return J.useMemo(()=>zh(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function g_(t,e){return y_(t,e)}function y_(t,e,n,r){Oi()||vt(!1);let{navigator:o}=J.useContext(oo),{matches:i}=J.useContext(kr),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let h=Ls(),d;if(e){var g;let A=typeof e=="string"?Ni(e):e;c==="/"||(g=A.pathname)!=null&&g.startsWith(c)||vt(!1),d=A}else d=h;let _=d.pathname||"/",E=_;if(c!=="/"){let A=c.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(A.length).join("/")}let b=W1(t,{pathname:E}),N=k_(b&&b.map(A=>Object.assign({},A,{params:Object.assign({},l,A.params),pathname:Gr([c,o.encodeLocation?o.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?c:Gr([c,o.encodeLocation?o.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),i,n,r);return e&&N?J.createElement(Ll.Provider,{value:{location:Os({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Kr.Pop}},N):N}function v_(){let t=E_(),e=u_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),n?J.createElement("pre",{style:o},n):null,null)}const __=J.createElement(v_,null);class w_ extends J.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?J.createElement(kr.Provider,{value:this.props.routeContext},J.createElement(Yg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function S_(t){let{routeContext:e,match:n,children:r}=t,o=J.useContext(Uh);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),J.createElement(kr.Provider,{value:e},r)}function k_(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(o=n)==null?void 0:o.errors;if(l!=null){let d=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);d>=0||vt(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let g=a[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=d),g.route.id){let{loaderData:_,errors:E}=n,b=g.route.loader&&_[g.route.id]===void 0&&(!E||E[g.route.id]===void 0);if(g.route.lazy||b){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,g,_)=>{let E,b=!1,N=null,A=null;n&&(E=l&&g.route.id?l[g.route.id]:void 0,N=g.route.errorElement||__,c&&(h<0&&_===0?(b=!0,A=null):h===_&&(b=!0,A=g.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,_+1)),T=()=>{let I;return E?I=N:b?I=A:g.route.Component?I=J.createElement(g.route.Component,null):g.route.element?I=g.route.element:I=d,J.createElement(S_,{match:g,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:I})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?J.createElement(w_,{location:n.location,revalidation:n.revalidation,component:N,error:E,children:T(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):T()},null)}var Jg=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Jg||{}),cl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(cl||{});function x_(t){let e=J.useContext(Uh);return e||vt(!1),e}function C_(t){let e=J.useContext(d_);return e||vt(!1),e}function T_(t){let e=J.useContext(kr);return e||vt(!1),e}function ey(t){let e=T_(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function E_(){var t;let e=J.useContext(Yg),n=C_(cl.UseRouteError),r=ey(cl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function b_(){let{router:t}=x_(Jg.UseNavigateStable),e=ey(cl.UseNavigateStable),n=J.useRef(!1);return Xg(()=>{n.current=!0}),J.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Os({fromRouteId:e},i)))},[t,e])}const Gf={};function N_(t,e){Gf[e]||(Gf[e]=!0,console.warn(e))}const Qf=(t,e,n)=>N_(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function O_(t,e){t!=null&&t.v7_startTransition||Qf("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Qf("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Yf(t){let{to:e,replace:n,state:r,relative:o}=t;Oi()||vt(!1);let{future:i,static:a}=J.useContext(oo),{matches:l}=J.useContext(kr),{pathname:c}=Ls(),h=Wh(),d=zh(e,Bh(l,i.v7_relativeSplatPath),c,o==="path"),g=JSON.stringify(d);return J.useEffect(()=>h(JSON.parse(g),{replace:n,state:r,relative:o}),[h,g,o,n,r]),null}function Da(t){vt(!1)}function A_(t){let{basename:e="/",children:n=null,location:r,navigationType:o=Kr.Pop,navigator:i,static:a=!1,future:l}=t;Oi()&&vt(!1);let c=e.replace(/^\/*/,"/"),h=J.useMemo(()=>({basename:c,navigator:i,static:a,future:Os({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Ni(r));let{pathname:d="/",search:g="",hash:_="",state:E=null,key:b="default"}=r,N=J.useMemo(()=>{let A=Vh(d,c);return A==null?null:{location:{pathname:A,search:g,hash:_,state:E,key:b},navigationType:o}},[c,d,g,_,E,b,o]);return N==null?null:J.createElement(oo.Provider,{value:h},J.createElement(Ll.Provider,{children:n,value:N}))}function I_(t){let{children:e,location:n}=t;return g_(Au(e),n)}new Promise(()=>{});function Au(t,e){e===void 0&&(e=[]);let n=[];return J.Children.forEach(t,(r,o)=>{if(!J.isValidElement(r))return;let i=[...e,o];if(r.type===J.Fragment){n.push.apply(n,Au(r.props.children,i));return}r.type!==Da&&vt(!1),!r.props.index||!r.props.children||vt(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Au(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iu.apply(this,arguments)}function P_(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function D_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function M_(t,e){return t.button===0&&(!e||e==="_self")&&!D_(t)}const R_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],j_="6";try{window.__reactRouterVersion=j_}catch{}const F_="startTransition",Xf=Ov[F_];function L_(t){let{basename:e,children:n,future:r,window:o}=t,i=J.useRef();i.current==null&&(i.current=B1({window:o,v5Compat:!0}));let a=i.current,[l,c]=J.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},d=J.useCallback(g=>{h&&Xf?Xf(()=>c(g)):c(g)},[c,h]);return J.useLayoutEffect(()=>a.listen(d),[a,d]),J.useEffect(()=>O_(r),[r]),J.createElement(A_,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const K_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ic=J.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:i,replace:a,state:l,target:c,to:h,preventScrollReset:d,viewTransition:g}=e,_=P_(e,R_),{basename:E}=J.useContext(oo),b,N=!1;if(typeof h=="string"&&V_.test(h)&&(b=h,K_))try{let I=new URL(window.location.href),R=h.startsWith("//")?new URL(I.protocol+h):new URL(h),P=Vh(R.pathname,E);R.origin===I.origin&&P!=null?h=P+R.search+R.hash:N=!0}catch{}let A=f_(h,{relative:o}),w=B_(h,{replace:a,state:l,target:c,preventScrollReset:d,relative:o,viewTransition:g});function T(I){r&&r(I),I.defaultPrevented||w(I)}return J.createElement("a",Iu({},_,{href:b||A,onClick:N||i?r:T,ref:n,target:c}))});var Zf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Zf||(Zf={}));var Jf;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Jf||(Jf={}));function B_(t,e){let{target:n,replace:r,state:o,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=Wh(),h=Ls(),d=Zg(t,{relative:a});return J.useCallback(g=>{if(M_(g,n)){g.preventDefault();let _=r!==void 0?r:ll(h)===ll(d);c(t,{replace:_,state:o,preventScrollReset:i,relative:a,viewTransition:l})}},[h,c,d,r,o,n,t,i,a,l])}const Pu={0:"white",1:"rgb(130, 0, 0)",2:"red",3:"#007000",4:"#00fb47",5:"#9500b3",6:"#ea7eff",7:"rgb(120, 120, 120)",8:"rgb(0, 0, 255)",9:"#03b9d5",10:"#ff7328",11:"#ff0"},$h=(t,e)=>{if(e==="traditional"){const r={};for(let o=0;o<12;o++)r[o]=[1,3,6,8,10].includes(o)?"#222222":"white";return r}const n={};for(let r=0;r<12;r++)n[r]=Pu[(r-t+12)%12];return n},ty=t=>{const e=t%12;return[0,4,6,9,11].includes(e)?"black":"white"},ep=50,z_=({notes:t,tonic:e,colorMode:n,fallingNoteWidth:r,referencePoints:o})=>{const[i,a]=J.useState(Date.now()),l=$h(e,n),c=d=>{const{c1:g,c2:_}=o;return g.left+(d-g.note)*(_.left-g.left)/(_.note-g.note)},h=()=>{const d=[];for(let E=0;E<=8;E++){const b=E*12+e+12,N=c(b);if(!isNaN(N)&&isFinite(N)&&d.push(H.jsx("div",{style:{position:"absolute",left:N,top:0,width:"0.5px",height:"100%",backgroundColor:Pu[0],pointerEvents:"none"}},`tonic-line-${E}`)),E<8){const A=E*12+(e+7)%12+12,w=c(A);!isNaN(w)&&isFinite(w)&&d.push(H.jsx("div",{style:{position:"absolute",left:w,top:0,width:"0.5px",height:"100%",backgroundColor:Pu[7],pointerEvents:"none"}},`fifth-line-${E}`))}}return d};return J.useEffect(()=>{let d;const g=()=>{a(Date.now()),d=requestAnimationFrame(g)};return d=requestAnimationFrame(g),()=>cancelAnimationFrame(d)},[]),H.jsxs("div",{style:{position:"absolute",top:uo,left:0,right:0,bottom:-2e3,overflow:"hidden"},children:[h(),t.map(d=>{const g=!d.endTime,_=d.endTime?(i-d.endTime)/1e3:0,E=g?0:_*ep,N=(g?i-d.startTime:d.endTime-d.startTime)*(ep/1e3),A=d.note+d.octave*12,w=c(A),T=n==="traditional"?"white":l[d.note];return H.jsx("div",{style:{position:"absolute",left:w,top:E,width:r,height:N,backgroundColor:T,borderTopLeftRadius:g?"0px":"10px",borderTopRightRadius:g?"0px":"10px",willChange:"transform, height"}},d.id)})]})},U_={KeyZ:{note:0,octave:2},KeyS:{note:1,octave:2},KeyX:{note:2,octave:2},KeyD:{note:3,octave:2},KeyC:{note:4,octave:2},KeyV:{note:5,octave:2},KeyG:{note:6,octave:2},KeyB:{note:7,octave:2},KeyH:{note:8,octave:2},KeyN:{note:9,octave:2},KeyJ:{note:10,octave:2},KeyM:{note:11,octave:2},Comma:{note:0,octave:3},KeyL:{note:1,octave:3},Period:{note:2,octave:3},Semicolon:{note:3,octave:3},Slash:{note:4,octave:3},KeyQ:{note:5,octave:3},Digit2:{note:6,octave:3},KeyW:{note:7,octave:3},Digit3:{note:8,octave:3},KeyE:{note:9,octave:3},Digit4:{note:10,octave:3},KeyR:{note:11,octave:3},KeyT:{note:0,octave:4},Digit6:{note:1,octave:4},KeyY:{note:2,octave:4},Digit7:{note:3,octave:4},KeyU:{note:4,octave:4},KeyI:{note:5,octave:4},Digit9:{note:6,octave:4},KeyO:{note:7,octave:4},Digit0:{note:8,octave:4},KeyP:{note:9,octave:4},Minus:{note:10,octave:4},BracketLeft:{note:11,octave:4},BracketRight:{note:0,octave:5}},W_={KeyZ:{note:0,octave:2},KeyX:{note:1,octave:2},KeyC:{note:2,octave:2},KeyV:{note:3,octave:2},KeyB:{note:4,octave:2},KeyN:{note:5,octave:2},KeyM:{note:6,octave:2},Comma:{note:7,octave:2},Period:{note:8,octave:2},Slash:{note:9,octave:2},KeyA:{note:10,octave:2},KeyS:{note:11,octave:2},KeyD:{note:0,octave:3},KeyF:{note:1,octave:3},KeyG:{note:2,octave:3},KeyH:{note:3,octave:3},KeyJ:{note:4,octave:3},KeyK:{note:5,octave:3},KeyL:{note:6,octave:3},Semicolon:{note:7,octave:3},Quote:{note:8,octave:3},KeyQ:{note:9,octave:3},KeyW:{note:10,octave:3},KeyE:{note:11,octave:3},KeyR:{note:0,octave:4},KeyT:{note:1,octave:4},KeyY:{note:2,octave:4},KeyU:{note:3,octave:4},KeyI:{note:4,octave:4},KeyO:{note:5,octave:4},KeyP:{note:6,octave:4},BracketLeft:{note:7,octave:4},BracketRight:{note:8,octave:4},Digit1:{note:9,octave:4},Digit2:{note:10,octave:4},Digit3:{note:11,octave:4},Digit4:{note:0,octave:5},Digit5:{note:1,octave:5},Digit6:{note:2,octave:5},Digit7:{note:3,octave:5},Digit8:{note:4,octave:5},Digit9:{note:5,octave:5},Digit0:{note:6,octave:5},Minus:{note:7,octave:5},Equal:{note:8,octave:5}},Pc=(t,e)=>e||(t==="flat-chromatic"?W_:U_),es={KeyZ:"z",KeyX:"x",KeyC:"c",KeyV:"v",KeyB:"b",KeyN:"n",KeyM:"m",Comma:",",Period:".",Slash:"/",KeyA:"a",KeyS:"s",KeyD:"d",KeyF:"f",KeyG:"g",KeyH:"h",KeyJ:"j",KeyK:"k",KeyL:"l",Semicolon:";",Quote:"'",KeyQ:"q",KeyW:"w",KeyE:"e",KeyR:"r",KeyT:"t",KeyY:"y",KeyU:"u",KeyI:"i",KeyO:"o",KeyP:"p",BracketLeft:"[",BracketRight:"]",Digit1:"1",Digit2:"2",Digit3:"3",Digit4:"4",Digit5:"5",Digit6:"6",Digit7:"7",Digit8:"8",Digit9:"9",Digit0:"0",Minus:"-",Equal:"="},Du={single:{label:"1",getNotes:(t,e)=>[{note:t,octave:e}]},fifth:{label:"5",getNotes:(t,e)=>[{note:t,octave:e},{note:(t+7)%12,octave:t+7>=12?e+1:e}]},major:{label:"M",getNotes:(t,e)=>[{note:t,octave:e},{note:(t+4)%12,octave:t+4>=12?e+1:e},{note:(t+7)%12,octave:t+7>=12?e+1:e}]},diatonic:{label:"d",getNotes:(t,e,n="major")=>{const r=n==="major"?[0,2,4,5,7,9,11]:[0,2,3,5,7,8,10],o=r.findIndex(l=>t%12===l);if(o===-1)return[{note:t,octave:e}];const i=l=>{const c=l%7;return r[c]};return[o,(o+2)%7,(o+4)%7].map(l=>{const h=i(l)-t,d=h<0?h+12:h;return{note:(t+d)%12,octave:t+d>=12?e+1:e}})}}},$_=({tonic:t,onTonicChange:e})=>{const[n,r]=J.useState(!1),o=J.useRef(null),[i,a]=J.useState(null),l=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return J.useEffect(()=>{const c=h=>{o.current&&!o.current.contains(h.target)&&r(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]),H.jsxs("div",{ref:o,style:{position:"relative",cursor:"pointer"},onClick:()=>r(!n),children:[H.jsx("div",{style:{fontSize:"16px",fontWeight:"bold"},children:l[t]}),n&&H.jsxs("div",{style:{position:"absolute",top:"100%",left:"0",transform:"none",display:"flex",flexDirection:"column",gap:"8px",padding:"8px",background:"rgba(0, 0, 0, 0.8)",borderRadius:"4px",marginTop:"4px",zIndex:10,minWidth:"200px"},children:[H.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gap:"4px"},children:l.map((c,h)=>H.jsx("div",{onClick:d=>{d.stopPropagation(),e(h),r(!1)},onMouseEnter:()=>a(h),onMouseLeave:()=>a(null),style:{padding:"4px 8px",cursor:"pointer",background:t===h||i===h?"rgba(255, 255, 255, 0.15)":"none",border:t===h?"1px solid rgba(255, 255, 255, 0.8)":"1px solid transparent",borderRadius:"4px",fontSize:"14px",textAlign:"center",fontWeight:t===h?"bold":"normal",transition:"all 0.1s ease-in-out"},children:c},c))}),H.jsx("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)",textAlign:"center",borderTop:"1px solid rgba(255, 255, 255, 0.2)",paddingTop:"8px"},children:"Press Ctrl + key to change tonic"})]})]})},q_=({colorMode:t,onColorModeChange:e})=>{const n={traditional:"chromatic",chromatic:"flat-chromatic","flat-chromatic":"traditional"};return H.jsx("div",{onClick:()=>e(n[t]),style:{width:"80px",height:"20px",backgroundColor:t==="traditional"?"rgba(255, 255, 255, 0.2)":"#4CAF50",borderRadius:"10px",position:"relative",cursor:"pointer",transition:"background-color 1s ease-in-out"},children:H.jsx("div",{style:{width:"18px",height:"18px",backgroundColor:"white",borderRadius:"50%",position:"absolute",top:"1px",left:t==="traditional"?"1px":t==="chromatic"?"31px":"61px",transition:"left 1s ease-in-out",display:"flex",alignItems:"center",justifyContent:"center"},children:t!=="traditional"&&H.jsx("span",{role:"img","aria-label":"rainbow",style:{fontSize:"12px",userSelect:"none"},children:"🌈"})})})},H_=({currentVoicing:t,onVoicingChange:e})=>H.jsx("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:Object.entries(Du).map(([n,r])=>H.jsx("span",{onClick:()=>e(n),style:{cursor:"pointer",opacity:n===t?1:.6,fontWeight:n===t?"bold":"normal",transition:"all 0.2s"},children:r.label},n))}),G_=({tonic:t,onTonicChange:e,colorMode:n,onColorModeChange:r,currentVoicing:o,onVoicingChange:i})=>H.jsxs("div",{style:{position:"absolute",top:-30,left:0,display:"flex",alignItems:"center",gap:"40px",color:"white"},children:[H.jsx($_,{tonic:t,onTonicChange:e}),H.jsx(H_,{currentVoicing:o,onVoicingChange:i}),H.jsx(q_,{colorMode:n,onColorModeChange:r})]});function Q_({title:t,titleId:e,...n},r){return J.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?J.createElement("title",{id:e},t):null,J.createElement("path",{fillRule:"evenodd",d:"M4.5 7.5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-9Z",clipRule:"evenodd"}))}const Y_=J.forwardRef(Q_),tt=({children:t})=>H.jsx("p",{className:"mt-6 mb-2",children:t}),X_=({suffix:t,children:e})=>H.jsx("a",{href:`https://rawl.rocks/${t}`,target:"_blank",rel:"noopener noreferrer",children:e}),Z_=[{title:"White Keys",content:H.jsxs(H.Fragment,{children:[H.jsxs(tt,{children:["Welcome to Rawl Piano, the companion book to"," ",H.jsx(X_,{suffix:"",children:"rawl.rocks"}),". I'm gonna cover Western music theory using my colorful music notation."]}),H.jsx(tt,{children:"We have seven different types of white keys. Why seven? There are seven vibes, in a way."})]}),finalText:"Play around with all seven keys. Then, as you're ready, go to the next lesson",taskIds:["play-c-across-octaves","play-d-across-octaves","play-e-across-octaves","play-f-across-octaves","play-g-across-octaves","play-a-across-octaves","play-b-across-octaves"]},{title:"Black Keys",content:H.jsx(H.Fragment,{children:H.jsx(tt,{children:"Now let's learn about the black keys!"})}),taskIds:["play-d-again","play-c-sharp","play-e-again","play-d-sharp","play-a-again","play-g-sharp","play-b-again","play-a-sharp","play-f-again","play-f-sharp"]},{title:"Chromatic Sequences",content:H.jsxs(H.Fragment,{children:[H.jsx(tt,{children:"Now let's play all notes in sequence! First ascending from A0, then descending from C8."}),H.jsx(tt,{children:"Follow the arrows - they show which note to play next. Previous notes will show checkmarks."}),H.jsx(tt,{children:"Finally, try playing the ascending sequence again using the flat keyboard layout - where each key is arranged in chromatic order from left to right."})]}),taskIds:["play-chromatic-ascending","play-chromatic-descending","play-chromatic-ascending-flat"]},{title:"Major Second Intervals",content:H.jsxs(H.Fragment,{children:[H.jsx(tt,{children:"Let's explore intervals! We'll start with major seconds - the interval of two semitones."}),H.jsx(tt,{children:"First, play all notes separated by major seconds starting from A0. Then we'll play the complementary sequence starting from A#0."})]}),taskIds:["play-major-seconds-from-a0","play-major-seconds-from-asharp0"]},{title:"Scale Modes",content:H.jsxs(H.Fragment,{children:[H.jsx(tt,{children:"Let's explore different scale modes! Each row of keys maps to a different mode:"}),H.jsx(tt,{children:"Bottom row (Z-M): Lydian mode - like major scale but with a raised 4th"}),H.jsx(tt,{children:"Middle row (A-J): Major scale (Ionian mode) - the familiar do-re-mi pattern"}),H.jsx(tt,{children:"Top row (Q-U): Mixolydian mode - major scale with a lowered 7th"}),H.jsx(tt,{children:"Number row (1-8): Dorian mode - minor scale with a raised 6th"})]}),taskIds:["play-lydian-scale","play-major-scale","play-mixolydian-scale","play-dorian-scale"]},{title:"More Scale Modes",content:H.jsxs(H.Fragment,{children:[H.jsx(tt,{children:"Let's explore the remaining scale modes! Each row maps to a different mode, continuing our pattern:"}),H.jsx(tt,{children:"Bottom row (Z-A): Dorian mode again - but in a lower octave for comparison"}),H.jsx(tt,{children:"Middle row (A-J): Natural Minor (Aeolian) - the familiar sad scale"}),H.jsx(tt,{children:"Top row (Q-U): Phrygian mode - minor scale with a lowered 2nd"}),H.jsx(tt,{children:"Number row (1-8): Locrian mode - the darkest mode, with lowered 2nd and 5th"})]}),taskIds:["play-dorian-low-scale","play-minor-scale","play-phrygian-scale","play-locrian-scale"]},{title:"Major Chords",content:H.jsxs(H.Fragment,{children:[H.jsx(tt,{children:"Now let's learn all twelve major chords! We'll start with C major in the second octave, using three keys for the three notes of each chord."}),H.jsx(tt,{children:"The bottom row (Z-.) covers C, C#, and D major chords. The home row (A-L) covers Eb, E, and F major chords. The top row (Q-O) covers F#, G, and G# major chords. And finally the number row is grouped in threes: 1-2-3 for A major, 4-5-6 for Bb major, and 7-8-9 for B major."}),H.jsx(tt,{children:"Each new chord builds on the previous ones, so you can always go back and practice earlier chords!"})]}),taskIds:["play-c-major-chord","play-c-sharp-major-chord","play-d-major-chord","play-eb-major-chord","play-e-major-chord","play-f-major-chord","play-f-sharp-major-chord","play-g-major-chord","play-g-sharp-major-chord","play-a-major-chord","play-bb-major-chord","play-b-major-chord"]},{title:"Minor Chords",content:H.jsxs(H.Fragment,{children:[H.jsx(tt,{children:"Now let's learn all twelve minor chords! Like major chords, each minor chord has three notes, but the middle note (the third) is lowered by one semitone, giving that characteristic melancholic sound."}),H.jsx(tt,{children:"We'll use the same keyboard layout pattern as major chords: Bottom row (Z-.) for C minor, C# minor, and D minor; Home row (A-L) for Eb minor, E minor, and F minor; Top row (Q-O) for F# minor, G minor, and G# minor; Number row grouped in threes: 1-2-3 for A minor, 4-5-6 for Bb minor, and 7-8-9 for B minor."}),H.jsx(tt,{children:"Each minor chord follows this pattern: root note, minor third (3 semitones up), and perfect fifth (7 semitones up). For example, C minor is C (root), Eb (minor third), and G (perfect fifth)."})]}),taskIds:["play-c-minor-chord","play-c-sharp-minor-chord","play-d-minor-chord","play-eb-minor-chord","play-e-minor-chord","play-f-minor-chord","play-f-sharp-minor-chord","play-g-minor-chord","play-g-sharp-minor-chord","play-a-minor-chord","play-bb-minor-chord","play-b-minor-chord"]},{title:"Free Play",content:H.jsx(H.Fragment,{children:H.jsx(tt,{children:"Congratulations! You've completed the lessons. Now you can freely play around with the piano. Try different tonics, voicings, and color modes!"})}),taskIds:[]}],Qt=Z_.map((t,e)=>({...t,id:e+1})),pn=t=>({type:"sequence",sequence:t,getState:e=>({completedNotes:t.slice(0,e),activeTargets:t.slice(e,e+1),progress:e}),checkNote:(e,n,r)=>{const o=t[r];return o&&o.note===e&&o.octave===n}}),ny=t=>({type:"set",targetNotes:t,getState:(e=new Set)=>{const n=[],r=[],o=e||new Set;return Array.from(t).forEach(i=>{const[a,l]=i.split("-").map(Number);o.has(i)?n.push({note:a,octave:l}):r.push({note:a,octave:l})}),{completedNotes:n,activeTargets:r,progress:n.length}},checkNote:(e,n,r=new Set)=>{const o=`${e}-${n}`,i=r||new Set;return t.has(o)&&!i.has(o)}}),Hi={"C-major":{notes:[{note:0,octave:2},{note:4,octave:2},{note:7,octave:2}],keys:["KeyZ","KeyX","KeyC"]},"C#-major":{notes:[{note:1,octave:2},{note:5,octave:2},{note:8,octave:2}],keys:["KeyV","KeyB","KeyN"]},"D-major":{notes:[{note:2,octave:2},{note:6,octave:2},{note:9,octave:2}],keys:["KeyM","Comma","Period"]},"Eb-major":{notes:[{note:3,octave:3},{note:7,octave:3},{note:10,octave:3}],keys:["KeyA","KeyS","KeyD"]},"E-major":{notes:[{note:4,octave:3},{note:8,octave:3},{note:11,octave:3}],keys:["KeyF","KeyG","KeyH"]},"F-major":{notes:[{note:5,octave:3},{note:9,octave:3},{note:0,octave:4}],keys:["KeyJ","KeyK","KeyL"]},"F#-major":{notes:[{note:6,octave:4},{note:10,octave:4},{note:1,octave:5}],keys:["KeyQ","KeyW","KeyE"]},"G-major":{notes:[{note:7,octave:4},{note:11,octave:4},{note:2,octave:5}],keys:["KeyR","KeyT","KeyY"]},"G#-major":{notes:[{note:8,octave:4},{note:0,octave:5},{note:3,octave:5}],keys:["KeyU","KeyI","KeyO"]},"A-major":{notes:[{note:9,octave:4},{note:1,octave:5},{note:4,octave:5}],keys:["Digit1","Digit2","Digit3"]},"Bb-major":{notes:[{note:10,octave:4},{note:2,octave:5},{note:5,octave:5}],keys:["Digit4","Digit5","Digit6"]},"B-major":{notes:[{note:11,octave:4},{note:3,octave:5},{note:6,octave:5}],keys:["Digit7","Digit8","Digit9"]},"C-minor":{notes:[{note:0,octave:2},{note:3,octave:2},{note:7,octave:2}],keys:["KeyZ","KeyX","KeyC"]},"C#-minor":{notes:[{note:1,octave:2},{note:4,octave:2},{note:8,octave:2}],keys:["KeyV","KeyB","KeyN"]},"D-minor":{notes:[{note:2,octave:2},{note:5,octave:2},{note:9,octave:2}],keys:["KeyM","Comma","Period"]},"Eb-minor":{notes:[{note:3,octave:3},{note:6,octave:3},{note:10,octave:3}],keys:["KeyA","KeyS","KeyD"]},"E-minor":{notes:[{note:4,octave:3},{note:7,octave:3},{note:11,octave:3}],keys:["KeyF","KeyG","KeyH"]},"F-minor":{notes:[{note:5,octave:3},{note:8,octave:3},{note:0,octave:4}],keys:["KeyJ","KeyK","KeyL"]},"F#-minor":{notes:[{note:6,octave:4},{note:9,octave:4},{note:1,octave:5}],keys:["KeyQ","KeyW","KeyE"]},"G-minor":{notes:[{note:7,octave:4},{note:10,octave:4},{note:2,octave:5}],keys:["KeyR","KeyT","KeyY"]},"G#-minor":{notes:[{note:8,octave:4},{note:11,octave:4},{note:3,octave:5}],keys:["KeyU","KeyI","KeyO"]},"A-minor":{notes:[{note:9,octave:4},{note:0,octave:5},{note:4,octave:5}],keys:["Digit1","Digit2","Digit3"]},"Bb-minor":{notes:[{note:10,octave:4},{note:1,octave:5},{note:5,octave:5}],keys:["Digit4","Digit5","Digit6"]},"B-minor":{notes:[{note:11,octave:4},{note:2,octave:5},{note:6,octave:5}],keys:["Digit7","Digit8","Digit9"]}},st=(t,e,n=[])=>{const r={};n.forEach(i=>{Hi[i].notes.forEach((a,l)=>{r[Hi[i].keys[l]]=a})}),Hi[e].notes.forEach((i,a)=>{r[Hi[e].keys[a]]=i});const o=new Set(Hi[e].notes.map(i=>`${i.note}-${i.octave}`));return{id:`play-${e.toLowerCase()}-chord`,description:`Play ${e.replace("-"," ")} chord`,total:3,requiredProgress:3,keyboardMapping:r,colorMode:"chromatic",chromaticNotes:[0,1,2,3,4,5,6,7,8,9,10,11],checker:ny(o),previousTaskId:t>0?`play-${n[n.length-1].toLowerCase()}-chord`:null}},J_={"play-c-major-chord":st(0,"C-major"),"play-c-sharp-major-chord":st(1,"C#-major",["C-major"]),"play-d-major-chord":st(2,"D-major",["C-major","C#-major"]),"play-eb-major-chord":st(3,"Eb-major",["C-major","C#-major","D-major"]),"play-e-major-chord":st(4,"E-major",["C-major","C#-major","D-major","Eb-major"]),"play-f-major-chord":st(5,"F-major",["C-major","C#-major","D-major","Eb-major","E-major"]),"play-f-sharp-major-chord":st(6,"F#-major",["C-major","C#-major","D-major","Eb-major","E-major","F-major"]),"play-g-major-chord":st(7,"G-major",["C-major","C#-major","D-major","Eb-major","E-major","F-major","F#-major"]),"play-g-sharp-major-chord":st(8,"G#-major",["C-major","C#-major","D-major","Eb-major","E-major","F-major","F#-major","G-major"]),"play-a-major-chord":st(9,"A-major",["C-major","C#-major","D-major","Eb-major","E-major","F-major","F#-major","G-major","G#-major"]),"play-bb-major-chord":st(10,"Bb-major",["C-major","C#-major","D-major","Eb-major","E-major","F-major","F#-major","G-major","G#-major","A-major"]),"play-b-major-chord":st(11,"B-major",["C-major","C#-major","D-major","Eb-major","E-major","F-major","F#-major","G-major","G#-major","A-major","Bb-major"])},ew={"play-c-minor-chord":st(0,"C-minor"),"play-c-sharp-minor-chord":st(1,"C#-minor",["C-minor"]),"play-d-minor-chord":st(2,"D-minor",["C-minor","C#-minor"]),"play-eb-minor-chord":st(3,"Eb-minor",["C-minor","C#-minor","D-minor"]),"play-e-minor-chord":st(4,"E-minor",["C-minor","C#-minor","D-minor","Eb-minor"]),"play-f-minor-chord":st(5,"F-minor",["C-minor","C#-minor","D-minor","Eb-minor","E-minor"]),"play-f-sharp-minor-chord":st(6,"F#-minor",["C-minor","C#-minor","D-minor","Eb-minor","E-minor","F-minor"]),"play-g-minor-chord":st(7,"G-minor",["C-minor","C#-minor","D-minor","Eb-minor","E-minor","F-minor","F#-minor"]),"play-g-sharp-minor-chord":st(8,"G#-minor",["C-minor","C#-minor","D-minor","Eb-minor","E-minor","F-minor","F#-minor","G-minor"]),"play-a-minor-chord":st(9,"A-minor",["C-minor","C#-minor","D-minor","Eb-minor","E-minor","F-minor","F#-minor","G-minor"]),"play-bb-minor-chord":st(10,"Bb-minor",["C-minor","C#-minor","D-minor","Eb-minor","E-minor","F-minor","F#-minor","G-minor","G#-minor"]),"play-b-minor-chord":st(11,"B-minor",["C-minor","C#-minor","D-minor","Eb-minor","E-minor","F-minor","F#-minor","G-minor","G#-minor","A-minor"])},tp=["play-c-across-octaves","play-d-across-octaves","play-e-across-octaves","play-f-across-octaves","play-g-across-octaves","play-a-across-octaves","play-b-across-octaves","play-d-again","play-c-sharp","play-e-again","play-d-sharp","play-a-again","play-g-sharp","play-b-again","play-a-sharp","play-f-again","play-f-sharp","play-chromatic-ascending","play-chromatic-descending","play-chromatic-ascending-flat","play-major-seconds-from-a0","play-major-seconds-from-asharp0","play-lydian-scale","play-major-scale","play-mixolydian-scale","play-dorian-scale","play-dorian-low-scale","play-minor-scale","play-phrygian-scale","play-locrian-scale","play-c-major-chord","play-c-sharp-major-chord","play-d-major-chord","play-eb-major-chord","play-e-major-chord","play-f-major-chord","play-f-sharp-major-chord","play-g-major-chord","play-g-sharp-major-chord","play-a-major-chord","play-bb-major-chord","play-b-major-chord","play-c-minor-chord","play-c-sharp-minor-chord","play-d-minor-chord","play-eb-minor-chord","play-e-minor-chord","play-f-minor-chord","play-f-sharp-minor-chord","play-g-minor-chord","play-g-sharp-minor-chord","play-a-minor-chord","play-bb-minor-chord","play-b-minor-chord"],Oe=(t,e)=>({note:t,octave:0,keys:e}),We={C:Oe(0,["KeyZ","KeyA","KeyQ","Digit1"]),D:Oe(2,["KeyX","KeyS","KeyW","Digit2"]),E:Oe(4,["KeyC","KeyD","KeyE","Digit3"]),F:Oe(5,["KeyV","KeyF","KeyR","Digit4"]),G:Oe(7,["KeyB","KeyG","KeyT","Digit5"]),A:Oe(9,["KeyN","KeyH","KeyY","Digit6"]),B:Oe(11,["KeyM","KeyJ","KeyU","Digit7"]),"C#":Oe(1,["KeyZ","KeyA","KeyQ","Digit1"]),"E-again":Oe(4,["KeyV","KeyF","KeyR","Digit4"]),"D#":Oe(3,["KeyC","KeyD","KeyE","Digit3"]),"A-again":Oe(9,["Comma","KeyK","KeyI","Digit8"]),"G#":Oe(8,["KeyM","KeyJ","KeyU","Digit7"]),"B-again":Oe(11,["Slash","Semicolon","KeyP","Digit0"]),"A#":Oe(10,["Period","KeyL","KeyO","Digit9"]),"F-again":Oe(5,["KeyB","KeyG","KeyT","Digit5"]),"F#":Oe(6,["KeyN","KeyH","KeyY","Digit6"]),"lydian-c":Oe(0,["KeyZ","KeyZ","KeyZ","KeyZ"]),"lydian-d":Oe(2,["KeyX","KeyX","KeyX","KeyX"]),"lydian-e":Oe(4,["KeyC","KeyC","KeyC","KeyC"]),"lydian-f#":Oe(6,["KeyV","KeyV","KeyV","KeyV"]),"lydian-g":Oe(7,["KeyB","KeyB","KeyB","KeyB"]),"lydian-a":Oe(9,["KeyN","KeyN","KeyN","KeyN"]),"lydian-b":Oe(11,["KeyM","KeyM","KeyM","KeyM"]),"major-c":Oe(0,["KeyA","KeyA","KeyA","KeyA"]),"major-d":Oe(2,["KeyS","KeyS","KeyS","KeyS"]),"major-e":Oe(4,["KeyD","KeyD","KeyD","KeyD"]),"major-f":Oe(5,["KeyF","KeyF","KeyF","KeyF"]),"major-g":Oe(7,["KeyG","KeyG","KeyG","KeyG"]),"major-a":Oe(9,["KeyH","KeyH","KeyH","KeyH"]),"major-b":Oe(11,["KeyJ","KeyJ","KeyJ","KeyJ"]),"mixo-c":Oe(0,["KeyQ","KeyQ","KeyQ","KeyQ"]),"mixo-d":Oe(2,["KeyW","KeyW","KeyW","KeyW"]),"mixo-e":Oe(4,["KeyE","KeyE","KeyE","KeyE"]),"mixo-f":Oe(5,["KeyR","KeyR","KeyR","KeyR"]),"mixo-g":Oe(7,["KeyT","KeyT","KeyT","KeyT"]),"mixo-a":Oe(9,["KeyY","KeyY","KeyY","KeyY"]),"mixo-bb":Oe(10,["KeyU","KeyU","KeyU","KeyU"]),"dorian-c":Oe(0,["Digit1","Digit1","Digit1","Digit1"]),"dorian-d":Oe(2,["Digit2","Digit2","Digit2","Digit2"]),"dorian-eb":Oe(3,["Digit3","Digit3","Digit3","Digit3"]),"dorian-f":Oe(5,["Digit4","Digit4","Digit4","Digit4"]),"dorian-g":Oe(7,["Digit5","Digit5","Digit5","Digit5"]),"dorian-a":Oe(9,["Digit6","Digit6","Digit6","Digit6"]),"dorian-bb":Oe(10,["Digit7","Digit7","Digit7","Digit7"]),"dorian-c2":Oe(0,["Digit8","Digit8","Digit8","Digit8"])},tw=()=>{const t=[];let e=9,n=0;for(;!(e===0&&n===8);){t.push({note:e,octave:n});const r=(e+1)%12;e=r,r===0&&n++}return t.push({note:0,octave:8}),t},nw=()=>{const t=[];let e=0,n=8;for(;!(e===9&&n===0);){t.push({note:e,octave:n});let r=e-1;r<0&&(r=11,n--),e=r}return t.push({note:9,octave:0}),t},Lo=tw(),Dc=nw(),Ko=["KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal"],Mc=["Equal","Minus","Digit0","Digit9","Digit8","Digit7","Digit6","Digit5","Digit4","Digit3","Digit2","Digit1","BracketRight","BracketLeft","KeyP","KeyO","KeyI","KeyU","KeyY","KeyT","KeyR","KeyE","KeyW","KeyQ","Quote","Semicolon","KeyL","KeyK","KeyJ","KeyH","KeyG","KeyF","KeyD","KeyS","KeyA","Slash","Period","Comma","KeyM","KeyN","KeyB","KeyV","KeyC","KeyX","KeyZ"],Rc=(t,e)=>{const n={};return t.forEach(({note:r,octave:o},i)=>{i<e.length&&(n[e[i]]={note:r,octave:o})}),n},Rt=(t,e,n,r,o)=>{const i=new Set;[2,3,4,5].forEach(c=>{i.add(`${e.note}-${c}`)});const a=ny(i),l={};if(o===1)[We.C,We.D,We.E,We.F,We.G,We.A,We.B].slice(0,t+1).forEach(h=>{h&&h.keys.forEach((d,g)=>{l[d]={note:h.note,octave:g+2}})});else if(o===2){const c=[We.D,We["C#"],We["E-again"],We["D#"],We["A-again"],We["G#"],We["B-again"],We["A#"],We["F-again"],We["F#"]],h=t-7;c.slice(0,h+1).forEach(g=>{g&&g.keys.forEach((_,E)=>{l[_]={note:g.note,octave:E+2}})})}return{id:tp[t],description:`Play ${n}`,total:4,requiredProgress:4,previousTaskId:t>0?tp[t-1]:null,chromaticNotes:r,keyboardMapping:l,checker:a}},ry=(t,e,n)=>{const r=[];let o=t,i=e;const a=100;for(;r.length<a&&i<8;){r.push({note:o,octave:i});let l=o+n,c=i;if(l>11&&(l=l%12,c++),o=l,i=c,i>=8)break}return r},Gi=ry(9,0,2),Qi=ry(10,0,2),np=t=>{const e={},n=["KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal"];return t.forEach(({note:r,octave:o},i)=>{i<n.length&&(e[n[i]]={note:r,octave:o})}),e},Ce={lydian:{notes:[{note:0,octave:2},{note:2,octave:2},{note:4,octave:2},{note:6,octave:2},{note:7,octave:2},{note:9,octave:2},{note:11,octave:2},{note:0,octave:3}],keys:["KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","KeyA"],description:"Lydian scale (C D E F# G A B C)"},major:{notes:[{note:0,octave:3},{note:2,octave:3},{note:4,octave:3},{note:5,octave:3},{note:7,octave:3},{note:9,octave:3},{note:11,octave:3},{note:0,octave:4}],keys:["KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyQ"],description:"Major scale (C D E F G A B C)"},mixolydian:{notes:[{note:0,octave:4},{note:2,octave:4},{note:4,octave:4},{note:5,octave:4},{note:7,octave:4},{note:9,octave:4},{note:10,octave:4},{note:0,octave:5}],keys:["KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","Digit1"],description:"Mixolydian scale (C D E F G A Bb C)"},dorian:{notes:[{note:0,octave:5},{note:2,octave:5},{note:3,octave:5},{note:5,octave:5},{note:7,octave:5},{note:9,octave:5},{note:10,octave:5},{note:0,octave:6}],keys:["Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8"],description:"Dorian scale (C D Eb F G A Bb C)"},dorianLow:{notes:[{note:0,octave:2},{note:2,octave:2},{note:3,octave:2},{note:5,octave:2},{note:7,octave:2},{note:9,octave:2},{note:10,octave:2},{note:0,octave:3}],keys:["KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","KeyA"],description:"Dorian scale in lower octave (C D Eb F G A Bb C)"},minor:{notes:[{note:0,octave:3},{note:2,octave:3},{note:3,octave:3},{note:5,octave:3},{note:7,octave:3},{note:8,octave:3},{note:10,octave:3},{note:0,octave:4}],keys:["KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyQ"],description:"Natural Minor scale (C D Eb F G Ab Bb C)"},phrygian:{notes:[{note:0,octave:4},{note:1,octave:4},{note:3,octave:4},{note:5,octave:4},{note:7,octave:4},{note:8,octave:4},{note:10,octave:4},{note:0,octave:5}],keys:["KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","Digit1"],description:"Phrygian scale (C Db Eb F G Ab Bb C)"},locrian:{notes:[{note:0,octave:5},{note:1,octave:5},{note:3,octave:5},{note:5,octave:5},{note:6,octave:5},{note:8,octave:5},{note:10,octave:5},{note:0,octave:6}],keys:["Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8"],description:"Locrian scale (C Db Eb F Gb Ab Bb C)"}},Ar=(t,e=[])=>{const n={};return e.forEach(r=>{const o=Ce[r];o.notes.slice(0,-1).forEach(({note:i,octave:a},l)=>{n[o.keys[l]]={note:i,octave:a}})}),t.notes.forEach(({note:r,octave:o},i)=>{n[t.keys[i]]={note:r,octave:o}}),n},Gt={"play-c-across-octaves":Rt(0,We.C,"C notes across different octaves",[0],1),"play-d-across-octaves":Rt(1,We.D,"D notes across different octaves",[0,2],1),"play-e-across-octaves":Rt(2,We.E,"E notes across different octaves",[0,2,4],1),"play-f-across-octaves":Rt(3,We.F,"F notes across different octaves",[0,2,4,5],1),"play-g-across-octaves":Rt(4,We.G,"G notes across different octaves",[0,2,4,5,7],1),"play-a-across-octaves":Rt(5,We.A,"A notes across different octaves",[0,2,4,5,7,9],1),"play-b-across-octaves":Rt(6,We.B,"B notes across different octaves",[0,2,4,5,7,9,11],1),"play-d-again":Rt(7,We.D,"D notes across different octaves",[0,2,4,5,7,9,11],2),"play-c-sharp":Rt(8,We["C#"],"D♭ notes across different octaves",[0,1,2,4,5,7,9,11],2),"play-e-again":Rt(9,We["E-again"],"E notes across different octaves",[0,1,2,4,5,7,9,11],2),"play-d-sharp":Rt(10,We["D#"],"E♭ notes across different octaves",[0,1,2,3,4,5,7,9,11],2),"play-a-again":Rt(11,We["A-again"],"A notes across different octaves",[0,1,2,3,4,5,7,9,11],2),"play-g-sharp":Rt(12,We["G#"],"A♭ notes across different octaves",[0,1,2,3,4,5,7,8,9,11],2),"play-b-again":Rt(13,We["B-again"],"B notes across different octaves",[0,1,2,3,4,5,7,8,9,11],2),"play-a-sharp":Rt(14,We["A#"],"B♭ notes across different octaves",[0,1,2,3,4,5,7,8,9,10,11],2),"play-f-again":Rt(15,We["F-again"],"F notes across different octaves",[0,1,2,3,4,5,7,8,9,10,11],2),"play-f-sharp":Rt(16,We["F#"],"F# notes across different octaves",[0,1,2,3,4,5,6,7,8,9,10,11],2),"play-chromatic-ascending":{id:"play-chromatic-ascending",description:"Play notes in ascending chromatic order, starting from A0",total:Ko.length,requiredProgress:Ko.length,keyboardMapping:Rc(Lo,Ko),colorMode:"chromatic",chromaticNotes:Array.from(new Set(Lo.map(t=>t.note))),checker:pn(Lo),previousTaskId:"play-f-sharp"},"play-chromatic-descending":{id:"play-chromatic-descending",description:"Play notes in descending chromatic order, starting from C8",total:Mc.length,requiredProgress:Mc.length,keyboardMapping:Rc(Dc,Mc),colorMode:"chromatic",chromaticNotes:Array.from(new Set(Dc.map(t=>t.note))),checker:pn(Dc),previousTaskId:"play-chromatic-ascending"},"play-chromatic-ascending-flat":{id:"play-chromatic-ascending-flat",description:"Play notes in ascending chromatic order using flat keyboard layout",total:Ko.length,requiredProgress:Ko.length,keyboardMapping:Rc(Lo,Ko),colorMode:"flat-chromatic",chromaticNotes:Array.from(new Set(Lo.map(t=>t.note))),checker:pn(Lo),previousTaskId:"play-chromatic-descending"},"play-major-seconds-from-a0":{id:"play-major-seconds-from-a0",description:"Play notes separated by major seconds, starting from A0",total:Gi.length,requiredProgress:Gi.length,keyboardMapping:np(Gi),colorMode:"flat-chromatic",chromaticNotes:Array.from(new Set(Gi.map(t=>t.note))),checker:pn(Gi),previousTaskId:"play-chromatic-ascending-flat"},"play-major-seconds-from-asharp0":{id:"play-major-seconds-from-asharp0",description:"Play notes separated by major seconds, starting from A#0",total:Qi.length,requiredProgress:Qi.length,keyboardMapping:np(Qi),colorMode:"flat-chromatic",chromaticNotes:Array.from(new Set(Qi.map(t=>t.note))),checker:pn(Qi),previousTaskId:"play-major-seconds-from-a0"},"play-lydian-scale":{id:"play-lydian-scale",description:Ce.lydian.description,total:Ce.lydian.notes.length,requiredProgress:Ce.lydian.notes.length,keyboardMapping:Ar(Ce.lydian),colorMode:"chromatic",chromaticNotes:Array.from(new Set(Ce.lydian.notes.map(t=>t.note))),checker:pn([...Ce.lydian.notes]),previousTaskId:"play-major-seconds-from-asharp0"},"play-major-scale":{id:"play-major-scale",description:Ce.major.description,total:Ce.major.notes.length,requiredProgress:Ce.major.notes.length,keyboardMapping:Ar(Ce.major,["lydian"]),colorMode:"chromatic",chromaticNotes:Array.from(new Set([...Ce.lydian.notes.map(t=>t.note),...Ce.major.notes.map(t=>t.note)])),checker:pn([...Ce.major.notes]),previousTaskId:"play-lydian-scale"},"play-mixolydian-scale":{id:"play-mixolydian-scale",description:Ce.mixolydian.description,total:Ce.mixolydian.notes.length,requiredProgress:Ce.mixolydian.notes.length,keyboardMapping:Ar(Ce.mixolydian,["lydian","major"]),colorMode:"chromatic",chromaticNotes:Array.from(new Set([...Ce.lydian.notes.map(t=>t.note),...Ce.major.notes.map(t=>t.note),...Ce.mixolydian.notes.map(t=>t.note)])),checker:pn([...Ce.mixolydian.notes]),previousTaskId:"play-major-scale"},"play-dorian-scale":{id:"play-dorian-scale",description:Ce.dorian.description,total:Ce.dorian.notes.length,requiredProgress:Ce.dorian.notes.length,keyboardMapping:Ar(Ce.dorian,["lydian","major","mixolydian"]),colorMode:"chromatic",chromaticNotes:Array.from(new Set([...Ce.lydian.notes.map(t=>t.note),...Ce.major.notes.map(t=>t.note),...Ce.mixolydian.notes.map(t=>t.note),...Ce.dorian.notes.map(t=>t.note)])),checker:pn([...Ce.dorian.notes]),previousTaskId:"play-mixolydian-scale"},"play-dorian-low-scale":{id:"play-dorian-low-scale",description:Ce.dorianLow.description,total:Ce.dorianLow.notes.length,requiredProgress:Ce.dorianLow.notes.length,keyboardMapping:Ar(Ce.dorianLow),colorMode:"chromatic",chromaticNotes:Array.from(new Set(Ce.dorianLow.notes.map(t=>t.note))),checker:pn([...Ce.dorianLow.notes]),previousTaskId:"play-dorian-scale"},"play-minor-scale":{id:"play-minor-scale",description:Ce.minor.description,total:Ce.minor.notes.length,requiredProgress:Ce.minor.notes.length,keyboardMapping:Ar(Ce.minor,["dorianLow"]),colorMode:"chromatic",chromaticNotes:Array.from(new Set([...Ce.dorianLow.notes.map(t=>t.note),...Ce.minor.notes.map(t=>t.note)])),checker:pn([...Ce.minor.notes]),previousTaskId:"play-dorian-low-scale"},"play-phrygian-scale":{id:"play-phrygian-scale",description:Ce.phrygian.description,total:Ce.phrygian.notes.length,requiredProgress:Ce.phrygian.notes.length,keyboardMapping:Ar(Ce.phrygian,["dorianLow","minor"]),colorMode:"chromatic",chromaticNotes:Array.from(new Set([...Ce.dorianLow.notes.map(t=>t.note),...Ce.minor.notes.map(t=>t.note),...Ce.phrygian.notes.map(t=>t.note)])),checker:pn([...Ce.phrygian.notes]),previousTaskId:"play-minor-scale"},"play-locrian-scale":{id:"play-locrian-scale",description:Ce.locrian.description,total:Ce.locrian.notes.length,requiredProgress:Ce.locrian.notes.length,keyboardMapping:Ar(Ce.locrian,["dorianLow","minor","phrygian"]),colorMode:"chromatic",chromaticNotes:Array.from(new Set([...Ce.dorianLow.notes.map(t=>t.note),...Ce.minor.notes.map(t=>t.note),...Ce.phrygian.notes.map(t=>t.note),...Ce.locrian.notes.map(t=>t.note)])),checker:pn([...Ce.locrian.notes]),previousTaskId:"play-phrygian-scale"},...J_,...ew},rw=(t,e)=>{const n=Gt[t];return n&&e>=n.requiredProgress},ow=(t,e,n)=>{const r=Gt[t];if(!r)return!1;const o=Qt.find(l=>l.taskIds.includes(t));if(!o||o.id!==n)return!1;if(!r.previousTaskId)return!0;const i=e.find(l=>l.taskId===r.previousTaskId),a=(i==null?void 0:i.progress)||0;return rw(r.previousTaskId,a)},rp=t=>{const e=Qt.find(r=>r.taskIds.includes(t));if(!e)return null;const n=e.taskIds.indexOf(t);return n===-1||n===e.taskIds.length-1?null:e.taskIds[n+1]},iw=[1,3,-1,6,8,10,-1],Kl=[0,2,4,5,7,9,11],op=.65,uo=80,sw=(t,e,n,r)=>!n||!r||!n.includes("scale")?!0:Object.values(r).some(o=>o.note===t&&o.octave===e),aw=({note:t,octave:e,style:n,keyboardKey:r,shiftedKeyboardKey:o,tonic:i,isShiftPressed:a,colorMode:l,playNotes:c,releaseNotes:h,isActive:d,activeTaskId:g,keyboardMapping:_})=>{var fe;const[E,b]=J.useState(!1),[N,A]=J.useState(!1),w=g?(fe=Gt[g])==null?void 0:fe.chromaticNotes:void 0,T=sw(t,e,g,_),I=l==="flat-chromatic"?"flat-chromatic":g!=null&&g.includes("scale")?T&&(w!=null&&w.includes(t))?"chromatic":"traditional":w!=null&&w.includes(t)?"chromatic":"traditional",R=$h(i,I),P=(t-i+12)%12,L=Kl.includes(t),z=async()=>{await c(t,e),A(!0)},V=()=>{N&&(h(t,e),A(!1))},Z=()=>{b(!1),N&&V()},G=async pe=>{pe.preventDefault(),await z()},X=pe=>{pe.preventDefault(),V()},ee={...n,backgroundColor:R[t],position:"absolute",userSelect:"none",fontSize:"10px",textAlign:"center",color:ty(P),display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center",paddingBottom:"3px",boxSizing:"border-box",transform:d||N?"scale(0.9)":E?"scale(1.1)":"scale(1)",boxShadow:d||N?`0 0 10px ${L?"rgba(0, 0, 0, 0.5)":"rgba(255, 255, 255, 0.5)"}`:"none",transition:g||N||E?"transform 0.1s ease-in-out, background-color 0.1s ease-in-out, box-shadow 0.1s ease-in-out":"transform 1s ease-in-out, background-color 1s ease-in-out, box-shadow 1s ease-in-out",cursor:"pointer",zIndex:E?3:n.zIndex||1,border:I==="traditional"?"1px solid #333":"none",height:I==="flat-chromatic"?uo:I==="chromatic"?L?uo-2:uo*op-2:L?uo:uo*op,top:I==="flat-chromatic"?0:I==="chromatic"?1:0};return H.jsx("div",{style:ee,onMouseDown:z,onMouseUp:V,onMouseEnter:()=>b(!0),onMouseLeave:Z,onTouchStart:G,onTouchEnd:X,children:(r||o)&&H.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"2px",display:"flex",flexDirection:"column",alignItems:"center",gap:"1px"},children:a?o&&H.jsx("div",{children:o}):r&&H.jsx("div",{children:r})})})},ip=(t,e=!1)=>e?t-3:t+3,sp=({totalWidth:t})=>H.jsxs("div",{style:{position:"absolute",top:-30,left:t*.58,width:t*.42,textAlign:"center",color:"white",fontSize:"14px",display:"flex",justifyContent:"center",alignItems:"center",gap:"8px"},children:[H.jsx("div",{style:{flex:1,height:"1px",background:"rgba(255,255,255,0.3)"}}),H.jsx("div",{children:"Shift"}),H.jsx("div",{style:{flex:1,height:"1px",background:"rgba(255,255,255,0.3)"}})]}),ho={0:{start:9,length:3},1:{start:0,length:12},2:{start:0,length:12},3:{start:0,length:12},4:{start:0,length:12},5:{start:0,length:12},6:{start:0,length:12},7:{start:0,length:12},8:{start:0,length:1}},Mu=(t,e)=>{let n=0;for(let r=0;r<e;r++)Kl.includes((t+r)%12)&&n++;return n},ap=({note:t,octave:e,keyWidth:n,isPlayed:r,isCurrent:o,isSetMode:i,colorMode:a})=>{const l=Ma(t,e,n,a);return console.log("[TaskIndicator] Rendering:",{note:t,octave:e,isPlayed:r,isCurrent:o,isSetMode:i,left:l}),H.jsx("div",{style:{position:"absolute",left:l,bottom:0,color:r?"#4ade80":"white",fontSize:"20px",transform:o?"translateY(-5px)":"none",transition:"transform 0.2s ease-in-out",width:a==="flat-chromatic"?n*(7/12):n,display:"flex",justifyContent:"center",alignItems:"center"},children:r?"✓":o?"↓":""})},lw=({taskConfig:t,totalWidth:e,keyWidth:n,activeKeysCount:r,isCompleting:o,colorMode:i,currentIndex:a,playedNotes:l})=>{const c=t.checker.type==="sequence"?t.checker.getState(a):t.checker.getState(l);return console.log("[TaskIndicators] Checker state:",{type:t.checker.type,state:c,currentIndex:a,playedNotes:l}),H.jsxs("div",{style:{position:"absolute",top:-30,left:0,width:e,height:"30px",display:"flex",alignItems:"flex-end"},children:[o&&r>0&&H.jsx("div",{style:{position:"absolute",top:0,left:"50%",transform:"translateX(-50%)",color:"rgba(255, 255, 255, 0.5)",fontSize:"14px",whiteSpace:"nowrap",padding:"4px 12px",borderRadius:"4px",background:"rgba(0, 0, 0, 0.6)"},children:"Release all keys to continue"}),!o&&H.jsxs(H.Fragment,{children:[c.completedNotes.map(({note:h,octave:d})=>(console.log("[TaskIndicator] Rendering completed note:",{note:h,octave:d}),H.jsx(ap,{note:h,octave:d,keyWidth:n,isPlayed:!0,colorMode:i},`completed-${h}-${d}`))),c.activeTargets.map(({note:h,octave:d})=>(console.log("[TaskIndicator] Rendering active target:",{note:h,octave:d}),H.jsx(ap,{note:h,octave:d,keyWidth:n,isCurrent:!0,colorMode:i},`active-${h}-${d}`)))]})]})},Ma=(t,e,n,r)=>{if(r==="flat-chromatic"){let c=0;for(let d=0;d<e;d++)c+=ho[d].length;const h=ho[e];return c+=t-h.start,n*(7/12)*(c+.5)}const o=Kl.includes(t);let i=0;for(let c=0;c<e;c++)i+=Mu(ho[c].start,ho[c].length);const a=ho[e],l=t-a.start;return i+=Mu(a.start,l),n*(o?i:i-.5)},cw=({tonic:t,setTonic:e,colorMode:n,onColorModeChange:r,currentVoicing:o,onVoicingChange:i,playNotes:a,releaseNotes:l,fallingNotes:c,currentlyPlayingId:h,onStopPlaying:d,taskKeyboardMapping:g,activeTaskId:_,taskProgress:E,taskPlayedNotes:b,state:N,setActiveKeyCodes:A})=>{const[w,T]=J.useState(!1),[I,R]=J.useState(new Set),[P,L]=J.useState([]),z=(Q,re)=>P.some(j=>j.note===Q&&j.octave===re);J.useEffect(()=>{const Q=async j=>{A(W=>new Set([...W,j.code]));const O=Pc(n,g);if(j.ctrlKey&&j.code in O){const{note:W}=O[j.code];e(W%12);return}if(!I.has(j.code)&&(R(W=>new Set([...W,j.code])),j.code in O)){const{note:W,octave:te}=O[j.code],ce=j.shiftKey?ip(te):te;await a(W,ce)}},re=j=>{A(W=>{const te=new Set(W);return te.delete(j.code),te});const O=Pc(n,g);if(R(W=>{const te=new Set(W);return te.delete(j.code),te}),j.code in O){const{note:W,octave:te}=O[j.code],ce=te,ie=ip(te);[ce,ie].forEach(y=>{l(W,y)})}};return window.addEventListener("keydown",Q),window.addEventListener("keyup",re),()=>{window.removeEventListener("keydown",Q),window.removeEventListener("keyup",re)}},[I,a,l,e,n,g,A]),J.useEffect(()=>{const Q=j=>{j.key==="Shift"&&T(!0)},re=j=>{j.key==="Shift"&&T(!1)};return window.addEventListener("keydown",Q),window.addEventListener("keyup",re),()=>{window.removeEventListener("keydown",Q),window.removeEventListener("keyup",re)}},[]),J.useEffect(()=>{const Q=c.filter(re=>!re.endTime).map(re=>({note:re.note,octave:re.octave}));L(Q)},[c]);const V=Object.values(ho).reduce((Q,re)=>Q+Mu(re.start,re.length),0),Z=40,G=Q=>(Q-Z)/V,[X,ee]=J.useState(25);J.useEffect(()=>{const Q=()=>{const re=window.innerWidth-600,j=G(re);ee(j)};return Q(),window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]);const fe=V*X,pe={onNoteStart:a,onNoteEnd:l,tonic:t,isShiftPressed:w,colorMode:n,playNotes:a,releaseNotes:l,activeTaskId:_},Se=Ma(0,1,X,"traditional"),he=Ma(0,2,X,"traditional"),ge=(Q,re)=>{var W;const j=Pc(n,g),O=(W=Object.entries(j).find(([,te])=>te.note===Q&&te.octave===re))==null?void 0:W[0];if(O)return es[O]};return H.jsxs("div",{style:{position:"fixed",top:0,left:"600px",right:0,bottom:0,backgroundColor:"black",padding:"5px",display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden"},children:[h&&H.jsx(Y_,{className:"w-8 h-8 text-red-500 hover:text-red-400 cursor-pointer absolute bottom-4 left-4 z-50",onClick:d}),H.jsxs("div",{style:{position:"relative",width:fe,marginTop:"40px",marginLeft:Z/2,marginRight:Z/2},children:[_===null&&g===void 0&&H.jsx(sp,{totalWidth:fe}),_===null&&g===void 0?H.jsxs(H.Fragment,{children:[H.jsx(sp,{totalWidth:fe}),H.jsx(G_,{tonic:t,onTonicChange:e,colorMode:n,onColorModeChange:r,currentVoicing:o,onVoicingChange:i})]}):H.jsx("div",{style:{height:"40px"}}),Object.entries(ho).map(([Q,re])=>{const j=parseInt(Q);return Array.from({length:re.length},(O,W)=>{const te=(re.start+W)%12,ce=Kl.includes(te),ie={width:n==="flat-chromatic"?X*(7/12):X,height:uo,borderRadius:"0 0 5px 5px"};return n==="flat-chromatic"||ce||iw.indexOf(te)!==-1?H.jsx(aw,{...pe,note:te,octave:j,isActive:z(te,j),keyboardKey:ge(te,j),shiftedKeyboardKey:ge(te,j),style:{...ie,width:n==="flat-chromatic"?X*(7/12):ce?X:X-3,left:Ma(te,j,X,n),zIndex:n==="flat-chromatic"||ce?1:2},activeTaskId:_,keyboardMapping:g},`${j}-${te}`):null})}),H.jsx(z_,{notes:c,tonic:t,colorMode:n,fallingNoteWidth:X/6*7,referencePoints:{c1:{note:12,left:Se},c2:{note:24,left:he}}}),_&&Gt[_]&&(()=>{const Q={...Gt[_],playedNotes:b[_]||new Set},re=E.some(j=>j.taskId===_&&j.status==="completing");return H.jsx(lw,{taskConfig:Q,totalWidth:fe,keyWidth:X,activeKeysCount:I.size,isCompleting:re,colorMode:n,currentIndex:N.sequenceIndices[_]||0,playedNotes:b[_]||new Set})})()]})]})},oy="15.0.4",lp=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),cp=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),Ru=(t,e)=>({startTime:e,type:"setValue",value:t}),iy=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),sy=(t,e,{startTime:n,target:r,timeConstant:o})=>r+(e-r)*Math.exp((n-t)/o),Jo=t=>t.type==="exponentialRampToValue",ul=t=>t.type==="linearRampToValue",Mr=t=>Jo(t)||ul(t),qh=t=>t.type==="setValue",cr=t=>t.type==="setValueCurve",hl=(t,e,n,r)=>{const o=t[e];return o===void 0?r:Mr(o)||qh(o)?o.value:cr(o)?o.values[o.values.length-1]:sy(n,hl(t,e-1,o.startTime,r),o)},up=(t,e,n,r,o)=>n===void 0?[r.insertTime,o]:Mr(n)?[n.endTime,n.value]:qh(n)?[n.startTime,n.value]:cr(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,hl(t,e-1,n.startTime,o)],ju=t=>t.type==="cancelAndHold",Fu=t=>t.type==="cancelScheduledValues",Ir=t=>ju(t)||Fu(t)?t.cancelTime:Jo(t)||ul(t)?t.endTime:t.startTime,hp=(t,e,n,{endTime:r,value:o})=>n===o?o:0<n&&0<o||n<0&&o<0?n*(o/n)**((t-e)/(r-e)):0,dp=(t,e,n,{endTime:r,value:o})=>n+(t-e)/(r-e)*(o-n),uw=(t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},hw=(t,{duration:e,startTime:n,values:r})=>{const o=(t-n)/e*(r.length-1);return uw(r,o)},ga=t=>t.type==="setTarget";class dw{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=Ir(e);if(ju(e)||Fu(e)){const r=this._automationEvents.findIndex(i=>Fu(e)&&cr(i)?i.startTime+i.duration>=n:Ir(i)>=n),o=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),ju(e)){const i=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&Mr(o)){if(i!==void 0&&ga(i))throw new Error("The internal list is malformed.");const a=i===void 0?o.insertTime:cr(i)?i.startTime+i.duration:Ir(i),l=i===void 0?this._defaultValue:cr(i)?i.values[i.values.length-1]:i.value,c=Jo(o)?hp(n,a,l,o):dp(n,a,l,o),h=Jo(o)?lp(c,n,this._currenTime):cp(c,n,this._currenTime);this._automationEvents.push(h)}if(i!==void 0&&ga(i)&&this._automationEvents.push(Ru(this.getValue(n),n)),i!==void 0&&cr(i)&&i.startTime+i.duration>n){const a=n-i.startTime,l=(i.values.length-1)/i.duration,c=Math.max(2,1+Math.ceil(a*l)),h=a/(c-1)*l,d=i.values.slice(0,c);if(h<1)for(let g=1;g<c;g+=1){const _=h*g%1;d[g]=i.values[g-1]*(1-_)+i.values[g]*_}this._automationEvents[this._automationEvents.length-1]=iy(d,i.startTime,a)}}}else{const r=this._automationEvents.findIndex(a=>Ir(a)>n),o=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(o!==void 0&&cr(o)&&Ir(o)+o.duration>n)return!1;const i=Jo(e)?lp(e.value,e.endTime,this._currenTime):ul(e)?cp(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(i);else{if(cr(e)&&n+e.duration>Ir(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,i)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>Ir(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),o=r[0];ga(o)&&r.unshift(Ru(hl(this._automationEvents,n-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(a=>Ir(a)>e),r=this._automationEvents[n],o=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[o];if(i!==void 0&&ga(i)&&(r===void 0||!Mr(r)||r.insertTime>e))return sy(e,hl(this._automationEvents,o-1,i.startTime,this._defaultValue),i);if(i!==void 0&&qh(i)&&(r===void 0||!Mr(r)))return i.value;if(i!==void 0&&cr(i)&&(r===void 0||!Mr(r)||i.startTime+i.duration>e))return e<i.startTime+i.duration?hw(e,i):i.values[i.values.length-1];if(i!==void 0&&Mr(i)&&(r===void 0||!Mr(r)))return i.value;if(r!==void 0&&Jo(r)){const[a,l]=up(this._automationEvents,o,i,r,this._defaultValue);return hp(e,a,l,r)}if(r!==void 0&&ul(r)){const[a,l]=up(this._automationEvents,o,i,r,this._defaultValue);return dp(e,a,l,r)}return this._defaultValue}}const fw=t=>({cancelTime:t,type:"cancelAndHold"}),pw=t=>({cancelTime:t,type:"cancelScheduledValues"}),mw=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),gw=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),yw=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),vw=()=>new DOMException("","AbortError"),_w=t=>(e,n,[r,o,i],a)=>{t(e[o],[n,r,i],l=>l[0]===n&&l[1]===r,a)},ww=t=>(e,n,r)=>{const o=[];for(let i=0;i<r.numberOfInputs;i+=1)o.push(new Set);t.set(e,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},Sw=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},yi=new WeakSet,ay=new WeakMap,Hh=new WeakMap,ly=new WeakMap,Gh=new WeakMap,Vl=new WeakMap,cy=new WeakMap,Lu=new WeakMap,Ku=new WeakMap,Vu=new WeakMap,uy={construct(){return uy}},kw=t=>{try{const e=new Proxy(t,uy);new e}catch{return!1}return!0},fp=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,pp=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),o=r.match(fp);for(;o!==null;){const i=o[1].slice(1,-1),a=o[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(a),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(fp)}return[n.join(";"),r]},mp=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},gp=t=>{if(!kw(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},xw=(t,e,n,r,o,i,a,l,c,h,d,g,_)=>{let E=0;return(b,N,A={credentials:"omit"})=>{const w=d.get(b);if(w!==void 0&&w.has(N))return Promise.resolve();const T=h.get(b);if(T!==void 0){const P=T.get(N);if(P!==void 0)return P}const I=i(b),R=I.audioWorklet===void 0?o(N).then(([P,L])=>{const[z,V]=pp(P,L),Z=`${z};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${V}
})})(window,'_AWGS')`;return n(Z)}).then(()=>{const P=_._AWGS.pop();if(P===void 0)throw new SyntaxError;r(I.currentTime,I.sampleRate,()=>P(class{},void 0,(L,z)=>{if(L.trim()==="")throw e();const V=Ku.get(I);if(V!==void 0){if(V.has(L))throw e();gp(z),mp(z.parameterDescriptors),V.set(L,z)}else gp(z),mp(z.parameterDescriptors),Ku.set(I,new Map([[L,z]]))},I.sampleRate,void 0,void 0))}):Promise.all([o(N),Promise.resolve(t(g,g))]).then(([[P,L],z])=>{const V=E+1;E=V;const[Z,G]=pp(P,L),pe=`${Z};((AudioWorkletProcessor,registerProcessor)=>{${G}
})(${z?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${z?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${z?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${V}',class extends AudioWorkletProcessor{process(){return !1}})`,Se=new Blob([pe],{type:"application/javascript; charset=utf-8"}),he=URL.createObjectURL(Se);return I.audioWorklet.addModule(he,A).then(()=>{if(l(I))return I;const ge=a(I);return ge.audioWorklet.addModule(he,A).then(()=>ge)}).then(ge=>{if(c===null)throw new SyntaxError;try{new c(ge,`__sac${V}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(he))});return T===void 0?h.set(b,new Map([[N,R]])):T.set(N,R),R.then(()=>{const P=d.get(b);P===void 0?d.set(b,new Set([N])):P.add(N)}).finally(()=>{const P=h.get(b);P!==void 0&&P.delete(N)}),R}},qn=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},Bl=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},hy=(t,e,n,r)=>{const o=qn(t,e),i=Bl(o,a=>a[0]===n&&a[1]===r);return o.size===0&&t.delete(e),i},Ks=t=>qn(cy,t),vi=t=>{if(yi.has(t))throw new Error("The AudioNode is already stored.");yi.add(t),Ks(t).forEach(e=>e(!0))},dy=t=>"port"in t,Vs=t=>{if(!yi.has(t))throw new Error("The AudioNode is not stored.");yi.delete(t),Ks(t).forEach(e=>e(!1))},Bu=(t,e)=>{!dy(t)&&e.every(n=>n.size===0)&&Vs(t)},Cw=(t,e,n,r,o,i,a,l,c,h,d,g,_)=>{const E=new WeakMap;return(b,N,A,w,T)=>{const{activeInputs:I,passiveInputs:R}=i(N),{outputs:P}=i(b),L=l(b),z=V=>{const Z=c(N),G=c(b);if(V){const X=hy(R,b,A,w);t(I,b,X,!1),!T&&!g(b)&&n(G,Z,A,w),_(N)&&vi(N)}else{const X=r(I,b,A,w);e(R,w,X,!1),!T&&!g(b)&&o(G,Z,A,w);const ee=a(N);if(ee===0)d(N)&&Bu(N,I);else{const fe=E.get(N);fe!==void 0&&clearTimeout(fe),E.set(N,setTimeout(()=>{d(N)&&Bu(N,I)},ee*1e3))}}};return h(P,[N,A,w],V=>V[0]===N&&V[1]===A&&V[2]===w,!0)?(L.add(z),d(b)?t(I,b,[A,w,z],!0):e(R,w,[b,A,z],!0),!0):!1}},Tw=t=>(e,n,[r,o,i],a)=>{const l=e.get(r);l===void 0?e.set(r,new Set([[o,n,i]])):t(l,[o,n,i],c=>c[0]===o&&c[1]===n,a)},Ew=t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const o=()=>{n.removeEventListener("ended",o),n.disconnect(r),r.disconnect()};n.addEventListener("ended",o)},bw=t=>(e,n)=>{t(e).add(n)},Nw={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Ow=(t,e,n,r,o,i)=>class extends t{constructor(l,c){const h=o(l),d={...Nw,...c},g=r(h,d),_=i(h)?e():null;super(l,!1,g,_),this._nativeAnalyserNode=g}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(l){this._nativeAnalyserNode.fftSize=l}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(l){const c=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=l,!(l>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=c,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(l){const c=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=l,!(this._nativeAnalyserNode.maxDecibels>l))throw this._nativeAnalyserNode.minDecibels=c,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(l){this._nativeAnalyserNode.smoothingTimeConstant=l}getByteFrequencyData(l){this._nativeAnalyserNode.getByteFrequencyData(l)}getByteTimeDomainData(l){this._nativeAnalyserNode.getByteTimeDomainData(l)}getFloatFrequencyData(l){this._nativeAnalyserNode.getFloatFrequencyData(l)}getFloatTimeDomainData(l){this._nativeAnalyserNode.getFloatTimeDomainData(l)}},$t=(t,e)=>t.context===e,Aw=(t,e,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let l=e(i);if(!$t(l,a)){const h={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,fftSize:l.fftSize,maxDecibels:l.maxDecibels,minDecibels:l.minDecibels,smoothingTimeConstant:l.smoothingTimeConstant};l=t(a,h)}return r.set(a,l),await n(i,a,l),l};return{render(i,a){const l=r.get(a);return l!==void 0?Promise.resolve(l):o(i,a)}}},dl=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},rr=()=>new DOMException("","IndexSizeError"),Qh=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?rr():r}})(t.getChannelData)},Iw={numberOfChannels:1},Pw=(t,e,n,r,o,i,a,l)=>{let c=null;return class fy{constructor(d){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:g,numberOfChannels:_,sampleRate:E}={...Iw,...d};c===null&&(c=new o(1,1,44100));const b=r!==null&&e(i,i)?new r({length:g,numberOfChannels:_,sampleRate:E}):c.createBuffer(_,g,E);if(b.numberOfChannels===0)throw n();return typeof b.copyFromChannel!="function"?(a(b),Qh(b)):e(dl,()=>dl(b))||l(b),t.add(b),b}static[Symbol.hasInstance](d){return d!==null&&typeof d=="object"&&Object.getPrototypeOf(d)===fy.prototype||t.has(d)}}},on=-34028234663852886e22,Yt=-on,mr=t=>yi.has(t),Dw={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Mw=(t,e,n,r,o,i,a,l)=>class extends t{constructor(h,d){const g=i(h),_={...Dw,...d},E=o(g,_),b=a(g),N=b?e():null;super(h,!1,E,N),this._audioBufferSourceNodeRenderer=N,this._isBufferNullified=!1,this._isBufferSet=_.buffer!==null,this._nativeAudioBufferSourceNode=E,this._onended=null,this._playbackRate=n(this,b,E.playbackRate,Yt,on)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(h){if(this._nativeAudioBufferSourceNode.buffer=h,h!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(h){this._nativeAudioBufferSourceNode.loop=h}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(h){this._nativeAudioBufferSourceNode.loopEnd=h}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(h){this._nativeAudioBufferSourceNode.loopStart=h}get onended(){return this._onended}set onended(h){const d=typeof h=="function"?l(this,h):null;this._nativeAudioBufferSourceNode.onended=d;const g=this._nativeAudioBufferSourceNode.onended;this._onended=g!==null&&g===d?h:g}get playbackRate(){return this._playbackRate}start(h=0,d=0,g){if(this._nativeAudioBufferSourceNode.start(h,d,g),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=g===void 0?[h,d]:[h,d,g]),this.context.state!=="closed"){vi(this);const _=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",_),mr(this)&&Vs(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",_)}}stop(h=0){this._nativeAudioBufferSourceNode.stop(h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=h)}},Rw=(t,e,n,r,o)=>()=>{const i=new WeakMap;let a=null,l=null;const c=async(h,d)=>{let g=n(h);const _=$t(g,d);if(!_){const E={buffer:g.buffer,channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,loop:g.loop,loopEnd:g.loopEnd,loopStart:g.loopStart,playbackRate:g.playbackRate.value};g=e(d,E),a!==null&&g.start(...a),l!==null&&g.stop(l)}return i.set(d,g),_?await t(d,h.playbackRate,g.playbackRate):await r(d,h.playbackRate,g.playbackRate),await o(h,d,g),g};return{set start(h){a=h},set stop(h){l=h},render(h,d){const g=i.get(d);return g!==void 0?Promise.resolve(g):c(h,d)}}},jw=t=>"playbackRate"in t,Fw=t=>"frequency"in t&&"gain"in t,Lw=t=>"offset"in t,Kw=t=>!("frequency"in t)&&"gain"in t,Vw=t=>"detune"in t&&"frequency"in t&&!("gain"in t),Bw=t=>"pan"in t,Xt=t=>qn(ay,t),Bs=t=>qn(ly,t),zu=(t,e)=>{const{activeInputs:n}=Xt(t);n.forEach(o=>o.forEach(([i])=>{e.includes(t)||zu(i,[...e,t])}));const r=jw(t)?[t.playbackRate]:dy(t)?Array.from(t.parameters.values()):Fw(t)?[t.Q,t.detune,t.frequency,t.gain]:Lw(t)?[t.offset]:Kw(t)?[t.gain]:Vw(t)?[t.detune,t.frequency]:Bw(t)?[t.pan]:[];for(const o of r){const i=Bs(o);i!==void 0&&i.activeInputs.forEach(([a])=>zu(a,e))}mr(t)&&Vs(t)},py=t=>{zu(t.destination,[])},zw=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),Uw=(t,e,n,r,o,i,a,l,c)=>class extends t{constructor(d={}){if(c===null)throw new Error("Missing the native AudioContext constructor.");let g;try{g=new c(d)}catch(b){throw b.code===12&&b.message==="sampleRate is not in range"?n():b}if(g===null)throw r();if(!zw(d.latencyHint))throw new TypeError(`The provided value '${d.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(d.sampleRate!==void 0&&g.sampleRate!==d.sampleRate)throw n();super(g,2);const{latencyHint:_}=d,{sampleRate:E}=g;if(this._baseLatency=typeof g.baseLatency=="number"?g.baseLatency:_==="balanced"?512/E:_==="interactive"||_===void 0?256/E:_==="playback"?1024/E:Math.max(2,Math.min(128,Math.round(_*E/128)))*128/E,this._nativeAudioContext=g,c.name==="webkitAudioContext"?(this._nativeGainNode=g.createGain(),this._nativeOscillatorNode=g.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(g.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,g.state==="running"){this._state="suspended";const b=()=>{this._state==="suspended"&&(this._state=null),g.removeEventListener("statechange",b)};g.addEventListener("statechange",b)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),py(this)}))}createMediaElementSource(d){return new o(this,{mediaElement:d})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(d){return new a(this,{mediaStream:d})}createMediaStreamTrackSource(d){return new l(this,{mediaStreamTrack:d})}resume(){return this._state==="suspended"?new Promise((d,g)=>{const _=()=>{this._nativeAudioContext.removeEventListener("statechange",_),this._nativeAudioContext.state==="running"?d():this.resume().then(d,g)};this._nativeAudioContext.addEventListener("statechange",_)}):this._nativeAudioContext.resume().catch(d=>{throw d===void 0||d.code===15?e():d})}suspend(){return this._nativeAudioContext.suspend().catch(d=>{throw d===void 0?e():d})}},Ww=(t,e,n,r,o,i,a,l)=>class extends t{constructor(h,d){const g=i(h),_=a(g),E=o(g,d,_),b=_?e(l):null;super(h,!1,E,b),this._isNodeOfNativeOfflineAudioContext=_,this._nativeAudioDestinationNode=E}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(h){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(h>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=h}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(h){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=h}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},$w=t=>{const e=new WeakMap,n=async(r,o)=>{const i=o.destination;return e.set(o,i),await t(r,o,i),i};return{render(r,o){const i=e.get(o);return i!==void 0?Promise.resolve(i):n(r,o)}}},qw=(t,e,n,r,o,i,a,l)=>(c,h)=>{const d=h.listener,g=()=>{const P=new Float32Array(1),L=e(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),z=a(h);let V=!1,Z=[0,0,-1,0,1,0],G=[0,0,0];const X=()=>{if(V)return;V=!0;const Se=r(h,256,9,0);Se.onaudioprocess=({inputBuffer:he})=>{const ge=[i(he,P,0),i(he,P,1),i(he,P,2),i(he,P,3),i(he,P,4),i(he,P,5)];ge.some((re,j)=>re!==Z[j])&&(d.setOrientation(...ge),Z=ge);const Q=[i(he,P,6),i(he,P,7),i(he,P,8)];Q.some((re,j)=>re!==G[j])&&(d.setPosition(...Q),G=Q)},L.connect(Se)},ee=Se=>he=>{he!==Z[Se]&&(Z[Se]=he,d.setOrientation(...Z))},fe=Se=>he=>{he!==G[Se]&&(G[Se]=he,d.setPosition(...G))},pe=(Se,he,ge)=>{const Q=n(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:he});Q.connect(L,0,Se),Q.start(),Object.defineProperty(Q.offset,"defaultValue",{get(){return he}});const re=t({context:c},z,Q.offset,Yt,on);return l(re,"value",j=>()=>j.call(re),j=>O=>{try{j.call(re,O)}catch(W){if(W.code!==9)throw W}X(),z&&ge(O)}),re.cancelAndHoldAtTime=(j=>z?()=>{throw o()}:(...O)=>{const W=j.apply(re,O);return X(),W})(re.cancelAndHoldAtTime),re.cancelScheduledValues=(j=>z?()=>{throw o()}:(...O)=>{const W=j.apply(re,O);return X(),W})(re.cancelScheduledValues),re.exponentialRampToValueAtTime=(j=>z?()=>{throw o()}:(...O)=>{const W=j.apply(re,O);return X(),W})(re.exponentialRampToValueAtTime),re.linearRampToValueAtTime=(j=>z?()=>{throw o()}:(...O)=>{const W=j.apply(re,O);return X(),W})(re.linearRampToValueAtTime),re.setTargetAtTime=(j=>z?()=>{throw o()}:(...O)=>{const W=j.apply(re,O);return X(),W})(re.setTargetAtTime),re.setValueAtTime=(j=>z?()=>{throw o()}:(...O)=>{const W=j.apply(re,O);return X(),W})(re.setValueAtTime),re.setValueCurveAtTime=(j=>z?()=>{throw o()}:(...O)=>{const W=j.apply(re,O);return X(),W})(re.setValueCurveAtTime),re};return{forwardX:pe(0,0,ee(0)),forwardY:pe(1,0,ee(1)),forwardZ:pe(2,-1,ee(2)),positionX:pe(6,0,fe(0)),positionY:pe(7,0,fe(1)),positionZ:pe(8,0,fe(2)),upX:pe(3,0,ee(3)),upY:pe(4,1,ee(4)),upZ:pe(5,0,ee(5))}},{forwardX:_,forwardY:E,forwardZ:b,positionX:N,positionY:A,positionZ:w,upX:T,upY:I,upZ:R}=d.forwardX===void 0?g():d;return{get forwardX(){return _},get forwardY(){return E},get forwardZ(){return b},get positionX(){return N},get positionY(){return A},get positionZ(){return w},get upX(){return T},get upY(){return I},get upZ(){return R}}},fl=t=>"context"in t,zs=t=>fl(t[0]),Io=(t,e,n,r)=>{for(const o of t)if(n(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},yp=(t,e,[n,r],o)=>{Io(t,[e,n,r],i=>i[0]===e&&i[1]===n,o)},vp=(t,[e,n,r],o)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[n,r]])):Io(i,[n,r],a=>a[0]===n,o)},Ai=t=>"inputs"in t,pl=(t,e,n,r)=>{if(Ai(e)){const o=e.inputs[r];return t.connect(o,n,0),[o,n,0]}return t.connect(e,n,r),[e,n,r]},my=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},Hw=(t,e,n)=>Bl(t,r=>r[0]===e&&r[1]===n),gy=(t,e)=>{if(!Ks(t).delete(e))throw new Error("Missing the expected event listener.")},yy=(t,e,n)=>{const r=qn(t,e),o=Bl(r,i=>i[0]===n);return r.size===0&&t.delete(e),o},ml=(t,e,n,r)=>{Ai(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},it=t=>qn(Hh,t),As=t=>qn(Gh,t),Eo=t=>Lu.has(t),Ra=t=>!yi.has(t),_p=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),o=t.createGain(),i=t.createBuffer(1,2,44100),a=i.getChannelData(0);a[0]=1,a[1]=1;const l=t.createBufferSource();l.buffer=i,l.loop=!0,l.connect(r).connect(t.destination),l.connect(o),l.disconnect(o),r.onaudioprocess=c=>{const h=c.inputBuffer.getChannelData(0);Array.prototype.some.call(h,d=>d===1)?n(!0):n(!1),l.stop(),r.onaudioprocess=null,l.disconnect(r),r.disconnect(t.destination)},l.start()}}),jc=(t,e)=>{const n=new Map;for(const r of t)for(const o of r){const i=n.get(o);n.set(o,i===void 0?1:i+1)}n.forEach((r,o)=>e(o,r))},gl=t=>"context"in t,Gw=t=>{const e=new Map;t.connect=(n=>(r,o=0,i=0)=>{const a=gl(r)?n(r,o,i):n(r,o),l=e.get(r);return l===void 0?e.set(r,[{input:i,output:o}]):l.every(c=>c.input!==i||c.output!==o)&&l.push({input:i,output:o}),a})(t.connect.bind(t)),t.disconnect=(n=>(r,o,i)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[a,l]of e){const c=l.filter(h=>h.output!==r);c.length===0?e.delete(a):e.set(a,c)}else if(e.has(r))if(o===void 0)e.delete(r);else{const a=e.get(r);if(a!==void 0){const l=a.filter(c=>c.output!==o&&(c.input!==i||i===void 0));l.length===0?e.delete(r):e.set(r,l)}}for(const[a,l]of e)l.forEach(c=>{gl(a)?t.connect(a,c.output,c.input):t.connect(a,c.output)})})(t.disconnect)},Qw=(t,e,n,r)=>{const{activeInputs:o,passiveInputs:i}=Bs(e),{outputs:a}=Xt(t),l=Ks(t),c=h=>{const d=it(t),g=As(e);if(h){const _=yy(i,t,n);yp(o,t,_,!1),!r&&!Eo(t)&&d.connect(g,n)}else{const _=Hw(o,t,n);vp(i,_,!1),!r&&!Eo(t)&&d.disconnect(g,n)}};return Io(a,[e,n],h=>h[0]===e&&h[1]===n,!0)?(l.add(c),mr(t)?yp(o,t,[n,c],!0):vp(i,[t,n,c],!0),!0):!1},Yw=(t,e,n,r)=>{const{activeInputs:o,passiveInputs:i}=Xt(e),a=my(o[r],t,n);return a===null?[hy(i,t,n,r)[2],!1]:[a[2],!0]},Xw=(t,e,n)=>{const{activeInputs:r,passiveInputs:o}=Bs(e),i=my(r,t,n);return i===null?[yy(o,t,n)[1],!1]:[i[2],!0]},Yh=(t,e,n,r,o)=>{const[i,a]=Yw(t,n,r,o);if(i!==null&&(gy(t,i),a&&!e&&!Eo(t)&&ml(it(t),it(n),r,o)),mr(n)){const{activeInputs:l}=Xt(n);Bu(n,l)}},Xh=(t,e,n,r)=>{const[o,i]=Xw(t,n,r);o!==null&&(gy(t,o),i&&!e&&!Eo(t)&&it(t).disconnect(As(n),r))},Zw=(t,e)=>{const n=Xt(t),r=[];for(const o of n.outputs)zs(o)?Yh(t,e,...o):Xh(t,e,...o),r.push(o[0]);return n.outputs.clear(),r},Jw=(t,e,n)=>{const r=Xt(t),o=[];for(const i of r.outputs)i[1]===n&&(zs(i)?Yh(t,e,...i):Xh(t,e,...i),o.push(i[0]),r.outputs.delete(i));return o},eS=(t,e,n,r,o)=>{const i=Xt(t);return Array.from(i.outputs).filter(a=>a[0]===n&&(r===void 0||a[1]===r)&&(o===void 0||a[2]===o)).map(a=>(zs(a)?Yh(t,e,...a):Xh(t,e,...a),i.outputs.delete(a),a[0]))},tS=(t,e,n,r,o,i,a,l,c,h,d,g,_,E,b,N)=>class extends h{constructor(w,T,I,R){super(I),this._context=w,this._nativeAudioNode=I;const P=d(w);g(P)&&n(_p,()=>_p(P,N))!==!0&&Gw(I),Hh.set(this,I),cy.set(this,new Set),w.state!=="closed"&&T&&vi(this),t(this,R,I)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(w){this._nativeAudioNode.channelCount=w}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(w){this._nativeAudioNode.channelCountMode=w}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(w){this._nativeAudioNode.channelInterpretation=w}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(w,T=0,I=0){if(T<0||T>=this._nativeAudioNode.numberOfOutputs)throw o();const R=d(this._context),P=b(R);if(_(w)||E(w))throw i();if(fl(w)){const V=it(w);try{const G=pl(this._nativeAudioNode,V,T,I),X=Ra(this);(P||X)&&this._nativeAudioNode.disconnect(...G),this.context.state!=="closed"&&!X&&Ra(w)&&vi(w)}catch(G){throw G.code===12?i():G}if(e(this,w,T,I,P)){const G=c([this],w);jc(G,r(P))}return w}const L=As(w);if(L.name==="playbackRate"&&L.maxValue===1024)throw a();try{this._nativeAudioNode.connect(L,T),(P||Ra(this))&&this._nativeAudioNode.disconnect(L,T)}catch(V){throw V.code===12?i():V}if(Qw(this,w,T,P)){const V=c([this],w);jc(V,r(P))}}disconnect(w,T,I){let R;const P=d(this._context),L=b(P);if(w===void 0)R=Zw(this,L);else if(typeof w=="number"){if(w<0||w>=this.numberOfOutputs)throw o();R=Jw(this,L,w)}else{if(T!==void 0&&(T<0||T>=this.numberOfOutputs)||fl(w)&&I!==void 0&&(I<0||I>=w.numberOfInputs))throw o();if(R=eS(this,L,w,T,I),R.length===0)throw i()}for(const z of R){const V=c([this],z);jc(V,l)}}},nS=(t,e,n,r,o,i,a,l,c,h,d,g,_)=>(E,b,N,A=null,w=null)=>{const T=N.value,I=new dw(T),R=b?r(I):null,P={get defaultValue(){return T},get maxValue(){return A===null?N.maxValue:A},get minValue(){return w===null?N.minValue:w},get value(){return N.value},set value(L){N.value=L,P.setValueAtTime(L,E.context.currentTime)},cancelAndHoldAtTime(L){if(typeof N.cancelAndHoldAtTime=="function")R===null&&I.flush(E.context.currentTime),I.add(o(L)),N.cancelAndHoldAtTime(L);else{const z=Array.from(I).pop();R===null&&I.flush(E.context.currentTime),I.add(o(L));const V=Array.from(I).pop();N.cancelScheduledValues(L),z!==V&&V!==void 0&&(V.type==="exponentialRampToValue"?N.exponentialRampToValueAtTime(V.value,V.endTime):V.type==="linearRampToValue"?N.linearRampToValueAtTime(V.value,V.endTime):V.type==="setValue"?N.setValueAtTime(V.value,V.startTime):V.type==="setValueCurve"&&N.setValueCurveAtTime(V.values,V.startTime,V.duration))}return P},cancelScheduledValues(L){return R===null&&I.flush(E.context.currentTime),I.add(i(L)),N.cancelScheduledValues(L),P},exponentialRampToValueAtTime(L,z){if(L===0)throw new RangeError;if(!Number.isFinite(z)||z<0)throw new RangeError;const V=E.context.currentTime;return R===null&&I.flush(V),Array.from(I).length===0&&(I.add(h(T,V)),N.setValueAtTime(T,V)),I.add(a(L,z)),N.exponentialRampToValueAtTime(L,z),P},linearRampToValueAtTime(L,z){const V=E.context.currentTime;return R===null&&I.flush(V),Array.from(I).length===0&&(I.add(h(T,V)),N.setValueAtTime(T,V)),I.add(l(L,z)),N.linearRampToValueAtTime(L,z),P},setTargetAtTime(L,z,V){return R===null&&I.flush(E.context.currentTime),I.add(c(L,z,V)),N.setTargetAtTime(L,z,V),P},setValueAtTime(L,z){return R===null&&I.flush(E.context.currentTime),I.add(h(L,z)),N.setValueAtTime(L,z),P},setValueCurveAtTime(L,z,V){const Z=L instanceof Float32Array?L:new Float32Array(L);if(g!==null&&g.name==="webkitAudioContext"){const G=z+V,X=E.context.sampleRate,ee=Math.ceil(z*X),fe=Math.floor(G*X),pe=fe-ee,Se=new Float32Array(pe);for(let ge=0;ge<pe;ge+=1){const Q=(Z.length-1)/V*((ee+ge)/X-z),re=Math.floor(Q),j=Math.ceil(Q);Se[ge]=re===j?Z[re]:(1-(Q-re))*Z[re]+(1-(j-Q))*Z[j]}R===null&&I.flush(E.context.currentTime),I.add(d(Se,z,V)),N.setValueCurveAtTime(Se,z,V);const he=fe/X;he<G&&_(P,Se[Se.length-1],he),_(P,Z[Z.length-1],G)}else R===null&&I.flush(E.context.currentTime),I.add(d(Z,z,V)),N.setValueCurveAtTime(Z,z,V);return P}};return n.set(P,N),e.set(P,E),t(P,R),P},rS=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:o}=n;e.exponentialRampToValueAtTime(o,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:o}=n;e.linearRampToValueAtTime(o,r)}else if(n.type==="setTarget"){const{startTime:r,target:o,timeConstant:i}=n;e.setTargetAtTime(o,r,i)}else if(n.type==="setValue"){const{startTime:r,value:o}=n;e.setValueAtTime(o,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:o,values:i}=n;e.setValueCurveAtTime(i,o,r)}else throw new Error("Can't apply an unknown automation.")}});class vy{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,o)=>e.call(n,r,o,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const oS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},iS=(t,e,n,r,o,i,a,l,c,h,d,g,_,E)=>class extends e{constructor(N,A,w){var T;const I=l(N),R=c(I),P=d({...oS,...w});_(P);const L=Ku.get(I),z=L==null?void 0:L.get(A),V=R||I.state!=="closed"?I:(T=a(I))!==null&&T!==void 0?T:I,Z=o(V,R?null:N.baseLatency,h,A,z,P),G=R?r(A,P,z):null;super(N,!0,Z,G);const X=[];Z.parameters.forEach((fe,pe)=>{const Se=n(this,R,fe);X.push([pe,Se])}),this._nativeAudioWorkletNode=Z,this._onprocessorerror=null,this._parameters=new vy(X),R&&t(I,this);const{activeInputs:ee}=i(this);g(Z,ee)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(N){const A=typeof N=="function"?E(this,N):null;this._nativeAudioWorkletNode.onprocessorerror=A;const w=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=w!==null&&w===A?N:w}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function yl(t,e,n,r,o){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,o);else{const i=t.getChannelData(r);if(e[n].byteLength===0)e[n]=i.slice(o,o+128);else{const a=new Float32Array(i.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(a)}}}const _y=(t,e,n,r,o)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,o):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],o)},vl=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const o=[],i=typeof e=="number"?e:e[r];for(let a=0;a<i;a+=1)o.push(new Float32Array(128));n.push(o)}return n},sS=(t,e)=>{const n=qn(Vu,t),r=it(e);return qn(n,r)},aS=async(t,e,n,r,o,i,a)=>{const l=e===null?Math.ceil(t.context.length/128)*128:e.length,c=r.channelCount*r.numberOfInputs,h=o.reduce((A,w)=>A+w,0),d=h===0?null:n.createBuffer(h,l,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const g=Xt(t),_=await sS(n,t),E=vl(r.numberOfInputs,r.channelCount),b=vl(r.numberOfOutputs,o),N=Array.from(t.parameters.keys()).reduce((A,w)=>({...A,[w]:new Float32Array(128)}),{});for(let A=0;A<l;A+=128){if(r.numberOfInputs>0&&e!==null)for(let w=0;w<r.numberOfInputs;w+=1)for(let T=0;T<r.channelCount;T+=1)yl(e,E[w],T,T,A);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:w},T)=>{yl(e,N,w,c+T,A)});for(let w=0;w<r.numberOfInputs;w+=1)for(let T=0;T<o[w];T+=1)b[w][T].byteLength===0&&(b[w][T]=new Float32Array(128));try{const w=E.map((I,R)=>g.activeInputs[R].size===0?[]:I),T=a(A/n.sampleRate,n.sampleRate,()=>_.process(w,b,N));if(d!==null)for(let I=0,R=0;I<r.numberOfOutputs;I+=1){for(let P=0;P<o[I];P+=1)_y(d,b[I],P,R+P,A);R+=o[I]}if(!T)break}catch(w){t.dispatchEvent(new ErrorEvent("processorerror",{colno:w.colno,filename:w.filename,lineno:w.lineno,message:w.message}));break}}return d},lS=(t,e,n,r,o,i,a,l,c,h,d,g,_,E,b,N)=>(A,w,T)=>{const I=new WeakMap;let R=null;const P=async(L,z)=>{let V=d(L),Z=null;const G=$t(V,z),X=Array.isArray(w.outputChannelCount)?w.outputChannelCount:Array.from(w.outputChannelCount);if(g===null){const ee=X.reduce((he,ge)=>he+ge,0),fe=o(z,{channelCount:Math.max(1,ee),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,ee)}),pe=[];for(let he=0;he<L.numberOfOutputs;he+=1)pe.push(r(z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:X[he]}));const Se=a(z,{channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1});Se.connect=e.bind(null,pe),Se.disconnect=c.bind(null,pe),Z=[fe,pe,Se]}else G||(V=new g(z,A));if(I.set(z,Z===null?V:Z[2]),Z!==null){if(R===null){if(T===void 0)throw new Error("Missing the processor constructor.");if(_===null)throw new Error("Missing the native OfflineAudioContext constructor.");const ge=L.channelCount*L.numberOfInputs,Q=T.parameterDescriptors===void 0?0:T.parameterDescriptors.length,re=ge+Q;R=aS(L,re===0?null:await(async()=>{const O=new _(re,Math.ceil(L.context.length/128)*128,z.sampleRate),W=[],te=[];for(let y=0;y<w.numberOfInputs;y+=1)W.push(a(O,{channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1})),te.push(o(O,{channelCount:w.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:w.channelCount}));const ce=await Promise.all(Array.from(L.parameters.values()).map(async y=>{const v=i(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:y.value});return await E(O,y,v.offset),v})),ie=r(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,ge+Q)});for(let y=0;y<w.numberOfInputs;y+=1){W[y].connect(te[y]);for(let v=0;v<w.channelCount;v+=1)te[y].connect(ie,v,y*w.channelCount+v)}for(const[y,v]of ce.entries())v.connect(ie,0,ge+y),v.start(0);return ie.connect(O.destination),await Promise.all(W.map(y=>b(L,O,y))),N(O)})(),z,w,X,T,h)}const ee=await R,fe=n(z,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[pe,Se,he]=Z;ee!==null&&(fe.buffer=ee,fe.start(0)),fe.connect(pe);for(let ge=0,Q=0;ge<L.numberOfOutputs;ge+=1){const re=Se[ge];for(let j=0;j<X[ge];j+=1)pe.connect(re,Q+j,j);Q+=X[ge]}return he}if(G)for(const[ee,fe]of L.parameters.entries())await t(z,fe,V.parameters.get(ee));else for(const[ee,fe]of L.parameters.entries())await E(z,fe,V.parameters.get(ee));return await b(L,z,V),V};return{render(L,z){l(z,L);const V=I.get(z);return V!==void 0?Promise.resolve(V):P(L,z)}}},cS=(t,e,n,r,o,i,a,l,c,h,d,g,_,E,b,N,A,w,T,I)=>class extends b{constructor(P,L){super(P,L),this._nativeContext=P,this._audioWorklet=t===void 0?void 0:{addModule:(z,V)=>t(this,z,V)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new o(this)}createBuffer(P,L,z){return new n({length:L,numberOfChannels:P,sampleRate:z})}createBufferSource(){return new r(this)}createChannelMerger(P=6){return new i(this,{numberOfInputs:P})}createChannelSplitter(P=6){return new a(this,{numberOfOutputs:P})}createConstantSource(){return new l(this)}createConvolver(){return new c(this)}createDelay(P=1){return new d(this,{maxDelayTime:P})}createDynamicsCompressor(){return new g(this)}createGain(){return new _(this)}createIIRFilter(P,L){return new E(this,{feedback:L,feedforward:P})}createOscillator(){return new N(this)}createPanner(){return new A(this)}createPeriodicWave(P,L,z={disableNormalization:!1}){return new w(this,{...z,imag:L,real:P})}createStereoPanner(){return new T(this)}createWaveShaper(){return new I(this)}decodeAudioData(P,L,z){return h(this._nativeContext,P).then(V=>(typeof L=="function"&&L(V),V),V=>{throw typeof z=="function"&&z(V),V})}},uS={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},hS=(t,e,n,r,o,i,a,l)=>class extends t{constructor(h,d){const g=i(h),_={...uS,...d},E=o(g,_),b=a(g),N=b?n():null;super(h,!1,E,N),this._Q=e(this,b,E.Q,Yt,on),this._detune=e(this,b,E.detune,1200*Math.log2(Yt),-1200*Math.log2(Yt)),this._frequency=e(this,b,E.frequency,h.sampleRate/2,0),this._gain=e(this,b,E.gain,40*Math.log10(Yt),on),this._nativeBiquadFilterNode=E,l(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(h){this._nativeBiquadFilterNode.type=h}getFrequencyResponse(h,d,g){try{this._nativeBiquadFilterNode.getFrequencyResponse(h,d,g)}catch(_){throw _.code===11?r():_}if(h.length!==d.length||d.length!==g.length)throw r()}},dS=(t,e,n,r,o)=>()=>{const i=new WeakMap,a=async(l,c)=>{let h=n(l);const d=$t(h,c);if(!d){const g={Q:h.Q.value,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,gain:h.gain.value,type:h.type};h=e(c,g)}return i.set(c,h),d?(await t(c,l.Q,h.Q),await t(c,l.detune,h.detune),await t(c,l.frequency,h.frequency),await t(c,l.gain,h.gain)):(await r(c,l.Q,h.Q),await r(c,l.detune,h.detune),await r(c,l.frequency,h.frequency),await r(c,l.gain,h.gain)),await o(l,c,h),h};return{render(l,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):a(l,c)}}},fS=(t,e)=>(n,r)=>{const o=e.get(n);if(o!==void 0)return o;const i=t.get(n);if(i!==void 0)return i;try{const a=r();return a instanceof Promise?(t.set(n,a),a.catch(()=>!1).then(l=>(t.delete(n),e.set(n,l),l))):(e.set(n,a),a)}catch{return e.set(n,!1),!1}},pS={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},mS=(t,e,n,r,o)=>class extends t{constructor(a,l){const c=r(a),h={...pS,...l},d=n(c,h),g=o(c)?e():null;super(a,!1,d,g)}},gS=(t,e,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let l=e(i);if(!$t(l,a)){const h={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,numberOfInputs:l.numberOfInputs};l=t(a,h)}return r.set(a,l),await n(i,a,l),l};return{render(i,a){const l=r.get(a);return l!==void 0?Promise.resolve(l):o(i,a)}}},yS={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},vS=(t,e,n,r,o,i)=>class extends t{constructor(l,c){const h=r(l),d=i({...yS,...c}),g=n(h,d),_=o(h)?e():null;super(l,!1,g,_)}},_S=(t,e,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let l=e(i);if(!$t(l,a)){const h={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,numberOfOutputs:l.numberOfOutputs};l=t(a,h)}return r.set(a,l),await n(i,a,l),l};return{render(i,a){const l=r.get(a);return l!==void 0?Promise.resolve(l):o(i,a)}}},wS=t=>(e,n,r)=>t(n,e,r),SS=t=>(e,n,r=0,o=0)=>{const i=e[r];if(i===void 0)throw t();return gl(n)?i.connect(n,0,o):i.connect(n,0)},kS=t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=e.createBuffer(1,2,44100);return r.buffer=o,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},xS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},CS=(t,e,n,r,o,i,a)=>class extends t{constructor(c,h){const d=o(c),g={...xS,...h},_=r(d,g),E=i(d),b=E?n():null;super(c,!1,_,b),this._constantSourceNodeRenderer=b,this._nativeConstantSourceNode=_,this._offset=e(this,E,_.offset,Yt,on),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(c){const h=typeof c=="function"?a(this,c):null;this._nativeConstantSourceNode.onended=h;const d=this._nativeConstantSourceNode.onended;this._onended=d!==null&&d===h?c:d}start(c=0){if(this._nativeConstantSourceNode.start(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=c),this.context.state!=="closed"){vi(this);const h=()=>{this._nativeConstantSourceNode.removeEventListener("ended",h),mr(this)&&Vs(this)};this._nativeConstantSourceNode.addEventListener("ended",h)}}stop(c=0){this._nativeConstantSourceNode.stop(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=c)}},TS=(t,e,n,r,o)=>()=>{const i=new WeakMap;let a=null,l=null;const c=async(h,d)=>{let g=n(h);const _=$t(g,d);if(!_){const E={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,offset:g.offset.value};g=e(d,E),a!==null&&g.start(a),l!==null&&g.stop(l)}return i.set(d,g),_?await t(d,h.offset,g.offset):await r(d,h.offset,g.offset),await o(h,d,g),g};return{set start(h){a=h},set stop(h){l=h},render(h,d){const g=i.get(d);return g!==void 0?Promise.resolve(g):c(h,d)}}},ES=t=>e=>(t[0]=e,t[0]),bS={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},NS=(t,e,n,r,o,i)=>class extends t{constructor(l,c){const h=r(l),d={...bS,...c},g=n(h,d),E=o(h)?e():null;super(l,!1,g,E),this._isBufferNullified=!1,this._nativeConvolverNode=g,d.buffer!==null&&i(this,d.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(l){if(this._nativeConvolverNode.buffer=l,l===null&&this._nativeConvolverNode.buffer!==null){const c=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=c.createBuffer(1,1,c.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(l){this._nativeConvolverNode.normalize=l}},OS=(t,e,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let l=e(i);if(!$t(l,a)){const h={buffer:l.buffer,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,disableNormalization:!l.normalize};l=t(a,h)}return r.set(a,l),Ai(l)?await n(i,a,l.inputs[0]):await n(i,a,l),l};return{render(i,a){const l=r.get(a);return l!==void 0?Promise.resolve(l):o(i,a)}}},AS=(t,e)=>(n,r,o)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,o)}catch(i){throw i.name==="SyntaxError"?t():i}},IS=()=>new DOMException("","DataCloneError"),wp=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{const o=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>o();try{e.postMessage(t,[t])}catch{}finally{o()}})},PS=(t,e,n,r,o,i,a,l,c,h,d)=>(g,_)=>{const E=a(g)?g:i(g);if(o.has(_)){const b=n();return Promise.reject(b)}try{o.add(_)}catch{}return e(c,()=>c(E))?E.decodeAudioData(_).then(b=>(wp(_).catch(()=>{}),e(l,()=>l(b))||d(b),t.add(b),b)):new Promise((b,N)=>{const A=async()=>{try{await wp(_)}catch{}},w=T=>{N(T),A()};try{E.decodeAudioData(_,T=>{typeof T.copyFromChannel!="function"&&(h(T),Qh(T)),t.add(T),A().then(()=>b(T))},T=>{w(T===null?r():T)})}catch(T){w(T)}})},DS=(t,e,n,r,o,i,a,l)=>(c,h)=>{const d=e.get(c);if(d===void 0)throw new Error("Missing the expected cycle count.");const g=i(c.context),_=l(g);if(d===h){if(e.delete(c),!_&&a(c)){const E=r(c),{outputs:b}=n(c);for(const N of b)if(zs(N)){const A=r(N[0]);t(E,A,N[1],N[2])}else{const A=o(N[0]);E.connect(A,N[1])}}}else e.set(c,d-h)},MS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},RS=(t,e,n,r,o,i,a)=>class extends t{constructor(c,h){const d=o(c),g={...MS,...h},_=r(d,g),E=i(d),b=E?n(g.maxDelayTime):null;super(c,!1,_,b),this._delayTime=e(this,E,_.delayTime),a(this,g.maxDelayTime)}get delayTime(){return this._delayTime}},jS=(t,e,n,r,o)=>i=>{const a=new WeakMap,l=async(c,h)=>{let d=n(c);const g=$t(d,h);if(!g){const _={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,delayTime:d.delayTime.value,maxDelayTime:i};d=e(h,_)}return a.set(h,d),g?await t(h,c.delayTime,d.delayTime):await r(h,c.delayTime,d.delayTime),await o(c,h,d),d};return{render(c,h){const d=a.get(h);return d!==void 0?Promise.resolve(d):l(c,h)}}},FS=t=>(e,n,r,o)=>t(e[o],i=>i[0]===n&&i[1]===r),LS=t=>(e,n)=>{t(e).delete(n)},KS=t=>"delayTime"in t,VS=(t,e,n)=>function r(o,i){const a=fl(i)?i:n(t,i);if(KS(a))return[];if(o[0]===a)return[o];if(o.includes(a))return[];const{outputs:l}=e(a);return Array.from(l).map(c=>r([...o,a],c[0])).reduce((c,h)=>c.concat(h),[])},ya=(t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},BS=t=>(e,n=void 0,r=void 0,o=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?ya(t,e,n).disconnect():gl(n)?r===void 0?e.forEach(i=>i.disconnect(n)):o===void 0?ya(t,e,r).disconnect(n,0):ya(t,e,r).disconnect(n,0,o):r===void 0?e.forEach(i=>i.disconnect(n)):ya(t,e,r).disconnect(n,0),zS={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},US=(t,e,n,r,o,i,a,l)=>class extends t{constructor(h,d){const g=i(h),_={...zS,...d},E=r(g,_),b=a(g),N=b?n():null;super(h,!1,E,N),this._attack=e(this,b,E.attack),this._knee=e(this,b,E.knee),this._nativeDynamicsCompressorNode=E,this._ratio=e(this,b,E.ratio),this._release=e(this,b,E.release),this._threshold=e(this,b,E.threshold),l(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(h){const d=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=h,h>2)throw this._nativeDynamicsCompressorNode.channelCount=d,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(h){const d=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=h,h==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=d,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},WS=(t,e,n,r,o)=>()=>{const i=new WeakMap,a=async(l,c)=>{let h=n(l);const d=$t(h,c);if(!d){const g={attack:h.attack.value,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,knee:h.knee.value,ratio:h.ratio.value,release:h.release.value,threshold:h.threshold.value};h=e(c,g)}return i.set(c,h),d?(await t(c,l.attack,h.attack),await t(c,l.knee,h.knee),await t(c,l.ratio,h.ratio),await t(c,l.release,h.release),await t(c,l.threshold,h.threshold)):(await r(c,l.attack,h.attack),await r(c,l.knee,h.knee),await r(c,l.ratio,h.ratio),await r(c,l.release,h.release),await r(c,l.threshold,h.threshold)),await o(l,c,h),h};return{render(l,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):a(l,c)}}},$S=()=>new DOMException("","EncodingError"),qS=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const o=t.document.head;if(o===null)r(new SyntaxError);else{const i=t.document.createElement("script"),a=new Blob([e],{type:"application/javascript"}),l=URL.createObjectURL(a),c=t.onerror,h=()=>{t.onerror=c,URL.revokeObjectURL(l)};t.onerror=(d,g,_,E,b)=>{if(g===l||g===t.location.href&&_===1&&E===1)return h(),r(b),!1;if(c!==null)return c(d,g,_,E,b)},i.onerror=()=>{h(),r(new SyntaxError)},i.onload=()=>{h(),n()},i.src=l,i.type="module",o.appendChild(i)}}),HS=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,o){if(r!==null){let i=this._listeners.get(r);i===void 0&&(i=t(this,r),typeof r=="function"&&this._listeners.set(r,i)),this._nativeEventTarget.addEventListener(n,i,o)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,o){const i=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,o)}},GS=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},QS=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},YS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},XS=(t,e,n,r,o,i)=>class extends t{constructor(l,c){const h=o(l),d={...YS,...c},g=r(h,d),_=i(h),E=_?n():null;super(l,!1,g,E),this._gain=e(this,_,g.gain,Yt,on)}get gain(){return this._gain}},ZS=(t,e,n,r,o)=>()=>{const i=new WeakMap,a=async(l,c)=>{let h=n(l);const d=$t(h,c);if(!d){const g={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,gain:h.gain.value};h=e(c,g)}return i.set(c,h),d?await t(c,l.gain,h.gain):await r(c,l.gain,h.gain),await o(l,c,h),h};return{render(l,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):a(l,c)}}},JS=(t,e)=>n=>e(t,n),ek=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},tk=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},nk=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},rk=t=>e=>t.get(e),Pt=()=>new DOMException("","InvalidStateError"),ok=t=>e=>{const n=t.get(e);if(n===void 0)throw Pt();return n},ik=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},sk=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},zl=()=>new DOMException("","InvalidAccessError"),ak=t=>{t.getFrequencyResponse=(e=>(n,r,o)=>{if(n.length!==r.length||r.length!==o.length)throw zl();return e.call(t,n,r,o)})(t.getFrequencyResponse)},lk={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},ck=(t,e,n,r,o,i)=>class extends t{constructor(l,c){const h=r(l),d=o(h),g={...lk,...c},_=e(h,d?null:l.baseLatency,g),E=d?n(g.feedback,g.feedforward):null;super(l,!1,_,E),ak(_),this._nativeIIRFilterNode=_,i(this,1)}getFrequencyResponse(l,c,h){return this._nativeIIRFilterNode.getFrequencyResponse(l,c,h)}},wy=(t,e,n,r,o,i,a,l,c,h,d)=>{const g=h.length;let _=l;for(let E=0;E<g;E+=1){let b=n[0]*h[E];for(let N=1;N<o;N+=1){const A=_-N&c-1;b+=n[N]*i[A],b-=t[N]*a[A]}for(let N=o;N<r;N+=1)b+=n[N]*i[_-N&c-1];for(let N=o;N<e;N+=1)b-=t[N]*a[_-N&c-1];i[_]=h[E],a[_]=b,_=_+1&c-1,d[E]=b}return _},uk=(t,e,n,r)=>{const o=n instanceof Float64Array?n:new Float64Array(n),i=r instanceof Float64Array?r:new Float64Array(r),a=o.length,l=i.length,c=Math.min(a,l);if(o[0]!==1){for(let b=0;b<a;b+=1)i[b]/=o[0];for(let b=1;b<l;b+=1)o[b]/=o[0]}const h=32,d=new Float32Array(h),g=new Float32Array(h),_=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),E=t.numberOfChannels;for(let b=0;b<E;b+=1){const N=t.getChannelData(b),A=_.getChannelData(b);d.fill(0),g.fill(0),wy(o,a,i,l,c,d,g,0,h,N,A)}return _},hk=(t,e,n,r,o)=>(i,a)=>{const l=new WeakMap;let c=null;const h=async(d,g)=>{let _=null,E=e(d);const b=$t(E,g);if(g.createIIRFilter===void 0?_=t(g,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):b||(E=g.createIIRFilter(a,i)),l.set(g,_===null?E:_),_!==null){if(c===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const A=new n(d.context.destination.channelCount,d.context.length,g.sampleRate);c=(async()=>{await r(d,A,A.destination);const w=await o(A);return uk(w,g,i,a)})()}const N=await c;return _.buffer=N,_.start(0),_}return await r(d,g,E),E};return{render(d,g){const _=l.get(g);return _!==void 0?Promise.resolve(_):h(d,g)}}},dk=(t,e,n,r,o,i)=>a=>(l,c)=>{const h=t.get(l);if(h===void 0){if(!a&&i(l)){const d=r(l),{outputs:g}=n(l);for(const _ of g)if(zs(_)){const E=r(_[0]);e(d,E,_[1],_[2])}else{const E=o(_[0]);d.disconnect(E,_[1])}}t.set(l,c)}else t.set(l,h+c)},fk=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},pk=(t,e)=>n=>t.has(n)||e(n),mk=(t,e)=>n=>t.has(n)||e(n),gk=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},yk=t=>e=>t!==null&&e instanceof t,vk=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,_k=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,wk=(t,e)=>n=>t(n)||e(n),Sk=t=>e=>t!==null&&e instanceof t,kk=t=>t!==null&&t.isSecureContext,xk=(t,e,n,r)=>class extends t{constructor(i,a){const l=n(i),c=e(l,a);if(r(l))throw TypeError();super(i,!0,c,null),this._nativeMediaElementAudioSourceNode=c}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},Ck={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Tk=(t,e,n,r)=>class extends t{constructor(i,a){const l=n(i);if(r(l))throw new TypeError;const c={...Ck,...a},h=e(l,c);super(i,!1,h,null),this._nativeMediaStreamAudioDestinationNode=h}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},Ek=(t,e,n,r)=>class extends t{constructor(i,a){const l=n(i),c=e(l,a);if(r(l))throw new TypeError;super(i,!0,c,null),this._nativeMediaStreamAudioSourceNode=c}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},bk=(t,e,n)=>class extends t{constructor(o,i){const a=n(o),l=e(a,i);super(o,!0,l,null)}},Nk=(t,e,n,r,o,i)=>class extends n{constructor(l,c){super(l),this._nativeContext=l,Vl.set(this,l),r(l)&&o.set(l,new Set),this._destination=new t(this,c),this._listener=e(this,l),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(l){const c=typeof l=="function"?i(this,l):null;this._nativeContext.onstatechange=c;const h=this._nativeContext.onstatechange;this._onstatechange=h!==null&&h===c?l:h}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Is=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},Ok=(t,e)=>(n,r,o)=>{const i=new Set;return n.connect=(a=>(l,c=0,h=0)=>{const d=i.size===0;if(e(l))return a.call(n,l,c,h),t(i,[l,c,h],g=>g[0]===l&&g[1]===c&&g[2]===h,!0),d&&r(),l;a.call(n,l,c),t(i,[l,c],g=>g[0]===l&&g[1]===c,!0),d&&r()})(n.connect),n.disconnect=(a=>(l,c,h)=>{const d=i.size>0;if(l===void 0)a.apply(n),i.clear();else if(typeof l=="number"){a.call(n,l);for(const _ of i)_[1]===l&&i.delete(_)}else{e(l)?a.call(n,l,c,h):a.call(n,l,c);for(const _ of i)_[0]===l&&(c===void 0||_[1]===c)&&(h===void 0||_[2]===h)&&i.delete(_)}const g=i.size===0;d&&g&&o()})(n.disconnect),n},at=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},Nt=(t,e)=>{at(t,e,"channelCount"),at(t,e,"channelCountMode"),at(t,e,"channelInterpretation")},Sp=t=>typeof t.getFloatTimeDomainData=="function",Ak=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let o=0;o<r;o+=1)e[o]=(n[o]-128)*.0078125;return e}},Ik=(t,e)=>(n,r)=>{const o=n.createAnalyser();if(Nt(o,r),!(r.maxDecibels>r.minDecibels))throw e();return at(o,r,"fftSize"),at(o,r,"maxDecibels"),at(o,r,"minDecibels"),at(o,r,"smoothingTimeConstant"),t(Sp,()=>Sp(o))||Ak(o),o},Pk=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,mt=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},Dk=t=>{t.start=(e=>{let n=!1;return(r=0,o=0,i)=>{if(n)throw Pt();e.call(t,r,o,i),n=!0}})(t.start)},Zh=t=>{t.start=(e=>(n=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,o)})(t.start)},Jh=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},Mk=(t,e,n,r,o,i,a,l,c,h,d)=>(g,_)=>{const E=g.createBufferSource();return Nt(E,_),mt(E,_,"playbackRate"),at(E,_,"buffer"),at(E,_,"loop"),at(E,_,"loopEnd"),at(E,_,"loopStart"),e(n,()=>n(g))||Dk(E),e(r,()=>r(g))||c(E),e(o,()=>o(g))||h(E,g),e(i,()=>i(g))||Zh(E),e(a,()=>a(g))||d(E,g),e(l,()=>l(g))||Jh(E),t(g,E),E},Rk=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,jk=(t,e)=>(n,r,o)=>{const i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch{}o&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});const a=t(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(a,"channelCount",l=>()=>l.call(a),l=>c=>{l.call(a,c);try{i.channelCount=c}catch(h){if(c>i.maxChannelCount)throw h}}),e(a,"channelCountMode",l=>()=>l.call(a),l=>c=>{l.call(a,c),i.channelCountMode=c}),e(a,"channelInterpretation",l=>()=>l.call(a),l=>c=>{l.call(a,c),i.channelInterpretation=c}),Object.defineProperty(a,"maxChannelCount",{get:()=>i.maxChannelCount}),a.connect(i),a},Fk=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,Lk=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},Kk=(t,e,n,r,o)=>(i,a,l,c,h,d)=>{if(l!==null)try{const g=new l(i,c,d),_=new Map;let E=null;if(Object.defineProperties(g,{channelCount:{get:()=>d.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>E,set:b=>{typeof E=="function"&&g.removeEventListener("processorerror",E),E=typeof b=="function"?b:null,typeof E=="function"&&g.addEventListener("processorerror",E)}}}),g.addEventListener=(b=>(...N)=>{if(N[0]==="processorerror"){const A=typeof N[1]=="function"?N[1]:typeof N[1]=="object"&&N[1]!==null&&typeof N[1].handleEvent=="function"?N[1].handleEvent:null;if(A!==null){const w=_.get(N[1]);w!==void 0?N[1]=w:(N[1]=T=>{T.type==="error"?(Object.defineProperties(T,{type:{value:"processorerror"}}),A(T)):A(new ErrorEvent(N[0],{...T}))},_.set(A,N[1]))}}return b.call(g,"error",N[1],N[2]),b.call(g,...N)})(g.addEventListener),g.removeEventListener=(b=>(...N)=>{if(N[0]==="processorerror"){const A=_.get(N[1]);A!==void 0&&(_.delete(N[1]),N[1]=A)}return b.call(g,"error",N[1],N[2]),b.call(g,N[0],N[1],N[2])})(g.removeEventListener),d.numberOfOutputs!==0){const b=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return g.connect(b).connect(i.destination),o(g,()=>b.disconnect(),()=>b.connect(i.destination))}return g}catch(g){throw g.code===11?r():g}if(h===void 0)throw r();return Lk(d),e(i,a,h,d)},Sy=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),Vk=t=>new Promise((e,n)=>{const{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:i})=>{r.close(),o.close(),e(i)},r.onmessageerror=({data:i})=>{r.close(),o.close(),n(i)},o.postMessage(t)}),Bk=async(t,e)=>{const n=await Vk(e);return new t(n)},zk=(t,e,n,r)=>{let o=Vu.get(t);o===void 0&&(o=new WeakMap,Vu.set(t,o));const i=Bk(n,r);return o.set(e,i),i},Uk=(t,e,n,r,o,i,a,l,c,h,d,g,_)=>(E,b,N,A)=>{if(A.numberOfInputs===0&&A.numberOfOutputs===0)throw c();const w=Array.isArray(A.outputChannelCount)?A.outputChannelCount:Array.from(A.outputChannelCount);if(w.some(S=>S<1))throw c();if(w.length!==A.numberOfOutputs)throw e();if(A.channelCountMode!=="explicit")throw c();const T=A.channelCount*A.numberOfInputs,I=w.reduce((S,x)=>S+x,0),R=N.parameterDescriptors===void 0?0:N.parameterDescriptors.length;if(T+R>6||I>6)throw c();const P=new MessageChannel,L=[],z=[];for(let S=0;S<A.numberOfInputs;S+=1)L.push(a(E,{channelCount:A.channelCount,channelCountMode:A.channelCountMode,channelInterpretation:A.channelInterpretation,gain:1})),z.push(o(E,{channelCount:A.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:A.channelCount}));const V=[];if(N.parameterDescriptors!==void 0)for(const{defaultValue:S,maxValue:x,minValue:M,name:K}of N.parameterDescriptors){const D=i(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:A.parameterData[K]!==void 0?A.parameterData[K]:S===void 0?0:S});Object.defineProperties(D.offset,{defaultValue:{get:()=>S===void 0?0:S},maxValue:{get:()=>x===void 0?Yt:x},minValue:{get:()=>M===void 0?on:M}}),V.push(D)}const Z=r(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,T+R)}),G=Sy(b,E.sampleRate),X=l(E,G,T+R,Math.max(1,I)),ee=o(E,{channelCount:Math.max(1,I),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,I)}),fe=[];for(let S=0;S<A.numberOfOutputs;S+=1)fe.push(r(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:w[S]}));for(let S=0;S<A.numberOfInputs;S+=1){L[S].connect(z[S]);for(let x=0;x<A.channelCount;x+=1)z[S].connect(Z,x,S*A.channelCount+x)}const pe=new vy(N.parameterDescriptors===void 0?[]:N.parameterDescriptors.map(({name:S},x)=>{const M=V[x];return M.connect(Z,0,T+x),M.start(0),[S,M.offset]}));Z.connect(X);let Se=A.channelInterpretation,he=null;const ge=A.numberOfOutputs===0?[X]:fe,Q={get bufferSize(){return G},get channelCount(){return A.channelCount},set channelCount(S){throw n()},get channelCountMode(){return A.channelCountMode},set channelCountMode(S){throw n()},get channelInterpretation(){return Se},set channelInterpretation(S){for(const x of L)x.channelInterpretation=S;Se=S},get context(){return X.context},get inputs(){return L},get numberOfInputs(){return A.numberOfInputs},get numberOfOutputs(){return A.numberOfOutputs},get onprocessorerror(){return he},set onprocessorerror(S){typeof he=="function"&&Q.removeEventListener("processorerror",he),he=typeof S=="function"?S:null,typeof he=="function"&&Q.addEventListener("processorerror",he)},get parameters(){return pe},get port(){return P.port2},addEventListener(...S){return X.addEventListener(S[0],S[1],S[2])},connect:t.bind(null,ge),disconnect:h.bind(null,ge),dispatchEvent(...S){return X.dispatchEvent(S[0])},removeEventListener(...S){return X.removeEventListener(S[0],S[1],S[2])}},re=new Map;P.port1.addEventListener=(S=>(...x)=>{if(x[0]==="message"){const M=typeof x[1]=="function"?x[1]:typeof x[1]=="object"&&x[1]!==null&&typeof x[1].handleEvent=="function"?x[1].handleEvent:null;if(M!==null){const K=re.get(x[1]);K!==void 0?x[1]=K:(x[1]=D=>{d(E.currentTime,E.sampleRate,()=>M(D))},re.set(M,x[1]))}}return S.call(P.port1,x[0],x[1],x[2])})(P.port1.addEventListener),P.port1.removeEventListener=(S=>(...x)=>{if(x[0]==="message"){const M=re.get(x[1]);M!==void 0&&(re.delete(x[1]),x[1]=M)}return S.call(P.port1,x[0],x[1],x[2])})(P.port1.removeEventListener);let j=null;Object.defineProperty(P.port1,"onmessage",{get:()=>j,set:S=>{typeof j=="function"&&P.port1.removeEventListener("message",j),j=typeof S=="function"?S:null,typeof j=="function"&&(P.port1.addEventListener("message",j),P.port1.start())}}),N.prototype.port=P.port1;let O=null;zk(E,Q,N,A).then(S=>O=S);const te=vl(A.numberOfInputs,A.channelCount),ce=vl(A.numberOfOutputs,w),ie=N.parameterDescriptors===void 0?[]:N.parameterDescriptors.reduce((S,{name:x})=>({...S,[x]:new Float32Array(128)}),{});let y=!0;const v=()=>{A.numberOfOutputs>0&&X.disconnect(ee);for(let S=0,x=0;S<A.numberOfOutputs;S+=1){const M=fe[S];for(let K=0;K<w[S];K+=1)ee.disconnect(M,x+K,K);x+=w[S]}},s=new Map;X.onaudioprocess=({inputBuffer:S,outputBuffer:x})=>{if(O!==null){const M=g(Q);for(let K=0;K<G;K+=128){for(let D=0;D<A.numberOfInputs;D+=1)for(let F=0;F<A.channelCount;F+=1)yl(S,te[D],F,F,K);N.parameterDescriptors!==void 0&&N.parameterDescriptors.forEach(({name:D},F)=>{yl(S,ie,D,T+F,K)});for(let D=0;D<A.numberOfInputs;D+=1)for(let F=0;F<w[D];F+=1)ce[D][F].byteLength===0&&(ce[D][F]=new Float32Array(128));try{const D=te.map((U,B)=>{if(M[B].size>0)return s.set(B,G/128),U;const q=s.get(B);return q===void 0?[]:(U.every(Y=>Y.every(se=>se===0))&&(q===1?s.delete(B):s.set(B,q-1)),U)});y=d(E.currentTime+K/E.sampleRate,E.sampleRate,()=>O.process(D,ce,ie));for(let U=0,B=0;U<A.numberOfOutputs;U+=1){for(let $=0;$<w[U];$+=1)_y(x,ce[U],$,B+$,K);B+=w[U]}}catch(D){y=!1,Q.dispatchEvent(new ErrorEvent("processorerror",{colno:D.colno,filename:D.filename,lineno:D.lineno,message:D.message}))}if(!y){for(let D=0;D<A.numberOfInputs;D+=1){L[D].disconnect(z[D]);for(let F=0;F<A.channelCount;F+=1)z[K].disconnect(Z,F,D*A.channelCount+F)}if(N.parameterDescriptors!==void 0){const D=N.parameterDescriptors.length;for(let F=0;F<D;F+=1){const U=V[F];U.disconnect(Z,0,T+F),U.stop()}}Z.disconnect(X),X.onaudioprocess=null,u?v():m();break}}}};let u=!1;const f=a(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),p=()=>X.connect(f).connect(E.destination),m=()=>{X.disconnect(f),f.disconnect()},k=()=>{if(y){m(),A.numberOfOutputs>0&&X.connect(ee);for(let S=0,x=0;S<A.numberOfOutputs;S+=1){const M=fe[S];for(let K=0;K<w[S];K+=1)ee.connect(M,x+K,K);x+=w[S]}}u=!0},C=()=>{y&&(p(),v()),u=!1};return p(),_(Q,k,C)},ky=(t,e)=>{const n=t.createBiquadFilter();return Nt(n,e),mt(n,e,"Q"),mt(n,e,"detune"),mt(n,e,"frequency"),mt(n,e,"gain"),at(n,e,"type"),n},Wk=(t,e)=>(n,r)=>{const o=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,o),Nt(o,r),o},$k=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Pt()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Pt()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Pt()}})},Us=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Nt(n,e),$k(n),n},qk=(t,e,n,r,o)=>(i,a)=>{if(i.createConstantSource===void 0)return n(i,a);const l=i.createConstantSource();return Nt(l,a),mt(l,a,"offset"),e(r,()=>r(i))||Zh(l),e(o,()=>o(i))||Jh(l),t(i,l),l},Ii=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),Hk=(t,e,n,r)=>(o,{offset:i,...a})=>{const l=o.createBuffer(1,2,44100),c=e(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),h=n(o,{...a,gain:i}),d=l.getChannelData(0);d[0]=1,d[1]=1,c.buffer=l,c.loop=!0;const g={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(b){h.channelCount=b},get channelCountMode(){return h.channelCountMode},set channelCountMode(b){h.channelCountMode=b},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(b){h.channelInterpretation=b},get context(){return h.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get offset(){return h.gain},get onended(){return c.onended},set onended(b){c.onended=b},addEventListener(...b){return c.addEventListener(b[0],b[1],b[2])},dispatchEvent(...b){return c.dispatchEvent(b[0])},removeEventListener(...b){return c.removeEventListener(b[0],b[1],b[2])},start(b=0){c.start.call(c,b)},stop(b=0){c.stop.call(c,b)}},_=()=>c.connect(h),E=()=>c.disconnect(h);return t(o,c),r(Ii(g,h),_,E)},Gk=(t,e)=>(n,r)=>{const o=n.createConvolver();if(Nt(o,r),r.disableNormalization===o.normalize&&(o.normalize=!r.disableNormalization),at(o,r,"buffer"),r.channelCount>2||(e(o,"channelCount",i=>()=>i.call(o),i=>a=>{if(a>2)throw t();return i.call(o,a)}),r.channelCountMode==="max"))throw t();return e(o,"channelCountMode",i=>()=>i.call(o),i=>a=>{if(a==="max")throw t();return i.call(o,a)}),o},xy=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Nt(n,e),mt(n,e,"delayTime"),n},Qk=t=>(e,n)=>{const r=e.createDynamicsCompressor();if(Nt(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return mt(r,n,"attack"),mt(r,n,"knee"),mt(r,n,"ratio"),mt(r,n,"release"),mt(r,n,"threshold"),r},hn=(t,e)=>{const n=t.createGain();return Nt(n,e),mt(n,e,"gain"),n},Yk=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);const o=e.createIIRFilter(r.feedforward,r.feedback);return Nt(o,r),o};function Xk(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function Zk(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function kp(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=Zk(n,e),n[0]+=t[r];return n}const Jk=(t,e,n,r)=>(o,i,{channelCount:a,channelCountMode:l,channelInterpretation:c,feedback:h,feedforward:d})=>{const g=Sy(i,o.sampleRate),_=h instanceof Float64Array?h:new Float64Array(h),E=d instanceof Float64Array?d:new Float64Array(d),b=_.length,N=E.length,A=Math.min(b,N);if(b===0||b>20)throw r();if(_[0]===0)throw e();if(N===0||N>20)throw r();if(E[0]===0)throw e();if(_[0]!==1){for(let V=0;V<N;V+=1)E[V]/=_[0];for(let V=1;V<b;V+=1)_[V]/=_[0]}const w=n(o,g,a,a);w.channelCount=a,w.channelCountMode=l,w.channelInterpretation=c;const T=32,I=[],R=[],P=[];for(let V=0;V<a;V+=1){I.push(0);const Z=new Float32Array(T),G=new Float32Array(T);Z.fill(0),G.fill(0),R.push(Z),P.push(G)}w.onaudioprocess=V=>{const Z=V.inputBuffer,G=V.outputBuffer,X=Z.numberOfChannels;for(let ee=0;ee<X;ee+=1){const fe=Z.getChannelData(ee),pe=G.getChannelData(ee);I[ee]=wy(_,b,E,N,A,R[ee],P[ee],I[ee],T,fe,pe)}};const L=o.sampleRate/2;return Ii({get bufferSize(){return g},get channelCount(){return w.channelCount},set channelCount(V){w.channelCount=V},get channelCountMode(){return w.channelCountMode},set channelCountMode(V){w.channelCountMode=V},get channelInterpretation(){return w.channelInterpretation},set channelInterpretation(V){w.channelInterpretation=V},get context(){return w.context},get inputs(){return[w]},get numberOfInputs(){return w.numberOfInputs},get numberOfOutputs(){return w.numberOfOutputs},addEventListener(...V){return w.addEventListener(V[0],V[1],V[2])},dispatchEvent(...V){return w.dispatchEvent(V[0])},getFrequencyResponse(V,Z,G){if(V.length!==Z.length||Z.length!==G.length)throw t();const X=V.length;for(let ee=0;ee<X;ee+=1){const fe=-Math.PI*(V[ee]/L),pe=[Math.cos(fe),Math.sin(fe)],Se=kp(E,pe),he=kp(_,pe),ge=Xk(Se,he);Z[ee]=Math.sqrt(ge[0]*ge[0]+ge[1]*ge[1]),G[ee]=Math.atan2(ge[1],ge[0])}},removeEventListener(...V){return w.removeEventListener(V[0],V[1],V[2])}},w)},ex=(t,e)=>t.createMediaElementSource(e.mediaElement),tx=(t,e)=>{const n=t.createMediaStreamDestination();return Nt(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},nx=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,a)=>i.id<a.id?-1:i.id>a.id?1:0);const r=n.slice(0,1),o=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:e}),o},rx=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const o=new MediaStream([r]),i=n.createMediaStreamSource(o);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return i},ox=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,ix=(t,e,n,r,o,i)=>(a,l)=>{const c=a.createOscillator();return Nt(c,l),mt(c,l,"detune"),mt(c,l,"frequency"),l.periodicWave!==void 0?c.setPeriodicWave(l.periodicWave):at(c,l,"type"),e(n,()=>n(a))||Zh(c),e(r,()=>r(a))||i(c,a),e(o,()=>o(a))||Jh(c),t(a,c),c},sx=t=>(e,n)=>{const r=e.createPanner();return r.orientationX===void 0?t(e,n):(Nt(r,n),mt(r,n,"orientationX"),mt(r,n,"orientationY"),mt(r,n,"orientationZ"),mt(r,n,"positionX"),mt(r,n,"positionY"),mt(r,n,"positionZ"),at(r,n,"coneInnerAngle"),at(r,n,"coneOuterAngle"),at(r,n,"coneOuterGain"),at(r,n,"distanceModel"),at(r,n,"maxDistance"),at(r,n,"panningModel"),at(r,n,"refDistance"),at(r,n,"rolloffFactor"),r)},ax=(t,e,n,r,o,i,a,l,c,h)=>(d,{coneInnerAngle:g,coneOuterAngle:_,coneOuterGain:E,distanceModel:b,maxDistance:N,orientationX:A,orientationY:w,orientationZ:T,panningModel:I,positionX:R,positionY:P,positionZ:L,refDistance:z,rolloffFactor:V,...Z})=>{const G=d.createPanner();if(Z.channelCount>2||Z.channelCountMode==="max")throw a();Nt(G,Z);const X={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},ee=n(d,{...X,channelInterpretation:"speakers",numberOfInputs:6}),fe=r(d,{...Z,gain:1}),pe=r(d,{...X,gain:1}),Se=r(d,{...X,gain:0}),he=r(d,{...X,gain:0}),ge=r(d,{...X,gain:0}),Q=r(d,{...X,gain:0}),re=r(d,{...X,gain:0}),j=o(d,256,6,1),O=i(d,{...X,curve:new Float32Array([1,1]),oversample:"none"});let W=[A,w,T],te=[R,P,L];const ce=new Float32Array(1);j.onaudioprocess=({inputBuffer:s})=>{const u=[c(s,ce,0),c(s,ce,1),c(s,ce,2)];u.some((p,m)=>p!==W[m])&&(G.setOrientation(...u),W=u);const f=[c(s,ce,3),c(s,ce,4),c(s,ce,5)];f.some((p,m)=>p!==te[m])&&(G.setPosition(...f),te=f)},Object.defineProperty(Se.gain,"defaultValue",{get:()=>0}),Object.defineProperty(he.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ge.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(re.gain,"defaultValue",{get:()=>0});const ie={get bufferSize(){},get channelCount(){return G.channelCount},set channelCount(s){if(s>2)throw a();fe.channelCount=s,G.channelCount=s},get channelCountMode(){return G.channelCountMode},set channelCountMode(s){if(s==="max")throw a();fe.channelCountMode=s,G.channelCountMode=s},get channelInterpretation(){return G.channelInterpretation},set channelInterpretation(s){fe.channelInterpretation=s,G.channelInterpretation=s},get coneInnerAngle(){return G.coneInnerAngle},set coneInnerAngle(s){G.coneInnerAngle=s},get coneOuterAngle(){return G.coneOuterAngle},set coneOuterAngle(s){G.coneOuterAngle=s},get coneOuterGain(){return G.coneOuterGain},set coneOuterGain(s){if(s<0||s>1)throw e();G.coneOuterGain=s},get context(){return G.context},get distanceModel(){return G.distanceModel},set distanceModel(s){G.distanceModel=s},get inputs(){return[fe]},get maxDistance(){return G.maxDistance},set maxDistance(s){if(s<0)throw new RangeError;G.maxDistance=s},get numberOfInputs(){return G.numberOfInputs},get numberOfOutputs(){return G.numberOfOutputs},get orientationX(){return pe.gain},get orientationY(){return Se.gain},get orientationZ(){return he.gain},get panningModel(){return G.panningModel},set panningModel(s){G.panningModel=s},get positionX(){return ge.gain},get positionY(){return Q.gain},get positionZ(){return re.gain},get refDistance(){return G.refDistance},set refDistance(s){if(s<0)throw new RangeError;G.refDistance=s},get rolloffFactor(){return G.rolloffFactor},set rolloffFactor(s){if(s<0)throw new RangeError;G.rolloffFactor=s},addEventListener(...s){return fe.addEventListener(s[0],s[1],s[2])},dispatchEvent(...s){return fe.dispatchEvent(s[0])},removeEventListener(...s){return fe.removeEventListener(s[0],s[1],s[2])}};g!==ie.coneInnerAngle&&(ie.coneInnerAngle=g),_!==ie.coneOuterAngle&&(ie.coneOuterAngle=_),E!==ie.coneOuterGain&&(ie.coneOuterGain=E),b!==ie.distanceModel&&(ie.distanceModel=b),N!==ie.maxDistance&&(ie.maxDistance=N),A!==ie.orientationX.value&&(ie.orientationX.value=A),w!==ie.orientationY.value&&(ie.orientationY.value=w),T!==ie.orientationZ.value&&(ie.orientationZ.value=T),I!==ie.panningModel&&(ie.panningModel=I),R!==ie.positionX.value&&(ie.positionX.value=R),P!==ie.positionY.value&&(ie.positionY.value=P),L!==ie.positionZ.value&&(ie.positionZ.value=L),z!==ie.refDistance&&(ie.refDistance=z),V!==ie.rolloffFactor&&(ie.rolloffFactor=V),(W[0]!==1||W[1]!==0||W[2]!==0)&&G.setOrientation(...W),(te[0]!==0||te[1]!==0||te[2]!==0)&&G.setPosition(...te);const y=()=>{fe.connect(G),t(fe,O,0,0),O.connect(pe).connect(ee,0,0),O.connect(Se).connect(ee,0,1),O.connect(he).connect(ee,0,2),O.connect(ge).connect(ee,0,3),O.connect(Q).connect(ee,0,4),O.connect(re).connect(ee,0,5),ee.connect(j).connect(d.destination)},v=()=>{fe.disconnect(G),l(fe,O,0,0),O.disconnect(pe),pe.disconnect(ee),O.disconnect(Se),Se.disconnect(ee),O.disconnect(he),he.disconnect(ee),O.disconnect(ge),ge.disconnect(ee),O.disconnect(Q),Q.disconnect(ee),O.disconnect(re),re.disconnect(ee),ee.disconnect(j),j.disconnect(d.destination)};return h(Ii(ie,G),y,v)},lx=t=>(e,{disableNormalization:n,imag:r,real:o})=>{const i=r instanceof Float32Array?r:new Float32Array(r),a=o instanceof Float32Array?o:new Float32Array(o),l=e.createPeriodicWave(a,i,{disableNormalization:n});if(Array.from(r).length<2)throw t();return l},Ws=(t,e,n,r)=>t.createScriptProcessor(e,n,r),cx=(t,e)=>(n,r)=>{const o=r.channelCountMode;if(o==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);const i=n.createStereoPanner();return Nt(i,r),mt(i,r,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>o,set:a=>{if(a!==o)throw e()}}),i},ux=(t,e,n,r,o,i)=>{const l=new Float32Array([1,1]),c=Math.PI/2,h={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},d={...h,oversample:"none"},g=(b,N,A,w)=>{const T=new Float32Array(16385),I=new Float32Array(16385);for(let Z=0;Z<16385;Z+=1){const G=Z/16384*c;T[Z]=Math.cos(G),I[Z]=Math.sin(G)}const R=n(b,{...h,gain:0}),P=r(b,{...d,curve:T}),L=r(b,{...d,curve:l}),z=n(b,{...h,gain:0}),V=r(b,{...d,curve:I});return{connectGraph(){N.connect(R),N.connect(L.inputs===void 0?L:L.inputs[0]),N.connect(z),L.connect(A),A.connect(P.inputs===void 0?P:P.inputs[0]),A.connect(V.inputs===void 0?V:V.inputs[0]),P.connect(R.gain),V.connect(z.gain),R.connect(w,0,0),z.connect(w,0,1)},disconnectGraph(){N.disconnect(R),N.disconnect(L.inputs===void 0?L:L.inputs[0]),N.disconnect(z),L.disconnect(A),A.disconnect(P.inputs===void 0?P:P.inputs[0]),A.disconnect(V.inputs===void 0?V:V.inputs[0]),P.disconnect(R.gain),V.disconnect(z.gain),R.disconnect(w,0,0),z.disconnect(w,0,1)}}},_=(b,N,A,w)=>{const T=new Float32Array(16385),I=new Float32Array(16385),R=new Float32Array(16385),P=new Float32Array(16385),L=Math.floor(16385/2);for(let ge=0;ge<16385;ge+=1)if(ge>L){const Q=(ge-L)/(16384-L)*c;T[ge]=Math.cos(Q),I[ge]=Math.sin(Q),R[ge]=0,P[ge]=1}else{const Q=ge/(16384-L)*c;T[ge]=1,I[ge]=0,R[ge]=Math.cos(Q),P[ge]=Math.sin(Q)}const z=e(b,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),V=n(b,{...h,gain:0}),Z=r(b,{...d,curve:T}),G=n(b,{...h,gain:0}),X=r(b,{...d,curve:I}),ee=r(b,{...d,curve:l}),fe=n(b,{...h,gain:0}),pe=r(b,{...d,curve:R}),Se=n(b,{...h,gain:0}),he=r(b,{...d,curve:P});return{connectGraph(){N.connect(z),N.connect(ee.inputs===void 0?ee:ee.inputs[0]),z.connect(V,0),z.connect(G,0),z.connect(fe,1),z.connect(Se,1),ee.connect(A),A.connect(Z.inputs===void 0?Z:Z.inputs[0]),A.connect(X.inputs===void 0?X:X.inputs[0]),A.connect(pe.inputs===void 0?pe:pe.inputs[0]),A.connect(he.inputs===void 0?he:he.inputs[0]),Z.connect(V.gain),X.connect(G.gain),pe.connect(fe.gain),he.connect(Se.gain),V.connect(w,0,0),fe.connect(w,0,0),G.connect(w,0,1),Se.connect(w,0,1)},disconnectGraph(){N.disconnect(z),N.disconnect(ee.inputs===void 0?ee:ee.inputs[0]),z.disconnect(V,0),z.disconnect(G,0),z.disconnect(fe,1),z.disconnect(Se,1),ee.disconnect(A),A.disconnect(Z.inputs===void 0?Z:Z.inputs[0]),A.disconnect(X.inputs===void 0?X:X.inputs[0]),A.disconnect(pe.inputs===void 0?pe:pe.inputs[0]),A.disconnect(he.inputs===void 0?he:he.inputs[0]),Z.disconnect(V.gain),X.disconnect(G.gain),pe.disconnect(fe.gain),he.disconnect(Se.gain),V.disconnect(w,0,0),fe.disconnect(w,0,0),G.disconnect(w,0,1),Se.disconnect(w,0,1)}}},E=(b,N,A,w,T)=>{if(N===1)return g(b,A,w,T);if(N===2)return _(b,A,w,T);throw o()};return(b,{channelCount:N,channelCountMode:A,pan:w,...T})=>{if(A==="max")throw o();const I=t(b,{...T,channelCount:1,channelCountMode:A,numberOfInputs:2}),R=n(b,{...T,channelCount:N,channelCountMode:A,gain:1}),P=n(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:w});let{connectGraph:L,disconnectGraph:z}=E(b,N,R,P,I);Object.defineProperty(P.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"maxValue",{get:()=>1}),Object.defineProperty(P.gain,"minValue",{get:()=>-1});const V={get bufferSize(){},get channelCount(){return R.channelCount},set channelCount(ee){R.channelCount!==ee&&(Z&&z(),{connectGraph:L,disconnectGraph:z}=E(b,ee,R,P,I),Z&&L()),R.channelCount=ee},get channelCountMode(){return R.channelCountMode},set channelCountMode(ee){if(ee==="clamped-max"||ee==="max")throw o();R.channelCountMode=ee},get channelInterpretation(){return R.channelInterpretation},set channelInterpretation(ee){R.channelInterpretation=ee},get context(){return R.context},get inputs(){return[R]},get numberOfInputs(){return R.numberOfInputs},get numberOfOutputs(){return R.numberOfOutputs},get pan(){return P.gain},addEventListener(...ee){return R.addEventListener(ee[0],ee[1],ee[2])},dispatchEvent(...ee){return R.dispatchEvent(ee[0])},removeEventListener(...ee){return R.removeEventListener(ee[0],ee[1],ee[2])}};let Z=!1;const G=()=>{L(),Z=!0},X=()=>{z(),Z=!1};return i(Ii(V,I),G,X)}},hx=(t,e,n,r,o,i,a)=>(l,c)=>{const h=l.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&l.createGain().gain.automationRate===void 0)return n(l,c);Nt(h,c);const d=c.curve===null||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(d!==null&&d.length<2)throw e();at(h,{curve:d},"curve"),at(h,c,"oversample");let g=null,_=!1;return a(h,"curve",N=>()=>N.call(h),N=>A=>(N.call(h,A),_&&(r(A)&&g===null?g=t(l,h):!r(A)&&g!==null&&(g(),g=null)),A)),o(h,()=>{_=!0,r(h.curve)&&(g=t(l,h))},()=>{_=!1,g!==null&&(g(),g=null)})},dx=(t,e,n,r,o)=>(i,{curve:a,oversample:l,...c})=>{const h=i.createWaveShaper(),d=i.createWaveShaper();Nt(h,c),Nt(d,c);const g=n(i,{...c,gain:1}),_=n(i,{...c,gain:-1}),E=n(i,{...c,gain:1}),b=n(i,{...c,gain:-1});let N=null,A=!1,w=null;const T={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(P){g.channelCount=P,_.channelCount=P,h.channelCount=P,E.channelCount=P,d.channelCount=P,b.channelCount=P},get channelCountMode(){return h.channelCountMode},set channelCountMode(P){g.channelCountMode=P,_.channelCountMode=P,h.channelCountMode=P,E.channelCountMode=P,d.channelCountMode=P,b.channelCountMode=P},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(P){g.channelInterpretation=P,_.channelInterpretation=P,h.channelInterpretation=P,E.channelInterpretation=P,d.channelInterpretation=P,b.channelInterpretation=P},get context(){return h.context},get curve(){return w},set curve(P){if(P!==null&&P.length<2)throw e();if(P===null)h.curve=P,d.curve=P;else{const L=P.length,z=new Float32Array(L+2-L%2),V=new Float32Array(L+2-L%2);z[0]=P[0],V[0]=-P[L-1];const Z=Math.ceil((L+1)/2),G=(L+1)/2-1;for(let X=1;X<Z;X+=1){const ee=X/Z*G,fe=Math.floor(ee),pe=Math.ceil(ee);z[X]=fe===pe?P[fe]:(1-(ee-fe))*P[fe]+(1-(pe-ee))*P[pe],V[X]=fe===pe?-P[L-1-fe]:-((1-(ee-fe))*P[L-1-fe])-(1-(pe-ee))*P[L-1-pe]}z[Z]=L%2===1?P[Z-1]:(P[Z-2]+P[Z-1])/2,h.curve=z,d.curve=V}w=P,A&&(r(w)&&N===null?N=t(i,g):N!==null&&(N(),N=null))},get inputs(){return[g]},get numberOfInputs(){return h.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get oversample(){return h.oversample},set oversample(P){h.oversample=P,d.oversample=P},addEventListener(...P){return g.addEventListener(P[0],P[1],P[2])},dispatchEvent(...P){return g.dispatchEvent(P[0])},removeEventListener(...P){return g.removeEventListener(P[0],P[1],P[2])}};a!==null&&(T.curve=a instanceof Float32Array?a:new Float32Array(a)),l!==T.oversample&&(T.oversample=l);const I=()=>{g.connect(h).connect(E),g.connect(_).connect(d).connect(b).connect(E),A=!0,r(w)&&(N=t(i,g))},R=()=>{g.disconnect(h),h.disconnect(E),g.disconnect(_),_.disconnect(d),d.disconnect(b),b.disconnect(E),A=!1,N!==null&&(N(),N=null)};return o(Ii(T,E),I,R)},nn=()=>new DOMException("","NotSupportedError"),fx={numberOfChannels:1},px=(t,e,n,r,o)=>class extends t{constructor(a,l,c){let h;if(typeof a=="number"&&l!==void 0&&c!==void 0)h={length:l,numberOfChannels:a,sampleRate:c};else if(typeof a=="object")h=a;else throw new Error("The given parameters are not valid.");const{length:d,numberOfChannels:g,sampleRate:_}={...fx,...h},E=r(g,d,_);e(Is,()=>Is(E))||E.addEventListener("statechange",(()=>{let b=0;const N=A=>{this._state==="running"&&(b>0?(E.removeEventListener("statechange",N),A.stopImmediatePropagation(),this._waitForThePromiseToSettle(A)):b+=1)};return N})()),super(E,g),this._length=d,this._nativeOfflineAudioContext=E,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,py(this)}))}_waitForThePromiseToSettle(a){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(a):setTimeout(()=>this._waitForThePromiseToSettle(a))}},mx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},gx=(t,e,n,r,o,i,a)=>class extends t{constructor(c,h){const d=o(c),g={...mx,...h},_=n(d,g),E=i(d),b=E?r():null,N=c.sampleRate/2;super(c,!1,_,b),this._detune=e(this,E,_.detune,153600,-153600),this._frequency=e(this,E,_.frequency,N,-N),this._nativeOscillatorNode=_,this._onended=null,this._oscillatorNodeRenderer=b,this._oscillatorNodeRenderer!==null&&g.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=g.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(c){const h=typeof c=="function"?a(this,c):null;this._nativeOscillatorNode.onended=h;const d=this._nativeOscillatorNode.onended;this._onended=d!==null&&d===h?c:d}get type(){return this._nativeOscillatorNode.type}set type(c){this._nativeOscillatorNode.type=c,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(c){this._nativeOscillatorNode.setPeriodicWave(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=c)}start(c=0){if(this._nativeOscillatorNode.start(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=c),this.context.state!=="closed"){vi(this);const h=()=>{this._nativeOscillatorNode.removeEventListener("ended",h),mr(this)&&Vs(this)};this._nativeOscillatorNode.addEventListener("ended",h)}}stop(c=0){this._nativeOscillatorNode.stop(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=c)}},yx=(t,e,n,r,o)=>()=>{const i=new WeakMap;let a=null,l=null,c=null;const h=async(d,g)=>{let _=n(d);const E=$t(_,g);if(!E){const b={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,detune:_.detune.value,frequency:_.frequency.value,periodicWave:a===null?void 0:a,type:_.type};_=e(g,b),l!==null&&_.start(l),c!==null&&_.stop(c)}return i.set(g,_),E?(await t(g,d.detune,_.detune),await t(g,d.frequency,_.frequency)):(await r(g,d.detune,_.detune),await r(g,d.frequency,_.frequency)),await o(d,g,_),_};return{set periodicWave(d){a=d},set start(d){l=d},set stop(d){c=d},render(d,g){const _=i.get(g);return _!==void 0?Promise.resolve(_):h(d,g)}}},vx={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},_x=(t,e,n,r,o,i,a)=>class extends t{constructor(c,h){const d=o(c),g={...vx,...h},_=n(d,g),E=i(d),b=E?r():null;super(c,!1,_,b),this._nativePannerNode=_,this._orientationX=e(this,E,_.orientationX,Yt,on),this._orientationY=e(this,E,_.orientationY,Yt,on),this._orientationZ=e(this,E,_.orientationZ,Yt,on),this._positionX=e(this,E,_.positionX,Yt,on),this._positionY=e(this,E,_.positionY,Yt,on),this._positionZ=e(this,E,_.positionZ,Yt,on),a(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(c){this._nativePannerNode.coneInnerAngle=c}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(c){this._nativePannerNode.coneOuterAngle=c}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(c){this._nativePannerNode.coneOuterGain=c}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(c){this._nativePannerNode.distanceModel=c}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(c){this._nativePannerNode.maxDistance=c}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(c){this._nativePannerNode.panningModel=c}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(c){this._nativePannerNode.refDistance=c}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(c){this._nativePannerNode.rolloffFactor=c}},wx=(t,e,n,r,o,i,a,l,c,h)=>()=>{const d=new WeakMap;let g=null;const _=async(E,b)=>{let N=null,A=i(E);const w={channelCount:A.channelCount,channelCountMode:A.channelCountMode,channelInterpretation:A.channelInterpretation},T={...w,coneInnerAngle:A.coneInnerAngle,coneOuterAngle:A.coneOuterAngle,coneOuterGain:A.coneOuterGain,distanceModel:A.distanceModel,maxDistance:A.maxDistance,panningModel:A.panningModel,refDistance:A.refDistance,rolloffFactor:A.rolloffFactor},I=$t(A,b);if("bufferSize"in A)N=r(b,{...w,gain:1});else if(!I){const R={...T,orientationX:A.orientationX.value,orientationY:A.orientationY.value,orientationZ:A.orientationZ.value,positionX:A.positionX.value,positionY:A.positionY.value,positionZ:A.positionZ.value};A=o(b,R)}if(d.set(b,N===null?A:N),N!==null){if(g===null){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const X=new a(6,E.context.length,b.sampleRate),ee=e(X,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});ee.connect(X.destination),g=(async()=>{const fe=await Promise.all([E.orientationX,E.orientationY,E.orientationZ,E.positionX,E.positionY,E.positionZ].map(async(pe,Se)=>{const he=n(X,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Se===0?1:0});return await l(X,pe,he.offset),he}));for(let pe=0;pe<6;pe+=1)fe[pe].connect(ee,0,pe),fe[pe].start(0);return h(X)})()}const R=await g,P=r(b,{...w,gain:1});await c(E,b,P);const L=[];for(let X=0;X<R.numberOfChannels;X+=1)L.push(R.getChannelData(X));let z=[L[0][0],L[1][0],L[2][0]],V=[L[3][0],L[4][0],L[5][0]],Z=r(b,{...w,gain:1}),G=o(b,{...T,orientationX:z[0],orientationY:z[1],orientationZ:z[2],positionX:V[0],positionY:V[1],positionZ:V[2]});P.connect(Z).connect(G.inputs[0]),G.connect(N);for(let X=128;X<R.length;X+=128){const ee=[L[0][X],L[1][X],L[2][X]],fe=[L[3][X],L[4][X],L[5][X]];if(ee.some((pe,Se)=>pe!==z[Se])||fe.some((pe,Se)=>pe!==V[Se])){z=ee,V=fe;const pe=X/b.sampleRate;Z.gain.setValueAtTime(0,pe),Z=r(b,{...w,gain:0}),G=o(b,{...T,orientationX:z[0],orientationY:z[1],orientationZ:z[2],positionX:V[0],positionY:V[1],positionZ:V[2]}),Z.gain.setValueAtTime(1,pe),P.connect(Z).connect(G.inputs[0]),G.connect(N)}}return N}return I?(await t(b,E.orientationX,A.orientationX),await t(b,E.orientationY,A.orientationY),await t(b,E.orientationZ,A.orientationZ),await t(b,E.positionX,A.positionX),await t(b,E.positionY,A.positionY),await t(b,E.positionZ,A.positionZ)):(await l(b,E.orientationX,A.orientationX),await l(b,E.orientationY,A.orientationY),await l(b,E.orientationZ,A.orientationZ),await l(b,E.positionX,A.positionX),await l(b,E.positionY,A.positionY),await l(b,E.positionZ,A.positionZ)),Ai(A)?await c(E,b,A.inputs[0]):await c(E,b,A),A};return{render(E,b){const N=d.get(b);return N!==void 0?Promise.resolve(N):_(E,b)}}},Sx={disableNormalization:!1},kx=(t,e,n,r)=>class Cy{constructor(i,a){const l=e(i),c=r({...Sx,...a}),h=t(l,c);return n.add(h),h}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===Cy.prototype||n.has(i)}},xx=(t,e)=>(n,r,o)=>(t(r).replay(o),e(r,n,o)),Cx=(t,e,n)=>async(r,o,i)=>{const a=t(r);await Promise.all(a.activeInputs.map((l,c)=>Array.from(l).map(async([h,d])=>{const _=await e(h).render(h,o),E=r.context.destination;!n(h)&&(r!==E||!n(r))&&_.connect(i,d,c)})).reduce((l,c)=>[...l,...c],[]))},Tx=(t,e,n)=>async(r,o,i)=>{const a=e(r);await Promise.all(Array.from(a.activeInputs).map(async([l,c])=>{const d=await t(l).render(l,o);n(l)||d.connect(i,c)}))},Ex=(t,e,n,r)=>o=>t(Is,()=>Is(o))?Promise.resolve(t(r,r)).then(i=>{if(!i){const a=n(o,512,0,1);o.oncomplete=()=>{a.onaudioprocess=null,a.disconnect()},a.onaudioprocess=()=>o.currentTime,a.connect(o.destination)}return o.startRendering()}):new Promise(i=>{const a=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=l=>{a.disconnect(),i(l.renderedBuffer)},a.connect(o.destination),o.startRendering()}),bx=t=>(e,n)=>{t.set(e,n)},Nx=t=>(e,n)=>t.set(e,n),Ox=(t,e,n,r,o,i,a,l)=>(c,h)=>n(c).render(c,h).then(()=>Promise.all(Array.from(r(h)).map(d=>n(d).render(d,h)))).then(()=>o(h)).then(d=>(typeof d.copyFromChannel!="function"?(a(d),Qh(d)):e(i,()=>i(d))||l(d),t.add(d),d)),Ax={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Ix=(t,e,n,r,o,i)=>class extends t{constructor(l,c){const h=o(l),d={...Ax,...c},g=n(h,d),_=i(h),E=_?r():null;super(l,!1,g,E),this._pan=e(this,_,g.pan)}get pan(){return this._pan}},Px=(t,e,n,r,o)=>()=>{const i=new WeakMap,a=async(l,c)=>{let h=n(l);const d=$t(h,c);if(!d){const g={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,pan:h.pan.value};h=e(c,g)}return i.set(c,h),d?await t(c,l.pan,h.pan):await r(c,l.pan,h.pan),Ai(h)?await o(l,c,h.inputs[0]):await o(l,c,h),h};return{render(l,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):a(l,c)}}},Dx=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},Mx=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),o=URL.createObjectURL(n);let i=!1,a=!1;try{await r.audioWorklet.addModule(o);const l=new t(r,"a",{numberOfOutputs:0}),c=r.createOscillator();l.port.onmessage=()=>i=!0,l.onprocessorerror=()=>a=!0,c.connect(l),c.start(0),await r.startRendering(),await new Promise(h=>setTimeout(h))}catch{}finally{URL.revokeObjectURL(o)}return i&&!a},Rx=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{n.oncomplete=()=>{r.disconnect(),o(n.currentTime!==0)},n.startRendering()})},jx=()=>new DOMException("","UnknownError"),Fx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},Lx=(t,e,n,r,o,i,a)=>class extends t{constructor(c,h){const d=o(c),g={...Fx,...h},_=n(d,g),b=i(d)?r():null;super(c,!0,_,b),this._isCurveNullified=!1,this._nativeWaveShaperNode=_,a(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(c){if(c===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(c.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=c}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(c){this._nativeWaveShaperNode.oversample=c}},Kx=(t,e,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let l=e(i);if(!$t(l,a)){const h={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,curve:l.curve,oversample:l.oversample};l=t(a,h)}return r.set(a,l),Ai(l)?await n(i,a,l.inputs[0]):await n(i,a,l),l};return{render(i,a){const l=r.get(a);return l!==void 0?Promise.resolve(l):o(i,a)}}},Vx=()=>typeof window>"u"?null:window,Bx=(t,e)=>n=>{n.copyFromChannel=(r,o,i=0)=>{const a=t(i),l=t(o);if(l>=n.numberOfChannels)throw e();const c=n.length,h=n.getChannelData(l),d=r.length;for(let g=a<0?-a:0;g+a<c&&g<d;g+=1)r[g]=h[g+a]},n.copyToChannel=(r,o,i=0)=>{const a=t(i),l=t(o);if(l>=n.numberOfChannels)throw e();const c=n.length,h=n.getChannelData(l),d=r.length;for(let g=a<0?-a:0;g+a<c&&g<d;g+=1)h[g+a]=r[g]}},zx=t=>e=>{e.copyFromChannel=(n=>(r,o,i=0)=>{const a=t(i),l=t(o);if(a<e.length)return n.call(e,r,l,a)})(e.copyFromChannel),e.copyToChannel=(n=>(r,o,i=0)=>{const a=t(i),l=t(o);if(a<e.length)return n.call(e,r,l,a)})(e.copyToChannel)},Ux=t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",o=>()=>{const i=o.call(e);return i===r?null:i},o=>i=>o.call(e,i===null?r:i))},Wx=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const o=n.createBufferSource();e(r,()=>{const l=r.numberOfInputs;for(let c=0;c<l;c+=1)o.connect(r,0,c)},()=>o.disconnect(r))},Ty=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),Ey=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},$s=(t,e,n,r)=>{let o=t;for(;!o.hasOwnProperty(e);)o=Object.getPrototypeOf(o);const{get:i,set:a}=Object.getOwnPropertyDescriptor(o,e);Object.defineProperty(t,e,{get:n(i),set:r(a)})},$x=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),qx=t=>({...t,channelCount:t.numberOfOutputs}),Hx=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},by=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;by(t,e,n+1e-7)}},Gx=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},Qx=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},Yx=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},ed=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},Ny=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},td=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},Xx=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},Zx=t=>{t.start=(e=>(n=0,r=0,o)=>{const i=t.buffer,a=i===null?r:Math.min(i.duration,r);i!==null&&a>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,a,o)})(t.start)},Oy=(t,e)=>{const n=e.createGain();t.connect(n);const r=(o=>()=>{o.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),Ii(t,n),t.stop=(o=>{let i=!1;return(a=0)=>{if(i)try{o.call(t,a)}catch{n.gain.setValueAtTime(0,a)}else o.call(t,a),i=!0}})(t.stop)},Pi=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},Jx=_w(Io),eC=Tw(Io),tC=FS(Bl),Ay=new WeakMap,nC=tk(Ay),Hn=fS(new Map,new WeakMap),nr=Vx(),Iy=Ik(Hn,rr),nd=ek(Xt),Kt=Cx(Xt,nd,Eo),rC=Aw(Iy,it,Kt),et=ok(Vl),xr=ox(nr),Xe=Sk(xr),Py=new WeakMap,Dy=HS(Pi),qs=Rk(nr),rd=yk(qs),od=vk(nr),My=_k(nr),Ps=Fk(nr),_t=tS(ww(ay),Cw(Jx,eC,pl,tC,ml,Xt,nC,Ks,it,Io,mr,Eo,Ra),Hn,dk(Lu,ml,Xt,it,As,mr),rr,zl,nn,DS(pl,Lu,Xt,it,As,et,mr,Xe),VS(Py,Xt,qn),Dy,et,rd,od,My,Xe,Ps),oC=Ow(_t,rC,rr,Iy,et,Xe),id=new WeakSet,xp=Pk(nr),Ry=ES(new Uint32Array(1)),sd=Bx(Ry,rr),ad=zx(Ry),jy=Pw(id,Hn,nn,xp,xr,Dx(xp),sd,ad),Ul=Ew(hn),Fy=Tx(nd,Bs,Eo),or=wS(Fy),Di=Mk(Ul,Hn,Gx,Qx,Yx,ed,Ny,td,Zx,Ux($s),Oy),ir=xx(nk(Bs),Fy),iC=Rw(or,Di,it,ir,Kt),Gn=nS(Sw(ly),Py,Gh,rS,fw,pw,mw,gw,yw,Ru,iy,qs,by),sC=Mw(_t,iC,Gn,Pt,Di,et,Xe,Pi),aC=Ww(_t,$w,rr,Pt,jk(hn,$s),et,Xe,Kt),lC=dS(or,ky,it,ir,Kt),Po=Nx(Ay),cC=hS(_t,Gn,lC,zl,ky,et,Xe,Po),io=Ok(Io,od),uC=Wx(Pt,io),so=Wk(qs,uC),hC=gS(so,it,Kt),dC=mS(_t,hC,so,et,Xe),fC=_S(Us,it,Kt),pC=vS(_t,fC,Us,et,Xe,qx),mC=Hk(Ul,Di,hn,io),Mi=qk(Ul,Hn,mC,ed,td),gC=TS(or,Mi,it,ir,Kt),yC=CS(_t,Gn,gC,Mi,et,Xe,Pi),Ly=Gk(nn,$s),vC=OS(Ly,it,Kt),_C=NS(_t,vC,Ly,et,Xe,Po),wC=jS(or,xy,it,ir,Kt),SC=RS(_t,Gn,wC,xy,et,Xe,Po),Ky=Qk(nn),kC=WS(or,Ky,it,ir,Kt),xC=US(_t,Gn,kC,Ky,nn,et,Xe,Po),CC=ZS(or,hn,it,ir,Kt),TC=XS(_t,Gn,CC,hn,et,Xe),EC=Jk(zl,Pt,Ws,nn),Wl=Ex(Hn,hn,Ws,Rx(hn,xr)),bC=hk(Di,it,xr,Kt,Wl),NC=Yk(EC),OC=ck(_t,NC,bC,et,Xe,Po),AC=qw(Gn,so,Mi,Ws,nn,Ty,Xe,$s),Vy=new WeakMap,IC=Nk(aC,AC,Dy,Xe,Vy,Pi),By=ix(Ul,Hn,ed,Ny,td,Oy),PC=yx(or,By,it,ir,Kt),DC=gx(_t,Gn,By,PC,et,Xe,Pi),zy=kS(Di),MC=dx(zy,Pt,hn,Ey,io),$l=hx(zy,Pt,MC,Ey,io,qs,$s),RC=ax(pl,Pt,so,hn,Ws,$l,nn,ml,Ty,io),Uy=sx(RC),jC=wx(or,so,Mi,hn,Uy,it,xr,ir,Kt,Wl),FC=_x(_t,Gn,Uy,jC,et,Xe,Po),LC=lx(rr),KC=kx(LC,et,new WeakSet,Hx),VC=ux(so,Us,hn,$l,nn,io),Wy=cx(VC,nn),BC=Px(or,Wy,it,ir,Kt),zC=Ix(_t,Gn,Wy,BC,et,Xe),UC=Kx($l,it,Kt),WC=Lx(_t,Pt,$l,UC,et,Xe,Po),$y=kk(nr),ld=GS(nr),qy=new WeakMap,$C=ik(qy,xr),qC=$y?xw(Hn,nn,qS(nr),ld,QS(vw),et,$C,Xe,Ps,new WeakMap,new WeakMap,Mx(Ps,xr),nr):void 0,HC=wk(rd,Xe),GC=PS(id,Hn,IS,$S,new WeakSet,et,HC,dl,Is,sd,ad),Hy=cS(qC,oC,jy,sC,cC,dC,pC,yC,_C,GC,SC,xC,TC,OC,IC,DC,FC,KC,zC,WC),QC=xk(_t,ex,et,Xe),YC=Tk(_t,tx,et,Xe),XC=Ek(_t,nx,et,Xe),ZC=rx(Pt,Xe),JC=bk(_t,ZC,et),eT=Uw(Hy,Pt,nn,jx,QC,YC,XC,JC,qs),cd=sk(Vy),tT=bw(cd),Gy=SS(rr),nT=LS(cd),Qy=BS(rr),Yy=new WeakMap,rT=JS(Yy,qn),oT=Uk(Gy,rr,Pt,so,Us,Mi,hn,Ws,nn,Qy,ld,rT,io),iT=Kk(Pt,oT,hn,nn,io),sT=lS(or,Gy,Di,so,Us,Mi,hn,nT,Qy,ld,it,Ps,xr,ir,Kt,Wl),aT=rk(qy),lT=bx(Yy),Cp=$y?iS(tT,_t,Gn,sT,iT,Xt,aT,et,Xe,Ps,$x,lT,Xx,Pi):void 0,cT=AS(nn,xr),uT=Ox(id,Hn,nd,cd,Wl,dl,sd,ad),hT=px(Hy,Hn,Pt,cT,uT),dT=fk(Vl,rd),fT=pk(Hh,od),pT=mk(Gh,My),mT=gk(Vl,Xe);function On(t){return t===void 0}function ze(t){return t!==void 0}function gT(t){return typeof t=="function"}function bo(t){return typeof t=="number"}function wo(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function yT(t){return typeof t=="boolean"}function Wn(t){return Array.isArray(t)}function wr(t){return typeof t=="string"}function va(t){return wr(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function je(t,e){if(!t)throw new Error(e)}function Zr(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Xy(t){!t.isOffline&&t.state!=="running"&&ud('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Zy=!1,Tp=!1;function Ep(t){Zy=t}function vT(t){On(t)&&Zy&&!Tp&&(Tp=!0,ud("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Jy=console;function _T(...t){Jy.log(...t)}function ud(...t){Jy.warn(...t)}function wT(t){return new eT(t)}function ST(t,e,n){return new hT(t,e,n)}const gn=typeof self=="object"?self:null,kT=gn&&(gn.hasOwnProperty("AudioContext")||gn.hasOwnProperty("webkitAudioContext"));function xT(t,e,n){return je(ze(Cp),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof(gn==null?void 0:gn.BaseAudioContext)?gn==null?void 0:gn.AudioWorkletNode:Cp)(t,e,n)}function Qn(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i}function Ct(t,e,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{h(r.next(d))}catch(g){a(g)}}function c(d){try{h(r.throw(d))}catch(g){a(g)}}function h(d){d.done?i(d.value):o(d.value).then(l,c)}h((r=r.apply(t,e||[])).next())})}class CT{constructor(e,n,r,o){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(o||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function No(t){return pT(t)}function Qr(t){return fT(t)}function ja(t){return mT(t)}function Vo(t){return dT(t)}function TT(t){return t instanceof jy}function ET(t,e){return t==="value"||No(e)||Qr(e)||TT(e)}function li(t,...e){if(!e.length)return t;const n=e.shift();if(wo(t)&&wo(n))for(const r in n)ET(r,n[r])?t[r]=n[r]:wo(n[r])?(t[r]||Object.assign(t,{[r]:{}}),li(t[r],n[r])):Object.assign(t,{[r]:n[r]});return li(t,...e)}function bT(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function Me(t,e,n=[],r){const o={},i=Array.from(e);if(wo(i[0])&&r&&!Reflect.has(i[0],r)&&(Object.keys(i[0]).some(l=>Reflect.has(t,l))||(li(o,{[r]:i[0]}),n.splice(n.indexOf(r),1),i.shift())),i.length===1&&wo(i[0]))li(o,i[0]);else for(let a=0;a<n.length;a++)ze(i[a])&&(o[n[a]]=i[a]);return li(t,o)}function NT(t){return t.constructor.getDefaults()}function ci(t,e){return On(t)?e:t}function bp(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Cr{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||gn&&this.toString()===gn.TONE_DEBUG_CLASS)&&_T(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Cr.version=oy;const hd=1e-6;function _i(t,e){return t>e+hd}function Uu(t,e){return _i(t,e)||Vn(t,e)}function _l(t,e){return t+hd<e}function Vn(t,e){return Math.abs(t-e)<hd}function OT(t,e,n){return Math.max(Math.min(t,n),e)}class An extends Cr{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Me(An.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(je(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];je(Uu(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Vn(this._timeline[n].time,e)){for(let r=n;r>=0&&Vn(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Uu(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0;const o=this._timeline.length;let i=o;if(o>0&&this._timeline[o-1][n]<=e)return o-1;for(;r<i;){let a=Math.floor(r+(i-r)/2);const l=this._timeline[a],c=this._timeline[a+1];if(Vn(l[n],e)){for(let h=a;h<this._timeline.length;h++){const d=this._timeline[h];if(Vn(d[n],e))a=h;else break}return a}else{if(_l(l[n],e)&&_i(c[n],e))return a;_i(l[n],e)?i=a:r=a+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){const r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let o=this._search(e),i=this._search(n);return o!==-1&&i!==-1?(this._timeline[o].time!==e&&(o+=1),this._timeline[i].time===n&&(i-=1),this._iterate(r,o,i)):o===-1&&this._iterate(r,0,i),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){const r=this._search(e);if(r!==-1&&Vn(this._timeline[r].time,e)){let o=r;for(let i=r;i>=0&&Vn(this._timeline[i].time,e);i--)o=i;this._iterate(i=>{n(i)},o,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const ev=[];function ql(t){ev.push(t)}function AT(t){ev.forEach(e=>e(t))}const tv=[];function Hl(t){tv.push(t)}function IT(t){tv.forEach(e=>e(t))}class Hs extends Cr{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(o=>{On(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(n)}),this}once(e,n){const r=(...o)=>{n(...o),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(o=>{if(On(this._events)&&(this._events={}),this._events.hasOwnProperty(o))if(On(n))this._events[o]=[];else{const i=this._events[o];for(let a=i.length-1;a>=0;a--)i[a]===n&&i.splice(a,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let o=0,i=r.length;o<i;o++)r[o].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const r=Object.getOwnPropertyDescriptor(Hs.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class nv extends Hs{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Gs extends nv{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new An,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=Me(Gs.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=wT({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new CT(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(AT(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return je(Vo(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return je(Vo(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return je(Vo(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){je(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){je(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){je(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){je(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return xT(this.rawContext,e,n)}addAudioWorkletModule(e){return Ct(this,void 0,void 0,function*(){je(ze(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Ct(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Vo(this._context)?this._context.resume():Promise.resolve()}close(){return Ct(this,void 0,void 0,function*(){Vo(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&IT(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let i=0;i<r.length;i++)r[i]=e;const o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=n,o.loop=!0,o.start(0),this._constants.set(e,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const r=++this._timeoutIds,o=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),o()},id:r,time:i+n})};return o(),r}}class PT extends nv{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Ct(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function gt(t,e){Wn(e)?e.forEach(n=>gt(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function rv(t,e){Wn(e)?e.forEach(n=>rv(t,n)):Object.defineProperty(t,e,{writable:!0})}const Ye=()=>{};class rt extends Cr{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Ye;const e=Me(rt.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,wr(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Ye,onload:Ye,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Zt().sampleRate}set(e){return e instanceof rt?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Ct(this,void 0,void 0,function*(){const n=rt.load(e).then(r=>{this.set(r),this.onload(this)});rt.downloads.push(n);try{yield n}finally{const r=rt.downloads.indexOf(n);rt.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=Wn(e)&&e[0].length>0,r=n?e.length:1,o=n?e[0].length:e.length,i=Zt(),a=i.createBuffer(r,o,i.sampleRate),l=!n&&r===1?[e]:e;for(let c=0;c<r;c++)a.copyToChannel(l[c],c);return this._buffer=a,this}toMono(e){if(bo(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const r=this.numberOfChannels;for(let o=0;o<r;o++){const i=this.toArray(o);for(let a=0;a<i.length;a++)n[a]+=i[a]}n=n.map(o=>o/r),this.fromArray(n)}return this}toArray(e){if(bo(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let r=0;r<this.numberOfChannels;r++)n[r]=this.getChannelData(r);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){je(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),o=Math.floor(n*this.sampleRate);je(r<o,"The start time must be less than the end time");const i=o-r,a=Zt().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let l=0;l<this.numberOfChannels;l++)a.copyToChannel(this.getChannelData(l).subarray(r,o),l);return new rt(a)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new rt().fromArray(e)}static fromUrl(e){return Ct(this,void 0,void 0,function*(){return yield new rt().load(e)})}static load(e){return Ct(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const c=n[1].split("|");let h=c[0];for(const d of c)if(rt.supportsType(d)){h=d;break}e=e.replace(n[0],h)}const r=rt.baseUrl===""||rt.baseUrl.endsWith("/")?rt.baseUrl:rt.baseUrl+"/",o=document.createElement("a");o.href=r+e,o.pathname=(o.pathname+o.hash).split("/").map(encodeURIComponent).join("/");const i=yield fetch(o.href);if(!i.ok)throw new Error(`could not load url: ${e}`);const a=yield i.arrayBuffer();return yield Zt().decodeAudioData(a)})}static supportsType(e){const n=e.split("."),r=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return Ct(this,void 0,void 0,function*(){for(yield Promise.resolve();rt.downloads.length;)yield rt.downloads[0]})}}rt.baseUrl="";rt.downloads=[];class dd extends Gs{constructor(){super({clockSource:"offline",context:ja(arguments[0])?arguments[0]:ST(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:ja(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=ja(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Ct(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(){return Ct(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new rt(n)})}close(){return Promise.resolve()}}const ov=new PT;let yo=ov;function Zt(){return yo===ov&&kT&&DT(new Gs),yo}function DT(t,e=!1){e&&yo.dispose(),Vo(t)?yo=new Gs(t):ja(t)?yo=new dd(t):yo=t}function MT(){return yo.resume()}if(gn&&!gn.TONE_SILENCE_LOGGING){const e=` * Tone.js v${oy} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function RT(t){return Math.pow(10,t/20)}function jT(t){return 20*(Math.log(t)/Math.LN10)}function iv(t){return Math.pow(2,t/12)}let Gl=440;function FT(){return Gl}function LT(t){Gl=t}function Wu(t){return Math.round(sv(t))}function sv(t){return 69+12*Math.log2(t/Gl)}function KT(t){return Gl*Math.pow(2,(t-69)/12)}class fd extends Cr{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const r=parseInt(e,10),o=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/r)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let o=0;return e&&e!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(o+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(o+=this._beatsToUnits(parseFloat(r)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof fd&&this.fromType(this._val),On(this._val))return this._noArg();if(wr(this._val)&&On(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(wo(this._val)){let e=0;for(const n in this._val)if(ze(this._val[n])){const r=this._val[n],o=new this.constructor(this.context,n).valueOf()*r;e+=o}return e}if(ze(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return wr(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Bn extends fd{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new Bn(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const r=new this.constructor(this.context,e).valueOf(),o=this.valueOf(),l=Math.round(o/r)*r-o;return o+l*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const a=Math.pow(2,i);n.push(a+"n."),n.push(a+"n"),n.push(a+"t")}n.push("0");let r=n[0],o=new Bn(this.context,n[0]).toSeconds();return n.forEach(i=>{const a=new Bn(this.context,i).toSeconds();Math.abs(a-e)<Math.abs(o-e)&&(r=i,o=a)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const r=Math.floor(n/this._getTimeSignature());let o=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=o.toString();return i.length>3&&(o=parseFloat(parseFloat(i).toFixed(3))),[r,n,o].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Wu(this.toFrequency())}_now(){return this.context.now()}}class bn extends Bn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return FT()}static set A4(e){LT(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:bn.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const o=VT[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?o:bn.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let o=1;return e&&e!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(o*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(o*=this._beatsToUnits(parseFloat(r)/4)),o}}})}transpose(e){return new bn(this.context,this.valueOf()*iv(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return Wu(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/bn.A4);let r=Math.round(12*n)+57;const o=Math.floor(r/12);return o<0&&(r+=-12*o),BT[r%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return KT(e)}static ftom(e){return Wu(e)}}const VT={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},BT=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class us extends Bn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class un extends Cr{constructor(){super();const e=Me(un.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Zt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return vT(e),new Bn(this.context,e).toSeconds()}toFrequency(e){return new bn(this.context,e).toFrequency()}toTicks(e){return new us(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(r=>{On(e[r])&&delete n[r]}),n}get(){const e=NT(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const r=this[n];ze(r)&&ze(r.value)&&ze(r.setValueAtTime)?e[n]=r.value:r instanceof un?e[n]=r._getPartialProperties(e[n]):Wn(r)||bo(r)||wr(r)||yT(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&ze(this[n])&&(this[n]&&ze(this[n].value)&&ze(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof un?this[n].set(e[n]):this[n]=e[n])}),this}}class pd extends An{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return Zr(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){const r=this._search(n);for(let o=r;o>=0;o--){const i=this._timeline[o];if(i.state===e)return i}}getNextState(e,n){const r=this._search(n);if(r!==-1)for(let o=r;o<this._timeline.length;o++){const i=this._timeline[o];if(i.state===e)return i}}}class ct extends un{constructor(){const e=Me(ct.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,je(ze(e.param)&&(No(e.param)||e.param instanceof ct),"param must be an AudioParam");!No(e.param);)e.param=e.param._param;this._swappable=ze(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new An(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,ze(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(un.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return ze(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return ze(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return ze(this.maxValue)&&ze(this.minValue)&&Zr(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?RT(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?jT(e):e}setValueAtTime(e,n){const r=this.toSeconds(n),o=this._fromType(e);return je(isFinite(o)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,r),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),o=this._events.get(n);let i=this._initialValue;if(o===null)i=this._initialValue;else if(o.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const a=this._events.getBefore(o.time);let l;a===null?l=this._initialValue:l=a.value,o.type==="setTargetAtTime"&&(i=this._exponentialApproach(o.time,l,o.value,o.constant,n))}else if(r===null)i=o.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let a=o.value;if(o.type==="setTargetAtTime"){const l=this._events.getBefore(o.time);l===null?a=this._initialValue:a=l.value}r.type==="linearRampToValueAtTime"?i=this._linearInterpolate(o.time,a,r.time,r.value,n):i=this._exponentialInterpolate(o.time,a,r.time,r.value,n)}else i=o.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const r=this._fromType(e),o=this.toSeconds(n);return je(isFinite(r)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:o,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,o),this._param.linearRampToValueAtTime(r,o),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=Vn(r,0)?this._minOutput:r,this._assertRange(r);const o=this.toSeconds(n);return je(isFinite(r)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,o),this._param.exponentialRampToValueAtTime(r,o),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);const o=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,o),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){const o=this._fromType(e);je(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(o),je(isFinite(o)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:i,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",e,i,r),this._param.setTargetAtTime(o,i,r),this}setValueCurveAtTime(e,n,r,o=1){r=this.toSeconds(r),n=this.toSeconds(n);const i=this._fromType(e[0])*o;this.setValueAtTime(this._toType(i),n);const a=r/(e.length-1);for(let l=1;l<e.length;l++){const c=this._fromType(e[l])*o;this.linearRampToValueAtTime(this._toType(c),n+l*a)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return je(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));je(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);const o=this._events.get(n),i=this._events.getAfter(n);return o&&Vn(o.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){const o=this._events.getAfter(r.time),i=o?o.time:n+2,a=(i-n)/10;for(let l=n;l<i;l+=a)e.linearRampToValueAtTime(this.getValueAtTime(l),l)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?e.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?e.setTargetAtTime(o.value,o.time,o.constant):e[o.type](o.value,o.time)}),this}setParam(e){je(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,o,i){return r+(n-r)*Math.exp(-(i-e)/o)}_linearInterpolate(e,n,r,o,i){return n+(o-n)*((i-e)/(r-e))}_exponentialInterpolate(e,n,r,o,i){return n*Math.pow(o/n,(i-e)/(r-e))}}class Ke extends un{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return ze(this.input)?No(this.input)||this.input instanceof ct?1:this.input.numberOfInputs:0}get numberOfOutputs(){return ze(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return ze(e)&&(e instanceof Ke||Qr(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();je(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return Ri(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return ud("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return zT(this,e,n,r),this}chain(...e){return $u(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),ze(this.input)&&(this.input instanceof Ke?this.input.dispose():Qr(this.input)&&this.input.disconnect()),ze(this.output)&&(this.output instanceof Ke?this.output.dispose():Qr(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function $u(...t){const e=t.shift();t.reduce((n,r)=>(n instanceof Ke?n.connect(r):Qr(n)&&Ri(n,r),r),e)}function Ri(t,e,n=0,r=0){for(je(ze(t),"Cannot connect from undefined node"),je(ze(e),"Cannot connect to undefined node"),(e instanceof Ke||Qr(e))&&je(e.numberOfInputs>0,"Cannot connect to node with no inputs"),je(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Ke||e instanceof ct;)ze(e.input)&&(e=e.input);for(;t instanceof Ke;)ze(t.output)&&(t=t.output);No(e)?t.connect(e,n):t.connect(e,n,r)}function zT(t,e,n=0,r=0){if(ze(e))for(;e instanceof Ke;)e=e.input;for(;!Qr(t);)ze(t.output)&&(t=t.output);No(e)?t.disconnect(e,n):Qr(e)?t.disconnect(e,n,r):t.disconnect()}class Ut extends Ke{constructor(){const e=Me(Ut.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new ct({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),gt(this,"gain")}static getDefaults(){return Object.assign(Ke.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class wi extends Ke{constructor(e){super(e),this.onended=Ye,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Ut({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Ke.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Ye})}_startGain(e,n=1){je(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){je(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Ye&&(this.onended(this),this.onended=Ye,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),je(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Ye,this}}class md extends wi{constructor(){const e=Me(md.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Ri(this._source,this._gainNode),this.offset=new ct({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(wi.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Dt extends Ke{constructor(){const e=Me(Dt.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new md({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Ke.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return gd(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,o){return this._param.setValueCurveAtTime(e,n,r,o),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function gd(t,e,n,r){(e instanceof ct||No(e)||e instanceof Dt&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Dt&&(e.overridden=!0)),Ri(t,e,n,r)}class yd extends ct{constructor(){const e=Me(yd.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new An(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ct.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);const o=this._fromType(e),i=this._events.get(n),a=Math.round(Math.max(1/r,1));for(let l=0;l<=a;l++){const c=r*l+n,h=this._exponentialApproach(i.time,i.value,o,r,c);this.linearRampToValueAtTime(this._toType(h),c)}return this}setValueAtTime(e,n){const r=this.toSeconds(n);super.setValueAtTime(e,n);const o=this._events.get(r),i=this._events.previousEvent(o),a=this._getTicksUntilEvent(i,r);return o.ticks=Math.max(a,0),this}linearRampToValueAtTime(e,n){const r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const o=this._events.get(r),i=this._events.previousEvent(o),a=this._getTicksUntilEvent(i,r);return o.ticks=Math.max(a,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const r=this._fromType(e),o=this._events.get(n),i=Math.round(Math.max((n-o.time)*10,1)),a=(n-o.time)/i;for(let l=0;l<=i;l++){const c=a*l+o.time,h=this._exponentialInterpolate(o.time,o.value,n,r,c);this.linearRampToValueAtTime(this._toType(h),c)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(On(e.ticks)){const a=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(a,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let o=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+o)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){const r=this.toSeconds(n),o=this.getTicksAtTime(n);return this.getTimeOfTick(o+e)-r}getTimeOfTick(e){const n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){const o=this._fromType(this.getValueAtTime(n.time)),a=(this._fromType(this.getValueAtTime(r.time))-o)/(r.time-n.time),l=Math.sqrt(Math.pow(o,2)-2*a*(n.ticks-e)),c=(-o+l)/a,h=(-o-l)/a;return(c>0?c:h)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const r=this.toSeconds(n),o=this.toSeconds(e),i=this.getTicksAtTime(r);return this.getTicksAtTime(r+o)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class vd extends Dt{constructor(){const e=Me(vd.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new yd({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Dt.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class _d extends un{constructor(){const e=Me(_d.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new pd,this._tickOffset=new An,this._ticksAtTime=new An,this._secondsAtTime=new An,this.frequency=new vd({context:this.context,units:e.units,value:e.frequency}),gt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},un.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),ze(n)&&this.setTicksAtTime(n,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),r=this._state.getLastState("stopped",n),o=this._ticksAtTime.get(n),i={state:"paused",time:n};this._state.add(i);let a=o||r,l=o?o.ticks:0,c=null;return this._state.forEachBetween(a.time,n+this.sampleTime,h=>{let d=a.time;const g=this._tickOffset.get(h.time);g&&g.time>=a.time&&(l=g.ticks,d=g.time),a.state==="started"&&h.state!=="started"&&(l+=this.frequency.getTicksAtTime(h.time)-this.frequency.getTicksAtTime(d),h.time!==i.time&&(c={state:h.state,time:h.time,ticks:l})),a=h}),this._state.remove(i),c&&this._ticksAtTime.add(c),l}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const o=this._secondsAtTime.get(e);let i=o||n,a=o?o.seconds:0,l=null;return this._state.forEachBetween(i.time,e+this.sampleTime,c=>{let h=i.time;const d=this._tickOffset.get(c.time);d&&d.time>=i.time&&(a=d.seconds,h=d.time),i.state==="started"&&c.state!=="started"&&(a+=c.time-h,c.time!==r.time&&(l={state:c.state,time:c.time,seconds:a})),i=c}),this._state.remove(r),l&&this._secondsAtTime.add(l),a}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const r=this._tickOffset.get(n),o=this._state.get(n),i=Math.max(r.time,o.time),a=this.frequency.getTicksAtTime(i)+e-r.ticks;return this.frequency.getTimeOfTick(a)}forEachTickBetween(e,n,r){let o=this._state.get(e);this._state.forEachBetween(e,n,a=>{o&&o.state==="started"&&a.state!=="started"&&this.forEachTickBetween(Math.max(o.time,e),a.time-this.sampleTime,r),o=a});let i=null;if(o&&o.state==="started"){const a=Math.max(o.time,e),l=this.frequency.getTicksAtTime(a),c=this.frequency.getTicksAtTime(o.time),h=l-c;let d=Math.ceil(h)-h;d=Vn(d,1)?0:d;let g=this.frequency.getTimeOfTick(l+d);for(;g<n;){try{r(g,Math.round(this.getTicksAtTime(g)))}catch(_){i=_;break}g+=this.frequency.getDurationOfTicks(1,g)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Ql extends un{constructor(){const e=Me(Ql.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=Ye,this._lastUpdate=0,this._state=new pd("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new _d({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,gt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(un.getDefaults(),{callback:Ye,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){Xy(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const r=this.toSeconds(n),o=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(o+e,r)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":const o=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,o);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,o)=>{this.callback(r,o)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Hs.mixin(Ql);class ji extends Ke{constructor(){const e=Me(ji.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new Ut({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,gt(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Ke.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class wd extends Ke{constructor(){const e=Me(wd.getDefaults(),arguments);super(e),this.name="Destination",this.input=new ji({context:this.context}),this.output=new Ut({context:this.context}),this.volume=this.input.volume,$u(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Ke.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),$u(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}ql(t=>{t.destination=new wd({context:t})});Hl(t=>{t.destination.dispose()});class UT extends Ke{constructor(){super(...arguments),this.name="Listener",this.positionX=new ct({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new ct({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new ct({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new ct({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new ct({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new ct({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new ct({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new ct({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new ct({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Ke.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}ql(t=>{t.listener=new UT({context:t})});Hl(t=>{t.listener.dispose()});class Sd extends Cr{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Me(Sd.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Ye,onload:Ye,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return je(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=Ye,o=Ye){return wr(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new rt(this.baseUrl+n,r,o))):this._buffers.set(e.toString(),new rt(n,r,o)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class ei extends us{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class WT extends un{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new An,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}ql(t=>{t.draw=new WT({context:t})});Hl(t=>{t.draw.dispose()});class $T extends Cr{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){je(ze(e.time),"Events must have a time property"),je(ze(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new qT(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let r,o=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,o=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,o=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,o=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,o=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),o&&this._rebalance(o)}e.dispose()}_rotateLeft(e){const n=e.parent,r=e.isLeftChild(),o=e.right;o&&(e.right=o.left,o.left=e),n!==null?r?n.left=o:n.right=o:this._setRoot(o)}_rotateRight(e){const n=e.parent,r=e.isLeftChild(),o=e.left;o&&(e.left=o.right,o.right=e),n!==null?r?n.left=o:n.right=o:this._setRoot(o)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let o=1;o<n.length;o++)n[o].low>r.low&&(r=n[o]);return r.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(o=>{o.event&&n(o.event)})}return this}forEachFrom(e,n){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(o=>{o.event&&n(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class qT{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class HT extends Cr{constructor(e){super(),this.name="TimelineValue",this._timeline=new An({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class Si extends Ke{constructor(){super(Me(Si.getDefaults(),arguments,["context"]))}connect(e,n=0,r=0){return gd(this,e,n,r),this}}class Qs extends Si{constructor(){const e=Me(Qs.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Wn(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):gT(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Dt.getDefaults(),{length:1024})}setMap(e,n=1024){const r=new Float32Array(n);for(let o=0,i=n;o<i;o++){const a=o/(i-1)*2-1;r[o]=e(a,o)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(r=>r.includes(e));je(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class kd extends Si{constructor(){const e=Me(kd.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new Qs({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Si.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Jr{constructor(e,n){this.id=Jr._eventId++,this._remainderTime=0;const r=Object.assign(Jr.getDefaults(),n);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:Ye,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Jr._eventId=0;class xd extends Jr{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(xd.getDefaults(),n);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Jr.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return _l(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new ei(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){_l(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new ei(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);_i(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Yl extends un{constructor(){const e=Me(Yl.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new HT(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new An,this._repeatedEvents=new $T,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Ql({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),gt(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(un.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const r=n%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(r*Math.PI)*this._swingAmount;e+=new ei(this.context,this._swingTicks*2/3).toSeconds()*o}Ep(!0),this._timeline.forEachAtTime(n,r=>r.invoke(e)),Ep(!1)}schedule(e,n){const r=new Jr(this,{callback:e,time:new us(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,o=1/0){const i=new xd(this,{callback:e,duration:new Bn(this.context,o).toTicks(),interval:new Bn(this.context,n).toTicks(),time:new us(this.context,r).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const r=new Jr(this,{callback:e,once:!0,time:new us(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new ei(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let r;return ze(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Wn(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Bn(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Bn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new ei(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new ei(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(n),o=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),i=n+o;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),r=this.getTicksAtTime(n),o=e-r%e;return this._clock.nextTickTime(o,n)}}syncSignal(e,n){const r=this.now();let o=this.bpm,i=1/(60/o.getValueAtTime(r)/this.PPQ),a=[];if(e.units==="time"){const c=.015625/i,h=new Ut(c),d=new kd(-1),g=new Ut(c);o.chain(h,d,g),o=g,i=1/i,a=[h,d,g]}n||(e.getValueAtTime(r)!==0?n=e.getValueAtTime(r)/i:n=0);const l=new Ut(n);return o.connect(l),l.connect(e._param),a.push(l),this._syncedSignals.push({initial:e.value,nodes:a,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const r=this._syncedSignals[n];r.signal===e&&(r.nodes.forEach(o=>o.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),rv(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Hs.mixin(Yl);ql(t=>{t.transport=new Yl({context:t})});Hl(t=>{t.transport.dispose()});class wn extends Ke{constructor(e){super(e),this.input=void 0,this._state=new pd("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Ye,this._syncedStop=Ye,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new ji({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,gt(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Ke.getDefaults(),{mute:!1,onstop:Ye,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let o=On(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")je(_i(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,n,r);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){const i=this._state.get(o);i&&(i.offset=this.toSeconds(ci(n,0)),i.duration=r?this.toSeconds(r):void 0);const a=this.context.transport.schedule(l=>{this._start(l,n,r)},o);this._scheduled.push(a),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else Xy(this.context),this._start(o,n,r);return this}stop(e){let n=On(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||ze(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(_i(n,0)){const r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){const o=n-this.toSeconds(r.time);let i;r.duration&&(i=this.toSeconds(r.duration)-o),this._start(e,this.toSeconds(r.offset)+o,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Ye,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Xl extends wi{constructor(){const e=Me(Xl.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Ri(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new ct({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new rt(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(wi.getDefaults(),{url:new rt,loop:!1,loopEnd:0,loopStart:0,onload:Ye,onerror:Ye,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,o=1){je(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,o),this.loop?n=ci(n,this.loopStart):n=ci(n,0);let a=Math.max(this.toSeconds(n),0);if(this.loop){const l=this.toSeconds(this.loopEnd)||this.buffer.duration,c=this.toSeconds(this.loopStart),h=l-c;Uu(a,l)&&(a=(a-c)%h+c),Vn(a,this.buffer.duration)&&(a=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,_l(a,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,a)),ze(r)){let l=this.toSeconds(r);l=Math.max(l,0),this.stop(i+l)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Do(t,e){return Ct(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,r=new dd(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Cd extends wi{constructor(){const e=Me(Cd.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Ri(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new ct({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new ct({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),gt(this,["frequency","detune"])}static getDefaults(){return Object.assign(wi.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class kt extends wn{constructor(){const e=Me(kt.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new Dt({context:this.context,units:"frequency",value:e.frequency}),gt(this,"frequency"),this.detune=new Dt({context:this.context,units:"cents",value:e.detune}),gt(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(wn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),r=new Cd({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return kt._periodicWaveCache.find(n=>n.phase===this._phase&&bT(n.partials,this._partials));{const e=kt._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(ze(r)){const{partials:o,wave:i}=r;this._wave=i,this._partials=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[o,i]=this._getRealImaginary(e,this._phase),a=this.context.createPeriodicWave(o,i);this._wave=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),kt._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:o,type:this._type,wave:this._wave}),kt._periodicWaveCache.length>100&&kt._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Zr(e,0);let n=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(n=r[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const o=new Float32Array(e);this._partials.forEach((i,a)=>o[a]=i),this._partials=Array.from(o),this.type=this._type}}_getRealImaginary(e,n){let o=2048;const i=new Float32Array(o),a=new Float32Array(o);let l=1;if(e==="custom"){if(l=this._partials.length+1,this._partialCount=this._partials.length,o=l,this._partials.length===0)return[i,a]}else{const c=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);c?(l=parseInt(c[2],10)+1,this._partialCount=parseInt(c[2],10),e=c[1],l=Math.max(l,2),o=l):this._partialCount=0,this._partials=[]}for(let c=1;c<o;++c){const h=2/(c*Math.PI);let d;switch(e){case"sine":d=c<=l?1:0,this._partials[c-1]=d;break;case"square":d=c&1?2*h:0,this._partials[c-1]=d;break;case"sawtooth":d=h*(c&1?1:-1),this._partials[c-1]=d;break;case"triangle":c&1?d=2*(h*h)*(c-1>>1&1?-1:1):d=0,this._partials[c-1]=d;break;case"custom":d=this._partials[c-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}d!==0?(i[c]=-d*Math.sin(n*c),a[c]=d*Math.cos(n*c)):(i[c]=0,a[c]=0)}return[i,a]}_inverseFFT(e,n,r){let o=0;const i=e.length;for(let a=0;a<i;a++)o+=e[a]*Math.cos(a*r)+n[a]*Math.sin(a*r);return o}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let r=0;const o=Math.PI*2,i=32;for(let a=0;a<i;a++)r=Math.max(this._inverseFFT(e,n,a/i*o),r);return OT(-this._inverseFFT(e,n,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return Ct(this,arguments,void 0,function*(e=1024){return Do(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}kt._periodicWaveCache=[];class GT extends Si{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Qs({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class ki extends Dt{constructor(){const e=Me(ki.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Ut({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Dt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Zl extends wn{constructor(){const e=Me(Zl.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new GT({context:this.context}),this._modulationNode=new Ut({context:this.context}),this._carrier=new kt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new kt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new ki({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),gt(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(kt.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Ct(this,arguments,void 0,function*(e=1024){return Do(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Jl extends wn{constructor(){const e=Me(Jl.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new Ut({context:this.context,gain:0}),this._carrier=new kt({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Dt({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new kt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new ki({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new ki({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),gt(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(kt.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Ct(this,arguments,void 0,function*(e=1024){return Do(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Ys extends wn{constructor(){const e=Me(Ys.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new Ut({context:this.context,gain:0}),this._thresh=new Qs({context:this.context,mapping:n=>n<=0?-1:1}),this.width=new Dt({context:this.context,units:"audioRange",value:e.width}),this._triangle=new kt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),gt(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(wn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Ct(this,arguments,void 0,function*(e=1024){return Do(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class ec extends wn{constructor(){const e=Me(ec.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new Dt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Dt({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,gt(this,["frequency","detune"])}static getDefaults(){return Object.assign(kt.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,r=e/(this._oscillators.length-1);this._forEach((o,i)=>o.detune.value=n+r*i)}}get count(){return this._oscillators.length}set count(e){if(Zr(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const r=new kt({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):Ye});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Ct(this,arguments,void 0,function*(e=1024){return Do(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class tc extends wn{constructor(){const e=Me(tc.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new ki({context:this.context,value:2}),this._pulse=new Ys({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new kt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),gt(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(wn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Ct(this,arguments,void 0,function*(e=1024){return Do(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Np={am:Zl,fat:ec,fm:Jl,oscillator:kt,pulse:Ys,pwm:tc};class wl extends wn{constructor(){const e=Me(wl.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new Dt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Dt({context:this.context,units:"cents",value:e.detune}),gt(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(kt.getDefaults(),Jl.getDefaults(),Zl.getDefaults(),ec.getDefaults(),Ys.getDefaults(),tc.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=Np[e],r=this.now();if(this._oscillator){const o=this._oscillator;o.stop(r),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof Np[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&bo(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&bo(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&wr(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Ct(this,arguments,void 0,function*(e=1024){return Do(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function av(t,e=1/0){const n=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Zr(i,t,e),n.set(this,i)}})}}function Tr(t,e=1/0){const n=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Zr(this.toSeconds(i),t,e),n.set(this,i)}})}}class nc extends wn{constructor(){const e=Me(nc.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new rt({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(wn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Ye,onerror:Ye,playbackRate:1,reverse:!1})}load(e){return Ct(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Ye){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=ci(n,this._loopStart):n=ci(n,0);const o=this.toSeconds(n),i=r;r=ci(r,Math.max(this._buffer.duration-o,0));let a=this.toSeconds(r);a=a/this._playbackRate,e=this.toSeconds(e);const l=new Xl({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+a),this._state.setStateAtTime("stopped",e+a,{implicitEnd:!0})),this._activeSources.add(l),this._loop&&On(i)?l.start(e,o):l.start(e,o,a-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){var o;(o=[...this._activeSources].pop())===null||o===void 0||o.stop(e),this._start(e,n,r)}seek(e,n){const r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){const o=this.toSeconds(e);this._stop(r),this._start(r,o)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Zr(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Zr(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Qn([Tr(0)],nc.prototype,"fadeIn",void 0);Qn([Tr(0)],nc.prototype,"fadeOut",void 0);class ao extends Ke{constructor(){const e=Me(ao.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new Dt({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Ke.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(wr(e))return e;{let r;for(r in _a)if(_a[r][n]===e)return r;return e}}_setCurve(e,n,r){if(wr(r)&&Reflect.has(_a,r)){const o=_a[r];wo(o)?e!=="_decayCurve"&&(this[e]=o[n]):this[e]=o}else if(Wn(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let o=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),a=this.getValueAtTime(e);if(a>0){const l=1/o;o=(1-a)/l}if(o<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,o,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,o,e);else{this._sig.cancelAndHoldAtTime(e);let l=this._attackCurve;for(let c=1;c<l.length;c++)if(l[c-1]<=a&&a<=l[c]){l=this._attackCurve.slice(c),l[0]=a;break}this._sig.setValueCurveAtTime(l,e,o,n)}if(i&&this.sustain<1){const l=n*this.sustain,c=e+o;this.log("decay",c),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(l,i+c):this._sig.exponentialApproachValueAtTime(l,c,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(je(Wn(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return gd(this,e,n,r),this}asArray(){return Ct(this,arguments,void 0,function*(e=1024){const n=e/this.context.sampleRate,r=new dd(1,n,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=o+this.toSeconds(this.release),a=i*.1,l=i+a,c=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/l,decay:n*this.toSeconds(this.decay)/l,release:n*this.toSeconds(this.release)/l,context:r}));return c._sig.toDestination(),c.triggerAttackRelease(n*(o+a)/l,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Qn([Tr(0)],ao.prototype,"attack",void 0);Qn([Tr(0)],ao.prototype,"decay",void 0);Qn([av(0,1)],ao.prototype,"sustain",void 0);Qn([Tr(0)],ao.prototype,"release",void 0);const _a=(()=>{let e,n;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const o=[],i=6.4;for(e=0;e<127;e++){n=e/127;const _=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;o[e]=_/10+n*.83}o[127]=1;const a=[],l=5;for(e=0;e<128;e++)a[e]=Math.ceil(e/127*l)/l;const c=[];for(e=0;e<128;e++)n=e/127,c[e]=.5*(1-Math.cos(Math.PI*n));const h=[];for(e=0;e<128;e++){n=e/127;const _=Math.pow(n,3)*4+.2,E=Math.cos(_*Math.PI*2*n);h[e]=Math.abs(E*(1-n))}function d(_){const E=new Array(_.length);for(let b=0;b<_.length;b++)E[b]=1-_[b];return E}function g(_){return _.slice(0).reverse()}return{bounce:{In:d(h),Out:h},cosine:{In:r,Out:g(r)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:d(o)},sine:{In:c,Out:d(c)},step:{In:a,Out:d(a)}}})();class xi extends Ke{constructor(){const e=Me(xi.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n),this._volume=this.output=new ji({context:this.context,volume:e.volume}),this.volume=this._volume.volume,gt(this,"volume")}static getDefaults(){return Object.assign(Ke.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const r=this["_original_"+e]=this[e];this[e]=(...o)=>{const i=o[n],a=this.context.transport.schedule(l=>{o[n]=l,r.apply(this,o)},i);this._scheduledEvents.push(a)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,r,o){const i=this.toSeconds(r),a=this.toSeconds(n);return this.triggerAttack(e,i,o),this.triggerRelease(i+a),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Ci extends xi{constructor(){const e=Me(Ci.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(xi.getDefaults(),{detune:0,onsilence:Ye,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);const o=this.toSeconds(n);return this._triggerEnvelopeAttack(o,r),this.setNote(e,o),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const r=this.toSeconds(n),o=e instanceof bn?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,i,r)}else this.frequency.setValueAtTime(o,r);return this}}Qn([Tr(0)],Ci.prototype,"portamento",void 0);class Td extends ao{constructor(){super(Me(Td.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Ut({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Sl extends Ci{constructor(){const e=Me(Sl.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new wl(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Td(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),gt(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Ci.getDefaults(),{envelope:Object.assign(bp(ao.getDefaults(),Object.keys(Ke.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(bp(wl.getDefaults(),[...Object.keys(wn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+o)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class rc extends Sl{constructor(){const e=Me(rc.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,gt(this,["oscillator","envelope"])}static getDefaults(){return li(Ci.getDefaults(),Sl.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const r=this.toSeconds(n),o=this.toFrequency(e instanceof bn?e.toFrequency():e),i=o*this.octaves;return this.oscillator.frequency.setValueAtTime(i,r),this.oscillator.frequency.exponentialRampToValueAtTime(o,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Qn([av(0)],rc.prototype,"octaves",void 0);Qn([Tr(0)],rc.prototype,"pitchDecay",void 0);const lv=new Set;function Ed(t){lv.add(t)}function cv(t,e){const n=`registerProcessor("${t}", ${e})`;lv.add(n)}const QT=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Ed(QT);const YT=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Ed(YT);const XT=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Ed(XT);const ZT="feedback-comb-filter",JT=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;cv(ZT,JT);class Xs extends xi{constructor(){const e=Me(Xs.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const n={};Object.keys(e.urls).forEach(r=>{const o=parseInt(r,10);if(je(va(r)||bo(o)&&isFinite(o),`url key is neither a note or midi pitch: ${r}`),va(r)){const i=new bn(this.context,r).toMidi();n[i]=e.urls[r]}else bo(o)&&isFinite(o)&&(n[o]=e.urls[o])}),this._buffers=new Sd({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(xi.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Ye,onerror:Ye,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(o=>{const i=sv(new bn(this.context,o).toFrequency()),a=Math.round(i),l=i-a,c=this._findClosest(a),h=a-c,d=this._buffers.get(h),g=iv(c+l),_=new Xl({url:d,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:g}).connect(this.output);_.start(n,0,d.duration/g,r),Wn(this._activeSources.get(a))||this._activeSources.set(a,[]),this._activeSources.get(a).push(_),_.onended=()=>{if(this._activeSources&&this._activeSources.has(a)){const E=this._activeSources.get(a),b=E.indexOf(_);b!==-1&&E.splice(b,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const o=new bn(this.context,r).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){const i=this._activeSources.get(o);n=this.toSeconds(n),i.forEach(a=>{a.stop(n)}),this._activeSources.set(o,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,o=1){const i=this.toSeconds(r);return this.triggerAttack(e,i,o),Wn(n)?(je(Wn(e),"notes must be an array when duration is array"),e.forEach((a,l)=>{const c=n[Math.min(l,n.length-1)];this.triggerRelease(a,i+this.toSeconds(c))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,r){if(je(va(e)||isFinite(e),`note must be a pitch or midi: ${e}`),va(e)){const o=new bn(this.context,e).toMidi();this._buffers.add(o,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}Qn([Tr(0)],Xs.prototype,"attack",void 0);Qn([Tr(0)],Xs.prototype,"release",void 0);class bd extends Ke{constructor(){const e=Me(bd.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new ct({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",gt(this,"pan")}static getDefaults(){return Object.assign(Ke.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const eE="bit-crusher",tE=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;cv(eE,tE);class St extends Ke{constructor(){const e=Me(St.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new Ut({context:this.context}),St._allSolos.has(this.context)||St._allSolos.set(this.context,new Set),St._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Ke.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),St._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){St._soloed.has(this.context)||St._soloed.set(this.context,new Set),St._soloed.get(this.context).add(this)}_removeSolo(){St._soloed.has(this.context)&&St._soloed.get(this.context).delete(this)}_isSoloed(){return St._soloed.has(this.context)&&St._soloed.get(this.context).has(this)}_noSolos(){return!St._soloed.has(this.context)||St._soloed.has(this.context)&&St._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),St._allSolos.get(this.context).delete(this),this._removeSolo(),this}}St._allSolos=new Map;St._soloed=new Map;class Nd extends Ke{constructor(){const e=Me(Nd.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new bd({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new ji({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,gt(this,["pan","volume"])}static getDefaults(){return Object.assign(Ke.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class ti extends Ke{constructor(){const e=Me(ti.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new St({solo:e.solo,context:this.context}),this._panVol=this.output=new Nd({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),gt(this,["pan","volume"])}static getDefaults(){return Object.assign(Ke.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return ti.buses.has(e)||ti.buses.set(e,new Ut({context:this.context})),ti.buses.get(e)}send(e,n=0){const r=this._getBus(e),o=new Ut({context:this.context,units:"decibels",gain:n});return this.connect(o),o.connect(r),o}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}ti.buses=new Map;function nE(){return Zt().immediate()}Zt().transport;Zt().destination;Zt().destination;Zt().listener;Zt().draw;Zt();const rE="/p2/assets/C2-jU7EKGGL.mp3",oE="/p2/assets/Ds2-DnKp1gy3.mp3",iE="/p2/assets/Fs2-9vY2UuIH.mp3",sE="/p2/assets/A2-CQJ11jEF.mp3",aE="/p2/assets/C3-Dn0rSXes.mp3",lE="/p2/assets/Ds3-B9q8pZT4.mp3",cE="/p2/assets/Fs3-DDdR4ek0.mp3",uE="/p2/assets/A3-B899Ep8C.mp3",hE="/p2/assets/C4-B2DzZQ9W.mp3",dE="/p2/assets/Ds4-ZpjA_cOI.mp3",fE="/p2/assets/Fs4-XuYqV_uK.mp3",pE="/p2/assets/A4-DOvdn91G.mp3",mE="/p2/assets/C5-C2EPYtUj.mp3",gE="/p2/assets/Ds5-rz2hEMxW.mp3",yE="/p2/assets/Fs5-bI3vcOCZ.mp3",vE="/p2/assets/A5-CM9sZMm0.mp3";let Fa=!1,wa=null;const eo=new Xs({urls:{C2:rE,"D#2":oE,"F#2":iE,A2:sE,C3:aE,"D#3":lE,"F#3":cE,A3:uE,C4:hE,"D#4":dE,"F#4":fE,A4:pE,C5:mE,"D#5":gE,"F#5":yE,A5:vE},onload:()=>{console.log("Sampler loaded"),console.log("Audio Context State:",Zt().state),Fa=!0}}).toDestination(),_E=eo.triggerAttack;eo.triggerAttack=function(...t){return console.log("Audio Context State:",Zt().state),_E.apply(this,t)};const wE=eo.triggerRelease;eo.triggerRelease=function(...t){return console.log("Audio Context State:",Zt().state),wE.apply(this,t)};const SE=async()=>{if(!Fa){if(wa)return wa;wa=new Promise(t=>{if(eo.loaded){console.log("Sampler already loaded"),Fa=!0,t();return}const e=()=>{eo.loaded?(console.log("Sampler loaded successfully"),Fa=!0,t()):setTimeout(e,100)};e()}),await wa,await MT(),console.log("Audio context started")}};function kE({title:t,titleId:e,...n},r){return J.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?J.createElement("title",{id:e},t):null,J.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Op=J.forwardRef(kE),fr="/p2";var Zs={};(function t(e,n,r,o){var i=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),a=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!e.OffscreenCanvas)return!1;var j=new OffscreenCanvas(1,1),O=j.getContext("2d");O.fillRect(0,0,1,1);var W=j.transferToImageBitmap();try{O.createPattern(W,"no-repeat")}catch{return!1}return!0}();function c(){}function h(j){var O=n.exports.Promise,W=O!==void 0?O:e.Promise;return typeof W=="function"?new W(j):(j(c,c),null)}var d=function(j,O){return{transform:function(W){if(j)return W;if(O.has(W))return O.get(W);var te=new OffscreenCanvas(W.width,W.height),ce=te.getContext("2d");return ce.drawImage(W,0,0),O.set(W,te),te},clear:function(){O.clear()}}}(l,new Map),g=function(){var j=Math.floor(16.666666666666668),O,W,te={},ce=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(O=function(ie){var y=Math.random();return te[y]=requestAnimationFrame(function v(s){ce===s||ce+j-1<s?(ce=s,delete te[y],ie()):te[y]=requestAnimationFrame(v)}),y},W=function(ie){te[ie]&&cancelAnimationFrame(te[ie])}):(O=function(ie){return setTimeout(ie,j)},W=function(ie){return clearTimeout(ie)}),{frame:O,cancel:W}}(),_=function(){var j,O,W={};function te(ce){function ie(y,v){ce.postMessage({options:y||{},callback:v})}ce.init=function(v){var s=v.transferControlToOffscreen();ce.postMessage({canvas:s},[s])},ce.fire=function(v,s,u){if(O)return ie(v,null),O;var f=Math.random().toString(36).slice(2);return O=h(function(p){function m(k){k.data.callback===f&&(delete W[f],ce.removeEventListener("message",m),O=null,d.clear(),u(),p())}ce.addEventListener("message",m),ie(v,f),W[f]=m.bind(null,{data:{callback:f}})}),O},ce.reset=function(){ce.postMessage({reset:!0});for(var v in W)W[v](),delete W[v]}}return function(){if(j)return j;if(!r&&i){var ce=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{j=new Worker(URL.createObjectURL(new Blob([ce])))}catch(ie){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",ie),null}te(j)}return j}}(),E={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function b(j,O){return O?O(j):j}function N(j){return j!=null}function A(j,O,W){return b(j&&N(j[O])?j[O]:E[O],W)}function w(j){return j<0?0:Math.floor(j)}function T(j,O){return Math.floor(Math.random()*(O-j))+j}function I(j){return parseInt(j,16)}function R(j){return j.map(P)}function P(j){var O=String(j).replace(/[^0-9a-f]/gi,"");return O.length<6&&(O=O[0]+O[0]+O[1]+O[1]+O[2]+O[2]),{r:I(O.substring(0,2)),g:I(O.substring(2,4)),b:I(O.substring(4,6))}}function L(j){var O=A(j,"origin",Object);return O.x=A(O,"x",Number),O.y=A(O,"y",Number),O}function z(j){j.width=document.documentElement.clientWidth,j.height=document.documentElement.clientHeight}function V(j){var O=j.getBoundingClientRect();j.width=O.width,j.height=O.height}function Z(j){var O=document.createElement("canvas");return O.style.position="fixed",O.style.top="0px",O.style.left="0px",O.style.pointerEvents="none",O.style.zIndex=j,O}function G(j,O,W,te,ce,ie,y,v,s){j.save(),j.translate(O,W),j.rotate(ie),j.scale(te,ce),j.arc(0,0,1,y,v,s),j.restore()}function X(j){var O=j.angle*(Math.PI/180),W=j.spread*(Math.PI/180);return{x:j.x,y:j.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:j.startVelocity*.5+Math.random()*j.startVelocity,angle2D:-O+(.5*W-Math.random()*W),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:j.color,shape:j.shape,tick:0,totalTicks:j.ticks,decay:j.decay,drift:j.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:j.gravity*3,ovalScalar:.6,scalar:j.scalar,flat:j.flat}}function ee(j,O){O.x+=Math.cos(O.angle2D)*O.velocity+O.drift,O.y+=Math.sin(O.angle2D)*O.velocity+O.gravity,O.velocity*=O.decay,O.flat?(O.wobble=0,O.wobbleX=O.x+10*O.scalar,O.wobbleY=O.y+10*O.scalar,O.tiltSin=0,O.tiltCos=0,O.random=1):(O.wobble+=O.wobbleSpeed,O.wobbleX=O.x+10*O.scalar*Math.cos(O.wobble),O.wobbleY=O.y+10*O.scalar*Math.sin(O.wobble),O.tiltAngle+=.1,O.tiltSin=Math.sin(O.tiltAngle),O.tiltCos=Math.cos(O.tiltAngle),O.random=Math.random()+2);var W=O.tick++/O.totalTicks,te=O.x+O.random*O.tiltCos,ce=O.y+O.random*O.tiltSin,ie=O.wobbleX+O.random*O.tiltCos,y=O.wobbleY+O.random*O.tiltSin;if(j.fillStyle="rgba("+O.color.r+", "+O.color.g+", "+O.color.b+", "+(1-W)+")",j.beginPath(),a&&O.shape.type==="path"&&typeof O.shape.path=="string"&&Array.isArray(O.shape.matrix))j.fill(ge(O.shape.path,O.shape.matrix,O.x,O.y,Math.abs(ie-te)*.1,Math.abs(y-ce)*.1,Math.PI/10*O.wobble));else if(O.shape.type==="bitmap"){var v=Math.PI/10*O.wobble,s=Math.abs(ie-te)*.1,u=Math.abs(y-ce)*.1,f=O.shape.bitmap.width*O.scalar,p=O.shape.bitmap.height*O.scalar,m=new DOMMatrix([Math.cos(v)*s,Math.sin(v)*s,-Math.sin(v)*u,Math.cos(v)*u,O.x,O.y]);m.multiplySelf(new DOMMatrix(O.shape.matrix));var k=j.createPattern(d.transform(O.shape.bitmap),"no-repeat");k.setTransform(m),j.globalAlpha=1-W,j.fillStyle=k,j.fillRect(O.x-f/2,O.y-p/2,f,p),j.globalAlpha=1}else if(O.shape==="circle")j.ellipse?j.ellipse(O.x,O.y,Math.abs(ie-te)*O.ovalScalar,Math.abs(y-ce)*O.ovalScalar,Math.PI/10*O.wobble,0,2*Math.PI):G(j,O.x,O.y,Math.abs(ie-te)*O.ovalScalar,Math.abs(y-ce)*O.ovalScalar,Math.PI/10*O.wobble,0,2*Math.PI);else if(O.shape==="star")for(var C=Math.PI/2*3,S=4*O.scalar,x=8*O.scalar,M=O.x,K=O.y,D=5,F=Math.PI/D;D--;)M=O.x+Math.cos(C)*x,K=O.y+Math.sin(C)*x,j.lineTo(M,K),C+=F,M=O.x+Math.cos(C)*S,K=O.y+Math.sin(C)*S,j.lineTo(M,K),C+=F;else j.moveTo(Math.floor(O.x),Math.floor(O.y)),j.lineTo(Math.floor(O.wobbleX),Math.floor(ce)),j.lineTo(Math.floor(ie),Math.floor(y)),j.lineTo(Math.floor(te),Math.floor(O.wobbleY));return j.closePath(),j.fill(),O.tick<O.totalTicks}function fe(j,O,W,te,ce){var ie=O.slice(),y=j.getContext("2d"),v,s,u=h(function(f){function p(){v=s=null,y.clearRect(0,0,te.width,te.height),d.clear(),ce(),f()}function m(){r&&!(te.width===o.width&&te.height===o.height)&&(te.width=j.width=o.width,te.height=j.height=o.height),!te.width&&!te.height&&(W(j),te.width=j.width,te.height=j.height),y.clearRect(0,0,te.width,te.height),ie=ie.filter(function(k){return ee(y,k)}),ie.length?v=g.frame(m):p()}v=g.frame(m),s=p});return{addFettis:function(f){return ie=ie.concat(f),u},canvas:j,promise:u,reset:function(){v&&g.cancel(v),s&&s()}}}function pe(j,O){var W=!j,te=!!A(O||{},"resize"),ce=!1,ie=A(O,"disableForReducedMotion",Boolean),y=i&&!!A(O||{},"useWorker"),v=y?_():null,s=W?z:V,u=j&&v?!!j.__confetti_initialized:!1,f=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,p;function m(C,S,x){for(var M=A(C,"particleCount",w),K=A(C,"angle",Number),D=A(C,"spread",Number),F=A(C,"startVelocity",Number),U=A(C,"decay",Number),B=A(C,"gravity",Number),$=A(C,"drift",Number),q=A(C,"colors",R),Y=A(C,"ticks",Number),se=A(C,"shapes"),ne=A(C,"scalar"),ue=!!A(C,"flat"),ae=L(C),oe=M,me=[],ye=j.width*ae.x,le=j.height*ae.y;oe--;)me.push(X({x:ye,y:le,angle:K,spread:D,startVelocity:F,color:q[oe%q.length],shape:se[T(0,se.length)],ticks:Y,decay:U,gravity:B,drift:$,scalar:ne,flat:ue}));return p?p.addFettis(me):(p=fe(j,me,s,S,x),p.promise)}function k(C){var S=ie||A(C,"disableForReducedMotion",Boolean),x=A(C,"zIndex",Number);if(S&&f)return h(function(F){F()});W&&p?j=p.canvas:W&&!j&&(j=Z(x),document.body.appendChild(j)),te&&!u&&s(j);var M={width:j.width,height:j.height};v&&!u&&v.init(j),u=!0,v&&(j.__confetti_initialized=!0);function K(){if(v){var F={getBoundingClientRect:function(){if(!W)return j.getBoundingClientRect()}};s(F),v.postMessage({resize:{width:F.width,height:F.height}});return}M.width=M.height=null}function D(){p=null,te&&(ce=!1,e.removeEventListener("resize",K)),W&&j&&(document.body.contains(j)&&document.body.removeChild(j),j=null,u=!1)}return te&&!ce&&(ce=!0,e.addEventListener("resize",K,!1)),v?v.fire(C,M,D):m(C,M,D)}return k.reset=function(){v&&v.reset(),p&&p.reset()},k}var Se;function he(){return Se||(Se=pe(null,{useWorker:!0,resize:!0})),Se}function ge(j,O,W,te,ce,ie,y){var v=new Path2D(j),s=new Path2D;s.addPath(v,new DOMMatrix(O));var u=new Path2D;return u.addPath(s,new DOMMatrix([Math.cos(y)*ce,Math.sin(y)*ce,-Math.sin(y)*ie,Math.cos(y)*ie,W,te])),u}function Q(j){if(!a)throw new Error("path confetti are not supported in this browser");var O,W;typeof j=="string"?O=j:(O=j.path,W=j.matrix);var te=new Path2D(O),ce=document.createElement("canvas"),ie=ce.getContext("2d");if(!W){for(var y=1e3,v=y,s=y,u=0,f=0,p,m,k=0;k<y;k+=2)for(var C=0;C<y;C+=2)ie.isPointInPath(te,k,C,"nonzero")&&(v=Math.min(v,k),s=Math.min(s,C),u=Math.max(u,k),f=Math.max(f,C));p=u-v,m=f-s;var S=10,x=Math.min(S/p,S/m);W=[x,0,0,x,-Math.round(p/2+v)*x,-Math.round(m/2+s)*x]}return{type:"path",path:O,matrix:W}}function re(j){var O,W=1,te="#000000",ce='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof j=="string"?O=j:(O=j.text,W="scalar"in j?j.scalar:W,ce="fontFamily"in j?j.fontFamily:ce,te="color"in j?j.color:te);var ie=10*W,y=""+ie+"px "+ce,v=new OffscreenCanvas(ie,ie),s=v.getContext("2d");s.font=y;var u=s.measureText(O),f=Math.ceil(u.actualBoundingBoxRight+u.actualBoundingBoxLeft),p=Math.ceil(u.actualBoundingBoxAscent+u.actualBoundingBoxDescent),m=2,k=u.actualBoundingBoxLeft+m,C=u.actualBoundingBoxAscent+m;f+=m+m,p+=m+m,v=new OffscreenCanvas(f,p),s=v.getContext("2d"),s.font=y,s.fillStyle=te,s.fillText(O,k,C);var S=1/W;return{type:"bitmap",bitmap:v.transferToImageBitmap(),matrix:[S,0,0,S,-f*S/2,-p*S/2]}}n.exports=function(){return he().apply(this,arguments)},n.exports.reset=function(){he().reset()},n.exports.create=pe,n.exports.shapeFromPath=Q,n.exports.shapeFromText=re})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Zs,!1);const xE=Zs.exports;Zs.exports.create;const CE=({taskConfig:t,progress:e=0,status:n="active",isActive:r=!1,onActivate:o,previousTaskCompleted:i=!0,onSkip:a})=>{const{total:l,description:c}=t,h=n==="completed",d=Math.min(e/l*100,100);return fo.useEffect(()=>{n==="active"&&e>=l&&xE({particleCount:1e3,spread:200,origin:{y:.8}})},[e,l,n]),!i&&!h&&!r?null:H.jsxs("div",{className:`my-4 p-4 bg-gray-800 rounded-lg transition-all duration-300 ${r?"ring-2 ring-blue-500 ring-opacity-50 shadow-lg shadow-blue-500/50":""} ${o?"cursor-pointer hover:bg-gray-700":""}`,onClick:o,children:[H.jsxs("div",{className:"flex justify-between items-center mb-2",children:[H.jsx("div",{className:"text-white",children:h?H.jsxs("span",{className:"flex items-center gap-2",children:[H.jsx("span",{className:"text-green-400",children:"✓"}),c]}):c}),H.jsxs("div",{className:"flex items-center gap-4",children:[!h&&a&&H.jsx("button",{onClick:g=>{g.stopPropagation(),a(t.id)},className:"px-2 py-1 text-sm bg-gray-700 hover:bg-gray-600 rounded text-gray-300",children:"Skip"}),!h&&H.jsx("div",{className:"text-gray-400",children:`${e}/${l}`})]})]}),H.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:H.jsx("div",{className:`h-full transition-all duration-300 ease-out ${h?"bg-green-400":"bg-green-500"}`,style:{width:`${d}%`}})})]})};var uv={exports:{}};/*!
 * 
 *   react-simple-keyboard v3.8.22
 *   https://github.com/hodgef/react-simple-keyboard
 *
 *   Copyright (c) Francisco Hodge (https://github.com/hodgef) and project contributors.
 *
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */(function(t,e){(function(n,r){t.exports=r(J)})(fv,function(n){return function(){var r={981:function(){typeof Element>"u"||"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),typeof self<"u"&&"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(l){if("Element"in l){var c="classList",h="prototype",d=l.Element[h],g=Object,_=String[h].trim||function(){return this.replace(/^\s+|\s+$/g,"")},E=Array[h].indexOf||function(R){for(var P=0,L=this.length;P<L;P++)if(P in this&&this[P]===R)return P;return-1},b=function(R,P){this.name=R,this.code=DOMException[R],this.message=P},N=function(R,P){if(P==="")throw new b("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(P))throw new b("INVALID_CHARACTER_ERR","The token must not contain space characters.");return E.call(R,P)},A=function(R){for(var P=_.call(R.getAttribute("class")||""),L=P?P.split(/\s+/):[],z=0,V=L.length;z<V;z++)this.push(L[z]);this._updateClassName=function(){R.setAttribute("class",this.toString())}},w=A[h]=[],T=function(){return new A(this)};if(b[h]=Error[h],w.item=function(R){return this[R]||null},w.contains=function(R){return~N(this,R+"")},w.add=function(){var R,P=arguments,L=0,z=P.length,V=!1;do~N(this,R=P[L]+"")||(this.push(R),V=!0);while(++L<z);V&&this._updateClassName()},w.remove=function(){var R,P,L=arguments,z=0,V=L.length,Z=!1;do for(P=N(this,R=L[z]+"");~P;)this.splice(P,1),Z=!0,P=N(this,R);while(++z<V);Z&&this._updateClassName()},w.toggle=function(R,P){var L=this.contains(R),z=L?P!==!0&&"remove":P!==!1&&"add";return z&&this[z](R),P===!0||P===!1?P:!L},w.replace=function(R,P){var L=N(R+"");~L&&(this.splice(L,1,P),this._updateClassName())},w.toString=function(){return this.join(" ")},g.defineProperty){var I={get:T,enumerable:!0,configurable:!0};try{g.defineProperty(d,c,I)}catch(R){R.number!==void 0&&R.number!==-2146823252||(I.enumerable=!1,g.defineProperty(d,c,I))}}else g[h].__defineGetter__&&d.__defineGetter__(c,T)}}(self),function(){var l=document.createElement("_");if(l.classList.add("c1","c2"),!l.classList.contains("c2")){var c=function(d){var g=DOMTokenList.prototype[d];DOMTokenList.prototype[d]=function(_){var E,b=arguments.length;for(E=0;E<b;E++)_=arguments[E],g.call(this,_)}};c("add"),c("remove")}if(l.classList.toggle("c3",!1),l.classList.contains("c3")){var h=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(d,g){return 1 in arguments&&!this.contains(d)==!g?g:h.call(this,d)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(d,g){var _=this.toString().split(" "),E=_.indexOf(d+"");~E&&(_=_.slice(E),this.remove.apply(this,_),this.add(g),this.add.apply(this,_.slice(1)))}),l=null}())},548:function(l){l.exports=function(){var c={9306:function(y,v,s){var u=s(4901),f=s(6823),p=TypeError;y.exports=function(m){if(u(m))return m;throw new p(f(m)+" is not a function")}},5548:function(y,v,s){var u=s(3517),f=s(6823),p=TypeError;y.exports=function(m){if(u(m))return m;throw new p(f(m)+" is not a constructor")}},3506:function(y,v,s){var u=s(3925),f=String,p=TypeError;y.exports=function(m){if(u(m))return m;throw new p("Can't set "+f(m)+" as a prototype")}},6469:function(y,v,s){var u=s(8227),f=s(2360),p=s(4913).f,m=u("unscopables"),k=Array.prototype;k[m]===void 0&&p(k,m,{configurable:!0,value:f(null)}),y.exports=function(C){k[m][C]=!0}},7829:function(y,v,s){var u=s(8183).charAt;y.exports=function(f,p,m){return p+(m?u(f,p).length:1)}},8551:function(y,v,s){var u=s(34),f=String,p=TypeError;y.exports=function(m){if(u(m))return m;throw new p(f(m)+" is not an object")}},235:function(y,v,s){var u=s(9213).forEach,f=s(4598)("forEach");y.exports=f?[].forEach:function(p){return u(this,p,arguments.length>1?arguments[1]:void 0)}},7916:function(y,v,s){var u=s(6080),f=s(9565),p=s(8981),m=s(6319),k=s(4209),C=s(3517),S=s(6198),x=s(4659),M=s(81),K=s(851),D=Array;y.exports=function(F){var U=p(F),B=C(this),$=arguments.length,q=$>1?arguments[1]:void 0,Y=q!==void 0;Y&&(q=u(q,$>2?arguments[2]:void 0));var se,ne,ue,ae,oe,me,ye=K(U),le=0;if(!ye||this===D&&k(ye))for(se=S(U),ne=B?new this(se):D(se);se>le;le++)me=Y?q(U[le],le):U[le],x(ne,le,me);else for(ne=B?new this:[],oe=(ae=M(U,ye)).next;!(ue=f(oe,ae)).done;le++)me=Y?m(ae,q,[ue.value,le],!0):ue.value,x(ne,le,me);return ne.length=le,ne}},9617:function(y,v,s){var u=s(5397),f=s(5610),p=s(6198),m=function(k){return function(C,S,x){var M=u(C),K=p(M);if(K===0)return!k&&-1;var D,F=f(x,K);if(k&&S!=S){for(;K>F;)if((D=M[F++])!=D)return!0}else for(;K>F;F++)if((k||F in M)&&M[F]===S)return k||F||0;return!k&&-1}};y.exports={includes:m(!0),indexOf:m(!1)}},9213:function(y,v,s){var u=s(6080),f=s(9504),p=s(7055),m=s(8981),k=s(6198),C=s(1469),S=f([].push),x=function(M){var K=M===1,D=M===2,F=M===3,U=M===4,B=M===6,$=M===7,q=M===5||B;return function(Y,se,ne,ue){for(var ae,oe,me=m(Y),ye=p(me),le=k(ye),Te=u(se,ne),ve=0,ke=ue||C,Le=K?ke(Y,le):D||$?ke(Y,0):void 0;le>ve;ve++)if((q||ve in ye)&&(oe=Te(ae=ye[ve],ve,me),M))if(K)Le[ve]=oe;else if(oe)switch(M){case 3:return!0;case 5:return ae;case 6:return ve;case 2:S(Le,ae)}else switch(M){case 4:return!1;case 7:S(Le,ae)}return B?-1:F||U?U:Le}};y.exports={forEach:x(0),map:x(1),filter:x(2),some:x(3),every:x(4),find:x(5),findIndex:x(6),filterReject:x(7)}},597:function(y,v,s){var u=s(9039),f=s(8227),p=s(9519),m=f("species");y.exports=function(k){return p>=51||!u(function(){var C=[];return(C.constructor={})[m]=function(){return{foo:1}},C[k](Boolean).foo!==1})}},4598:function(y,v,s){var u=s(9039);y.exports=function(f,p){var m=[][f];return!!m&&u(function(){m.call(null,p||function(){return 1},1)})}},926:function(y,v,s){var u=s(9306),f=s(8981),p=s(7055),m=s(6198),k=TypeError,C="Reduce of empty array with no initial value",S=function(x){return function(M,K,D,F){var U=f(M),B=p(U),$=m(U);if(u(K),$===0&&D<2)throw new k(C);var q=x?$-1:0,Y=x?-1:1;if(D<2)for(;;){if(q in B){F=B[q],q+=Y;break}if(q+=Y,x?q<0:$<=q)throw new k(C)}for(;x?q>=0:$>q;q+=Y)q in B&&(F=K(F,B[q],q,U));return F}};y.exports={left:S(!1),right:S(!0)}},4527:function(y,v,s){var u=s(3724),f=s(4376),p=TypeError,m=Object.getOwnPropertyDescriptor,k=u&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(C){return C instanceof TypeError}}();y.exports=k?function(C,S){if(f(C)&&!m(C,"length").writable)throw new p("Cannot set read only .length");return C.length=S}:function(C,S){return C.length=S}},7680:function(y,v,s){var u=s(9504);y.exports=u([].slice)},4488:function(y,v,s){var u=s(7680),f=Math.floor,p=function(m,k){var C=m.length;if(C<8)for(var S,x,M=1;M<C;){for(x=M,S=m[M];x&&k(m[x-1],S)>0;)m[x]=m[--x];x!==M++&&(m[x]=S)}else for(var K=f(C/2),D=p(u(m,0,K),k),F=p(u(m,K),k),U=D.length,B=F.length,$=0,q=0;$<U||q<B;)m[$+q]=$<U&&q<B?k(D[$],F[q])<=0?D[$++]:F[q++]:$<U?D[$++]:F[q++];return m};y.exports=p},7433:function(y,v,s){var u=s(4376),f=s(3517),p=s(34),m=s(8227)("species"),k=Array;y.exports=function(C){var S;return u(C)&&(S=C.constructor,(f(S)&&(S===k||u(S.prototype))||p(S)&&(S=S[m])===null)&&(S=void 0)),S===void 0?k:S}},1469:function(y,v,s){var u=s(7433);y.exports=function(f,p){return new(u(f))(p===0?0:p)}},6319:function(y,v,s){var u=s(8551),f=s(9539);y.exports=function(p,m,k,C){try{return C?m(u(k)[0],k[1]):m(k)}catch(S){f(p,"throw",S)}}},4428:function(y,v,s){var u=s(8227)("iterator"),f=!1;try{var p=0,m={next:function(){return{done:!!p++}},return:function(){f=!0}};m[u]=function(){return this},Array.from(m,function(){throw 2})}catch{}y.exports=function(k,C){try{if(!C&&!f)return!1}catch{return!1}var S=!1;try{var x={};x[u]=function(){return{next:function(){return{done:S=!0}}}},k(x)}catch{}return S}},2195:function(y,v,s){var u=s(9504),f=u({}.toString),p=u("".slice);y.exports=function(m){return p(f(m),8,-1)}},6955:function(y,v,s){var u=s(2140),f=s(4901),p=s(2195),m=s(8227)("toStringTag"),k=Object,C=p(function(){return arguments}())==="Arguments";y.exports=u?p:function(S){var x,M,K;return S===void 0?"Undefined":S===null?"Null":typeof(M=function(D,F){try{return D[F]}catch{}}(x=k(S),m))=="string"?M:C?p(x):(K=p(x))==="Object"&&f(x.callee)?"Arguments":K}},7740:function(y,v,s){var u=s(9297),f=s(5031),p=s(7347),m=s(4913);y.exports=function(k,C,S){for(var x=f(C),M=m.f,K=p.f,D=0;D<x.length;D++){var F=x[D];u(k,F)||S&&u(S,F)||M(k,F,K(C,F))}}},1436:function(y,v,s){var u=s(8227)("match");y.exports=function(f){var p=/./;try{"/./"[f](p)}catch{try{return p[u]=!1,"/./"[f](p)}catch{}}return!1}},2211:function(y,v,s){var u=s(9039);y.exports=!u(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},2529:function(y){y.exports=function(v,s){return{value:v,done:s}}},6699:function(y,v,s){var u=s(3724),f=s(4913),p=s(6980);y.exports=u?function(m,k,C){return f.f(m,k,p(1,C))}:function(m,k,C){return m[k]=C,m}},6980:function(y){y.exports=function(v,s){return{enumerable:!(1&v),configurable:!(2&v),writable:!(4&v),value:s}}},4659:function(y,v,s){var u=s(3724),f=s(4913),p=s(6980);y.exports=function(m,k,C){u?f.f(m,k,p(0,C)):m[k]=C}},3640:function(y,v,s){var u=s(8551),f=s(4270),p=TypeError;y.exports=function(m){if(u(this),m==="string"||m==="default")m="string";else if(m!=="number")throw new p("Incorrect hint");return f(this,m)}},2106:function(y,v,s){var u=s(283),f=s(4913);y.exports=function(p,m,k){return k.get&&u(k.get,m,{getter:!0}),k.set&&u(k.set,m,{setter:!0}),f.f(p,m,k)}},6840:function(y,v,s){var u=s(4901),f=s(4913),p=s(283),m=s(9433);y.exports=function(k,C,S,x){x||(x={});var M=x.enumerable,K=x.name!==void 0?x.name:C;if(u(S)&&p(S,K,x),x.global)M?k[C]=S:m(C,S);else{try{x.unsafe?k[C]&&(M=!0):delete k[C]}catch{}M?k[C]=S:f.f(k,C,{value:S,enumerable:!1,configurable:!x.nonConfigurable,writable:!x.nonWritable})}return k}},9433:function(y,v,s){var u=s(4576),f=Object.defineProperty;y.exports=function(p,m){try{f(u,p,{value:m,configurable:!0,writable:!0})}catch{u[p]=m}return m}},4606:function(y,v,s){var u=s(6823),f=TypeError;y.exports=function(p,m){if(!delete p[m])throw new f("Cannot delete property "+u(m)+" of "+u(p))}},3724:function(y,v,s){var u=s(9039);y.exports=!u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},4055:function(y,v,s){var u=s(4576),f=s(34),p=u.document,m=f(p)&&f(p.createElement);y.exports=function(k){return m?p.createElement(k):{}}},6837:function(y){var v=TypeError;y.exports=function(s){if(s>9007199254740991)throw v("Maximum allowed index exceeded");return s}},7400:function(y){y.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9296:function(y,v,s){var u=s(4055)("span").classList,f=u&&u.constructor&&u.constructor.prototype;y.exports=f===Object.prototype?void 0:f},8727:function(y){y.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3709:function(y,v,s){var u=s(2839).match(/firefox\/(\d+)/i);y.exports=!!u&&+u[1]},3763:function(y,v,s){var u=s(2839);y.exports=/MSIE|Trident/.test(u)},6193:function(y,v,s){var u=s(4215);y.exports=u==="NODE"},2839:function(y,v,s){var u=s(4576).navigator,f=u&&u.userAgent;y.exports=f?String(f):""},9519:function(y,v,s){var u,f,p=s(4576),m=s(2839),k=p.process,C=p.Deno,S=k&&k.versions||C&&C.version,x=S&&S.v8;x&&(f=(u=x.split("."))[0]>0&&u[0]<4?1:+(u[0]+u[1])),!f&&m&&(!(u=m.match(/Edge\/(\d+)/))||u[1]>=74)&&(u=m.match(/Chrome\/(\d+)/))&&(f=+u[1]),y.exports=f},3607:function(y,v,s){var u=s(2839).match(/AppleWebKit\/(\d+)\./);y.exports=!!u&&+u[1]},4215:function(y,v,s){var u=s(4576),f=s(2839),p=s(2195),m=function(k){return f.slice(0,k.length)===k};y.exports=m("Bun/")?"BUN":m("Cloudflare-Workers")?"CLOUDFLARE":m("Deno/")?"DENO":m("Node.js/")?"NODE":u.Bun&&typeof Bun.version=="string"?"BUN":u.Deno&&typeof Deno.version=="object"?"DENO":p(u.process)==="process"?"NODE":u.window&&u.document?"BROWSER":"REST"},6518:function(y,v,s){var u=s(4576),f=s(7347).f,p=s(6699),m=s(6840),k=s(9433),C=s(7740),S=s(2796);y.exports=function(x,M){var K,D,F,U,B,$=x.target,q=x.global,Y=x.stat;if(K=q?u:Y?u[$]||k($,{}):u[$]&&u[$].prototype)for(D in M){if(U=M[D],F=x.dontCallGetSet?(B=f(K,D))&&B.value:K[D],!S(q?D:$+(Y?".":"#")+D,x.forced)&&F!==void 0){if(typeof U==typeof F)continue;C(U,F)}(x.sham||F&&F.sham)&&p(U,"sham",!0),m(K,D,U,x)}}},9039:function(y){y.exports=function(v){try{return!!v()}catch{return!0}}},9228:function(y,v,s){s(7495);var u=s(9565),f=s(6840),p=s(7323),m=s(9039),k=s(8227),C=s(6699),S=k("species"),x=RegExp.prototype;y.exports=function(M,K,D,F){var U=k(M),B=!m(function(){var se={};return se[U]=function(){return 7},""[M](se)!==7}),$=B&&!m(function(){var se=!1,ne=/a/;return M==="split"&&((ne={}).constructor={},ne.constructor[S]=function(){return ne},ne.flags="",ne[U]=/./[U]),ne.exec=function(){return se=!0,null},ne[U](""),!se});if(!B||!$||D){var q=/./[U],Y=K(U,""[M],function(se,ne,ue,ae,oe){var me=ne.exec;return me===p||me===x.exec?B&&!oe?{done:!0,value:u(q,ne,ue,ae)}:{done:!0,value:u(se,ue,ne,ae)}:{done:!1}});f(String.prototype,M,Y[0]),f(x,U,Y[1])}F&&C(x[U],"sham",!0)}},8745:function(y,v,s){var u=s(616),f=Function.prototype,p=f.apply,m=f.call;y.exports=typeof Reflect=="object"&&Reflect.apply||(u?m.bind(p):function(){return m.apply(p,arguments)})},6080:function(y,v,s){var u=s(7476),f=s(9306),p=s(616),m=u(u.bind);y.exports=function(k,C){return f(k),C===void 0?k:p?m(k,C):function(){return k.apply(C,arguments)}}},616:function(y,v,s){var u=s(9039);y.exports=!u(function(){var f=(function(){}).bind();return typeof f!="function"||f.hasOwnProperty("prototype")})},9565:function(y,v,s){var u=s(616),f=Function.prototype.call;y.exports=u?f.bind(f):function(){return f.apply(f,arguments)}},350:function(y,v,s){var u=s(3724),f=s(9297),p=Function.prototype,m=u&&Object.getOwnPropertyDescriptor,k=f(p,"name"),C=k&&(function(){}).name==="something",S=k&&(!u||u&&m(p,"name").configurable);y.exports={EXISTS:k,PROPER:C,CONFIGURABLE:S}},6706:function(y,v,s){var u=s(9504),f=s(9306);y.exports=function(p,m,k){try{return u(f(Object.getOwnPropertyDescriptor(p,m)[k]))}catch{}}},7476:function(y,v,s){var u=s(2195),f=s(9504);y.exports=function(p){if(u(p)==="Function")return f(p)}},9504:function(y,v,s){var u=s(616),f=Function.prototype,p=f.call,m=u&&f.bind.bind(p,p);y.exports=u?m:function(k){return function(){return p.apply(k,arguments)}}},7751:function(y,v,s){var u=s(4576),f=s(4901);y.exports=function(p,m){return arguments.length<2?(k=u[p],f(k)?k:void 0):u[p]&&u[p][m];var k}},851:function(y,v,s){var u=s(6955),f=s(5966),p=s(4117),m=s(6269),k=s(8227)("iterator");y.exports=function(C){if(!p(C))return f(C,k)||f(C,"@@iterator")||m[u(C)]}},81:function(y,v,s){var u=s(9565),f=s(9306),p=s(8551),m=s(6823),k=s(851),C=TypeError;y.exports=function(S,x){var M=arguments.length<2?k(S):x;if(f(M))return p(u(M,S));throw new C(m(S)+" is not iterable")}},6933:function(y,v,s){var u=s(9504),f=s(4376),p=s(4901),m=s(2195),k=s(655),C=u([].push);y.exports=function(S){if(p(S))return S;if(f(S)){for(var x=S.length,M=[],K=0;K<x;K++){var D=S[K];typeof D=="string"?C(M,D):typeof D!="number"&&m(D)!=="Number"&&m(D)!=="String"||C(M,k(D))}var F=M.length,U=!0;return function(B,$){if(U)return U=!1,$;if(f(this))return $;for(var q=0;q<F;q++)if(M[q]===B)return $}}}},5966:function(y,v,s){var u=s(9306),f=s(4117);y.exports=function(p,m){var k=p[m];return f(k)?void 0:u(k)}},2478:function(y,v,s){var u=s(9504),f=s(8981),p=Math.floor,m=u("".charAt),k=u("".replace),C=u("".slice),S=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,x=/\$([$&'`]|\d{1,2})/g;y.exports=function(M,K,D,F,U,B){var $=D+M.length,q=F.length,Y=x;return U!==void 0&&(U=f(U),Y=S),k(B,Y,function(se,ne){var ue;switch(m(ne,0)){case"$":return"$";case"&":return M;case"`":return C(K,0,D);case"'":return C(K,$);case"<":ue=U[C(ne,1,-1)];break;default:var ae=+ne;if(ae===0)return se;if(ae>q){var oe=p(ae/10);return oe===0?se:oe<=q?F[oe-1]===void 0?m(ne,1):F[oe-1]+m(ne,1):se}ue=F[ae-1]}return ue===void 0?"":ue})}},4576:function(y,v,s){var u=function(f){return f&&f.Math===Math&&f};y.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof s.g=="object"&&s.g)||u(typeof this=="object"&&this)||function(){return this}()||Function("return this")()},9297:function(y,v,s){var u=s(9504),f=s(8981),p=u({}.hasOwnProperty);y.exports=Object.hasOwn||function(m,k){return p(f(m),k)}},421:function(y){y.exports={}},397:function(y,v,s){var u=s(7751);y.exports=u("document","documentElement")},5917:function(y,v,s){var u=s(3724),f=s(9039),p=s(4055);y.exports=!u&&!f(function(){return Object.defineProperty(p("div"),"a",{get:function(){return 7}}).a!==7})},7055:function(y,v,s){var u=s(9504),f=s(9039),p=s(2195),m=Object,k=u("".split);y.exports=f(function(){return!m("z").propertyIsEnumerable(0)})?function(C){return p(C)==="String"?k(C,""):m(C)}:m},3167:function(y,v,s){var u=s(4901),f=s(34),p=s(2967);y.exports=function(m,k,C){var S,x;return p&&u(S=k.constructor)&&S!==C&&f(x=S.prototype)&&x!==C.prototype&&p(m,x),m}},3706:function(y,v,s){var u=s(9504),f=s(4901),p=s(7629),m=u(Function.toString);f(p.inspectSource)||(p.inspectSource=function(k){return m(k)}),y.exports=p.inspectSource},1181:function(y,v,s){var u,f,p,m=s(8622),k=s(4576),C=s(34),S=s(6699),x=s(9297),M=s(7629),K=s(6119),D=s(421),F="Object already initialized",U=k.TypeError,B=k.WeakMap;if(m||M.state){var $=M.state||(M.state=new B);$.get=$.get,$.has=$.has,$.set=$.set,u=function(Y,se){if($.has(Y))throw new U(F);return se.facade=Y,$.set(Y,se),se},f=function(Y){return $.get(Y)||{}},p=function(Y){return $.has(Y)}}else{var q=K("state");D[q]=!0,u=function(Y,se){if(x(Y,q))throw new U(F);return se.facade=Y,S(Y,q,se),se},f=function(Y){return x(Y,q)?Y[q]:{}},p=function(Y){return x(Y,q)}}y.exports={set:u,get:f,has:p,enforce:function(Y){return p(Y)?f(Y):u(Y,{})},getterFor:function(Y){return function(se){var ne;if(!C(se)||(ne=f(se)).type!==Y)throw new U("Incompatible receiver, "+Y+" required");return ne}}}},4209:function(y,v,s){var u=s(8227),f=s(6269),p=u("iterator"),m=Array.prototype;y.exports=function(k){return k!==void 0&&(f.Array===k||m[p]===k)}},4376:function(y,v,s){var u=s(2195);y.exports=Array.isArray||function(f){return u(f)==="Array"}},4901:function(y){var v=typeof document=="object"&&document.all;y.exports=v===void 0&&v!==void 0?function(s){return typeof s=="function"||s===v}:function(s){return typeof s=="function"}},3517:function(y,v,s){var u=s(9504),f=s(9039),p=s(4901),m=s(6955),k=s(7751),C=s(3706),S=function(){},x=k("Reflect","construct"),M=/^\s*(?:class|function)\b/,K=u(M.exec),D=!M.test(S),F=function(B){if(!p(B))return!1;try{return x(S,[],B),!0}catch{return!1}},U=function(B){if(!p(B))return!1;switch(m(B)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return D||!!K(M,C(B))}catch{return!0}};U.sham=!0,y.exports=!x||f(function(){var B;return F(F.call)||!F(Object)||!F(function(){B=!0})||B})?U:F},2796:function(y,v,s){var u=s(9039),f=s(4901),p=/#|\.prototype\./,m=function(M,K){var D=C[k(M)];return D===x||D!==S&&(f(K)?u(K):!!K)},k=m.normalize=function(M){return String(M).replace(p,".").toLowerCase()},C=m.data={},S=m.NATIVE="N",x=m.POLYFILL="P";y.exports=m},2087:function(y,v,s){var u=s(34),f=Math.floor;y.exports=Number.isInteger||function(p){return!u(p)&&isFinite(p)&&f(p)===p}},4117:function(y){y.exports=function(v){return v==null}},34:function(y,v,s){var u=s(4901);y.exports=function(f){return typeof f=="object"?f!==null:u(f)}},3925:function(y,v,s){var u=s(34);y.exports=function(f){return u(f)||f===null}},6395:function(y){y.exports=!1},788:function(y,v,s){var u=s(34),f=s(2195),p=s(8227)("match");y.exports=function(m){var k;return u(m)&&((k=m[p])!==void 0?!!k:f(m)==="RegExp")}},757:function(y,v,s){var u=s(7751),f=s(4901),p=s(1625),m=s(7040),k=Object;y.exports=m?function(C){return typeof C=="symbol"}:function(C){var S=u("Symbol");return f(S)&&p(S.prototype,k(C))}},9539:function(y,v,s){var u=s(9565),f=s(8551),p=s(5966);y.exports=function(m,k,C){var S,x;f(m);try{if(!(S=p(m,"return"))){if(k==="throw")throw C;return C}S=u(S,m)}catch(M){x=!0,S=M}if(k==="throw")throw C;if(x)throw S;return f(S),C}},3994:function(y,v,s){var u=s(7657).IteratorPrototype,f=s(2360),p=s(6980),m=s(687),k=s(6269),C=function(){return this};y.exports=function(S,x,M,K){var D=x+" Iterator";return S.prototype=f(u,{next:p(+!K,M)}),m(S,D,!1,!0),k[D]=C,S}},1088:function(y,v,s){var u=s(6518),f=s(9565),p=s(6395),m=s(350),k=s(4901),C=s(3994),S=s(2787),x=s(2967),M=s(687),K=s(6699),D=s(6840),F=s(8227),U=s(6269),B=s(7657),$=m.PROPER,q=m.CONFIGURABLE,Y=B.IteratorPrototype,se=B.BUGGY_SAFARI_ITERATORS,ne=F("iterator"),ue="keys",ae="values",oe="entries",me=function(){return this};y.exports=function(ye,le,Te,ve,ke,Le,Ie){C(Te,le,ve);var _e,Re,Ne,Fe=function(He){if(He===ke&&be)return be;if(!se&&He&&He in Ee)return Ee[He];switch(He){case ue:case ae:case oe:return function(){return new Te(this,He)}}return function(){return new Te(this)}},Ae=le+" Iterator",De=!1,Ee=ye.prototype,xe=Ee[ne]||Ee["@@iterator"]||ke&&Ee[ke],be=!se&&xe||Fe(ke),qe=le==="Array"&&Ee.entries||xe;if(qe&&(_e=S(qe.call(new ye)))!==Object.prototype&&_e.next&&(p||S(_e)===Y||(x?x(_e,Y):k(_e[ne])||D(_e,ne,me)),M(_e,Ae,!0,!0),p&&(U[Ae]=me)),$&&ke===ae&&xe&&xe.name!==ae&&(!p&&q?K(Ee,"name",ae):(De=!0,be=function(){return f(xe,this)})),ke)if(Re={values:Fe(ae),keys:Le?be:Fe(ue),entries:Fe(oe)},Ie)for(Ne in Re)(se||De||!(Ne in Ee))&&D(Ee,Ne,Re[Ne]);else u({target:le,proto:!0,forced:se||De},Re);return p&&!Ie||Ee[ne]===be||D(Ee,ne,be,{name:ke}),U[le]=be,Re}},7657:function(y,v,s){var u,f,p,m=s(9039),k=s(4901),C=s(34),S=s(2360),x=s(2787),M=s(6840),K=s(8227),D=s(6395),F=K("iterator"),U=!1;[].keys&&("next"in(p=[].keys())?(f=x(x(p)))!==Object.prototype&&(u=f):U=!0),!C(u)||m(function(){var B={};return u[F].call(B)!==B})?u={}:D&&(u=S(u)),k(u[F])||M(u,F,function(){return this}),y.exports={IteratorPrototype:u,BUGGY_SAFARI_ITERATORS:U}},6269:function(y){y.exports={}},6198:function(y,v,s){var u=s(8014);y.exports=function(f){return u(f.length)}},283:function(y,v,s){var u=s(9504),f=s(9039),p=s(4901),m=s(9297),k=s(3724),C=s(350).CONFIGURABLE,S=s(3706),x=s(1181),M=x.enforce,K=x.get,D=String,F=Object.defineProperty,U=u("".slice),B=u("".replace),$=u([].join),q=k&&!f(function(){return F(function(){},"length",{value:8}).length!==8}),Y=String(String).split("String"),se=y.exports=function(ne,ue,ae){U(D(ue),0,7)==="Symbol("&&(ue="["+B(D(ue),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),ae&&ae.getter&&(ue="get "+ue),ae&&ae.setter&&(ue="set "+ue),(!m(ne,"name")||C&&ne.name!==ue)&&(k?F(ne,"name",{value:ue,configurable:!0}):ne.name=ue),q&&ae&&m(ae,"arity")&&ne.length!==ae.arity&&F(ne,"length",{value:ae.arity});try{ae&&m(ae,"constructor")&&ae.constructor?k&&F(ne,"prototype",{writable:!1}):ne.prototype&&(ne.prototype=void 0)}catch{}var oe=M(ne);return m(oe,"source")||(oe.source=$(Y,typeof ue=="string"?ue:"")),ne};Function.prototype.toString=se(function(){return p(this)&&K(this).source||S(this)},"toString")},741:function(y){var v=Math.ceil,s=Math.floor;y.exports=Math.trunc||function(u){var f=+u;return(f>0?s:v)(f)}},5749:function(y,v,s){var u=s(788),f=TypeError;y.exports=function(p){if(u(p))throw new f("The method doesn't accept regular expressions");return p}},4213:function(y,v,s){var u=s(3724),f=s(9504),p=s(9565),m=s(9039),k=s(1072),C=s(3717),S=s(8773),x=s(8981),M=s(7055),K=Object.assign,D=Object.defineProperty,F=f([].concat);y.exports=!K||m(function(){if(u&&K({b:1},K(D({},"a",{enumerable:!0,get:function(){D(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var U={},B={},$=Symbol("assign detection"),q="abcdefghijklmnopqrst";return U[$]=7,q.split("").forEach(function(Y){B[Y]=Y}),K({},U)[$]!==7||k(K({},B)).join("")!==q})?function(U,B){for(var $=x(U),q=arguments.length,Y=1,se=C.f,ne=S.f;q>Y;)for(var ue,ae=M(arguments[Y++]),oe=se?F(k(ae),se(ae)):k(ae),me=oe.length,ye=0;me>ye;)ue=oe[ye++],u&&!p(ne,ae,ue)||($[ue]=ae[ue]);return $}:K},2360:function(y,v,s){var u,f=s(8551),p=s(6801),m=s(8727),k=s(421),C=s(397),S=s(4055),x=s(6119),M="prototype",K="script",D=x("IE_PROTO"),F=function(){},U=function(q){return"<"+K+">"+q+"</"+K+">"},B=function(q){q.write(U("")),q.close();var Y=q.parentWindow.Object;return q=null,Y},$=function(){try{u=new ActiveXObject("htmlfile")}catch{}var q,Y,se;$=typeof document<"u"?document.domain&&u?B(u):(Y=S("iframe"),se="java"+K+":",Y.style.display="none",C.appendChild(Y),Y.src=String(se),(q=Y.contentWindow.document).open(),q.write(U("document.F=Object")),q.close(),q.F):B(u);for(var ne=m.length;ne--;)delete $[M][m[ne]];return $()};k[D]=!0,y.exports=Object.create||function(q,Y){var se;return q!==null?(F[M]=f(q),se=new F,F[M]=null,se[D]=q):se=$(),Y===void 0?se:p.f(se,Y)}},6801:function(y,v,s){var u=s(3724),f=s(8686),p=s(4913),m=s(8551),k=s(5397),C=s(1072);v.f=u&&!f?Object.defineProperties:function(S,x){m(S);for(var M,K=k(x),D=C(x),F=D.length,U=0;F>U;)p.f(S,M=D[U++],K[M]);return S}},4913:function(y,v,s){var u=s(3724),f=s(5917),p=s(8686),m=s(8551),k=s(6969),C=TypeError,S=Object.defineProperty,x=Object.getOwnPropertyDescriptor,M="enumerable",K="configurable",D="writable";v.f=u?p?function(F,U,B){if(m(F),U=k(U),m(B),typeof F=="function"&&U==="prototype"&&"value"in B&&D in B&&!B[D]){var $=x(F,U);$&&$[D]&&(F[U]=B.value,B={configurable:K in B?B[K]:$[K],enumerable:M in B?B[M]:$[M],writable:!1})}return S(F,U,B)}:S:function(F,U,B){if(m(F),U=k(U),m(B),f)try{return S(F,U,B)}catch{}if("get"in B||"set"in B)throw new C("Accessors not supported");return"value"in B&&(F[U]=B.value),F}},7347:function(y,v,s){var u=s(3724),f=s(9565),p=s(8773),m=s(6980),k=s(5397),C=s(6969),S=s(9297),x=s(5917),M=Object.getOwnPropertyDescriptor;v.f=u?M:function(K,D){if(K=k(K),D=C(D),x)try{return M(K,D)}catch{}if(S(K,D))return m(!f(p.f,K,D),K[D])}},298:function(y,v,s){var u=s(2195),f=s(5397),p=s(8480).f,m=s(7680),k=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];y.exports.f=function(C){return k&&u(C)==="Window"?function(S){try{return p(S)}catch{return m(k)}}(C):p(f(C))}},8480:function(y,v,s){var u=s(1828),f=s(8727).concat("length","prototype");v.f=Object.getOwnPropertyNames||function(p){return u(p,f)}},3717:function(y,v){v.f=Object.getOwnPropertySymbols},2787:function(y,v,s){var u=s(9297),f=s(4901),p=s(8981),m=s(6119),k=s(2211),C=m("IE_PROTO"),S=Object,x=S.prototype;y.exports=k?S.getPrototypeOf:function(M){var K=p(M);if(u(K,C))return K[C];var D=K.constructor;return f(D)&&K instanceof D?D.prototype:K instanceof S?x:null}},1625:function(y,v,s){var u=s(9504);y.exports=u({}.isPrototypeOf)},1828:function(y,v,s){var u=s(9504),f=s(9297),p=s(5397),m=s(9617).indexOf,k=s(421),C=u([].push);y.exports=function(S,x){var M,K=p(S),D=0,F=[];for(M in K)!f(k,M)&&f(K,M)&&C(F,M);for(;x.length>D;)f(K,M=x[D++])&&(~m(F,M)||C(F,M));return F}},1072:function(y,v,s){var u=s(1828),f=s(8727);y.exports=Object.keys||function(p){return u(p,f)}},8773:function(y,v){var s={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,f=u&&!s.call({1:2},1);v.f=f?function(p){var m=u(this,p);return!!m&&m.enumerable}:s},2551:function(y,v,s){var u=s(6395),f=s(4576),p=s(9039),m=s(3607);y.exports=u||!p(function(){if(!(m&&m<535)){var k=Math.random();__defineSetter__.call(null,k,function(){}),delete f[k]}})},2967:function(y,v,s){var u=s(6706),f=s(34),p=s(7750),m=s(3506);y.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var k,C=!1,S={};try{(k=u(Object.prototype,"__proto__","set"))(S,[]),C=S instanceof Array}catch{}return function(x,M){return p(x),m(M),f(x)&&(C?k(x,M):x.__proto__=M),x}}():void 0)},3179:function(y,v,s){var u=s(2140),f=s(6955);y.exports=u?{}.toString:function(){return"[object "+f(this)+"]"}},4270:function(y,v,s){var u=s(9565),f=s(4901),p=s(34),m=TypeError;y.exports=function(k,C){var S,x;if(C==="string"&&f(S=k.toString)&&!p(x=u(S,k))||f(S=k.valueOf)&&!p(x=u(S,k))||C!=="string"&&f(S=k.toString)&&!p(x=u(S,k)))return x;throw new m("Can't convert object to primitive value")}},5031:function(y,v,s){var u=s(7751),f=s(9504),p=s(8480),m=s(3717),k=s(8551),C=f([].concat);y.exports=u("Reflect","ownKeys")||function(S){var x=p.f(k(S)),M=m.f;return M?C(x,M(S)):x}},9167:function(y,v,s){var u=s(4576);y.exports=u},1056:function(y,v,s){var u=s(4913).f;y.exports=function(f,p,m){m in f||u(f,m,{configurable:!0,get:function(){return p[m]},set:function(k){p[m]=k}})}},6682:function(y,v,s){var u=s(9565),f=s(8551),p=s(4901),m=s(2195),k=s(7323),C=TypeError;y.exports=function(S,x){var M=S.exec;if(p(M)){var K=u(M,S,x);return K!==null&&f(K),K}if(m(S)==="RegExp")return u(k,S,x);throw new C("RegExp#exec called on incompatible receiver")}},7323:function(y,v,s){var u,f,p=s(9565),m=s(9504),k=s(655),C=s(7979),S=s(8429),x=s(5745),M=s(2360),K=s(1181).get,D=s(3635),F=s(8814),U=x("native-string-replace",String.prototype.replace),B=RegExp.prototype.exec,$=B,q=m("".charAt),Y=m("".indexOf),se=m("".replace),ne=m("".slice),ue=(f=/b*/g,p(B,u=/a/,"a"),p(B,f,"a"),u.lastIndex!==0||f.lastIndex!==0),ae=S.BROKEN_CARET,oe=/()??/.exec("")[1]!==void 0;(ue||oe||ae||D||F)&&($=function(me){var ye,le,Te,ve,ke,Le,Ie,_e=this,Re=K(_e),Ne=k(me),Fe=Re.raw;if(Fe)return Fe.lastIndex=_e.lastIndex,ye=p($,Fe,Ne),_e.lastIndex=Fe.lastIndex,ye;var Ae=Re.groups,De=ae&&_e.sticky,Ee=p(C,_e),xe=_e.source,be=0,qe=Ne;if(De&&(Ee=se(Ee,"y",""),Y(Ee,"g")===-1&&(Ee+="g"),qe=ne(Ne,_e.lastIndex),_e.lastIndex>0&&(!_e.multiline||_e.multiline&&q(Ne,_e.lastIndex-1)!==`
`)&&(xe="(?: "+xe+")",qe=" "+qe,be++),le=new RegExp("^(?:"+xe+")",Ee)),oe&&(le=new RegExp("^"+xe+"$(?!\\s)",Ee)),ue&&(Te=_e.lastIndex),ve=p(B,De?le:_e,qe),De?ve?(ve.input=ne(ve.input,be),ve[0]=ne(ve[0],be),ve.index=_e.lastIndex,_e.lastIndex+=ve[0].length):_e.lastIndex=0:ue&&ve&&(_e.lastIndex=_e.global?ve.index+ve[0].length:Te),oe&&ve&&ve.length>1&&p(U,ve[0],le,function(){for(ke=1;ke<arguments.length-2;ke++)arguments[ke]===void 0&&(ve[ke]=void 0)}),ve&&Ae)for(ve.groups=Le=M(null),ke=0;ke<Ae.length;ke++)Le[(Ie=Ae[ke])[0]]=ve[Ie[1]];return ve}),y.exports=$},7979:function(y,v,s){var u=s(8551);y.exports=function(){var f=u(this),p="";return f.hasIndices&&(p+="d"),f.global&&(p+="g"),f.ignoreCase&&(p+="i"),f.multiline&&(p+="m"),f.dotAll&&(p+="s"),f.unicode&&(p+="u"),f.unicodeSets&&(p+="v"),f.sticky&&(p+="y"),p}},1034:function(y,v,s){var u=s(9565),f=s(9297),p=s(1625),m=s(7979),k=RegExp.prototype;y.exports=function(C){var S=C.flags;return S!==void 0||"flags"in k||f(C,"flags")||!p(k,C)?S:u(m,C)}},8429:function(y,v,s){var u=s(9039),f=s(4576).RegExp,p=u(function(){var C=f("a","y");return C.lastIndex=2,C.exec("abcd")!==null}),m=p||u(function(){return!f("a","y").sticky}),k=p||u(function(){var C=f("^r","gy");return C.lastIndex=2,C.exec("str")!==null});y.exports={BROKEN_CARET:k,MISSED_STICKY:m,UNSUPPORTED_Y:p}},3635:function(y,v,s){var u=s(9039),f=s(4576).RegExp;y.exports=u(function(){var p=f(".","s");return!(p.dotAll&&p.test(`
`)&&p.flags==="s")})},8814:function(y,v,s){var u=s(9039),f=s(4576).RegExp;y.exports=u(function(){var p=f("(?<a>b)","g");return p.exec("b").groups.a!=="b"||"b".replace(p,"$<a>c")!=="bc"})},7750:function(y,v,s){var u=s(4117),f=TypeError;y.exports=function(p){if(u(p))throw new f("Can't call method on "+p);return p}},7633:function(y,v,s){var u=s(7751),f=s(2106),p=s(8227),m=s(3724),k=p("species");y.exports=function(C){var S=u(C);m&&S&&!S[k]&&f(S,k,{configurable:!0,get:function(){return this}})}},687:function(y,v,s){var u=s(4913).f,f=s(9297),p=s(8227)("toStringTag");y.exports=function(m,k,C){m&&!C&&(m=m.prototype),m&&!f(m,p)&&u(m,p,{configurable:!0,value:k})}},6119:function(y,v,s){var u=s(5745),f=s(3392),p=u("keys");y.exports=function(m){return p[m]||(p[m]=f(m))}},7629:function(y,v,s){var u=s(6395),f=s(4576),p=s(9433),m="__core-js_shared__",k=y.exports=f[m]||p(m,{});(k.versions||(k.versions=[])).push({version:"3.39.0",mode:u?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(y,v,s){var u=s(7629);y.exports=function(f,p){return u[f]||(u[f]=p||{})}},2293:function(y,v,s){var u=s(8551),f=s(5548),p=s(4117),m=s(8227)("species");y.exports=function(k,C){var S,x=u(k).constructor;return x===void 0||p(S=u(x)[m])?C:f(S)}},8183:function(y,v,s){var u=s(9504),f=s(1291),p=s(655),m=s(7750),k=u("".charAt),C=u("".charCodeAt),S=u("".slice),x=function(M){return function(K,D){var F,U,B=p(m(K)),$=f(D),q=B.length;return $<0||$>=q?M?"":void 0:(F=C(B,$))<55296||F>56319||$+1===q||(U=C(B,$+1))<56320||U>57343?M?k(B,$):F:M?S(B,$,$+2):U-56320+(F-55296<<10)+65536}};y.exports={codeAt:x(!1),charAt:x(!0)}},706:function(y,v,s){var u=s(350).PROPER,f=s(9039),p=s(7452);y.exports=function(m){return f(function(){return!!p[m]()||"​᠎"[m]()!=="​᠎"||u&&p[m].name!==m})}},3802:function(y,v,s){var u=s(9504),f=s(7750),p=s(655),m=s(7452),k=u("".replace),C=RegExp("^["+m+"]+"),S=RegExp("(^|[^"+m+"])["+m+"]+$"),x=function(M){return function(K){var D=p(f(K));return 1&M&&(D=k(D,C,"")),2&M&&(D=k(D,S,"$1")),D}};y.exports={start:x(1),end:x(2),trim:x(3)}},4495:function(y,v,s){var u=s(9519),f=s(9039),p=s(4576).String;y.exports=!!Object.getOwnPropertySymbols&&!f(function(){var m=Symbol("symbol detection");return!p(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&u&&u<41})},8242:function(y,v,s){var u=s(9565),f=s(7751),p=s(8227),m=s(6840);y.exports=function(){var k=f("Symbol"),C=k&&k.prototype,S=C&&C.valueOf,x=p("toPrimitive");C&&!C[x]&&m(C,x,function(M){return u(S,this)},{arity:1})}},1296:function(y,v,s){var u=s(4495);y.exports=u&&!!Symbol.for&&!!Symbol.keyFor},1240:function(y,v,s){var u=s(9504);y.exports=u(1 .valueOf)},5610:function(y,v,s){var u=s(1291),f=Math.max,p=Math.min;y.exports=function(m,k){var C=u(m);return C<0?f(C+k,0):p(C,k)}},5397:function(y,v,s){var u=s(7055),f=s(7750);y.exports=function(p){return u(f(p))}},1291:function(y,v,s){var u=s(741);y.exports=function(f){var p=+f;return p!=p||p===0?0:u(p)}},8014:function(y,v,s){var u=s(1291),f=Math.min;y.exports=function(p){var m=u(p);return m>0?f(m,9007199254740991):0}},8981:function(y,v,s){var u=s(7750),f=Object;y.exports=function(p){return f(u(p))}},2777:function(y,v,s){var u=s(9565),f=s(34),p=s(757),m=s(5966),k=s(4270),C=s(8227),S=TypeError,x=C("toPrimitive");y.exports=function(M,K){if(!f(M)||p(M))return M;var D,F=m(M,x);if(F){if(K===void 0&&(K="default"),D=u(F,M,K),!f(D)||p(D))return D;throw new S("Can't convert object to primitive value")}return K===void 0&&(K="number"),k(M,K)}},6969:function(y,v,s){var u=s(2777),f=s(757);y.exports=function(p){var m=u(p,"string");return f(m)?m:m+""}},2140:function(y,v,s){var u={};u[s(8227)("toStringTag")]="z",y.exports=String(u)==="[object z]"},655:function(y,v,s){var u=s(6955),f=String;y.exports=function(p){if(u(p)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return f(p)}},6823:function(y){var v=String;y.exports=function(s){try{return v(s)}catch{return"Object"}}},3392:function(y,v,s){var u=s(9504),f=0,p=Math.random(),m=u(1 .toString);y.exports=function(k){return"Symbol("+(k===void 0?"":k)+")_"+m(++f+p,36)}},7040:function(y,v,s){var u=s(4495);y.exports=u&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},8686:function(y,v,s){var u=s(3724),f=s(9039);y.exports=u&&f(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},8622:function(y,v,s){var u=s(4576),f=s(4901),p=u.WeakMap;y.exports=f(p)&&/native code/.test(String(p))},511:function(y,v,s){var u=s(9167),f=s(9297),p=s(1951),m=s(4913).f;y.exports=function(k){var C=u.Symbol||(u.Symbol={});f(C,k)||m(C,k,{value:p.f(k)})}},1951:function(y,v,s){var u=s(8227);v.f=u},8227:function(y,v,s){var u=s(4576),f=s(5745),p=s(9297),m=s(3392),k=s(4495),C=s(7040),S=u.Symbol,x=f("wks"),M=C?S.for||S:S&&S.withoutSetter||m;y.exports=function(K){return p(x,K)||(x[K]=k&&p(S,K)?S[K]:M("Symbol."+K)),x[K]}},7452:function(y){y.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},8706:function(y,v,s){var u=s(6518),f=s(9039),p=s(4376),m=s(34),k=s(8981),C=s(6198),S=s(6837),x=s(4659),M=s(1469),K=s(597),D=s(8227),F=s(9519),U=D("isConcatSpreadable"),B=F>=51||!f(function(){var q=[];return q[U]=!1,q.concat()[0]!==q}),$=function(q){if(!m(q))return!1;var Y=q[U];return Y!==void 0?!!Y:p(q)};u({target:"Array",proto:!0,arity:1,forced:!B||!K("concat")},{concat:function(q){var Y,se,ne,ue,ae,oe=k(this),me=M(oe,0),ye=0;for(Y=-1,ne=arguments.length;Y<ne;Y++)if($(ae=Y===-1?oe:arguments[Y]))for(ue=C(ae),S(ye+ue),se=0;se<ue;se++,ye++)se in ae&&x(me,ye,ae[se]);else S(ye+1),x(me,ye++,ae);return me.length=ye,me}})},2008:function(y,v,s){var u=s(6518),f=s(9213).filter;u({target:"Array",proto:!0,forced:!s(597)("filter")},{filter:function(p){return f(this,p,arguments.length>1?arguments[1]:void 0)}})},3418:function(y,v,s){var u=s(6518),f=s(7916);u({target:"Array",stat:!0,forced:!s(4428)(function(p){Array.from(p)})},{from:f})},4423:function(y,v,s){var u=s(6518),f=s(9617).includes,p=s(9039),m=s(6469);u({target:"Array",proto:!0,forced:p(function(){return!Array(1).includes()})},{includes:function(k){return f(this,k,arguments.length>1?arguments[1]:void 0)}}),m("includes")},5276:function(y,v,s){var u=s(6518),f=s(7476),p=s(9617).indexOf,m=s(4598),k=f([].indexOf),C=!!k&&1/k([1],1,-0)<0;u({target:"Array",proto:!0,forced:C||!m("indexOf")},{indexOf:function(S){var x=arguments.length>1?arguments[1]:void 0;return C?k(this,S,x)||0:p(this,S,x)}})},3792:function(y,v,s){var u=s(5397),f=s(6469),p=s(6269),m=s(1181),k=s(4913).f,C=s(1088),S=s(2529),x=s(6395),M=s(3724),K="Array Iterator",D=m.set,F=m.getterFor(K);y.exports=C(Array,"Array",function(B,$){D(this,{type:K,target:u(B),index:0,kind:$})},function(){var B=F(this),$=B.target,q=B.index++;if(!$||q>=$.length)return B.target=null,S(void 0,!0);switch(B.kind){case"keys":return S(q,!1);case"values":return S($[q],!1)}return S([q,$[q]],!1)},"values");var U=p.Arguments=p.Array;if(f("keys"),f("values"),f("entries"),!x&&M&&U.name!=="values")try{k(U,"name",{value:"values"})}catch{}},8598:function(y,v,s){var u=s(6518),f=s(9504),p=s(7055),m=s(5397),k=s(4598),C=f([].join);u({target:"Array",proto:!0,forced:p!==Object||!k("join",",")},{join:function(S){return C(m(this),S===void 0?",":S)}})},2062:function(y,v,s){var u=s(6518),f=s(9213).map;u({target:"Array",proto:!0,forced:!s(597)("map")},{map:function(p){return f(this,p,arguments.length>1?arguments[1]:void 0)}})},2712:function(y,v,s){var u=s(6518),f=s(926).left,p=s(4598),m=s(9519);u({target:"Array",proto:!0,forced:!s(6193)&&m>79&&m<83||!p("reduce")},{reduce:function(k){var C=arguments.length;return f(this,k,C,C>1?arguments[1]:void 0)}})},4782:function(y,v,s){var u=s(6518),f=s(4376),p=s(3517),m=s(34),k=s(5610),C=s(6198),S=s(5397),x=s(4659),M=s(8227),K=s(597),D=s(7680),F=K("slice"),U=M("species"),B=Array,$=Math.max;u({target:"Array",proto:!0,forced:!F},{slice:function(q,Y){var se,ne,ue,ae=S(this),oe=C(ae),me=k(q,oe),ye=k(Y===void 0?oe:Y,oe);if(f(ae)&&(se=ae.constructor,(p(se)&&(se===B||f(se.prototype))||m(se)&&(se=se[U])===null)&&(se=void 0),se===B||se===void 0))return D(ae,me,ye);for(ne=new(se===void 0?B:se)($(ye-me,0)),ue=0;me<ye;me++,ue++)me in ae&&x(ne,ue,ae[me]);return ne.length=ue,ne}})},6910:function(y,v,s){var u=s(6518),f=s(9504),p=s(9306),m=s(8981),k=s(6198),C=s(4606),S=s(655),x=s(9039),M=s(4488),K=s(4598),D=s(3709),F=s(3763),U=s(9519),B=s(3607),$=[],q=f($.sort),Y=f($.push),se=x(function(){$.sort(void 0)}),ne=x(function(){$.sort(null)}),ue=K("sort"),ae=!x(function(){if(U)return U<70;if(!(D&&D>3)){if(F)return!0;if(B)return B<603;var oe,me,ye,le,Te="";for(oe=65;oe<76;oe++){switch(me=String.fromCharCode(oe),oe){case 66:case 69:case 70:case 72:ye=3;break;case 68:case 71:ye=4;break;default:ye=2}for(le=0;le<47;le++)$.push({k:me+le,v:ye})}for($.sort(function(ve,ke){return ke.v-ve.v}),le=0;le<$.length;le++)me=$[le].k.charAt(0),Te.charAt(Te.length-1)!==me&&(Te+=me);return Te!=="DGBEFHACIJK"}});u({target:"Array",proto:!0,forced:se||!ne||!ue||!ae},{sort:function(oe){oe!==void 0&&p(oe);var me=m(this);if(ae)return oe===void 0?q(me):q(me,oe);var ye,le,Te=[],ve=k(me);for(le=0;le<ve;le++)le in me&&Y(Te,me[le]);for(M(Te,function(ke){return function(Le,Ie){return Ie===void 0?-1:Le===void 0?1:ke!==void 0?+ke(Le,Ie)||0:S(Le)>S(Ie)?1:-1}}(oe)),ye=k(Te),le=0;le<ye;)me[le]=Te[le++];for(;le<ve;)C(me,le++);return me}})},4554:function(y,v,s){var u=s(6518),f=s(8981),p=s(5610),m=s(1291),k=s(6198),C=s(4527),S=s(6837),x=s(1469),M=s(4659),K=s(4606),D=s(597)("splice"),F=Math.max,U=Math.min;u({target:"Array",proto:!0,forced:!D},{splice:function(B,$){var q,Y,se,ne,ue,ae,oe=f(this),me=k(oe),ye=p(B,me),le=arguments.length;for(le===0?q=Y=0:le===1?(q=0,Y=me-ye):(q=le-2,Y=U(F(m($),0),me-ye)),S(me+q-Y),se=x(oe,Y),ne=0;ne<Y;ne++)(ue=ye+ne)in oe&&M(se,ne,oe[ue]);if(se.length=Y,q<Y){for(ne=ye;ne<me-Y;ne++)ae=ne+q,(ue=ne+Y)in oe?oe[ae]=oe[ue]:K(oe,ae);for(ne=me;ne>me-Y+q;ne--)K(oe,ne-1)}else if(q>Y)for(ne=me-Y;ne>ye;ne--)ae=ne+q-1,(ue=ne+Y-1)in oe?oe[ae]=oe[ue]:K(oe,ae);for(ne=0;ne<q;ne++)oe[ne+ye]=arguments[ne+2];return C(oe,me-Y+q),se}})},739:function(y,v,s){var u=s(6518),f=s(9039),p=s(8981),m=s(2777);u({target:"Date",proto:!0,arity:1,forced:f(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1})},{toJSON:function(k){var C=p(this),S=m(C,"number");return typeof S!="number"||isFinite(S)?C.toISOString():null}})},9572:function(y,v,s){var u=s(9297),f=s(6840),p=s(3640),m=s(8227)("toPrimitive"),k=Date.prototype;u(k,m)||f(k,m,p)},2010:function(y,v,s){var u=s(3724),f=s(350).EXISTS,p=s(9504),m=s(2106),k=Function.prototype,C=p(k.toString),S=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,x=p(S.exec);u&&!f&&m(k,"name",{configurable:!0,get:function(){try{return x(S,C(this))[1]}catch{return""}}})},3110:function(y,v,s){var u=s(6518),f=s(7751),p=s(8745),m=s(9565),k=s(9504),C=s(9039),S=s(4901),x=s(757),M=s(7680),K=s(6933),D=s(4495),F=String,U=f("JSON","stringify"),B=k(/./.exec),$=k("".charAt),q=k("".charCodeAt),Y=k("".replace),se=k(1 .toString),ne=/[\uD800-\uDFFF]/g,ue=/^[\uD800-\uDBFF]$/,ae=/^[\uDC00-\uDFFF]$/,oe=!D||C(function(){var Te=f("Symbol")("stringify detection");return U([Te])!=="[null]"||U({a:Te})!=="{}"||U(Object(Te))!=="{}"}),me=C(function(){return U("\uDF06\uD834")!=='"\\udf06\\ud834"'||U("\uDEAD")!=='"\\udead"'}),ye=function(Te,ve){var ke=M(arguments),Le=K(ve);if(S(Le)||Te!==void 0&&!x(Te))return ke[1]=function(Ie,_e){if(S(Le)&&(_e=m(Le,this,F(Ie),_e)),!x(_e))return _e},p(U,null,ke)},le=function(Te,ve,ke){var Le=$(ke,ve-1),Ie=$(ke,ve+1);return B(ue,Te)&&!B(ae,Ie)||B(ae,Te)&&!B(ue,Le)?"\\u"+se(q(Te,0),16):Te};U&&u({target:"JSON",stat:!0,arity:3,forced:oe||me},{stringify:function(Te,ve,ke){var Le=M(arguments),Ie=p(oe?ye:U,null,Le);return me&&typeof Ie=="string"?Y(Ie,ne,le):Ie}})},2892:function(y,v,s){var u=s(6518),f=s(6395),p=s(3724),m=s(4576),k=s(9167),C=s(9504),S=s(2796),x=s(9297),M=s(3167),K=s(1625),D=s(757),F=s(2777),U=s(9039),B=s(8480).f,$=s(7347).f,q=s(4913).f,Y=s(1240),se=s(3802).trim,ne="Number",ue=m[ne],ae=k[ne],oe=ue.prototype,me=m.TypeError,ye=C("".slice),le=C("".charCodeAt),Te=function(Ie){var _e,Re,Ne,Fe,Ae,De,Ee,xe,be=F(Ie,"number");if(D(be))throw new me("Cannot convert a Symbol value to a number");if(typeof be=="string"&&be.length>2){if(be=se(be),(_e=le(be,0))===43||_e===45){if((Re=le(be,2))===88||Re===120)return NaN}else if(_e===48){switch(le(be,1)){case 66:case 98:Ne=2,Fe=49;break;case 79:case 111:Ne=8,Fe=55;break;default:return+be}for(De=(Ae=ye(be,2)).length,Ee=0;Ee<De;Ee++)if((xe=le(Ae,Ee))<48||xe>Fe)return NaN;return parseInt(Ae,Ne)}}return+be},ve=S(ne,!ue(" 0o1")||!ue("0b1")||ue("+0x1")),ke=function(Ie){var _e,Re=arguments.length<1?0:ue(function(Ne){var Fe=F(Ne,"number");return typeof Fe=="bigint"?Fe:Te(Fe)}(Ie));return K(oe,_e=this)&&U(function(){Y(_e)})?M(Object(Re),this,ke):Re};ke.prototype=oe,ve&&!f&&(oe.constructor=ke),u({global:!0,constructor:!0,wrap:!0,forced:ve},{Number:ke});var Le=function(Ie,_e){for(var Re,Ne=p?B(_e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Fe=0;Ne.length>Fe;Fe++)x(_e,Re=Ne[Fe])&&!x(Ie,Re)&&q(Ie,Re,$(_e,Re))};f&&ae&&Le(k[ne],ae),(ve||f)&&Le(k[ne],ue)},2637:function(y,v,s){s(6518)({target:"Number",stat:!0},{isInteger:s(2087)})},9085:function(y,v,s){var u=s(6518),f=s(4213);u({target:"Object",stat:!0,arity:2,forced:Object.assign!==f},{assign:f})},7427:function(y,v,s){var u=s(6518),f=s(3724),p=s(2551),m=s(9306),k=s(8981),C=s(4913);f&&u({target:"Object",proto:!0,forced:p},{__defineGetter__:function(S,x){C.f(k(this),S,{get:m(x),enumerable:!0,configurable:!0})}})},3851:function(y,v,s){var u=s(6518),f=s(9039),p=s(5397),m=s(7347).f,k=s(3724);u({target:"Object",stat:!0,forced:!k||f(function(){m(1)}),sham:!k},{getOwnPropertyDescriptor:function(C,S){return m(p(C),S)}})},1278:function(y,v,s){var u=s(6518),f=s(3724),p=s(5031),m=s(5397),k=s(7347),C=s(4659);u({target:"Object",stat:!0,sham:!f},{getOwnPropertyDescriptors:function(S){for(var x,M,K=m(S),D=k.f,F=p(K),U={},B=0;F.length>B;)(M=D(K,x=F[B++]))!==void 0&&C(U,x,M);return U}})},1480:function(y,v,s){var u=s(6518),f=s(9039),p=s(298).f;u({target:"Object",stat:!0,forced:f(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:p})},9773:function(y,v,s){var u=s(6518),f=s(4495),p=s(9039),m=s(3717),k=s(8981);u({target:"Object",stat:!0,forced:!f||p(function(){m.f(1)})},{getOwnPropertySymbols:function(C){var S=m.f;return S?S(k(C)):[]}})},9432:function(y,v,s){var u=s(6518),f=s(8981),p=s(1072);u({target:"Object",stat:!0,forced:s(9039)(function(){p(1)})},{keys:function(m){return p(f(m))}})},6099:function(y,v,s){var u=s(2140),f=s(6840),p=s(3179);u||f(Object.prototype,"toString",p,{unsafe:!0})},4864:function(y,v,s){var u=s(3724),f=s(4576),p=s(9504),m=s(2796),k=s(3167),C=s(6699),S=s(2360),x=s(8480).f,M=s(1625),K=s(788),D=s(655),F=s(1034),U=s(8429),B=s(1056),$=s(6840),q=s(9039),Y=s(9297),se=s(1181).enforce,ne=s(7633),ue=s(8227),ae=s(3635),oe=s(8814),me=ue("match"),ye=f.RegExp,le=ye.prototype,Te=f.SyntaxError,ve=p(le.exec),ke=p("".charAt),Le=p("".replace),Ie=p("".indexOf),_e=p("".slice),Re=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Ne=/a/g,Fe=/a/g,Ae=new ye(Ne)!==Ne,De=U.MISSED_STICKY,Ee=U.UNSUPPORTED_Y;if(m("RegExp",u&&(!Ae||De||ae||oe||q(function(){return Fe[me]=!1,ye(Ne)!==Ne||ye(Fe)===Fe||String(ye(Ne,"i"))!=="/a/i"})))){for(var xe=function(He,Ze){var Tt,qt,xn,Dn,Yn,dn,sr=M(le,this),fn=K(He),Fi=Ze===void 0,Mo=[],Er=He;if(!sr&&fn&&Fi&&He.constructor===xe)return He;if((fn||M(le,He))&&(He=He.source,Fi&&(Ze=F(Er))),He=He===void 0?"":D(He),Ze=Ze===void 0?"":D(Ze),Er=He,ae&&"dotAll"in Ne&&(qt=!!Ze&&Ie(Ze,"s")>-1)&&(Ze=Le(Ze,/s/g,"")),Tt=Ze,De&&"sticky"in Ne&&(xn=!!Ze&&Ie(Ze,"y")>-1)&&Ee&&(Ze=Le(Ze,/y/g,"")),oe&&(Dn=function(wt){for(var ft,Li=wt.length,Mt=0,Mn="",Rn=[],Ro=S(null),br=!1,Nr=!1,jo=0,ar="";Mt<=Li;Mt++){if((ft=ke(wt,Mt))==="\\")ft+=ke(wt,++Mt);else if(ft==="]")br=!1;else if(!br)switch(!0){case ft==="[":br=!0;break;case ft==="(":if(Mn+=ft,_e(wt,Mt+1,Mt+3)==="?:")continue;ve(Re,_e(wt,Mt+1))&&(Mt+=2,Nr=!0),jo++;continue;case(ft===">"&&Nr):if(ar===""||Y(Ro,ar))throw new Te("Invalid capture group name");Ro[ar]=!0,Rn[Rn.length]=[ar,jo],Nr=!1,ar="";continue}Nr?ar+=ft:Mn+=ft}return[Mn,Rn]}(He),He=Dn[0],Mo=Dn[1]),Yn=k(ye(He,Ze),sr?this:le,xe),(qt||xn||Mo.length)&&(dn=se(Yn),qt&&(dn.dotAll=!0,dn.raw=xe(function(wt){for(var ft,Li=wt.length,Mt=0,Mn="",Rn=!1;Mt<=Li;Mt++)(ft=ke(wt,Mt))!=="\\"?Rn||ft!=="."?(ft==="["?Rn=!0:ft==="]"&&(Rn=!1),Mn+=ft):Mn+="[\\s\\S]":Mn+=ft+ke(wt,++Mt);return Mn}(He),Tt)),xn&&(dn.sticky=!0),Mo.length&&(dn.groups=Mo)),He!==Er)try{C(Yn,"source",Er===""?"(?:)":Er)}catch{}return Yn},be=x(ye),qe=0;be.length>qe;)B(xe,ye,be[qe++]);le.constructor=xe,xe.prototype=le,$(f,"RegExp",xe,{constructor:!0})}ne("RegExp")},7495:function(y,v,s){var u=s(6518),f=s(7323);u({target:"RegExp",proto:!0,forced:/./.exec!==f},{exec:f})},8781:function(y,v,s){var u=s(350).PROPER,f=s(6840),p=s(8551),m=s(655),k=s(9039),C=s(1034),S="toString",x=RegExp.prototype,M=x[S],K=k(function(){return M.call({source:"a",flags:"b"})!=="/a/b"}),D=u&&M.name!==S;(K||D)&&f(x,S,function(){var F=p(this);return"/"+m(F.source)+"/"+m(C(F))},{unsafe:!0})},1699:function(y,v,s){var u=s(6518),f=s(9504),p=s(5749),m=s(7750),k=s(655),C=s(1436),S=f("".indexOf);u({target:"String",proto:!0,forced:!C("includes")},{includes:function(x){return!!~S(k(m(this)),k(p(x)),arguments.length>1?arguments[1]:void 0)}})},7764:function(y,v,s){var u=s(8183).charAt,f=s(655),p=s(1181),m=s(1088),k=s(2529),C="String Iterator",S=p.set,x=p.getterFor(C);m(String,"String",function(M){S(this,{type:C,string:f(M),index:0})},function(){var M,K=x(this),D=K.string,F=K.index;return F>=D.length?k(void 0,!0):(M=u(D,F),K.index+=M.length,k(M,!1))})},8543:function(y,v,s){var u=s(6518),f=s(9565),p=s(7476),m=s(3994),k=s(2529),C=s(7750),S=s(8014),x=s(655),M=s(8551),K=s(4117),D=s(2195),F=s(788),U=s(1034),B=s(5966),$=s(6840),q=s(9039),Y=s(8227),se=s(2293),ne=s(7829),ue=s(6682),ae=s(1181),oe=s(6395),me=Y("matchAll"),ye="RegExp String",le=ye+" Iterator",Te=ae.set,ve=ae.getterFor(le),ke=RegExp.prototype,Le=TypeError,Ie=p("".indexOf),_e=p("".matchAll),Re=!!_e&&!q(function(){_e("a",/./)}),Ne=m(function(Ae,De,Ee,xe){Te(this,{type:le,regexp:Ae,string:De,global:Ee,unicode:xe,done:!1})},ye,function(){var Ae=ve(this);if(Ae.done)return k(void 0,!0);var De=Ae.regexp,Ee=Ae.string,xe=ue(De,Ee);return xe===null?(Ae.done=!0,k(void 0,!0)):Ae.global?(x(xe[0])===""&&(De.lastIndex=ne(Ee,S(De.lastIndex),Ae.unicode)),k(xe,!1)):(Ae.done=!0,k(xe,!1))}),Fe=function(Ae){var De,Ee,xe,be=M(this),qe=x(Ae),He=se(be,RegExp),Ze=x(U(be));return De=new He(He===RegExp?be.source:be,Ze),Ee=!!~Ie(Ze,"g"),xe=!!~Ie(Ze,"u"),De.lastIndex=S(be.lastIndex),new Ne(De,qe,Ee,xe)};u({target:"String",proto:!0,forced:Re},{matchAll:function(Ae){var De,Ee,xe,be,qe=C(this);if(K(Ae)){if(Re)return _e(qe,Ae)}else{if(F(Ae)&&(De=x(C(U(Ae))),!~Ie(De,"g")))throw new Le("`.matchAll` does not allow non-global regexes");if(Re)return _e(qe,Ae);if((xe=B(Ae,me))===void 0&&oe&&D(Ae)==="RegExp"&&(xe=Fe),xe)return f(xe,Ae,qe)}return Ee=x(qe),be=new RegExp(Ae,"g"),oe?f(Fe,be,Ee):be[me](Ee)}}),oe||me in ke||$(ke,me,Fe)},1761:function(y,v,s){var u=s(9565),f=s(9228),p=s(8551),m=s(4117),k=s(8014),C=s(655),S=s(7750),x=s(5966),M=s(7829),K=s(6682);f("match",function(D,F,U){return[function(B){var $=S(this),q=m(B)?void 0:x(B,D);return q?u(q,B,$):new RegExp(B)[D](C($))},function(B){var $=p(this),q=C(B),Y=U(F,$,q);if(Y.done)return Y.value;if(!$.global)return K($,q);var se=$.unicode;$.lastIndex=0;for(var ne,ue=[],ae=0;(ne=K($,q))!==null;){var oe=C(ne[0]);ue[ae]=oe,oe===""&&($.lastIndex=M(q,k($.lastIndex),se)),ae++}return ae===0?null:ue}]})},5440:function(y,v,s){var u=s(8745),f=s(9565),p=s(9504),m=s(9228),k=s(9039),C=s(8551),S=s(4901),x=s(4117),M=s(1291),K=s(8014),D=s(655),F=s(7750),U=s(7829),B=s(5966),$=s(2478),q=s(6682),Y=s(8227)("replace"),se=Math.max,ne=Math.min,ue=p([].concat),ae=p([].push),oe=p("".indexOf),me=p("".slice),ye="a".replace(/./,"$0")==="$0",le=!!/./[Y]&&/./[Y]("a","$0")==="";m("replace",function(Te,ve,ke){var Le=le?"$":"$0";return[function(Ie,_e){var Re=F(this),Ne=x(Ie)?void 0:B(Ie,Y);return Ne?f(Ne,Ie,Re,_e):f(ve,D(Re),Ie,_e)},function(Ie,_e){var Re=C(this),Ne=D(Ie);if(typeof _e=="string"&&oe(_e,Le)===-1&&oe(_e,"$<")===-1){var Fe=ke(ve,Re,Ne,_e);if(Fe.done)return Fe.value}var Ae=S(_e);Ae||(_e=D(_e));var De,Ee=Re.global;Ee&&(De=Re.unicode,Re.lastIndex=0);for(var xe,be=[];(xe=q(Re,Ne))!==null&&(ae(be,xe),Ee);)D(xe[0])===""&&(Re.lastIndex=U(Ne,K(Re.lastIndex),De));for(var qe,He="",Ze=0,Tt=0;Tt<be.length;Tt++){for(var qt,xn=D((xe=be[Tt])[0]),Dn=se(ne(M(xe.index),Ne.length),0),Yn=[],dn=1;dn<xe.length;dn++)ae(Yn,(qe=xe[dn])===void 0?qe:String(qe));var sr=xe.groups;if(Ae){var fn=ue([xn],Yn,Dn,Ne);sr!==void 0&&ae(fn,sr),qt=D(u(_e,void 0,fn))}else qt=$(xn,Ne,Dn,Yn,sr,_e);Dn>=Ze&&(He+=me(Ne,Ze,Dn)+qt,Ze=Dn+xn.length)}return He+me(Ne,Ze)}]},!!k(function(){var Te=/./;return Te.exec=function(){var ve=[];return ve.groups={a:"7"},ve},"".replace(Te,"$<a>")!=="7"})||!ye||le)},744:function(y,v,s){var u=s(9565),f=s(9504),p=s(9228),m=s(8551),k=s(4117),C=s(7750),S=s(2293),x=s(7829),M=s(8014),K=s(655),D=s(5966),F=s(6682),U=s(8429),B=s(9039),$=U.UNSUPPORTED_Y,q=Math.min,Y=f([].push),se=f("".slice),ne=!B(function(){var ae=/(?:)/,oe=ae.exec;ae.exec=function(){return oe.apply(this,arguments)};var me="ab".split(ae);return me.length!==2||me[0]!=="a"||me[1]!=="b"}),ue="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;p("split",function(ae,oe,me){var ye="0".split(void 0,0).length?function(le,Te){return le===void 0&&Te===0?[]:u(oe,this,le,Te)}:oe;return[function(le,Te){var ve=C(this),ke=k(le)?void 0:D(le,ae);return ke?u(ke,le,ve,Te):u(ye,K(ve),le,Te)},function(le,Te){var ve=m(this),ke=K(le);if(!ue){var Le=me(ye,ve,ke,Te,ye!==oe);if(Le.done)return Le.value}var Ie=S(ve,RegExp),_e=ve.unicode,Re=(ve.ignoreCase?"i":"")+(ve.multiline?"m":"")+(ve.unicode?"u":"")+($?"g":"y"),Ne=new Ie($?"^(?:"+ve.source+")":ve,Re),Fe=Te===void 0?4294967295:Te>>>0;if(Fe===0)return[];if(ke.length===0)return F(Ne,ke)===null?[ke]:[];for(var Ae=0,De=0,Ee=[];De<ke.length;){Ne.lastIndex=$?0:De;var xe,be=F(Ne,$?se(ke,De):ke);if(be===null||(xe=q(M(Ne.lastIndex+($?De:0)),ke.length))===Ae)De=x(ke,De,_e);else{if(Y(Ee,se(ke,Ae,De)),Ee.length===Fe)return Ee;for(var qe=1;qe<=be.length-1;qe++)if(Y(Ee,be[qe]),Ee.length===Fe)return Ee;De=Ae=xe}}return Y(Ee,se(ke,Ae)),Ee}]},ue||!ne,$)},2762:function(y,v,s){var u=s(6518),f=s(3802).trim;u({target:"String",proto:!0,forced:s(706)("trim")},{trim:function(){return f(this)}})},6761:function(y,v,s){var u=s(6518),f=s(4576),p=s(9565),m=s(9504),k=s(6395),C=s(3724),S=s(4495),x=s(9039),M=s(9297),K=s(1625),D=s(8551),F=s(5397),U=s(6969),B=s(655),$=s(6980),q=s(2360),Y=s(1072),se=s(8480),ne=s(298),ue=s(3717),ae=s(7347),oe=s(4913),me=s(6801),ye=s(8773),le=s(6840),Te=s(2106),ve=s(5745),ke=s(6119),Le=s(421),Ie=s(3392),_e=s(8227),Re=s(1951),Ne=s(511),Fe=s(8242),Ae=s(687),De=s(1181),Ee=s(9213).forEach,xe=ke("hidden"),be="Symbol",qe="prototype",He=De.set,Ze=De.getterFor(be),Tt=Object[qe],qt=f.Symbol,xn=qt&&qt[qe],Dn=f.RangeError,Yn=f.TypeError,dn=f.QObject,sr=ae.f,fn=oe.f,Fi=ne.f,Mo=ye.f,Er=m([].push),wt=ve("symbols"),ft=ve("op-symbols"),Li=ve("wks"),Mt=!dn||!dn[qe]||!dn[qe].findChild,Mn=function(Pe,Be,Ue){var Qe=sr(Tt,Be);Qe&&delete Tt[Be],fn(Pe,Be,Ue),Qe&&Pe!==Tt&&fn(Tt,Be,Qe)},Rn=C&&x(function(){return q(fn({},"a",{get:function(){return fn(this,"a",{value:7}).a}})).a!==7})?Mn:fn,Ro=function(Pe,Be){var Ue=wt[Pe]=q(xn);return He(Ue,{type:be,tag:Pe,description:Be}),C||(Ue.description=Be),Ue},br=function(Pe,Be,Ue){Pe===Tt&&br(ft,Be,Ue),D(Pe);var Qe=U(Be);return D(Ue),M(wt,Qe)?(Ue.enumerable?(M(Pe,xe)&&Pe[xe][Qe]&&(Pe[xe][Qe]=!1),Ue=q(Ue,{enumerable:$(0,!1)})):(M(Pe,xe)||fn(Pe,xe,$(1,q(null))),Pe[xe][Qe]=!0),Rn(Pe,Qe,Ue)):fn(Pe,Qe,Ue)},Nr=function(Pe,Be){D(Pe);var Ue=F(Be),Qe=Y(Ue).concat(Ad(Ue));return Ee(Qe,function(Ot){C&&!p(jo,Ue,Ot)||br(Pe,Ot,Ue[Ot])}),Pe},jo=function(Pe){var Be=U(Pe),Ue=p(Mo,this,Be);return!(this===Tt&&M(wt,Be)&&!M(ft,Be))&&(!(Ue||!M(this,Be)||!M(wt,Be)||M(this,xe)&&this[xe][Be])||Ue)},ar=function(Pe,Be){var Ue=F(Pe),Qe=U(Be);if(Ue!==Tt||!M(wt,Qe)||M(ft,Qe)){var Ot=sr(Ue,Qe);return!Ot||!M(wt,Qe)||M(Ue,xe)&&Ue[xe][Qe]||(Ot.enumerable=!0),Ot}},Od=function(Pe){var Be=Fi(F(Pe)),Ue=[];return Ee(Be,function(Qe){M(wt,Qe)||M(Le,Qe)||Er(Ue,Qe)}),Ue},Ad=function(Pe){var Be=Pe===Tt,Ue=Fi(Be?ft:F(Pe)),Qe=[];return Ee(Ue,function(Ot){!M(wt,Ot)||Be&&!M(Tt,Ot)||Er(Qe,wt[Ot])}),Qe};S||(qt=function(){if(K(xn,this))throw new Yn("Symbol is not a constructor");var Pe=arguments.length&&arguments[0]!==void 0?B(arguments[0]):void 0,Be=Ie(Pe),Ue=function(Qe){var Ot=this===void 0?f:this;Ot===Tt&&p(Ue,ft,Qe),M(Ot,xe)&&M(Ot[xe],Be)&&(Ot[xe][Be]=!1);var Id=$(1,Qe);try{Rn(Ot,Be,Id)}catch(Pd){if(!(Pd instanceof Dn))throw Pd;Mn(Ot,Be,Id)}};return C&&Mt&&Rn(Tt,Be,{configurable:!0,set:Ue}),Ro(Be,Pe)},le(xn=qt[qe],"toString",function(){return Ze(this).tag}),le(qt,"withoutSetter",function(Pe){return Ro(Ie(Pe),Pe)}),ye.f=jo,oe.f=br,me.f=Nr,ae.f=ar,se.f=ne.f=Od,ue.f=Ad,Re.f=function(Pe){return Ro(_e(Pe),Pe)},C&&(Te(xn,"description",{configurable:!0,get:function(){return Ze(this).description}}),k||le(Tt,"propertyIsEnumerable",jo,{unsafe:!0}))),u({global:!0,constructor:!0,wrap:!0,forced:!S,sham:!S},{Symbol:qt}),Ee(Y(Li),function(Pe){Ne(Pe)}),u({target:be,stat:!0,forced:!S},{useSetter:function(){Mt=!0},useSimple:function(){Mt=!1}}),u({target:"Object",stat:!0,forced:!S,sham:!C},{create:function(Pe,Be){return Be===void 0?q(Pe):Nr(q(Pe),Be)},defineProperty:br,defineProperties:Nr,getOwnPropertyDescriptor:ar}),u({target:"Object",stat:!0,forced:!S},{getOwnPropertyNames:Od}),Fe(),Ae(qt,be),Le[xe]=!0},9463:function(y,v,s){var u=s(6518),f=s(3724),p=s(4576),m=s(9504),k=s(9297),C=s(4901),S=s(1625),x=s(655),M=s(2106),K=s(7740),D=p.Symbol,F=D&&D.prototype;if(f&&C(D)&&(!("description"in F)||D().description!==void 0)){var U={},B=function(){var ae=arguments.length<1||arguments[0]===void 0?void 0:x(arguments[0]),oe=S(F,this)?new D(ae):ae===void 0?D():D(ae);return ae===""&&(U[oe]=!0),oe};K(B,D),B.prototype=F,F.constructor=B;var $=String(D("description detection"))==="Symbol(description detection)",q=m(F.valueOf),Y=m(F.toString),se=/^Symbol\((.*)\)[^)]+$/,ne=m("".replace),ue=m("".slice);M(F,"description",{configurable:!0,get:function(){var ae=q(this);if(k(U,ae))return"";var oe=Y(ae),me=$?ue(oe,7,-1):ne(oe,se,"$1");return me===""?void 0:me}}),u({global:!0,constructor:!0,forced:!0},{Symbol:B})}},1510:function(y,v,s){var u=s(6518),f=s(7751),p=s(9297),m=s(655),k=s(5745),C=s(1296),S=k("string-to-symbol-registry"),x=k("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!C},{for:function(M){var K=m(M);if(p(S,K))return S[K];var D=f("Symbol")(K);return S[K]=D,x[D]=K,D}})},2259:function(y,v,s){s(511)("iterator")},2675:function(y,v,s){s(6761),s(1510),s(7812),s(3110),s(9773)},7812:function(y,v,s){var u=s(6518),f=s(9297),p=s(757),m=s(6823),k=s(5745),C=s(1296),S=k("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!C},{keyFor:function(x){if(!p(x))throw new TypeError(m(x)+" is not a symbol");if(f(S,x))return S[x]}})},5700:function(y,v,s){var u=s(511),f=s(8242);u("toPrimitive"),f()},8344:function(y,v,s){s(8543)},3500:function(y,v,s){var u=s(4576),f=s(7400),p=s(9296),m=s(235),k=s(6699),C=function(x){if(x&&x.forEach!==m)try{k(x,"forEach",m)}catch{x.forEach=m}};for(var S in f)f[S]&&C(u[S]&&u[S].prototype);C(p)},2953:function(y,v,s){var u=s(4576),f=s(7400),p=s(9296),m=s(3792),k=s(6699),C=s(687),S=s(8227)("iterator"),x=m.values,M=function(D,F){if(D){if(D[S]!==x)try{k(D,S,x)}catch{D[S]=x}if(C(D,F,!0),f[F]){for(var U in m)if(D[U]!==m[U])try{k(D,U,m[U])}catch{D[U]=m[U]}}}};for(var K in f)M(u[K]&&u[K].prototype,K);M(p,"DOMTokenList")}},h={};function d(y){var v=h[y];if(v!==void 0)return v.exports;var s=h[y]={exports:{}};return c[y].call(s.exports,s,s.exports,d),s.exports}d.d=function(y,v){for(var s in v)d.o(v,s)&&!d.o(y,s)&&Object.defineProperty(y,s,{enumerable:!0,get:v[s]})},d.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),d.o=function(y,v){return Object.prototype.hasOwnProperty.call(y,v)},d.r=function(y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})};var g={};function _(y){return function(v){if(Array.isArray(v))return b(v)}(y)||function(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}(y)||E(y)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function E(y,v){if(y){if(typeof y=="string")return b(y,v);var s={}.toString.call(y).slice(8,-1);return s==="Object"&&y.constructor&&(s=y.constructor.name),s==="Map"||s==="Set"?Array.from(y):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?b(y,v):void 0}}function b(y,v){(v==null||v>y.length)&&(v=y.length);for(var s=0,u=Array(v);s<v;s++)u[s]=y[s];return u}function N(y){return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},N(y)}function A(y,v){for(var s=0;s<v.length;s++){var u=v[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(y,T(u.key),u)}}function w(y,v,s){return(v=T(v))in y?Object.defineProperty(y,v,{value:s,enumerable:!0,configurable:!0,writable:!0}):y[v]=s,y}function T(y){var v=function(s,u){if(N(s)!="object"||!s)return s;var f=s[Symbol.toPrimitive];if(f!==void 0){var p=f.call(s,u||"default");if(N(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(s)}(y,"string");return N(v)=="symbol"?v:v+""}d.r(g),d.d(g,{SimpleKeyboard:function(){return ce},default:function(){return ie}}),d(5276),d(8598),d(4782),d(4554),d(2010),d(7427),d(6099),d(7495),d(8781),d(5440),d(744),d(2762),typeof Element>"u"||"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),typeof self<"u"&&"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(y){if("Element"in y){var v="classList",s="prototype",u=y.Element[s],f=Object,p=String[s].trim||function(){return this.replace(/^\s+|\s+$/g,"")},m=Array[s].indexOf||function(D){for(var F=0,U=this.length;F<U;F++)if(F in this&&this[F]===D)return F;return-1},k=function(D,F){this.name=D,this.code=DOMException[D],this.message=F},C=function(D,F){if(F==="")throw new k("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(F))throw new k("INVALID_CHARACTER_ERR","The token must not contain space characters.");return m.call(D,F)},S=function(D){for(var F=p.call(D.getAttribute("class")||""),U=F?F.split(/\s+/):[],B=0,$=U.length;B<$;B++)this.push(U[B]);this._updateClassName=function(){D.setAttribute("class",this.toString())}},x=S[s]=[],M=function(){return new S(this)};if(k[s]=Error[s],x.item=function(D){return this[D]||null},x.contains=function(D){return~C(this,D+"")},x.add=function(){var D,F=arguments,U=0,B=F.length,$=!1;do~C(this,D=F[U]+"")||(this.push(D),$=!0);while(++U<B);$&&this._updateClassName()},x.remove=function(){var D,F,U=arguments,B=0,$=U.length,q=!1;do for(F=C(this,D=U[B]+"");~F;)this.splice(F,1),q=!0,F=C(this,D);while(++B<$);q&&this._updateClassName()},x.toggle=function(D,F){var U=this.contains(D),B=U?F!==!0&&"remove":F!==!1&&"add";return B&&this[B](D),F===!0||F===!1?F:!U},x.replace=function(D,F){var U=C(D+"");~U&&(this.splice(U,1,F),this._updateClassName())},x.toString=function(){return this.join(" ")},f.defineProperty){var K={get:M,enumerable:!0,configurable:!0};try{f.defineProperty(u,v,K)}catch(D){D.number!==void 0&&D.number!==-2146823252||(K.enumerable=!1,f.defineProperty(u,v,K))}}else f[s].__defineGetter__&&u.__defineGetter__(v,M)}}(self),function(){var y=document.createElement("_");if(y.classList.add("c1","c2"),!y.classList.contains("c2")){var v=function(u){var f=DOMTokenList.prototype[u];DOMTokenList.prototype[u]=function(p){var m,k=arguments.length;for(m=0;m<k;m++)p=arguments[m],f.call(this,p)}};v("add"),v("remove")}if(y.classList.toggle("c3",!1),y.classList.contains("c3")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(u,f){return 1 in arguments&&!this.contains(u)==!f?f:s.call(this,u)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(u,f){var p=this.toString().split(" "),m=p.indexOf(u+"");~m&&(p=p.slice(m),this.remove.apply(this,p),this.add(f),this.add.apply(this,p.slice(1)))}),y=null}()),d(2675),d(9463),d(2259),d(5700),d(8706),d(2008),d(3418),d(4423),d(3792),d(2062),d(6910),d(739),d(9572),d(2892),d(9085),d(3851),d(1278),d(9432),d(4864),d(1699),d(7764),d(8344),d(3500),d(2953),d(2712),d(2637),d(1480),d(1761);var I=function(){return y=function u(f){var p=f.getOptions,m=f.getCaretPosition,k=f.getCaretPositionEnd,C=f.dispatch;(function(S,x){if(!(S instanceof x))throw new TypeError("Cannot call a class as a function")})(this,u),w(this,"getOptions",void 0),w(this,"getCaretPosition",void 0),w(this,"getCaretPositionEnd",void 0),w(this,"dispatch",void 0),w(this,"maxLengthReached",void 0),w(this,"isStandardButton",function(S){return S&&!(S[0]==="{"&&S[S.length-1]==="}")}),this.getOptions=p,this.getCaretPosition=m,this.getCaretPositionEnd=k,this.dispatch=C,u.bindMethods(u,this)},v=[{key:"getButtonType",value:function(u){return u.includes("{")&&u.includes("}")&&u!=="{//}"?"functionBtn":"standardBtn"}},{key:"getButtonClass",value:function(u){var f=this.getButtonType(u),p=u.replace("{","").replace("}",""),m="";return f!=="standardBtn"&&(m=" hg-button-".concat(p)),"hg-".concat(f).concat(m)}},{key:"getDefaultDiplay",value:function(){return{"{bksp}":"backspace","{backspace}":"backspace","{enter}":"< enter","{shift}":"shift","{shiftleft}":"shift","{shiftright}":"shift","{alt}":"alt","{s}":"shift","{tab}":"tab","{lock}":"caps","{capslock}":"caps","{accept}":"Submit","{space}":" ","{//}":" ","{esc}":"esc","{escape}":"esc","{f1}":"f1","{f2}":"f2","{f3}":"f3","{f4}":"f4","{f5}":"f5","{f6}":"f6","{f7}":"f7","{f8}":"f8","{f9}":"f9","{f10}":"f10","{f11}":"f11","{f12}":"f12","{numpaddivide}":"/","{numlock}":"lock","{arrowup}":"↑","{arrowleft}":"←","{arrowdown}":"↓","{arrowright}":"→","{prtscr}":"print","{scrolllock}":"scroll","{pause}":"pause","{insert}":"ins","{home}":"home","{pageup}":"up","{delete}":"del","{forwarddelete}":"del","{end}":"end","{pagedown}":"down","{numpadmultiply}":"*","{numpadsubtract}":"-","{numpadadd}":"+","{numpadenter}":"enter","{period}":".","{numpaddecimal}":".","{numpad0}":"0","{numpad1}":"1","{numpad2}":"2","{numpad3}":"3","{numpad4}":"4","{numpad5}":"5","{numpad6}":"6","{numpad7}":"7","{numpad8}":"8","{numpad9}":"9"}}},{key:"getButtonDisplayName",value:function(u,f){return(f=arguments.length>2&&arguments[2]!==void 0&&arguments[2]?Object.assign({},this.getDefaultDiplay(),f):f||this.getDefaultDiplay())[u]||u}},{key:"getUpdatedInput",value:function(u,f,p){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:p,k=arguments.length>4&&arguments[4]!==void 0&&arguments[4],C=this.getOptions(),S=[p,m,k],x=f;return(u==="{bksp}"||u==="{backspace}")&&x.length>0?x=this.removeAt.apply(this,[x].concat(S)):(u==="{delete}"||u==="{forwarddelete}")&&x.length>0?x=this.removeForwardsAt.apply(this,[x].concat(S)):u==="{space}"?x=this.addStringAt.apply(this,[x," "].concat(S)):u!=="{tab}"||typeof C.tabCharOnTab=="boolean"&&C.tabCharOnTab===!1?u!=="{enter}"&&u!=="{numpadenter}"||!C.newLineOnEnter?u.includes("numpad")&&Number.isInteger(Number(u[u.length-2]))?x=this.addStringAt.apply(this,[x,u[u.length-2]].concat(S)):u==="{numpaddivide}"?x=this.addStringAt.apply(this,[x,"/"].concat(S)):u==="{numpadmultiply}"?x=this.addStringAt.apply(this,[x,"*"].concat(S)):u==="{numpadsubtract}"?x=this.addStringAt.apply(this,[x,"-"].concat(S)):u==="{numpadadd}"?x=this.addStringAt.apply(this,[x,"+"].concat(S)):u==="{numpaddecimal}"?x=this.addStringAt.apply(this,[x,"."].concat(S)):u==="{"||u==="}"?x=this.addStringAt.apply(this,[x,u].concat(S)):u.includes("{")||u.includes("}")||(x=this.addStringAt.apply(this,[x,u].concat(S))):x=this.addStringAt.apply(this,[x,`
`].concat(S)):x=this.addStringAt.apply(this,[x,"	"].concat(S)),C.debug&&console.log("Input will be: "+x),x}},{key:"updateCaretPos",value:function(u){var f=arguments.length>1&&arguments[1]!==void 0&&arguments[1],p=this.updateCaretPosAction(u,f);this.dispatch(function(m){m.setCaretPosition(p)})}},{key:"updateCaretPosAction",value:function(u){var f=arguments.length>1&&arguments[1]!==void 0&&arguments[1],p=this.getOptions(),m=this.getCaretPosition();return m!=null&&(f?m>0&&(m-=u):m+=u),p.debug&&console.log("Caret at:",m),m}},{key:"addStringAt",value:function(u,f){var p,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.length,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:u.length,C=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return m||m===0?(p=[u.slice(0,m),f,u.slice(k)].join(""),this.isMaxLengthReached()||C&&this.updateCaretPos(f.length)):p=u+f,p}},{key:"removeAt",value:function(u){var f,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.length,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.length,k=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(p===0&&m===0)return u;if(p===m){var C=/([\uD800-\uDBFF][\uDC00-\uDFFF])/g;p&&p>=0?u.substring(p-2,p).match(C)?(f=u.substr(0,p-2)+u.substr(p),k&&this.updateCaretPos(2,!0)):(f=u.substr(0,p-1)+u.substr(p),k&&this.updateCaretPos(1,!0)):u.slice(-2).match(C)?(f=u.slice(0,-2),k&&this.updateCaretPos(2,!0)):(f=u.slice(0,-1),k&&this.updateCaretPos(1,!0))}else f=u.slice(0,p)+u.slice(m),k&&this.dispatch(function(S){S.setCaretPosition(p)});return f}},{key:"removeForwardsAt",value:function(u){var f,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.length,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.length,k=arguments.length>3&&arguments[3]!==void 0&&arguments[3];return u!=null&&u.length&&p!==null?(p===m?f=u.substring(p,p+2).match(/([\uD800-\uDBFF][\uDC00-\uDFFF])/g)?u.substr(0,p)+u.substr(p+2):u.substr(0,p)+u.substr(p+1):(f=u.slice(0,p)+u.slice(m),k&&this.dispatch(function(C){C.setCaretPosition(p)})),f):u}},{key:"handleMaxLength",value:function(u,f){var p=this.getOptions(),m=p.maxLength,k=u[p.inputName||"default"],C=f.length-1>=m;if(f.length<=k.length)return!1;if(Number.isInteger(m))return p.debug&&console.log("maxLength (num) reached:",C),C?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1);if(N(m)==="object"){var S=f.length-1>=m[p.inputName||"default"];return p.debug&&console.log("maxLength (obj) reached:",S),S?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1)}}},{key:"isMaxLengthReached",value:function(){return!!this.maxLengthReached}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints}},{key:"pointerEventsSupported",value:function(){return!!window.PointerEvent}},{key:"camelCase",value:function(u){return u?u.toLowerCase().trim().split(/[.\-_\s]/g).reduce(function(f,p){return p.length?f+p[0].toUpperCase()+p.slice(1):f}):""}},{key:"chunkArray",value:function(u,f){return _(Array(Math.ceil(u.length/f))).map(function(p,m){return u.slice(f*m,f+f*m)})}},{key:"escapeRegex",value:function(u){return u.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}},{key:"getRtlOffset",value:function(u,f){var p=u,m=f.indexOf("‫");return m<u&&m!=-1&&p--,f.indexOf("‬")<u&&m!=-1&&p--,p<0?0:p}}],s=[{key:"bindMethods",value:function(u,f){var p,m=function(C,S){var x=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!x){if(Array.isArray(C)||(x=E(C))||S){x&&(C=x);var M=0,K=function(){};return{s:K,n:function(){return M>=C.length?{done:!0}:{done:!1,value:C[M++]}},e:function(B){throw B},f:K}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D,F=!0,U=!1;return{s:function(){x=x.call(C)},n:function(){var B=x.next();return F=B.done,B},e:function(B){U=!0,D=B},f:function(){try{F||x.return==null||x.return()}finally{if(U)throw D}}}}(Object.getOwnPropertyNames(u.prototype));try{for(m.s();!(p=m.n()).done;){var k=p.value;k==="constructor"||k==="bindMethods"||(f[k]=f[k].bind(f))}}catch(C){m.e(C)}finally{m.f()}}}],v&&A(y.prototype,v),s&&A(y,s),Object.defineProperty(y,"prototype",{writable:!1}),y;var y,v,s}();w(I,"noop",function(){});var R=I;function P(y){return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},P(y)}function L(y,v){for(var s=0;s<v.length;s++){var u=v[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(y,V(u.key),u)}}function z(y,v,s){return(v=V(v))in y?Object.defineProperty(y,v,{value:s,enumerable:!0,configurable:!0,writable:!0}):y[v]=s,y}function V(y){var v=function(s,u){if(P(s)!="object"||!s)return s;var f=s[Symbol.toPrimitive];if(f!==void 0){var p=f.call(s,u);if(P(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(y,"string");return P(v)=="symbol"?v:v+""}var Z=function(){return y=function u(f){var p=this,m=f.dispatch,k=f.getOptions;(function(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")})(this,u),z(this,"getOptions",void 0),z(this,"dispatch",void 0),z(this,"isModifierKey",function(C){return C.altKey||C.ctrlKey||C.shiftKey||["Tab","CapsLock","Esc","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(C.code||C.key||p.keyCodeToKey(C==null?void 0:C.keyCode))}),this.dispatch=m,this.getOptions=k,R.bindMethods(u,this)},v=[{key:"handleHighlightKeyDown",value:function(u){var f=this.getOptions();f.physicalKeyboardHighlightPreventDefault&&this.isModifierKey(u)&&(u.preventDefault(),u.stopImmediatePropagation());var p=this.getSimpleKeyboardLayoutKey(u);this.dispatch(function(m){var k,C,S=m.getButtonElement(p),x=m.getButtonElement("{".concat(p,"}"));if(S)k=S,C=p;else{if(!x)return;k=x,C="{".concat(p,"}")}var M,K,D,F,U=function($){$.style.background=f.physicalKeyboardHighlightBgColor||"#dadce4",$.style.color=f.physicalKeyboardHighlightTextColor||"black"};if(k)if(Array.isArray(k)){if(k.forEach(function($){return U($)}),f.physicalKeyboardHighlightPress)if(f.physicalKeyboardHighlightPressUsePointerEvents)(M=k[0])===null||M===void 0||(K=M.onpointerdown)===null||K===void 0||K.call(M,u);else if(f.physicalKeyboardHighlightPressUseClick){var B;(B=k[0])===null||B===void 0||B.click()}else m.handleButtonClicked(C,u)}else U(k),f.physicalKeyboardHighlightPress&&(f.physicalKeyboardHighlightPressUsePointerEvents?(D=k)===null||D===void 0||(F=D.onpointerdown)===null||F===void 0||F.call(D,u):f.physicalKeyboardHighlightPressUseClick?k.click():m.handleButtonClicked(C,u))})}},{key:"handleHighlightKeyUp",value:function(u){var f=this.getOptions();f.physicalKeyboardHighlightPreventDefault&&this.isModifierKey(u)&&(u.preventDefault(),u.stopImmediatePropagation());var p=this.getSimpleKeyboardLayoutKey(u);this.dispatch(function(m){var k,C,S,x=m.getButtonElement(p)||m.getButtonElement("{".concat(p,"}")),M=function(K){K.removeAttribute&&K.removeAttribute("style")};x&&(Array.isArray(x)?(x.forEach(function(K){return M(K)}),f.physicalKeyboardHighlightPressUsePointerEvents&&((k=x[0])===null||k===void 0||(C=k.onpointerup)===null||C===void 0||C.call(k,u))):(M(x),f.physicalKeyboardHighlightPressUsePointerEvents&&(x==null||(S=x.onpointerup)===null||S===void 0||S.call(x,u))))})}},{key:"getSimpleKeyboardLayoutKey",value:function(u){var f,p="",m=u.code||u.key||this.keyCodeToKey(u==null?void 0:u.keyCode);return(p=m!=null&&m.includes("Numpad")||m!=null&&m.includes("Shift")||m!=null&&m.includes("Space")||m!=null&&m.includes("Backspace")||m!=null&&m.includes("Control")||m!=null&&m.includes("Alt")||m!=null&&m.includes("Meta")?u.code||"":u.key||this.keyCodeToKey(u==null?void 0:u.keyCode)||"").length>1?(f=p)===null||f===void 0?void 0:f.toLowerCase():p}},{key:"keyCodeToKey",value:function(u){return{8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Meta",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",106:"NumpadMultiply",107:"NumpadAdd",109:"NumpadSubtract",110:"NumpadDecimal",111:"NumpadDivide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}[u]||""}}],v&&L(y.prototype,v),s&&L(y,s),Object.defineProperty(y,"prototype",{writable:!1}),y;var y,v,s}();function G(y){return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},G(y)}function X(y,v){for(var s=0;s<v.length;s++){var u=v[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(y,fe(u.key),u)}}function ee(y,v,s){return(v=fe(v))in y?Object.defineProperty(y,v,{value:s,enumerable:!0,configurable:!0,writable:!0}):y[v]=s,y}function fe(y){var v=function(s,u){if(G(s)!="object"||!s)return s;var f=s[Symbol.toPrimitive];if(f!==void 0){var p=f.call(s,u);if(G(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(y,"string");return G(v)=="symbol"?v:v+""}var pe=function(){return y=function u(f){var p=f.utilities,m=f.options;(function(k,C){if(!(k instanceof C))throw new TypeError("Cannot call a class as a function")})(this,u),ee(this,"utilities",void 0),ee(this,"options",void 0),ee(this,"candidateBoxElement",void 0),ee(this,"pageIndex",0),ee(this,"pageSize",void 0),this.utilities=p,this.options=m,R.bindMethods(u,this),this.pageSize=this.utilities.getOptions().layoutCandidatesPageSize||5},v=[{key:"destroy",value:function(){this.candidateBoxElement&&(this.candidateBoxElement.remove(),this.pageIndex=0)}},{key:"show",value:function(u){var f=this,p=u.candidateValue,m=u.targetElement,k=u.onSelect;if(p&&p.length){var C=this.utilities.chunkArray(p.split(" "),this.pageSize);this.renderPage({candidateListPages:C,targetElement:m,pageIndex:this.pageIndex,nbPages:C.length,onItemSelected:function(S,x){k(S,x),f.destroy()}})}}},{key:"renderPage",value:function(u){var f,p=this,m=u.candidateListPages,k=u.targetElement,C=u.pageIndex,S=u.nbPages,x=u.onItemSelected;(f=this.candidateBoxElement)===null||f===void 0||f.remove(),this.candidateBoxElement=document.createElement("div"),this.candidateBoxElement.className="hg-candidate-box";var M=document.createElement("ul");M.className="hg-candidate-box-list",m[C].forEach(function(q){var Y,se=document.createElement("li"),ne=function(){var ue=new(p.options.useTouchEvents?TouchEvent:MouseEvent)("click");return Object.defineProperty(ue,"target",{value:se}),ue};se.className="hg-candidate-box-list-item",se.innerHTML=((Y=p.options.display)===null||Y===void 0?void 0:Y[q])||q,p.options.useTouchEvents?se.ontouchstart=function(ue){return x(q,ue||ne())}:se.onclick=function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ne();return x(q,ue)},M.appendChild(se)});var K=C>0,D=document.createElement("div");D.classList.add("hg-candidate-box-prev"),K&&D.classList.add("hg-candidate-box-btn-active");var F=function(){K&&p.renderPage({candidateListPages:m,targetElement:k,pageIndex:C-1,nbPages:S,onItemSelected:x})};this.options.useTouchEvents?D.ontouchstart=F:D.onclick=F,this.candidateBoxElement.appendChild(D),this.candidateBoxElement.appendChild(M);var U=C<S-1,B=document.createElement("div");B.classList.add("hg-candidate-box-next"),U&&B.classList.add("hg-candidate-box-btn-active");var $=function(){U&&p.renderPage({candidateListPages:m,targetElement:k,pageIndex:C+1,nbPages:S,onItemSelected:x})};this.options.useTouchEvents?B.ontouchstart=$:B.onclick=$,this.candidateBoxElement.appendChild(B),k.prepend(this.candidateBoxElement)}}],v&&X(y.prototype,v),s&&X(y,s),Object.defineProperty(y,"prototype",{writable:!1}),y;var y,v,s}(),Se=pe;function he(y){return function(v){if(Array.isArray(v))return ge(v)}(y)||function(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}(y)||function(v,s){if(v){if(typeof v=="string")return ge(v,s);var u={}.toString.call(v).slice(8,-1);return u==="Object"&&v.constructor&&(u=v.constructor.name),u==="Map"||u==="Set"?Array.from(v):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?ge(v,s):void 0}}(y)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ge(y,v){(v==null||v>y.length)&&(v=y.length);for(var s=0,u=Array(v);s<v;s++)u[s]=y[s];return u}function Q(y){return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},Q(y)}function re(y,v){var s=Object.keys(y);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(y);v&&(u=u.filter(function(f){return Object.getOwnPropertyDescriptor(y,f).enumerable})),s.push.apply(s,u)}return s}function j(y,v){for(var s=0;s<v.length;s++){var u=v[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(y,W(u.key),u)}}function O(y,v,s){return(v=W(v))in y?Object.defineProperty(y,v,{value:s,enumerable:!0,configurable:!0,writable:!0}):y[v]=s,y}function W(y){var v=function(s,u){if(Q(s)!="object"||!s)return s;var f=s[Symbol.toPrimitive];if(f!==void 0){var p=f.call(s,u);if(Q(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(y,"string");return Q(v)=="symbol"?v:v+""}var te=function(){return y=function u(f,p){var m=this;if(function(F,U){if(!(F instanceof U))throw new TypeError("Cannot call a class as a function")}(this,u),O(this,"input",void 0),O(this,"options",void 0),O(this,"utilities",void 0),O(this,"caretPosition",void 0),O(this,"caretPositionEnd",void 0),O(this,"keyboardDOM",void 0),O(this,"keyboardPluginClasses",void 0),O(this,"keyboardDOMClass",void 0),O(this,"buttonElements",void 0),O(this,"currentInstanceName",void 0),O(this,"allKeyboardInstances",void 0),O(this,"keyboardInstanceNames",void 0),O(this,"isFirstKeyboardInstance",void 0),O(this,"physicalKeyboard",void 0),O(this,"modules",void 0),O(this,"activeButtonClass",void 0),O(this,"holdInteractionTimeout",void 0),O(this,"holdTimeout",void 0),O(this,"isMouseHold",void 0),O(this,"initialized",void 0),O(this,"candidateBox",void 0),O(this,"keyboardRowsDOM",void 0),O(this,"defaultName","default"),O(this,"activeInputElement",null),O(this,"handleParams",function(F,U){var B,$,q;if(typeof F=="string")B=F.split(".").join(""),$=document.querySelector(".".concat(B)),q=U;else if(F instanceof HTMLDivElement){if(!F.className)throw console.warn("Any DOM element passed as parameter must have a class."),new Error("KEYBOARD_DOM_CLASS_ERROR");B=F.className.split(" ")[0],$=F,q=U}else B="simple-keyboard",$=document.querySelector(".".concat(B)),q=F;return{keyboardDOMClass:B,keyboardDOM:$,options:q}}),O(this,"getOptions",function(){return m.options}),O(this,"getCaretPosition",function(){return m.caretPosition}),O(this,"getCaretPositionEnd",function(){return m.caretPositionEnd}),O(this,"registerModule",function(F,U){m.modules[F]||(m.modules[F]={}),U(m.modules[F])}),O(this,"getKeyboardClassString",function(){for(var F=arguments.length,U=new Array(F),B=0;B<F;B++)U[B]=arguments[B];return[m.keyboardDOMClass].concat(U).filter(function($){return!!$}).join(" ")}),typeof window<"u"){var k=this.handleParams(f,p),C=k.keyboardDOMClass,S=k.keyboardDOM,x=k.options,M=x===void 0?{}:x;this.utilities=new R({getOptions:this.getOptions,getCaretPosition:this.getCaretPosition,getCaretPositionEnd:this.getCaretPositionEnd,dispatch:this.dispatch}),this.caretPosition=null,this.caretPositionEnd=null,this.keyboardDOM=S,this.options=function(F){for(var U=1;U<arguments.length;U++){var B=arguments[U]!=null?arguments[U]:{};U%2?re(Object(B),!0).forEach(function($){O(F,$,B[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(B)):re(Object(B)).forEach(function($){Object.defineProperty(F,$,Object.getOwnPropertyDescriptor(B,$))})}return F}({layoutName:"default",theme:"hg-theme-default",inputName:"default",preventMouseDownDefault:!1,enableLayoutCandidates:!0,excludeFromLayout:{}},M),this.keyboardPluginClasses="",R.bindMethods(u,this);var K=this.options.inputName,D=K===void 0?this.defaultName:K;if(this.input={},this.input[D]="",this.keyboardDOMClass=C,this.buttonElements={},window.SimpleKeyboardInstances||(window.SimpleKeyboardInstances={}),this.currentInstanceName=this.utilities.camelCase(this.keyboardDOMClass),window.SimpleKeyboardInstances[this.currentInstanceName]=this,this.allKeyboardInstances=window.SimpleKeyboardInstances,this.keyboardInstanceNames=Object.keys(window.SimpleKeyboardInstances),this.isFirstKeyboardInstance=this.keyboardInstanceNames[0]===this.currentInstanceName,this.physicalKeyboard=new Z({dispatch:this.dispatch,getOptions:this.getOptions}),this.candidateBox=this.options.enableLayoutCandidates?new Se({utilities:this.utilities,options:this.options}):null,!this.keyboardDOM)throw console.warn('".'.concat(C,'" was not found in the DOM.')),new Error("KEYBOARD_DOM_ERROR");this.render(),this.modules={},this.loadModules()}},v=[{key:"setCaretPosition",value:function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u;this.caretPosition=u,this.caretPositionEnd=f}},{key:"getInputCandidates",value:function(u){var f=this,p=this.options,m=p.layoutCandidates,k=p.layoutCandidatesCaseSensitiveMatch;if(!m||Q(m)!=="object")return{};var C=Object.keys(m).filter(function(M){var K=u.substring(0,f.getCaretPositionEnd()||0)||u,D=new RegExp("".concat(f.utilities.escapeRegex(M),"$"),k?"g":"gi");return!!he(K.matchAll(D)).length});if(C.length>1){var S=C.sort(function(M,K){return K.length-M.length})[0];return{candidateKey:S,candidateValue:m[S]}}if(C.length){var x=C[0];return{candidateKey:x,candidateValue:m[x]}}return{}}},{key:"showCandidatesBox",value:function(u,f,p){var m=this;this.candidateBox&&this.candidateBox.show({candidateValue:f,targetElement:p,onSelect:function(k,C){var S=m.options,x=S.layoutCandidatesCaseSensitiveMatch,M=S.disableCandidateNormalization,K=S.enableLayoutCandidatesKeyPress,D=k;M||(D=k.normalize("NFD")),typeof m.options.beforeInputUpdate=="function"&&m.options.beforeInputUpdate(m);var F=m.getInput(m.options.inputName,!0),U=m.getCaretPositionEnd()||0,B=F.substring(0,U||0)||F,$=new RegExp("".concat(m.utilities.escapeRegex(u),"$"),x?"g":"gi"),q=B.replace($,D),Y=F.replace(B,q),se=q.length-B.length,ne=(U||F.length)+se;ne<0&&(ne=0),m.setInput(Y,m.options.inputName,!0),m.setCaretPosition(ne),K&&typeof m.options.onKeyPress=="function"&&m.options.onKeyPress(k,C),typeof m.options.onChange=="function"&&m.options.onChange(m.getInput(m.options.inputName,!0),C),typeof m.options.onChangeAll=="function"&&m.options.onChangeAll(m.getAllInputs(),C)}})}},{key:"handleButtonClicked",value:function(u,f){var p=this.options,m=p.inputName,k=m===void 0?this.defaultName:m,C=p.debug;if(u!=="{//}"){this.input[k]||(this.input[k]=""),typeof this.options.beforeInputUpdate=="function"&&this.options.beforeInputUpdate(this);var S=this.utilities.getUpdatedInput(u,this.input[k],this.caretPosition,this.caretPositionEnd);if(this.utilities.isStandardButton(u)&&this.activeInputElement&&this.input[k]&&this.input[k]===S&&this.caretPosition===0&&this.caretPositionEnd===S.length)return this.setInput("",this.options.inputName,!0),this.setCaretPosition(0),this.activeInputElement.value="",this.activeInputElement.setSelectionRange(0,0),void this.handleButtonClicked(u,f);if(typeof this.options.onKeyPress=="function"&&this.options.onKeyPress(u,f),this.input[k]!==S&&(!this.options.inputPattern||this.options.inputPattern&&this.inputPatternIsValid(S))){if(this.options.maxLength&&this.utilities.handleMaxLength(this.input,S))return;var x=this.utilities.getUpdatedInput(u,this.input[k],this.caretPosition,this.caretPositionEnd,!0);if(this.setInput(x,this.options.inputName,!0),C&&console.log("Input changed:",this.getAllInputs()),this.options.debug&&console.log("Caret at: ",this.getCaretPosition(),this.getCaretPositionEnd(),"(".concat(this.keyboardDOMClass,")"),f==null?void 0:f.type),this.options.syncInstanceInputs&&this.syncInstanceInputs(),typeof this.options.onChange=="function"&&this.options.onChange(this.getInput(this.options.inputName,!0),f),typeof this.options.onChangeAll=="function"&&this.options.onChangeAll(this.getAllInputs(),f),f!=null&&f.target&&this.options.enableLayoutCandidates){var M,K=this.getInputCandidates(S),D=K.candidateKey,F=K.candidateValue;D&&F?this.showCandidatesBox(D,F,this.keyboardDOM):(M=this.candidateBox)===null||M===void 0||M.destroy()}}this.caretPositionEnd&&this.caretPosition!==this.caretPositionEnd&&(this.setCaretPosition(this.caretPositionEnd,this.caretPositionEnd),this.activeInputElement&&this.activeInputElement.setSelectionRange(this.caretPositionEnd,this.caretPositionEnd),this.options.debug&&console.log("Caret position aligned",this.caretPosition)),C&&console.log("Key pressed:",u)}}},{key:"getMouseHold",value:function(){return this.isMouseHold}},{key:"setMouseHold",value:function(u){this.options.syncInstanceInputs?this.dispatch(function(f){f.isMouseHold=u}):this.isMouseHold=u}},{key:"handleButtonMouseDown",value:function(u,f){var p=this;f&&(this.options.preventMouseDownDefault&&f.preventDefault(),this.options.stopMouseDownPropagation&&f.stopPropagation(),f.target.classList.add(this.activeButtonClass)),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdTimeout&&clearTimeout(this.holdTimeout),this.setMouseHold(!0),this.options.disableButtonHold||(this.holdTimeout=window.setTimeout(function(){(p.getMouseHold()&&(!u.includes("{")&&!u.includes("}")||u==="{delete}"||u==="{backspace}"||u==="{bksp}"||u==="{space}"||u==="{tab}")||u==="{arrowright}"||u==="{arrowleft}"||u==="{arrowup}"||u==="{arrowdown}")&&(p.options.debug&&console.log("Button held:",u),p.handleButtonHold(u)),clearTimeout(p.holdTimeout)},500))}},{key:"handleButtonMouseUp",value:function(u,f){var p=this;f&&(this.options.preventMouseUpDefault&&f.preventDefault&&f.preventDefault(),this.options.stopMouseUpPropagation&&f.stopPropagation&&f.stopPropagation(),!(f.target===this.keyboardDOM||f.target&&this.keyboardDOM.contains(f.target)||this.candidateBox&&this.candidateBox.candidateBoxElement&&(f.target===this.candidateBox.candidateBoxElement||f.target&&this.candidateBox.candidateBoxElement.contains(f.target)))&&this.candidateBox&&this.candidateBox.destroy()),this.recurseButtons(function(m){m.classList.remove(p.activeButtonClass)}),this.setMouseHold(!1),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),u&&typeof this.options.onKeyReleased=="function"&&this.options.onKeyReleased(u,f)}},{key:"handleKeyboardContainerMouseDown",value:function(u){this.options.preventMouseDownDefault&&u.preventDefault()}},{key:"handleButtonHold",value:function(u){var f=this;this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdInteractionTimeout=window.setTimeout(function(){f.getMouseHold()?(f.handleButtonClicked(u),f.handleButtonHold(u)):clearTimeout(f.holdInteractionTimeout)},100)}},{key:"syncInstanceInputs",value:function(){var u=this;this.dispatch(function(f){f.replaceInput(u.input),f.setCaretPosition(u.caretPosition,u.caretPositionEnd)})}},{key:"clearInput",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.inputName||this.defaultName;this.input[u]="",this.setCaretPosition(0),this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"getInput",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.inputName||this.defaultName,f=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.options.syncInstanceInputs&&!f&&this.syncInstanceInputs(),this.options.rtl?"‫"+this.input[u].replace("‫","").replace("‬","")+"‬":this.input[u]}},{key:"getAllInputs",value:function(){var u=this,f={};return Object.keys(this.input).forEach(function(p){f[p]=u.getInput(p,!0)}),f}},{key:"setInput",value:function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.inputName||this.defaultName,p=arguments.length>2?arguments[2]:void 0;this.input[f]=u,!p&&this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"replaceInput",value:function(u){this.input=u}},{key:"setOptions",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=this.changedOptions(u);this.options=Object.assign(this.options,u),f.length&&(this.options.debug&&console.log("changedOptions",f),this.onSetOptions(f),this.render())}},{key:"changedOptions",value:function(u){var f=this;return Object.keys(u).filter(function(p){return JSON.stringify(u[p])!==JSON.stringify(f.options[p])})}},{key:"onSetOptions",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];u.includes("layoutName")&&this.candidateBox&&this.candidateBox.destroy(),(u.includes("layoutCandidatesPageSize")||u.includes("layoutCandidates"))&&this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=new Se({utilities:this.utilities,options:this.options}))}},{key:"resetRows",value:function(){this.keyboardRowsDOM&&this.keyboardRowsDOM.remove(),this.keyboardDOM.className=this.keyboardDOMClass,this.keyboardDOM.setAttribute("data-skInstance",this.currentInstanceName),this.buttonElements={}}},{key:"dispatch",value:function(u){if(!window.SimpleKeyboardInstances)throw console.warn("SimpleKeyboardInstances is not defined. Dispatch cannot be called."),new Error("INSTANCES_VAR_ERROR");return Object.keys(window.SimpleKeyboardInstances).forEach(function(f){u(window.SimpleKeyboardInstances[f],f)})}},{key:"addButtonTheme",value:function(u,f){var p=this;f&&u&&(u.split(" ").forEach(function(m){f.split(" ").forEach(function(k){p.options.buttonTheme||(p.options.buttonTheme=[]);var C=!1;p.options.buttonTheme.map(function(S){if(S!=null&&S.class.split(" ").includes(k)){C=!0;var x=S.buttons.split(" ");x.includes(m)||(C=!0,x.push(m),S.buttons=x.join(" "))}return S}),C||p.options.buttonTheme.push({class:k,buttons:u})})}),this.render())}},{key:"removeButtonTheme",value:function(u,f){var p=this;if(!u&&!f)return this.options.buttonTheme=[],void this.render();u&&Array.isArray(this.options.buttonTheme)&&this.options.buttonTheme.length&&(u.split(" ").forEach(function(m){var k;(k=p.options)===null||k===void 0||(k=k.buttonTheme)===null||k===void 0||k.map(function(C,S){if(C&&f&&f.includes(C.class)||!f){var x,M,K=(x=C)===null||x===void 0?void 0:x.buttons.split(" ").filter(function(D){return D!==m});C&&K!=null&&K.length?C.buttons=K.join(" "):((M=p.options.buttonTheme)===null||M===void 0||M.splice(S,1),C=null)}return C})}),this.render())}},{key:"getButtonElement",value:function(u){var f,p=this.buttonElements[u];return p&&(f=p.length>1?p:p[0]),f}},{key:"inputPatternIsValid",value:function(u){var f,p=this.options.inputPattern;if((f=p instanceof RegExp?p:p[this.options.inputName||this.defaultName])&&u){var m=f.test(u);return this.options.debug&&console.log('inputPattern ("'.concat(f,'"): ').concat(m?"passed":"did not pass!")),m}return!0}},{key:"setEventListeners",value:function(){if(this.isFirstKeyboardInstance||!this.allKeyboardInstances){this.options.debug&&console.log("Caret handling started (".concat(this.keyboardDOMClass,")"));var u=this.options.physicalKeyboardHighlightPreventDefault,f=u!==void 0&&u;document.addEventListener("keyup",this.handleKeyUp,f),document.addEventListener("keydown",this.handleKeyDown,f),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("touchend",this.handleTouchEnd),this.options.updateCaretOnSelectionChange&&document.addEventListener("selectionchange",this.handleSelectionChange),document.addEventListener("select",this.handleSelect)}}},{key:"handleKeyUp",value:function(u){this.caretEventHandler(u),this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyUp(u)}},{key:"handleKeyDown",value:function(u){this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyDown(u)}},{key:"handleMouseUp",value:function(u){this.caretEventHandler(u)}},{key:"handleTouchEnd",value:function(u){this.caretEventHandler(u)}},{key:"handleSelect",value:function(u){this.caretEventHandler(u)}},{key:"handleSelectionChange",value:function(u){navigator.userAgent.includes("Firefox")||this.caretEventHandler(u)}},{key:"caretEventHandler",value:function(u){var f,p=this;u.target.tagName&&(f=u.target.tagName.toLowerCase()),this.dispatch(function(m){var k=u.target===m.keyboardDOM||u.target&&m.keyboardDOM.contains(u.target);if(p.options.syncInstanceInputs&&Array.isArray(u.path)&&(k=u.path.some(function(x){var M;return x==null||(M=x.hasAttribute)===null||M===void 0?void 0:M.call(x,"data-skInstance")})),(f==="textarea"||f==="input"&&["text","search","url","tel","password"].includes(u.target.type))&&!m.options.disableCaretPositioning){var C=u.target.selectionStart,S=u.target.selectionEnd;m.options.rtl&&(C=m.utilities.getRtlOffset(C,m.getInput()),S=m.utilities.getRtlOffset(S,m.getInput())),m.setCaretPosition(C,S),m.activeInputElement=u.target,m.options.debug&&console.log("Caret at: ",m.getCaretPosition(),m.getCaretPositionEnd(),u&&u.target.tagName.toLowerCase(),"(".concat(m.keyboardDOMClass,")"),u==null?void 0:u.type)}else!m.options.disableCaretPositioning&&k||(u==null?void 0:u.type)==="selectionchange"||(m.setCaretPosition(null),m.activeInputElement=null,m.options.debug&&console.log('Caret position reset due to "'.concat(u==null?void 0:u.type,'" event'),u))})}},{key:"recurseButtons",value:function(u){var f=this;u&&Object.keys(this.buttonElements).forEach(function(p){return f.buttonElements[p].forEach(u)})}},{key:"destroy",value:function(){this.options.debug&&console.log("Destroying simple-keyboard instance: ".concat(this.currentInstanceName));var u=this.options.physicalKeyboardHighlightPreventDefault,f=u!==void 0&&u;document.removeEventListener("keyup",this.handleKeyUp,f),document.removeEventListener("keydown",this.handleKeyDown,f),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("touchend",this.handleTouchEnd),document.removeEventListener("select",this.handleSelect),this.options.updateCaretOnSelectionChange&&document.removeEventListener("selectionchange",this.handleSelectionChange),document.onpointerup=null,document.ontouchend=null,document.ontouchcancel=null,document.onmouseup=null,this.recurseButtons(function(p){p&&(p.onpointerdown=null,p.onpointerup=null,p.onpointercancel=null,p.ontouchstart=null,p.ontouchend=null,p.ontouchcancel=null,p.onclick=null,p.onmousedown=null,p.onmouseup=null,p.remove(),p=null)}),this.keyboardDOM.onpointerdown=null,this.keyboardDOM.ontouchstart=null,this.keyboardDOM.onmousedown=null,this.resetRows(),this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=null),this.activeInputElement=null,this.keyboardDOM.removeAttribute("data-skInstance"),this.keyboardDOM.innerHTML="",window.SimpleKeyboardInstances[this.currentInstanceName]=null,delete window.SimpleKeyboardInstances[this.currentInstanceName],this.initialized=!1}},{key:"getButtonThemeClasses",value:function(u){var f=this.options.buttonTheme,p=[];return Array.isArray(f)&&f.forEach(function(m){if(m&&m.class&&typeof m.class=="string"&&m.buttons&&typeof m.buttons=="string"){var k=m.class.split(" ");m.buttons.split(" ").includes(u)&&(p=[].concat(he(p),he(k)))}else console.warn('Incorrect "buttonTheme". Please check the documentation.',m)}),p}},{key:"setDOMButtonAttributes",value:function(u,f){var p=this.options.buttonAttributes;Array.isArray(p)&&p.forEach(function(m){m.attribute&&typeof m.attribute=="string"&&m.value&&typeof m.value=="string"&&m.buttons&&typeof m.buttons=="string"?m.buttons.split(" ").includes(u)&&f(m.attribute,m.value):console.warn('Incorrect "buttonAttributes". Please check the documentation.',m)})}},{key:"onTouchDeviceDetected",value:function(){this.processAutoTouchEvents(),this.disableContextualWindow()}},{key:"disableContextualWindow",value:function(){window.oncontextmenu=function(u){if(u.target.classList.contains("hg-button"))return u.preventDefault(),u.stopPropagation(),!1}}},{key:"processAutoTouchEvents",value:function(){this.options.autoUseTouchEvents&&(this.options.useTouchEvents=!0,this.options.debug&&console.log("autoUseTouchEvents: Touch device detected, useTouchEvents enabled."))}},{key:"onInit",value:function(){this.options.debug&&console.log("".concat(this.keyboardDOMClass," Initialized")),this.setEventListeners(),typeof this.options.onInit=="function"&&this.options.onInit(this)}},{key:"beforeFirstRender",value:function(){this.utilities.isTouchDevice()&&this.onTouchDeviceDetected(),typeof this.options.beforeFirstRender=="function"&&this.options.beforeFirstRender(this),this.isFirstKeyboardInstance&&this.utilities.pointerEventsSupported()&&!this.options.useTouchEvents&&!this.options.useMouseEvents&&this.options.debug&&console.log("Using PointerEvents as it is supported by this browser"),this.options.useTouchEvents&&this.options.debug&&console.log("useTouchEvents has been enabled. Only touch events will be used.")}},{key:"beforeRender",value:function(){typeof this.options.beforeRender=="function"&&this.options.beforeRender(this)}},{key:"onRender",value:function(){typeof this.options.onRender=="function"&&this.options.onRender(this)}},{key:"onModulesLoaded",value:function(){typeof this.options.onModulesLoaded=="function"&&this.options.onModulesLoaded(this)}},{key:"loadModules",value:function(){var u=this;Array.isArray(this.options.modules)&&(this.options.modules.forEach(function(f){var p=new f(u);p.init&&p.init(u)}),this.keyboardPluginClasses="modules-loaded",this.render(),this.onModulesLoaded())}},{key:"getModuleProp",value:function(u,f){return!!this.modules[u]&&this.modules[u][f]}},{key:"getModulesList",value:function(){return Object.keys(this.modules)}},{key:"parseRowDOMContainers",value:function(u,f,p,m){var k=this,C=Array.from(u.children),S=0;return C.length&&p.forEach(function(x,M){var K=m[M];if(!(K&&K>x))return!1;var D=x-S,F=K-S,U=document.createElement("div");U.className+="hg-button-container";var B="".concat(k.options.layoutName,"-r").concat(f,"c").concat(M);U.setAttribute("data-skUID",B);var $=C.splice(D,F-D+1);S=F-D,$.forEach(function(q){return U.appendChild(q)}),C.splice(D,0,U),u.innerHTML="",C.forEach(function(q){return u.appendChild(q)}),k.options.debug&&console.log("rowDOMContainer",$,D,F,S+1)}),u}},{key:"render",value:function(){var u=this;this.resetRows(),this.initialized||this.beforeFirstRender(),this.beforeRender();var f="hg-layout-".concat(this.options.layoutName),p=this.options.layout||{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","{lock} a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}",".com @ {space}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}",".com @ {space}"]},m=this.options.useTouchEvents||!1,k=m?"hg-touch-events":"",C=this.options.useMouseEvents||!1,S=this.options.disableRowButtonContainers;this.keyboardDOM.className=this.getKeyboardClassString(this.options.theme,f,this.keyboardPluginClasses,k),this.keyboardDOM.setAttribute("data-skInstance",this.currentInstanceName),this.keyboardRowsDOM=document.createElement("div"),this.keyboardRowsDOM.className="hg-rows",p[this.options.layoutName||this.defaultName].forEach(function(x,M){var K=x.split(" ");u.options.excludeFromLayout&&u.options.excludeFromLayout[u.options.layoutName||u.defaultName]&&(K=K.filter(function(B){return u.options.excludeFromLayout&&!u.options.excludeFromLayout[u.options.layoutName||u.defaultName].includes(B)}));var D=document.createElement("div");D.className+="hg-row";var F=[],U=[];K.forEach(function(B,$){var q,Y=!S&&typeof B=="string"&&B.length>1&&B.indexOf("[")===0,se=!S&&typeof B=="string"&&B.length>1&&B.indexOf("]")===B.length-1;Y&&(F.push($),B=B.replace(/\[/g,"")),se&&(U.push($),B=B.replace(/\]/g,""));var ne=u.utilities.getButtonClass(B),ue=u.utilities.getButtonDisplayName(B,u.options.display,u.options.mergeDisplay),ae=u.options.useButtonTag?"button":"div",oe=document.createElement(ae);oe.className+="hg-button ".concat(ne),(q=oe.classList).add.apply(q,he(u.getButtonThemeClasses(B))),u.setDOMButtonAttributes(B,function(le,Te){oe.setAttribute(le,Te)}),u.activeButtonClass="hg-activeButton",!u.utilities.pointerEventsSupported()||m||C?m?(oe.ontouchstart=function(le){u.handleButtonClicked(B,le),u.handleButtonMouseDown(B,le)},oe.ontouchend=function(le){u.handleButtonMouseUp(B,le)},oe.ontouchcancel=function(le){u.handleButtonMouseUp(B,le)}):(oe.onclick=function(le){u.setMouseHold(!1),typeof u.options.onKeyReleased!="function"&&u.handleButtonClicked(B,le)},oe.onmousedown=function(le){typeof u.options.onKeyReleased!="function"||u.isMouseHold||u.handleButtonClicked(B,le),u.handleButtonMouseDown(B,le)},oe.onmouseup=function(le){u.handleButtonMouseUp(B,le)}):(oe.onpointerdown=function(le){u.handleButtonClicked(B,le),u.handleButtonMouseDown(B,le)},oe.onpointerup=function(le){u.handleButtonMouseUp(B,le)},oe.onpointercancel=function(le){u.handleButtonMouseUp(B,le)}),oe.setAttribute("data-skBtn",B);var me="".concat(u.options.layoutName,"-r").concat(M,"b").concat($);oe.setAttribute("data-skBtnUID",me);var ye=document.createElement("span");ye.innerHTML=ue,oe.appendChild(ye),u.buttonElements[B]||(u.buttonElements[B]=[]),u.buttonElements[B].push(oe),D.appendChild(oe)}),D=u.parseRowDOMContainers(D,M,F,U),u.keyboardRowsDOM.appendChild(D)}),this.keyboardDOM.appendChild(this.keyboardRowsDOM),this.onRender(),this.initialized||(this.initialized=!0,!this.utilities.pointerEventsSupported()||m||C?m?(document.ontouchend=function(x){return u.handleButtonMouseUp(void 0,x)},document.ontouchcancel=function(x){return u.handleButtonMouseUp(void 0,x)},this.keyboardDOM.ontouchstart=function(x){return u.handleKeyboardContainerMouseDown(x)}):m||(document.onmouseup=function(x){return u.handleButtonMouseUp(void 0,x)},this.keyboardDOM.onmousedown=function(x){return u.handleKeyboardContainerMouseDown(x)}):(document.onpointerup=function(x){return u.handleButtonMouseUp(void 0,x)},this.keyboardDOM.onpointerdown=function(x){return u.handleKeyboardContainerMouseDown(x)}),this.onInit())}}],v&&j(y.prototype,v),s&&j(y,s),Object.defineProperty(y,"prototype",{writable:!1}),y;var y,v,s}(),ce=te,ie=ce;return g}()},442:function(l){l.exports=n}},o={};function i(l){var c=o[l];if(c!==void 0)return c.exports;var h=o[l]={exports:{}};return r[l].call(h.exports,h,h.exports,i),h.exports}i.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return i.d(c,{a:c}),c},i.d=function(l,c){for(var h in c)i.o(c,h)&&!i.o(l,h)&&Object.defineProperty(l,h,{enumerable:!0,get:c[h]})},i.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},i.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var a={};return function(){i.r(a),i.d(a,{KeyboardReact:function(){return N},default:function(){return A}}),i(981);var l=i(442),c=i(548),h=i.n(c);function d(w){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},d(w)}function g(w,T){var I=Object.keys(w);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(w);T&&(R=R.filter(function(P){return Object.getOwnPropertyDescriptor(w,P).enumerable})),I.push.apply(I,R)}return I}function _(w){for(var T=1;T<arguments.length;T++){var I=arguments[T]!=null?arguments[T]:{};T%2?g(Object(I),!0).forEach(function(R){E(w,R,I[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(I)):g(Object(I)).forEach(function(R){Object.defineProperty(w,R,Object.getOwnPropertyDescriptor(I,R))})}return w}function E(w,T,I){return(T=function(R){var P=function(L,z){if(d(L)!="object"||!L)return L;var V=L[Symbol.toPrimitive];if(V!==void 0){var Z=V.call(L,z||"default");if(d(Z)!="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(z==="string"?String:Number)(L)}(R,"string");return d(P)=="symbol"?P:P+""}(T))in w?Object.defineProperty(w,T,{value:I,enumerable:!0,configurable:!0,writable:!0}):w[T]=I,w}var b=function(w){return _(_({},w),{},{keyboardRef:null})},N=function(w){var T=w.baseClass||"react-simple-keyboard",I=l.useRef(null),R=l.useRef(null),P=l.useRef(null),L=l.useRef(w);return l.useEffect(function(){return function(){P.current&&P.current.destroy(),I.current=!1}},[]),l.useEffect(function(){var z=function(ee){return _(_({},ee),{},{theme:"simple-keyboard ".concat(ee.theme||"hg-theme-default")})}(w);if(!I.current){I.current=!0,z.debug&&console.log("ReactSimpleKeyboard: Init");var V=R.current,Z=".".concat(T);P.current=new(h())(V||Z,z),z.keyboardRef&&z.keyboardRef(P.current)}var G=function(ee,fe){var pe=b(fe),Se=b(ee);return Object.keys(pe).filter(function(he){return pe[he]!==Se[he]})}(L.current,z);if(G.length){var X=P.current;L.current=z,X==null||X.setOptions(z),z.debug&&console.log("ReactSimpleKeyboard - setOptions called due to updated props:",G)}},[I,T,L,w]),l.createElement("div",{className:T,ref:R})},A=N}(),a}()})})(uv);var TE=uv.exports;const EE=Pp(TE),bE={default:["1 2 3 4 5 6 7 8 9 0 - =","q w e r t y u i o p [ ]","a s d f g h j k l ; '","z x c v b n m , . /"]},NE=({keyboardState:t,activeTaskId:e})=>{const n=(i,a,l,c=!1)=>{const h=`keyboard-style-${i}`;let d=document.getElementById(h);d||(d=document.createElement("style"),d.id=h,document.head.appendChild(d));const g=c?`
        .simple-keyboard-base .${i}-mapped.key-active {
          background: ${a} !important;
          color: ${l} !important;
          transform: scale(0.8);
        }`:"";d.textContent=`
      .simple-keyboard-base .${i}-mapped {
        background: ${a} !important;
        color: ${l} !important;
      }
      ${g}
    `},r=i=>{if(!e||!i.taskKeyboardMapping)return[];const a=Gt[e];if(!(a!=null&&a.keyboardMapping))return[];const l=$h(0,a.colorMode||"chromatic"),c=[],h={};return Object.entries(a.keyboardMapping).forEach(([d,g])=>{var E;const _=(E=es[d])==null?void 0:E.toLowerCase();_&&(h[_]=g.note)}),Object.entries(es).forEach(([d,g])=>{const _=g.toLowerCase(),E=h[_],b=i.activeKeyCodes.has(d);if(E!==void 0){const N=l[E],A=ty(E);n(d,N,A,b),c.push({class:`${d}-mapped${b?" key-active":""}`,buttons:_})}else n(d,"#444","rgba(255, 255, 255, 0.3)"),c.push({class:`${d}-unmapped`,buttons:_})}),c},o=()=>{if(!e)return{};const i=Gt[e];if(!(i!=null&&i.keyboardMapping))return{};const a={};return"1234567890-=qwertyuiop[]asdfghjkl;'zxcvbnm,./".split("").forEach(c=>{a[c]=" "}),Object.entries(i.keyboardMapping).forEach(([c])=>{var d;const h=(d=es[c])==null?void 0:d.toLowerCase();h&&(a[h]=h)}),a};return J.useEffect(()=>()=>{Object.keys(es).forEach(i=>{const a=document.getElementById(`keyboard-style-${i}`);a&&a.remove()})},[]),H.jsx("div",{className:"w-[290px]",children:H.jsx(EE,{layout:bE,display:o(),buttonTheme:r(t),mergeDisplay:!0,physicalKeyboardHighlight:!1,physicalKeyboardHighlightPress:!1,useButtonTag:!0,disableButtonHold:!0,preventMouseDownDefault:!0,baseClass:"simple-keyboard-base",theme:"hg-theme-default custom-theme"})})},OE=fo.memo(CE),AE=fo.memo(({currentLessonId:t,onLessonChange:e,taskProgress:n,activeTaskId:r,onSkipTask:o,keyboardState:i})=>{const[a,l]=J.useState(!1),c=Qt.findIndex(N=>N.id===t),h=Qt[c],d=c>0?Qt[c-1]:null,g=c<Qt.length-1?Qt[c+1]:null,_=h==null?void 0:h.taskIds.every(N=>n.some(A=>A.taskId===N&&A.status==="completed"));J.useEffect(()=>{const N=A=>{A.key==="ArrowLeft"&&d?e(d.id):A.key==="ArrowRight"&&g&&e(g.id)};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[d,g,e]),J.useEffect(()=>{const N=A=>{A.key==="Escape"&&a&&l(!1)};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[a]);const E=J.useCallback((N,A,w)=>{if(!fo.isValidElement(N))return N;if(N.props.children){const T=fo.Children.map(N.props.children,I=>E(I,A,w));return fo.cloneElement(N,{},T)}return N},[]),b=J.useRef(null);return J.useEffect(()=>{if(r&&b.current){const N=b.current.querySelector(`[data-task-id="${r}"]`);if(N){const A=b.current.getBoundingClientRect(),w=N.getBoundingClientRect(),T=200;(w.bottom>A.bottom-T||w.top>A.bottom-T)&&N.scrollIntoView({behavior:"smooth",block:"center"})}}},[r]),H.jsxs("div",{className:"fixed top-0 left-0 w-[600px] h-screen bg-gray-900 text-white flex flex-col",children:[H.jsx("div",{className:"bg-gray-900 p-4 border-b border-gray-800",children:H.jsx("div",{className:"w-full flex justify-end",children:H.jsx(NE,{keyboardState:i,activeTaskId:r})})}),H.jsxs("div",{className:"bg-gray-900 z-20 p-8 pb-4 border-b border-gray-800",children:[H.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[H.jsx("button",{onClick:()=>l(!a),className:"p-2 bg-gray-800 rounded border border-gray-700 hover:bg-gray-700 relative z-20 pointer-events-auto",children:H.jsx(Op,{className:"w-6 h-6"})}),H.jsxs("div",{className:"flex-1 flex gap-2",children:[H.jsx("div",{className:`flex-1 ${g?"w-1/2":"w-full"}`,children:d&&H.jsxs(Ic,{to:`${fr}/${d.id}`,onClick:()=>e(d.id),className:"block w-full p-2 bg-gray-800 rounded border border-gray-700 text-gray-400 hover:bg-gray-700 text-left select-none",children:["← ",c,". ",d.title]})}),H.jsx("div",{className:`flex-1 ${d?"w-1/2":"w-full"}`,children:g&&H.jsxs(Ic,{to:`${fr}/${g.id}`,onClick:()=>e(g.id),className:`block w-full p-2 rounded border text-right select-none transition-all duration-300 ${_?"bg-blue-600 hover:bg-blue-500 border-blue-500 text-white shadow-lg shadow-blue-500/20":"bg-gray-800 border-gray-700 text-gray-400 hover:bg-gray-700"}`,children:[c+2,". ",g.title," →"]})})]})]}),H.jsxs("div",{className:"w-full text-white font-semibold text-[28px]",children:[c+1,". ",h.title]})]}),a&&H.jsx("div",{className:"absolute inset-0 bg-gray-900 z-30 overflow-y-auto",children:H.jsxs("div",{className:"p-8",children:[H.jsx("div",{className:"flex items-center gap-2 mb-4",children:H.jsx("button",{onClick:()=>l(!1),className:"p-2 bg-gray-800 rounded border border-gray-700 hover:bg-gray-700",children:H.jsx(Op,{className:"w-6 h-6"})})}),H.jsx("div",{className:"flex flex-col gap-2",children:Qt.map((N,A)=>H.jsxs(Ic,{to:`${fr}/${N.id}`,onClick:()=>{e(N.id),l(!1)},className:`mt-2 text-left cursor-pointer hover:text-white ${N.id===t?"text-white":"text-gray-400"}`,children:[H.jsxs("span",{children:[A+1,". "]}),N.title]},N.id))})]})}),H.jsx("div",{className:"flex-1 overflow-y-auto",children:H.jsxs("div",{className:"relative min-h-[calc(100vh-400px)]",children:[H.jsx("div",{ref:b,className:"p-8 pt-4",children:h&&H.jsxs("div",{className:"prose prose-invert",children:[E(h.content,n,h),h.taskIds.map((N,A)=>{var w,T;return H.jsx(OE,{taskConfig:Gt[N],"data-task-id":N,progress:((w=n.find(I=>I.taskId===N))==null?void 0:w.progress)??0,status:((T=n.find(I=>I.taskId===N))==null?void 0:T.status)??"active",previousTaskCompleted:A===0?!0:n.some(I=>I.taskId===h.taskIds[A-1]&&I.status==="completed"),isActive:N===r,onSkip:o},N)}),h.finalText&&h.taskIds.every(N=>n.some(A=>A.taskId===N&&A.status==="completed"))&&H.jsx("p",{className:"mt-6 text-gray-400 italic",children:h.finalText})]})}),H.jsx("div",{className:"pointer-events-none sticky bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-gray-900 to-transparent"})]})})]})}),Ap=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],IE=t=>{const e=Qt.find(n=>n.id===t);return!e||!e.taskIds.length?null:e.taskIds[e.taskIds.length-1]},Ip=(t,e)=>{var a;console.log("[getActiveTaskId] Called with:",{taskProgress:t.taskProgress,currentLessonId:e,pendingNextTask:t.pendingNextTask});const n=Qt.find(l=>l.id===e);if(!n)return console.log("No lesson found for id:",e),null;if(n.taskIds.length===0)return null;const r=t.taskProgress.find(l=>l.status==="completing");if(r)return console.log("Found completing task:",r.taskId),r.taskId;if(n.taskIds.every(l=>t.taskProgress.some(c=>c.taskId===l&&c.status==="completed")))return console.log("All tasks completed in lesson:",e),IE(e);if(t.pendingNextTask){if(t.activeKeysSize>0){const l=((a=t.taskProgress.find(c=>c.status==="active"))==null?void 0:a.taskId)??null;return console.log("Waiting for key releases before activating:",t.pendingNextTask),console.log("Staying with current task:",l),l}return console.log("Activating pending task:",t.pendingNextTask),t.pendingNextTask}const i=t.taskProgress.find(l=>l.status==="active");if(i&&n.taskIds.includes(i.taskId))return console.log("Found existing active task:",i.taskId),i.taskId;for(const l of n.taskIds){console.log("Checking task:",l);const c=t.taskProgress.find(h=>h.taskId===l);if(console.log("Task state:",c),(!c||c.status!=="completed")&&ow(l,t.taskProgress,e))return console.log(`Activating task: ${l}`),l}return console.log("No active task found - all completed"),null},PE=()=>{var Q,re,j;const[t,e]=J.useState(0),[n,r]=J.useState("single"),[o,i]=J.useState("chromatic"),[a,l]=J.useState([]),[c,h]=J.useState(1),[d,g]=J.useState([]),[_,E]=J.useState(null),b=Wh(),{lessonId:N}=m_(),[A,w]=J.useState({taskProgress:[],pendingNextTask:null,activeKeysSize:0,sequenceIndices:{},taskPlayedNotes:{}}),[T,I]=J.useState(()=>Qt.reduce((W,te)=>[...W,...te.taskIds],[]).reduce((W,te)=>({...W,[te]:new Set}),{})),[R,P]=J.useState(new Set),[L,z]=J.useState(!1),[V,Z]=J.useState(new Set),G=J.useCallback(O=>{console.log("[resetTaskState] Resetting state for task:",O),w(W=>({...W,sequenceIndices:{...W.sequenceIndices,[O]:0}})),I(W=>({...W,[O]:new Set}))},[]);J.useEffect(()=>{const O=parseInt(N||"1");console.log("[lessonChange] Changing to lesson:",O,{currentLessonId:c,lessonId:N});const W=Qt.find(ce=>ce.id===O),te=W==null?void 0:W.taskIds[0];console.log("[lessonChange] Lesson info:",{currentLesson:W,firstTaskId:te,hasTaskIds:W==null?void 0:W.taskIds.length}),!isNaN(O)&&Qt.some(ce=>ce.id===O)?(h(O),w(ce=>{console.log("[lessonChange] Previous state:",{taskProgress:ce.taskProgress,pendingNextTask:ce.pendingNextTask});const ie=te?[{taskId:te,progress:0,status:"active"}]:[];return console.log("[lessonChange] Setting new state:",{newTaskProgress:ie,firstTaskId:te}),{...ce,taskProgress:ie,pendingNextTask:null}}),W&&I(ce=>{const ie={...ce};return W.taskIds.forEach(y=>{ie[y]=new Set}),console.log("[lessonChange] Reset task played notes:",ie),ie})):(console.log("[lessonChange] Invalid lesson ID, redirecting to lesson 1"),O!==1&&b(`${fr}/1`,{replace:!0}))},[N,b]),J.useEffect(()=>{w(O=>({...O,activeKeysSize:R.size}))},[R.size]);const X=J.useCallback((O,W,te)=>{const ce=Gt[O];if(!ce)return;const ie=ce.checker,y=A.sequenceIndices[O]||0,v=A.taskPlayedNotes[O]||new Set;if(!(ie.type==="sequence"?ie.checkNote(W,te,y):ie.checkNote(W,te,v)))return;const f=(ie.type==="sequence"?ie.getState(y):ie.getState(v)).progress+1;w(p=>({...p,sequenceIndices:ie.type==="sequence"?{...p.sequenceIndices,[O]:y+1}:p.sequenceIndices,taskPlayedNotes:ie.type==="set"?{...p.taskPlayedNotes,[O]:new Set([...v,`${W}-${te}`])}:p.taskPlayedNotes,taskProgress:p.taskProgress.map(m=>m.taskId===O?{...m,progress:f,status:f>=ce.total?"completing":"active"}:m)}))},[A]);J.useEffect(()=>{(async()=>{await SE(),z(!0)})()},[]);const ee=J.useCallback(async(O,W)=>{if(!L)return[];const te=Ip(A,c);te&&X(te,O,W),console.log("[playNotes] Called with:",{note:O,octave:W,tonic:t}),console.log("[playNotes] Current state:",{taskProgress:A.taskProgress,activeKeys:Array.from(R),currentLessonId:c,sequenceIndices:A.sequenceIndices,taskPlayedNotes:T});const ce=(O-t+12)%12;console.log("Calculated relative note:",ce);const ie=Du[n].getNotes(ce,W);console.log("Notes to play:",ie);const y=ie.map(({note:v,octave:s})=>{const u=(v+t)%12,f=`${Ap[u]}${s}`;eo.triggerAttack(f,nE());const p={id:`${u}-${s}-${Date.now()}`,note:u,octave:s,startTime:Date.now(),endTime:null};return l(m=>[...m,p]),{note:u,octave:s}});return P(v=>new Set([...v,`${O}-${W}`])),y},[L,t,n,A.sequenceIndices,A.taskProgress,c,R,T,X]),fe=J.useCallback((O,W)=>{const te=`${O}-${W}`;console.log(`[releaseNotes] Releasing ${te}, active keys: ${R.size}`),P(y=>{const v=new Set(y);return v.delete(`${O}-${W}`),v});const ce=(O-t+12)%12;return Du[n].getNotes(ce,W).map(({note:y,octave:v})=>{const s=(y+t)%12,u=`${Ap[s]}${v}`;return eo.triggerRelease(u),l(f=>f.map(p=>p.note===s&&p.octave===v&&!p.endTime?{...p,endTime:Date.now()}:p)),{note:s,octave:v}})},[t,n]),pe=J.useCallback(()=>{console.log("stopProgression called, current ID:",_),E(null);const O=a.filter(W=>!W.endTime).map(({note:W,octave:te})=>({note:W,octave:te}));console.log("Releasing notes:",O),O.forEach(({note:W,octave:te})=>{fe(W,te)}),d.forEach(W=>clearTimeout(W)),g([])},[d,a,fe]),Se=J.useCallback(O=>{console.log("[lessonChange] Changing to lesson:",O,{currentLessonId:c,lessonId:O});const W=Qt.find(v=>v.id===O);if(!W)return;const te=W.taskIds[0];console.log("[lessonChange] Lesson info:",{currentLesson:W,firstTaskId:te,hasTaskIds:W.taskIds.length});const ce=W.taskIds.map(v=>({taskId:v,progress:0,status:"active"})),ie={},y={};W.taskIds.forEach(v=>{const s=Gt[v];s&&(s.checker.type==="sequence"&&(ie[v]=0),y[v]=new Set)}),w(v=>({...v,taskProgress:ce,sequenceIndices:ie,pendingNextTask:null})),I(y),h(O),b(`${fr}/${O}`),console.log("[lessonChange] Reset states:",{newTaskProgress:ce,newSequenceIndices:ie,newTaskPlayedNotes:y})},[c,b]);J.useEffect(()=>{const O=W=>{W.code==="Space"&&_&&!["INPUT","TEXTAREA"].includes(W.target.tagName)&&(W.preventDefault(),pe())};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[_,pe]),J.useEffect(()=>{A.pendingNextTask&&R.size===0&&(console.log("All keys released, finalizing task transition to:",A.pendingNextTask),w(O=>({...O,pendingNextTask:null})))},[A.pendingNextTask,R.size]),J.useEffect(()=>{A.pendingNextTask&&w(O=>!O.taskProgress.some(te=>te.taskId===A.pendingNextTask)&&A.pendingNextTask?(G(A.pendingNextTask),{...O,taskProgress:[...O.taskProgress,{taskId:A.pendingNextTask,progress:0,status:"active"}]}):O)},[A.pendingNextTask]);const he=Ip(A,c);J.useEffect(()=>{console.log("[taskPlayedNotes] Resetting for lesson:",c);const O=Qt.find(W=>W.id===c);O&&I(W=>{const te={...W};return O.taskIds.forEach(ce=>{te[ce]=new Set}),te})},[c]),J.useEffect(()=>{var O;if(console.log("[activeKeys effect] Size changed:",{size:R.size,completingTask:(O=A.taskProgress.find(W=>W.status==="completing"))==null?void 0:O.taskId}),R.size===0){const W=A.taskProgress.find(te=>te.status==="completing");W&&(console.log("[activeKeys effect] Completing task:",W.taskId),w(te=>{const ce=rp(W.taskId);return{...te,taskProgress:te.taskProgress.map(ie=>ie.taskId===W.taskId?{...ie,status:"completed"}:ie),pendingNextTask:ce}}))}},[R.size]);const ge=J.useCallback(O=>{w(W=>{const te=rp(O);return{...W,taskProgress:W.taskProgress.map(ce=>ce.taskId===O?{...ce,status:"completed",progress:Gt[O].total}:ce),pendingNextTask:te}})},[]);return J.useEffect(()=>{if(console.log("[sequenceCheckers] Initializing for active task:",he),he){const O=Gt[he];(O==null?void 0:O.checker.type)==="sequence"&&w(W=>typeof W.sequenceIndices[he]>"u"?(console.log("[sequenceCheckers] Initializing new sequence checker for:",he),{...W,sequenceIndices:{...W.sequenceIndices,[he]:0}}):W)}},[he]),H.jsxs(H.Fragment,{children:[H.jsx(AE,{currentLessonId:c,onLessonChange:Se,taskProgress:A.taskProgress,activeTaskId:he,onSkipTask:ge,keyboardState:{activeKeyCodes:V,taskKeyboardMapping:he?(Q=Gt[he])==null?void 0:Q.keyboardMapping:void 0}}),L?H.jsx(cw,{tonic:t,setTonic:e,colorMode:he&&((re=Gt[he])==null?void 0:re.colorMode)||o,onColorModeChange:i,currentVoicing:n,onVoicingChange:r,playNotes:ee,releaseNotes:fe,fallingNotes:a,currentlyPlayingId:_,onStopPlaying:pe,taskKeyboardMapping:he?(j=Gt[he])==null?void 0:j.keyboardMapping:void 0,activeTaskId:he,taskProgress:A.taskProgress,taskPlayedNotes:A.taskPlayedNotes,state:A,setActiveKeyCodes:Z}):H.jsx("div",{className:"fixed top-0 left-[600px] right-0 bottom-0 bg-black flex items-center justify-center text-white",children:"Loading piano sounds..."})]})};function DE(){return H.jsx(L_,{children:H.jsxs(I_,{children:[H.jsx(Da,{path:`${fr}/:lessonId`,element:H.jsx(PE,{})}),H.jsx(Da,{path:fr,element:H.jsx(Yf,{to:`${fr}/1`,replace:!0})}),H.jsx(Da,{path:"*",element:H.jsx(Yf,{to:`${fr}/1`,replace:!0})})]})})}$g(document.getElementById("root")).render(H.jsx(J.StrictMode,{children:H.jsx(DE,{})}))});export default ME();
